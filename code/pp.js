(function(){function UF(){this.XD={};this.wL={}}UF.Jo=[];UF.mB=function(e){var j=UF.Jo;if(j.length!=0){var g=new z(V.E.OG);
for(var P=0;P<j.length;P++)j[P].P(g)}window.requestAnimationFrame(UF.mB)};window.requestAnimationFrame(UF.mB);
UF.prototype.my=function(e){var j=this.XD[e];if(j==null)return!1;return j.length>0};UF.prototype.addEventListener=function(e,j){this.S(e,j,null)};
UF.prototype.S=function(e,j,g){if(this.XD[e]==null){this.XD[e]=[];this.wL[e]=[]}this.XD[e].push(j);this.wL[e].push(g);
if(e==V.E.OG){var P=UF.Jo;if(P.indexOf(this)==-1)P.push(this)}};UF.prototype.removeEventListener=function(e,j){var g=this.XD[e];
if(g==null)return;var P=g.indexOf(j);if(P<0)return;var p=this.wL[e];g.splice(P,1);p.splice(P,1);if(e==V.E.OG&&g.length==0){var v=UF.Jo;
v.splice(v.indexOf(this),1)}};UF.prototype.P=function(e){e.currentTarget=this;if(e.target==null)e.target=this;
var j=this.XD[e.type];if(j==null)return;var g=this.wL[e.type];for(var P=0;P<j.length;P++){if(g[P]==null)j[P](e);
else j[P].call(g[P],e)}};function Wl(){UF.call(this);this.mu={};this.Xf={};this.Zql=0;this.ZLy={};this.ZTe=0;
Wl.in=this}Wl.prototype=new UF;Wl.Z$Y=function(e,j){var g=0,P=Wl.Zg;while(g<P.length){if((j>>>g&1)==1)break;
g++}if(j==0||P[g][1]==""){if((j&15)!=0&&Wl.mD(e,[33,126])>.7)g=0;else if(j==0)g=0;else{g=0}}return P[g][1]};
Wl.J_=120;Wl.ZU=20;Wl.cols=16;Wl.tB=function(e){var j=e.name.postScriptName;if(j==null)return null;return j.replace(/ /g,"-")};
Wl.ma=function(e){var j=e.name,g=j.typoFamilyName?j.typoFamilyName:j.fontFamily,P=j.typoSubfamilyName?j.typoSubfamilyName:j.fontSubfamily,p=Wl.ZfX,v=g.toLowerCase();
for(var x=0;x<p.length;x++){if(p[x]=="roman")continue;if(v.endsWith(" "+p[x])||v.endsWith("-"+p[x])){var A=g.length-p[x].length,f=g.slice(A);
g=g.slice(0,A-1);if(f!=""){if(P=="Regular"||P==g+" Regular")P=f;else P=f+" "+P}break}}var S="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var x=0;x<S.length;x++)if(g.startsWith(S[x])){var f=g.slice(S[x].length);g=S[x];if(f.startsWith(" ")||f.startsWith("-"))f=f.slice(1);
if(f!=""){if(P=="Regular")P=f;else P=f+" "+P}break}var F={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},m=F[Wl.tB(e)];
if(m)P=m;return[g,P]};Wl.prototype.Io=function(e,j){if(this.mu[e])return this.mu[e];if(this.Xf[e])return null;
var g=null,P=this.OY();if(P[e]!=null)g=P[e][5];if(g==null){var p=Wl.Zrd[e];if(p==null){var v="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),x=e.toLowerCase(),A=0;
if(x.indexOf("sans")!=-1)A=0;else if(x.indexOf("serif")!=-1)A=4;var f=x.indexOf("bold")!=-1||x.indexOf("-black")!=-1,S=x.indexOf("italic")!=-1||x.indexOf("oblique")!=-1||x.endsWith("-it");
if(f&&S)A+=3;else if(S)A+=2;else if(f)A+=1;p=v[A]}if(j!=null&&j>128)p=this.mN(j,p);if(this.ZLy[e]==null){this.ZLy[e]=1;
var F=Date.now()-this.Zql>2e3?2e3:0;this.Zql=Date.now();alert(e+" \u27A1 "+p,F)}return this.Io(p,j)}this.Xf[e]="a";
var m=new z(V.E.O,!0);m.data={U:V.a.MQ,im:{url:"rsrc/fonts/"+g}};this.P(m)};Wl.prototype.mN=function(e,j,g){var P=this.mu[j];
if(P&&Typr.U.codeToGlyph(P,e)!=0)return j;var p=this.OY(),v=Wl.Z$w(e),x=v[0];if(p[j]&&(p[j][3]&x)==0){if(g)for(var A=0;
A<g.length;A++){var f=g[A].Name,S=p[f];if(S&&(S[3]&x)!=0)return f}var f=Wl.Zg[v[1]][4];if(p[f])return f}return j};
Wl.Z$w=function(e){var j=Wl.Zg,g=[0];for(var P=0;P<j.length;P++){var p=j[P][2];for(var v=0;v<p.length;
v+=2)if(p[v]<=e&&e<=p[v+1]){g[0]+=1<<P;g.push(P)}}if(g.length==1)g.push(0);return g};Wl.prototype.ZOr=function(e,j){if(j!=!0){var g=Date.now()-this.ZTe>2e3?2e3:0;
this.ZTe=Date.now();alert(Zr.get([22,6,0])+" "+e.name.fullName+" "+Zr.get([23,0])+".",g)}var P=Wl.tB(e),p=this.OY(),v=p[P],x=Wl.ZOQ(e);
if(v==null){var A=document.createElement("canvas"),f=A.getContext("2d");A.width=Wl.J_;A.height=Wl.ZU;
var S=Wl.ZU*1.2/e.head.unitsPerEm;f.translate(4,Wl.ZU*.9);f.scale(S,-S);f.fillStyle="#000000";var F=Typr.U.shape(e,Wl.Z$Y(e,x[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(e,F),f);f.fill();x.ZzV=A.toDataURL();this.mt(x)}delete this.Xf[P];
this.mu[P]=e};Wl.Zu_=function(){var e=Wl.Zg,j=[];for(var g=0;g<e.length;g++)j.push(e[g][0]);return j};
Wl.Zg=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","",[1040,1119],.7,"DejaVuSans"],["Hebrew","",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"]];
Wl.ZOQ=function(e,j,g){var P=e.name,S=0;if(Wl.tB(e)==null){console.log(e);throw"No postScriptName!"}var p=Wl.Zg,v=[];
for(var x=0;x<p.length;x++){var A=p[x][2],f=p[x][3];v[x]=Wl.mD(e,A)>f?1:0}for(var x=0;x<v.length;x++)S+=v[x]<<x;
var F=Wl.ma(e);return[F[0],F[1],Wl.tB(e),S,g,j]};Wl.mD=function(e,j){var g=0,P=0;for(var p=0;p<j.length;
p+=2){for(var v=j[p];v<=j[p+1];v++){var x=Typr.U.codeToGlyph(e,v);if(x==0)P++;else g++}}return g/(g+P)};
Wl.ZuQ=function(e,j){if(e[2]<j[2])return-1;if(e[2]>j[2])return 1;return 0};Wl.ZCZ=function(e,j){if(e[5]=="fs/"+e[2]+".otf")e[5]="";
else if(e[5]=="gf/"+e[2]+".otf")e[5]="a";if(e[2]==(e[0]+"-"+e[1]).replace(/\s/g,"")){e[2]=""}else if(e[2]==e[0].replace(/\s/g,"")){e[2]="a"}if(j){if(e[0]==j[0])e[0]="";
if(e[1]==j[1])e[1]="";if(e[3]==j[3])e[3]="";if(e[4]==j[4])e[4]=""}return e.join(",")};Wl.ZrZ=function(e,j){e=e.split(",");
if(e[0]=="")e[0]=j[0];if(e[1]=="")e[1]=j[1];if(e[3]=="")e[3]=j[3];else e[3]=parseInt(e[3]);if(e[4]=="")e[4]=j[4];
else e[4]=parseInt(e[4]);if(e[2]=="")e[2]=(e[0]+"-"+e[1]).replace(/\s/g,"");else if(e[2]=="a")e[2]=e[0].replace(/\s/g,"");
if(e[5]=="")e[5]="fs/"+e[2]+".otf";else if(e[5]=="a")e[5]="gf/"+e[2]+".otf";return e};Wl.Zrd={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"SFProText-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic","":""};
Wl.prototype.OY=function(){if(FNTS.map==null){var e=FNTS.list,j=[];for(var g=0;g<e.length;g++){j[g]=Wl.ZrZ(e[g],j[g-1]);
j[g].VS=g;this.mt(j[g])}}return FNTS.map};Wl.prototype.mt=function(e){var j=e[0],g=e[1],P=e[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[e[2]]=e;if(FNTS.mapFS==null)FNTS.mapFS={};var p=FNTS.mapFS[j+"---"+g];FNTS.mapFS[j+"---"+g]=e;
if(FNTS.mapSub==null)FNTS.mapSub={};var v=FNTS.mapSub[j];if(v==null)v=FNTS.mapSub[j]=[];var x=v.indexOf(g);
if(x==-1)v.push(g);else v[x]=g};Wl.ZZr=function(e,j){return Wl.IM(e)-Wl.IM(j)};Wl.IM=function(e){e=e.toLowerCase();
var j=Wl.Zf$(e)+(Wl.Zxd(e)<<1);if(e.indexOf("cond")==-1)j+=1<<25;return j};Wl.Zf$=function(e){return e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1?1:0};
Wl.ZfX="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
Wl.ZxV=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
Wl.Zxd=function(e){var j=Wl.ZxV,g=-1,P=-1;for(var p=0;p<j.length;p++){var v=j[p];if(v instanceof Array)for(var x=0;
x<v.length;x++){var A=v[x];if(e.indexOf(A)!=-1&&(g==-1||P<A.length)){g=p;P=A.length}}else if(e.indexOf(v)!=-1&&(g==-1||P<v.length)){g=p;
P=v.length}}if(g==-1)g=8;return g};Wl.mL=function(e,j){var g=1e9,P=null,p=Wl.IM(j);for(var v=0;v<e.length;
v++){var x=Math.abs(Wl.IM(e[v])-p);if(x<g){g=x;P=e[v]}}return P};Wl.prototype.ur=function(e,j){this.OY();
return FNTS.mapFS[e+"---"+j]};Wl.prototype.mG=function(e){this.OY();return FNTS.mapSub[e]};Wl.prototype.ZxL=function(){this.OY();
return FNTS.mapSub};var Ws={Ld:0,tT:null,ZB:null,mE:null,mH:null,uW:null,mK:!0,mj:0,ug:!1},ZJ=0;Ws.Lq=function(){return Ws.Xo()!=null&&Ws.Xo()[V.Im("!&|'&50")]*200>Date.now()/5};
Ws.jo=function(){return Ws.ZUZ()!=null};Ws.Xo=function(){return Ws.uW};Ws.Jt=function(e){window.addEventListener("message",Ws.ZxI,!1);
setInterval(Ws.mP,5e3);if(Ws.jo()){Ws.tT=e;Ws.Iw()}else setTimeout(e,1)};Ws.mP=function(){if(Ws.jo()&&Ws.ug){Ws.mX(Ws.uL());
Ws.ug=!1}};Ws.ud=function(e){Ws.tT=e;var j="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
Ws.mE=window.open(j,"_blank")};Ws.ZxE=function(){localStorage.removeItem(Ws.Ld+"_uid");localStorage.removeItem(Ws.Ld+"_provider");
localStorage.removeItem(Ws.Ld+"_token");Ws.uW=null};Ws.ZxI=function(e){if(e.data instanceof ArrayBuffer||e.data instanceof Object)return;
if(e.data.charAt(0)!="{")return;var j=JSON.parse(e.data);if(j.prms==null)return;var g=j.prms.split(",");
if(g[0]=="papi_logged_in"){localStorage[Ws.Ld+"_uid"]=g[1];Ws.Ib(g[2]);localStorage[Ws.Ld+"_provider"]=g[3];
Ws.mE.close();Ws.Iw()}if(g[0]=="payment_complete"){Ws.mH.close();Ws.Iw()}};Ws.ZUZ=function(){var e=localStorage[Ws.Ld+"_token"];
if(e!=null&&Date.now()*.001+10<parseInt(e.split("-")[0]))return e;return null};Ws.Ib=function(e){var j=localStorage[Ws.Ld+"_token"];
if(j!=null&&parseInt(e.split("-")[0])<parseInt(j.split("-")[0]))return;localStorage[Ws.Ld+"_token"]=e;
clearTimeout(Ws.mj);Ws.mj=setTimeout(Ws.ZUW,Math.min(1e9,parseInt(e.split("-")[0])*1e3-Date.now()-20*1e3))};
Ws.ZUW=function(){var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0);
e.onload=Ws.ZWa;var j=Ws.ua()+"&read=2";e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.send(j)};Ws.Iw=function(){var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0);
e.onload=Ws.ZUv;var j=Ws.ua()+"&read=1";e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.send(j)};Ws.mX=function(e){var j=new XMLHttpRequest;j.open("POST","https://www.photopea.com/papi/record_new.php",!0);
j.onload=Ws.ZWT;var g=Ws.ua()+"&read=0&score=0&spublic="+Ws.mK+"&record="+encodeURIComponent(JSON.stringify(e));
j.setRequestHeader("Content-type","application/x-www-form-urlencoded");j.send(g)};Ws.ZUv=function(e){var j=JSON.parse(e.target.response);
if(j.error){}else{Ws.uW=j.user;var g=Ws.uL(),P=j.record;if(j.record){Ws.mK=j.spublic;Ws.mR(P)}else if(g)Ws.mX(g)}Ws.Ib(j.token);
if(Ws.tT){Ws.tT();Ws.tT=null}if(Ws.ZB){Ws.ZB();Ws.ZB=null}};Ws.ZWa=function(e){var j=JSON.parse(e.target.response);
Ws.Ib(j.token)};Ws.ZWT=function(e){var j=JSON.parse(e.target.response);Ws.Ib(j.token);if(Ws.ZB)Ws.Iw()};
Ws.ua=function(){return"app="+Ws.Ld+"&uid="+localStorage[Ws.Ld+"_uid"]+"&token="+localStorage[Ws.Ld+"_token"]};
Ws.tH=function(){return Ws.uL()};Ws.uq=function(e,j){Ws.mR(e);Ws.ug=!0;if(j){Ws.ZB=j;Ws.mP()}};Ws.uL=function(){var e=localStorage[Ws.Ld+"_stateLocal"],j;
if(e==null)return null;try{j=JSON.parse(e)}catch(Z){return null}return j};Ws.mR=function(e){var j=JSON.stringify(e);
localStorage[Ws.Ld+"_stateLocal"]=j};Ws.order=function(e,j,g){Ws.tT=g;var P="https://www.photopea.com/papi/order.php?ptype="+j+"&param="+e+"&uid="+localStorage[Ws.Ld+"_uid"]+"&token="+localStorage[Ws.Ld+"_token"];
Ws.mH=window.open(P,"_blank")};var Zr={};Zr.He=0;Zr.uS={};Zr.mo=function(e){var j=LNG.tables,g=j[e];
if(typeof g=="string"){g=j[e]=Zr.Fi(g)}return g};Zr.Fi=function(e){var j=[],g=0,P=0,p=[],v=e.length;
while(P!=v){var x=e[P];if(x=="["){j.push(p);p=[];P=g=P+1}else if(x=="]"){p.push(g==P?null:e.substring(g,P));
var A=p;p=j.pop();p.push(A);P=g=P+1}else if(x==";"){if(e[P-1]!="]")p.push(g==P?null:e.substring(g,P));
P=g=P+1}else P++}return p};Zr.get=function(e){if(typeof e=="string")return e;var j=JSON.stringify(e),v=0;
if(Zr.uS[j]!=null)return Zr.uS[j];var g=Zr.mo(0),P=Zr.mo(Zr.He),p=Zr.m_(e,P);if(p==null)p=Zr.m_(e,g);
for(var x=0;x<e.length;x++){var A=e[x];if(typeof A!="number"){var f=Zr.get(A),S=p.indexOf("VAR"+v);p=p.slice(0,S)+f+p.slice(S+4);
v++}}return p};Zr.m_=function(e,j){for(var g=0;g<e.length;g++){j=j[e[g]];if(j==null)return null;else if(typeof j=="string")break}return j.split("::")[0]};
Zr.ZWX=function(){var e=function(g,P){var p=g.code,v=P.code;if(p=="en")return-1;if(v=="en")return 1;
var x=navigator.languages,A=x.indexOf(p)!=-1,f=x.indexOf(v)!=-1;if(A&&f)return p>v?1:-1;if(A)return-1;
if(f)return 1;return p>v?1:-1},j=LNG.langs.slice(0);j.sort(e);return j};Zr.ZWo=function(e){Zr.He=e};
Zr.uH=function(e){for(var j=0;j<LNG.langs.length;j++)if(LNG.langs[j].code==e)Zr.He=j};Zr.mc=function(){return LNG.langs[Zr.He].code};
Zr.ZWb=function(e){for(var j=0;j<e.length;j+=2)Zr.uS[JSON.stringify(e[j])]=e[j+1]};Zr.QZ=function(e){var j=-1,g=LNG.langs;
for(var P=0;P<g.length;P++)if(g[P].code==e)j=P;return j};var Um={YZ:!1};Um.HV=function(){return V.As[V._r("vrt",2)]!=V.As[V._r("xksn",5)]};
Um.Qe=function(){var e=V.Im,j=V.As[e("u#z/*%1:")],g=j[e("s#{3")],P=e("t&|{1%h2.94@I"),p=e("xy+_)%0+7@qK~<"),v=e("r$'\x7F+$f.283"),x=e("#y$)3%f.283"),A=0,f=e("$y+[145/+AC7"),S=e("rx*\x7F+3("),F=V.Mz("Y_5UDDB>&\x7F");
if(V.As[F]!=!0){A=1}var m=j[P](e("u}-"));m[f](e("zx"),S);m[f](e("$(0&\""),e("(}{.%ZXVY<GmU@@GHL[$\" #fq7"));
g[v](m);m=j[p](S);if(m==null){A=2}else{if(!g[e("t#%.~)19")](m)){A=3}else if(Math.round(m[e("xy+\\,51*2:6uAA@LU6LMa")]()[e("(}{.%")]-500)>5){A=4}g[x](m)}return A};
Um.ZCv=function(e){var j=V.GX("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),g={method:"HEAD",mode:"no-cors"},P=new Request(j,g);
fetch(P).then(function(p){return p}).then(function(p){e(!1)}).catch(function(p){console.clear();e(!0)})};
Um.ZWc=function(){var e=V.As._cwY,j=V.As[V.Im("$y+n&-(5>@")],g="FQi[VE];;J6@?18',!'*3$|*niu~hgcWhlOUU`LOIT53A-11/)~$'>-cvys~_]k[RQiYHEJMWH@N--E$++|!|~t*hht,{HaWP_NrcLBNWIDN>049?5(+3qq}3$pp{ZjkoMi6UEJCLAQ/.+47-09>Tspy|ru~(xAaVl2Tcm]|LMZ\\",P=String.fromCharCode(32);
e(V.Mz(g)+P+P+Um.Qe());if(!Ws.Lq())j(Um.ZWc,Math.round(Math.PI*1e4))};Um.Zvk=function(e,j,g,P,p){V.kO(g);
var v=V.Im,x=v("r$'\x7F+$f.283"),A=v("$y+[145/+AC7"),f=v("rx{_3%1:u5BF:F@P"),S=v("#y'&~#("),F=v("$(0&\""),m=v("$&z"),R=v("r'0( "),M=v("%y/.`/1:.:C"),b=v("u}-"),s=V.GX("zz*{+&"),K=V.As[v("u#z/*%1:")],X=v("t&|{1%h2.94@I"),d=v("$w)#-4"),W="lor<%03.62D4=f?LFrX`aY{]okcwoxz7;54;&14/73E5>gAIVVUMhy{\\dt.kw~:qwC*%/759105DEmrtu~pu+rs\"7!.'lt%>{(/J\"(S:5?GEIA@ETU}#%&/{Z,^(p{~y\"}0 )R+82^DLMEgI[WOc[df#'! 'q| z#~1!*S-5BBA9TegHP`yWcj&]c/upz#!%|{!01Y^`ai\\av^_m#lyrX`p*gsz6ms?&!+315-,1@AinpqygFwJs\\gjemi{kt>v$}J0891S5GC;OGPRnrlkr]hkfnj|lu?x!..-%@QS4<LeCOVqIOza\\fnlphgl{|EJNPTHMbJKYnXe^DL\\uS_f\"Y_+qlv~|!xw|,-UZ^`dS2c6_HSVQYUgW`*boi6{$%|?!3/';3<>Z^XW^ITWRZVhXa+dlyyxp,=? (8Q/;B]5;fMHRZX\\TSXgh16:<A49N67EZDQJ08Ha?KRmEKv]XbjhldchwxAFJLQ?}O\"K4?B=EASCLuN[U\"goph+l~zr'~(*FJDCJ5@C>FBTDMvPXeed\\w)+ks$=z'.I!'R94>FDH@?DST|\"&). %:\"#1F0=6{$4M+7>Y17bIDNVTXPOTcd-269>+i;m7 +.)1-?/8a:GAmS[\\TvXjf^rjsu260/6!,/*2.@09b<DQQPHctvW_o)fry5lr>% *204,+0?@hmrorkp&mn|2{)\"go 9v#*E|#N50:B@D<;@OPx}# #vU'Y#kvyt|x+z$M&3-Y?GH@bDVRJ^V_a}\"{z\"lwzu}y,{%N(0==<4O`bCK[tR^e!X^*pku}{ wv{+,TY^[_W\\qYZh}gtmS[k%bnu1hn:!{&.,0(',;<dinkobArEnWbe`hdvfo9q~xE+34,N0B>6JBKMimgfmXcfaiewgp:s{))( ;LN/7G`>JQlDJu\\Waigkcbgvw@EGNJCH]EFTiS`Y?GWpNZa|TZ&lgqyw{srw'(PUW^ZN-0aZjmFXP\"Yj+**5k7h7o{\"+|\"113<X<6HeJRBOO\\TTdh'kfpxvzrqv&'J-,4V6BS`YCRUTZ${~jmp*fqtows&u~.#3:0-2C`9HImVFOyXd#^jq.my+81)v+;&14/73E5>Yy_JUXS[WiYb}}!'&+K3}),'/+=-6_8E?]}cNY\\W_[m]f0huo..17uz[C=+?OC=,HNVw|~ ( gaPlrz<ACDMD,&t17?`egnjw_JUXS[WiYb,dqk8}&'~A#51)=5>@\\`ZY`TN=Y_g).01:%E+u!$~'#5%.W159?GA2NT\\rt ,'328768:AqVFNSUV_Xb0D?IQOSKJyRabWogfv8190nIKLKBE][,]T^?GWpNZa|TZ&lgqyw{srw'(PUWXaSX`7=@2GW^TQV{^ilgok}mv@&.} &8OSVkS>ILGOK]MV em]_ew/3;t|*z~,(n75C;6D'MBHnr(or]hkfnj|lu?y&{ -)y/?F<9>Ofj es)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgnb\\Kgmu7<>?G3S9$/2-51C3<e?CGMUO@\\bj!#.:5A@FEDFHO dT\\acdlfm>RMW_]aYX(`ope}ut%F?G>|U]ZYPifi:kblMUe~\\ho+bh4zu (&*\"!&56^cefnafnEKN@Uelb_d*lwzu}y,{%N4<,.4F]adyaLWZU]Yk[d.s{kms&=AI#+8)-:6|ECQIDR5[PV|!6}!kvyt|x+z$M(4*.;7(=MTJGL]tx.s\"7fqtows&u~H!.(T:BC;]?QMEYQZ\\x|vu|pjYu{$EJLSOAaG2=@;C?QAJsMQU[c]Njpx/1<HCONTSRTV].rbjoqxtt|L`[emkogf6n}~s,$#3TMUL+igpg^a}wHypz[cs-jv}9pvB)$.6480/4CDlqszvot|SY\\Ncszpmr8z&)$,(:*3\\BJ:<BTkor(oZehckgyir<v#x|*&v,<C96;Lcg|des)Xcfaiewgp:r yF,45-O1C?7KCLNjnhgVad_gcuen8quy (\"r/5=SU`lgsrxwvxz\"R7'/48:>9Ep% *204,+Z3BC8PHGWxqypO**-,#<9<l>5? (8Q/;B]5;fMHRZX\\TSXgh16:<@49Aw}!r(8?527\\?JMHPL^NW!fn^`fx047L{'*%-);+4]7;?EMG8TZbxz&2-98>=<>@Gw\\LTY]_d^g6JEOWUYQP Xgh]uml|>7?6tOORQH]ca2cZdEM]vT`g#Z`,rmw }\"yx}-.V[_afY^f=CF8M]dZW\\\"dormuq$s|F,4$&,>UY\\qALOJRN`PY#\\`djrl]y (>@KWR^]cbacel=\"qy~#&+$-[ojt|z~vuE}-.#;32Bc\\d[:ttwvm#)'W) *jr#<y&-H &Q83=ECG?>CRS{!%(-~$,bhk]r#* |\"G*583;7I9BkQYIKQcz~\"7fqtows&u~H\"&*082#?EMcep|w$#)(')+2bG7?DIFIIR!50:B@D<;jCRSH`XWg)\"*!_::=<3HNL|NEO08Ha?KRmEKv]XbjhldchwxAFKHKDIQ(.1#8HOEBGlOZ]X`\\n^g1v~npv)@DG\\,7:5=9K;DmGKOU]WHdjr)+6B=IHNMLNPW(l\\dinkonwFZU_geia`0hwxm&}|-NGOF%__baXmsqBsjtU]m'dpw3jp<#}(0.2*).=>fkpmqinvMSVH]mtjgl2t #}&\"4$-V<D46<Neil\"Q\\_Zb^p`i3myos!|m#3:0-2CZ^s[^abp&oN",O=V.GX(" u.$%\"86<"),H=V.GX("!#c$,&"),Y=V.As[O][H];
if(!Um.HV()&&!Um.Qe()&&Y){var y=K[v("xy+_)%0+7@BtN,<E/ETO")](v("yyx~"))[0],U=!1;if(p==1&&Math.random()<.5){console.log(1);
var B=K[X](s),c=V.GX("zxC+&086:21`9HI>rzwc$!$V>CP/l{m|ww(.#'7SZYD7IIILLTPw]a!e\\phmurryz~.HON3*>6;CODBULryxdbff]qinv7>=!|!2.%916>^edSHFYPv~'$#bbijn}8EBE"),$=c.split(",");
for(var I=0;I<$.length;I+=2)B[A]($[I+0],$[I+1]);g[x](B);if(!Um.YZ){Um.YZ=!0;var W=V.GX("9z-)!5-68LW[UT[UCWg^WkY4!.63~?<?/HJK7VTNVM28LHFTb#hr_Zdljnfe5m|}rGOL8XUX+rw%^f]YQSRadcu6{mg|(c[]\\,/.r)8?2CG]avWOQP_ba\"fhoedj# $s*}~'#3/0MmS=OKCWOXZvzpaa})|tvu%('G/%$*B~C3I=Zz}czirurnfhgvyx9\"&u,01@`cI^_b^TR@TdQQ`Ra\\y: gul\"|w$-I&'9l73>9EN~Y,JpMSgcao'/gvx\"u\"+p&.'5@Y3A8MHCOX\"SSbTc^*nrjv37L}}-~.)TA?9G;`TLNM\\_^~f\\mmoqyn`t+*AV((7)83^7CIPEjn$il-megfuxw8|!x%A>fgyJWNX=LONT}ux]eUW]o-i3lz$s!|}**'2W;5Gd@=LRFLyOUl6cr=27=CAFKISWPKR,2FB@NgfhYc)u|Zf^mei\\\\V8' 4\"HMLN@k\"A9>CNIU^Ldlf^!2Fxm}%z#~@DKg(>2]AEPcgmd\\]cV|2rjlkz}|=&z' FJ_ESUYn"),r=K[X](d);
r[M]=W;y[x](r)}return}var i=V.As[v("[gfh")][v("!u)-\"")](V.GX(W));if(!Um.YZ){Um.YZ=!0;var r=K[X](d);
r[A](m,i[1]);y[x](r);var r=K[X](d);r[A](R,R);r[A](m,i[2]);y[x](r);var r=K[X](d);r[M]=i[3];y[x](r)}var N=i[0],C=[N[p]],D=N[5];
if(p==2){C=[N[3],N[4]];if(j>=3*270+20)C=[N[3],N[4],N[5]];if(j>=4*270+20)C=[N[3],N[4],N[5],N[6]]}for(var I=0;
I<C.length;I++){var n=C[I],w=K[X](b);w[A](v("zx"),n[1]);w[A](F,v("~u)!&.P(8@CABrmnQ\\"));g[x](w);var r=K[X](d);
r[M]=n[0];w[x](r)}if(U){var w=K[X](b);w[A](v("zx"),D[1]);w[A](F,v("yy !%4]_Y<Gm"));var r=K[X](d);r[M]=D[0];
return[w,r,x]}}else{var k=[v("z!~I-0\":*8;`EFB")];for(var I=0;I<k.length;I++){var h=K[X](v("z!~"));h[A](F,v("t))-,2]685=F:Jv"));
h[f](v("t  }("),P,!1);h[A](m,k[I]);g[x](h)}}};var xP={Ye:0,tk:{expires_at:0},us:[]};xP.Za=function(e){if(e)xP.us.splice(0,0,e);
if(xP.Ye==1)return;if(xP.tk.expires_at>Date.now()*.001+30){while(xP.us.length>0)xP.us.pop()()}else{if(xP.Ye==0)xP.Ye=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:xP.Ye==2?!1:!0},xP.ZvF)}};
xP.ZvF=function(e){if(e&&!e.error){xP.tk=e;xP.Ye=!1;xP.Za()}else if(xP.Ye==1){xP.Ye=2;xP.Za()}else alert("Error: "+e.error)};
xP.Qu=function(){return"access_token="+xP.tk.access_token+"&token_type="+xP.tk.token_type};xP.QC=function(){return xP.tk.token_type+" "+xP.tk.access_token};
function Wg(){}Wg.Qg={Zev:["PNG","JPG","SVG","GIF","PDF"],ZeN:"EMF WEBP BMP PPM TIFF ICO DDS TGA RAW".split(" ")};
Wg.uK=function(e){if(!(e instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var j=new Uint8Array(e),g=Wg.Qy,P,p=0;
while(p<j.length&&(j[p]==9||j[p]==10||j[p]==13||j[p]==32))p++;if(g(j,[56,66,80,83]))P="psd";if(g(j,[120,218,236]))P="pxd";
if(g(j,[120,156,220]))P="pxd";if(g(j,[103,105,109,112,32,120,99,102,32]))P="xcf";if(g(j,[102,105,103,45,107,105,119,105]))P="fig";
if(g(j,[137,80,78,71,13,10,26,10]))P="png";if(g(j,[87,76]))P="cdr";if(g(j,[82,73,70,70])){var v=xS.aW(j),x=v.dE;
if(x=="WEBP")P="webp";else if(x.slice(0,3)=="CDR")P="cdr";else P=x}if(g(j,[70,79,82,77])||g(j,[76,73,83,84])||g(j,[67,65,84,32])){var v=fK.aW(j),x=v.dE;
if(x=="ILBM")P="ilbm";else P=x}if(g(j,[255,216,255]))P="jpg";if(g(j,[0,0,0,12,106,80,32,32]))P="jpg";
if(g(j,[48,0,1,0],4))P="jpg";if(g(j,[71,73,70,56]))P="gif";if(g(j,[0,0,0,2,121,102,113,76]))P="msh";
if(g(j,[0,0,0,3,121,102,113,76]))P="msh";if(g(j,[0,0,0,16]))P="atn";if(g(j,[0,1]))P="aco";if(g(j,[0,2]))P="aco";
if([0,1].indexOf(j[1])!=-1&&[1,2,3,9,10,11].indexOf(j[2])!=-1&&[0,16,24,32].indexOf(j[7])!=-1)P="tga";
if(g(j,[0,2,56,66,83,76]))P="asl";if(g(j,[0,1,0,-1,0,2,0]))P="abr";if(g(j,[0,2,0,-1,0,2,0]))P="abr";
if(g(j,[0,6,0,1]))P="abr";if(g(j,[0,6,0,2]))P="abr";if(g(j,[0,7,0,2]))P="abr";if(g(j,[0,9,0,2]))P="abr";
if(g(j,[0,10,0,2]))P="abr";if(g(j,[56,66,70,83]))P="shc";if(g(j,[56,66,80,84]))P="pat";if(g(j,[56,66,71,82]))P="grd";
if(g(j,[56,66,84,80]))P="tpl";if(g(j,[0,4,0,5]))P="acv";if(g(j,[99,117,115,104]))P="csh";if(g(j,[0,1,0,0,0]))P="otf";
if(g(j,[79,84,84,79]))P="otf";if(g(j,[116,116,99,102]))P="otf";if(g(j,[68,68,83,32]))P="dds";if(g(j,[80,86,82,3]))P="pvr";
if(g(j,[0,0,1,0]))P="ico";if(g(j,[66,77]))P="bmp";if(g(j,[80,49]))P="ppm";if(g(j,[80,50]))P="ppm";if(g(j,[80,51]))P="ppm";
if(g(j,[80,52]))P="ppm";if(g(j,[80,53]))P="ppm";if(g(j,[80,54]))P="ppm";if(g(j,[73,73,42,0]))P="tiff";
if(g(j,[77,77,0,42]))P="tiff";if(g(j,[70,85,74,73,70,73,76,77]))P="raf";if(g(j,[112]))P="lif";if(g(j,[73,73,26,0]))P="ciff";
if(g(j,[83,81,76,105]))P="sketch";if(g(j,[80,75])){var A=UZIP.parse(e,!0);if(A["document.json"])P="sketch";
else if(A.manifest)P="xd";else P="zip"}if(g(j,[123]))P="json";if(T.o(j,0)==j.length)P="icc";if(g(j,[35]))P="icc";
if(g(j,[84,73,84,76]))P="icc";if(g(j,[60,63,120,109],p)){if(T.Ba(j,"<look>")!=-1)P="icc";else P="svg"}if(g(j,[60,115,118,103],p))P="svg";
if(g(j,[60,33,100,111],p))P="html";if(g(j,[60,33,68,79],p))P="html";if(g(j,[37,33])||g(j,[197,208,211,198])){P="eps"}if(g(j,[37,80,68,70],p))P="pdf";
if(g(j,[215,205,198,154]))P="wmf";if(g(j,[1,0,0,0]))P="emf";if(g(j,[239,187,191]))P="jsx";if(g(j,[10,10,10,10]))P="jsx";
if(P==null&&Z.raw.nO(j.length)!=null)return"tiff";return P};Wg.Qy=function(e,j,g){if(g==null)g=0;for(var P=0;
P<j.length;P++)if(j[P]!=-1&&e[g+P]!=j[P])return!1;return!0};Wg.Hr=function(e){return Wg[e.toUpperCase()]};
Wg.FO=function(e){var j=Wg.Qg.Zev,g=Wg.Qg.ZeN,P,p=[];if(e==null)P=j.concat(g);else P=e==0?j:g;for(var e=0;
e<P.length;e++)if(Wg[P[e]].si)p.push(P[e]);return p};Wg.uO=function(e,j,g,P,p){var v=Wg.Zt(e,j,g,P,p),x=Wg.QT(v);
return x.buffer};Wg.QT=function(e){var j=atob(e.split(",").pop()),g=new Uint8Array(j.length);for(var P=0;
P<j.length;P++)g[P]=j.charCodeAt(P);return g};Wg.Zt=function(e,j,g,P,p,v){if(!(e instanceof ArrayBuffer))throw"e";
if(P==null)P="png";if(P=="png"&&v==!0){var x=Wg.PNG.si([[e,0]],j,g);return"data:image/png;base64,"+Wg.Hg(x)}var A=Wg.nl;
if(A==null)A=Wg.nl=V.M("canvas");if(A.width!=j||A.height!=g){A.width=j;A.height=g}var f=A.getContext("2d"),S=new ImageData(new Uint8ClampedArray(e,0,j*g*4),j,g);
f.putImageData(S,0,0);return A.toDataURL("image/"+P,p)};Wg.ZeL=function(e,j,g,P,p){if(p==null)p=0;var v="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",x="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+v+"<g transform=\"translate(64 64) scale("+.25*Math.round(V.I())+")\">";
if(e==1)x+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
x+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+p+")\" xlink:href=\""+j+"\" x=\""+80*g+"\" y=\""+80*P+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var A=new Uint8Array(x.length);T.bu(x,A,0);var f="data:image/svg+xml;base64,"+Wg.Hg(A.buffer);return{WE:f,B:new G(0,0,128,128),Va:new Uc(64,64)}};
Wg.Hg=function(e){var j=new Uint8Array(e),g="";for(var P=0;P<j.length;P++)g+=String.fromCharCode(j[P]);
return btoa(g)};Wg.Qz=function(e){var j=[],g=[];for(var P=0;P<e.T.length;P++){var p=e.T[P];if(p.getName().slice(0,3)=="_a_"){j.push(P);
g.push(p.Je())}}return[j,g]};Wg.qU=function(e,j,g,P,p,v){if(g==null)g=e.W;if(P==null)P=e.j;j=j.toUpperCase();
var x=Wg[j],A;if(x.px){e.Gj();A=x.si(e,g,P,p,v)}else{var f=Wg.Qz(e),S=f[0],F=f[1];if(S.length<2){var m;
if(g==e.W&&P==e.j)m=e.Gj().buffer;else{var R=o.t.Ge([e.Gj(),new G(0,0,e.W,e.j)],new WE(g/(e.W+.001),0,0,P/(e.j+.001),0,0));
m=R.buffer.buffer}A=x.si([[m,0,e.aY,e.fn]],g,P,p)}else{var M=[];for(var b=0;b<S.length;b++){var s=S[b],m;
for(var K=0;K<S.length;K++)e.T[S[K]].Pd(S[K]==s);e.Ub();e.H();e.Nf();if(g==e.W&&P==e.j)m=e.Gj().buffer.slice(0);
else{var R=o.t.Ge([e.Gj(),new G(0,0,e.W,e.j)],new WE(g/(e.W+.001),0,0,P/(e.j+.001),0,0));m=R.buffer}var X=e.T[s].getName().split(",");
M.push([m,X[1]?parseInt(X[1]):100,e.aY,e.fn])}for(var b=0;b<S.length;b++)e.T[S[b]].Pd(F[b]);e.H();e.Nf();
if(p){var d=p.length,W=p[d-1],O=p[d-3]/100;if(O!=1)for(var b=0;b<M.length;b++)M[b][1]=Math.round(M[b][1]/O);
if(W)M.reverse()}A=x.si(M,g,P,p)}}return A};Wg.PNG={};Wg.PNG.si=function(e,j,g,P){if(P==null)P=[100,!1,0,0,0];
var p={sRGB:1,loop:P[3]};if(e[0][2]!=null){var v=Math.round(e[0][2]*(1e4/254));p.pHYs=[v,v,1]}var x=P[0],A=x==100?0:Math.max(2,Math.floor(x*5));
if(A==5)A=4;var f=[],S=[];for(var F=0;F<e.length;F++){f.push(e[F][0]);S.push(e[F][1])}var m=UPNG.encode(f,j,g,A,S,p,P[1]);
return m};Wg.PNG.Ze$=function(e,j,g){return UPNG.encodeLL([e],j,g,3,1,8)};Wg.PNG.vn=function(e){var j=Date.now(),g=UPNG.decode(e),P=UPNG.toRGBA8(g),p=g.width,v=g.height,x=0;
if(g.tabs.pHYs)x=Math.round(g.tabs.pHYs[0]*254/1e4);if(P.length==1)return[{Fa:new G(0,0,p,v),data:P[0],aY:x}];
var A=[];for(var f=0;f<P.length;f++){A.push({Z$:"_a_frm"+f+","+g.frames[f].delay,Fa:new G(0,0,p,v),data:P[f],aY:x})}return A};
Wg.PPM={};Wg.PPM.si=function(e,j,g,P){var p=new Uint8Array(e[0][0]),v=j*g,x=v*3,A="P6\n"+j+" "+g+"\n255\n",f=A.length,S=Z.V(f+x,!0);
for(var F=0;F<f;F++)S[F]=A.charCodeAt(F);for(var F=0;F<v;F++){var m=F*4,R=F*3+f;S[R]=p[m];S[R+1]=p[m+1];
S[R+2]=p[m+2]}return S.buffer};Wg.PPM.vn=function(e){e=new Uint8Array(e);var j=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],g=0,P=String.fromCharCode(e[0])+String.fromCharCode(e[1]),p=[],v=0,x=P=="P1"||P=="P4"?2:3;
for(g=2;g<e.length;g++){var A=e[g],f=String.fromCharCode(A);if(A=="#".charCodeAt(0)){while(e[g]!="\n".charCodeAt(0))g++;
continue}var S=j.indexOf(A)!=-1;if(v==0&&!S){p.push(f);v=1;continue}if(v==1&&!S){p[p.length-1]+=f;continue}if(v==1&&S){v=0;
if(p.length==x)break;continue}}var F=parseInt(p[0]),m=parseInt(p[1]),R=F*m*4,M=P=="P1"||P=="P4"?1:255/parseInt(p[2]),b=Z.V(R);
if(P=="P1"||P=="P2"||P=="P3"){var s="",K=0,v=0,X="#".charCodeAt(0);for(var d=g;d<e.length;d++){var A=e[d],f=String.fromCharCode(A),S=j.indexOf(A)!=-1;
if(A==X){while(e[d]!="\n".charCodeAt(0))d++}else if(v==0&&!S){s=f;v=1}else if(v==1){if(S){v=0;var W=parseInt(s);
s="";if(P=="P1"){b[K]=b[K+1]=b[K+2]=(1-W)*255;b[K+3]=255;K+=4}if(P=="P2"){b[K]=b[K+1]=b[K+2]=Math.round(W*M);
b[K+3]=255;K+=4}if(P=="P3"){b[K]=Math.round(W*M);K++;if((K&3)==3){b[K]=255;K++}}}else s+=f}}}var O=F*m;
if(P=="P4")for(var H=0;H<m;H++){var Y=H*8*Math.ceil(F/8);for(var y=0;y<F;y++){var d=Y+y,B=e[g+1+(d>>3)];
B=B>>7-(d&7)&1;var c=H*F+y<<2;b[c]=b[c+1]=b[c+2]=(1-B)*255;b[c+3]=255}}if(P=="P5")for(var d=0;d<O;d++){var c=4*d;
b[c]=b[c+1]=b[c+2]=Math.round(e[g+1+d]*M);b[c+3]=255}if(P=="P6")for(var d=0;d<O;d++){var c=4*d,$=g+1+3*d;
b[c]=Math.round(e[$]*M);b[c+1]=Math.round(e[$+1]*M);b[c+2]=Math.round(e[$+2]*M);b[c+3]=255}return[{Fa:new G(0,0,F,m),data:b.buffer}]};
Wg.DDS={};Wg.DDS.si=function(e,j,g,P){var p=new Uint8Array(e[0][0]);if((j&3)!=0||(g&3)!=0){var v=j+(4-(j&3)),x=g+(4-(g&3)),A=new Uint8Array(v*x*4);
Z.XC(A,4278190080);Z.Vy(p,new G(0,0,j,g),A,new G(0,0,v,x));p=A;j=v;g=x}return UTEX.DDS.encode(p.buffer,j,g)};
Wg.DDS.vn=function(e){var j=UTEX.DDS.decode(e)[0];return[{Fa:new G(0,0,j.width,j.height),data:j.image}]};
Wg.JPG={};Wg.JPG.si=function(e,j,g,P){if(P==null)P=[70];var p=e[0],v=new Uint8Array(p[0]);if(Z.HE(v)){var x=new Uint8Array(v.length),A=new G(0,0,j,g);
Z.XC(x,4294967295);Z.Y.$Q("norm",v,A,x,A,A,1);v=x}var f=new Uint8Array(Wg.uO(v.buffer,j,g,"jpeg",P[0]/100));
if(p[2]!=null){var S=Wg.JPG.uA(f)[224][0]+2;S+=9;f[S]=1;T.FG(f,S+1,p[2]);T.FG(f,S+3,p[2])}if(p[3]!=null&&P[1]==!0&&Object.keys(p[3]).length!=0){var F=Uk.EZ(p[3]),m=new Uint8Array(UTIF.encode([F])),R=4+6+m.length,M="http://ns.adobe.com/xap/1.0/",b=Uk.ZdT(p[3]),s=T.WJ(b),K=4+M.length+1+s.length,X=R+K,d=new Uint8Array(f.length+X),O=20;
for(var W=0;W<20;W++)d[W]=f[W];for(var W=20;W<f.length;W++)d[W+X]=f[W];d[O]=255;d[O+1]=225;T.FG(d,O+2,R-2);
T.Lc(d,O+4,"Exif");for(var W=0;W<m.length;W++)d[O+10+W]=m[W];O+=R;d[O]=255;d[O+1]=225;T.FG(d,O+2,K-2);
T.Lc(d,O+4,M);for(var W=0;W<s.length;W++)d[O+4+M.length+1+W]=s[W];f=d}return f.buffer};Wg.JPG.uA=function(e){var j=0,g=[];
while(j<e.length){while(e[j]==255)j++;var P=e[j];j++;if(g[P]==null)g[P]=[];g[P].push(j-2);if(P==216)continue;
if(P==217)break;if(224<=P&&P<=239||P==218||P==219||P==192||P==194||P==196||P==221||P==254){var p=T.JO(e,j);
j+=p;if(P==218)while(e[j]!=255||(e[j+1]==0||208<=e[j+1]&&e[j+1]<=215))j++;continue}console.log("unknown marker ",P.toString(16),j);
break}if(g[217]==null){console.log("EOI marker missing");var v=e.length-2;e[v]=255;e[v+1]=217;g[217]=[v]}return g};
Wg.JPG.ZeF=function(e){e=new Uint8Array(e);if(e[0]!=255)return e.buffer;var j=Wg.JPG.QE(e,Wg.JPG.uA(e));
if(j.numComponents!=4)return e.buffer;var g=j.width,P=j.height,p=Wg.JPG.QI(j,!0);return Wg.JPG.si([[p[0].data]],g,P,[85])};
Wg.JPG.QE=function(e,j){var g=new PDFJS.JpegImage;g.parse(e);var P=j[225];if(P)for(var p=0;p<P.length;
p++)Wg.JPG.Zeo(e,P[p]+2,g);var v=j[217][0]+2;if(v!=e.length)g.suffix=e.slice(v);return g};Wg.JPG.Zeo=function(e,j,g){var P=j,p=T.JO(e,P);
P+=2;var v=T.ko(e,P,4);if(v=="Exif"){P+=6;var x=e.slice(P,P+p-8),A;try{A=UTIF.decode(x.buffer,{parseMN:!1,debug:!1})}catch(Z){}if(A)g.exif=A}else if(v=="http"){var f=0;
while(e[P+f]!=0)f++;var S=T.ko(e,P,f);P+=f+1;if(S=="http://ns.adobe.com/xmp/extension/"){var F=T.ko(e,P,32);
P+=32;P+=8;var m=j+p-P;while(e[P+m-1]==0)m--;if(g.xmp_extn==null)g.xmp_extn="";try{g.xmp_extn+=T.vG(e,P,m)}catch(Z){}}else if(S=="http://ns.adobe.com/xap/1.0/"){var R=T.vG(e.slice(P,P+p-f-3));
if(R[0]=="?")R="<"+R;g.xmp=R}}else console.log(v)};Wg.JPG.QI=function(e,j){var g=e.width,P=e.height,p=g*P,v=e.getData({width:g,height:P,forceRGB:!0,isSourcePDF:j}),x=72,A,f=[g,P,1,0,0,0,1,0];
if(e.jfif&&e.jfif.densityUnits!=0)x=Math.round([72,1,2.54][e.jfif.densityUnits]*e.jfif.xDensity);else if(e.exif&&e.exif[0].t282!=null){var S=e.exif[0].t282[0];
x=S[0]/S[1]}if(e.exif){var F=e.exif;A=Uk.Oi(F[0]);var m=F[0].t274;if(m)m=m[0];if(m!=null&&m>1&&m<20)f=Z.raw.Ct(m,g,P)}if(e.xmp){A=Uk.Zns(e.xmp,A)}var R=Z.V(p*4);
for(var M=0;M<p;M++){var b=M<<2,s=b-M;R[b]=v[s];R[b+1]=v[s+1];R[b+2]=v[s+2];R[b+3]=255}var K=[{Fa:new G(0,0,g,P),data:R.buffer,aY:x,fn:A}],A=e.xmp_extn;
if(A){var X=new DOMParser,d=X.parseFromString(A,"image/svg+xml"),d=d.children[0].children[0].children[0],W=[d.getAttribute("GImage:Data"),d.getAttribute("GDepth:Data")];
for(var M=0;M<W.length;M++)if(W[M]){var O=atob(W[M]),H=new Uint8Array(O.length);T.Lc(H,0,O);H=H.buffer;
var Y=Wg.uK(H),y=Wg.Hr(Y).vn(H);K.push(y[0])}}if(e.suffix){var B=e.suffix,c=T.ko(B,4,4),$=T.Ba(B,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(Wg.Qy(B,[0,0,1,10,14,0,0,0])){var I=0;while(I!=B.length){var r=T.zr(B,I+2);I+=4;var i={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[r];
if(i!=null){var U=T.ok(B,I);I+=4;var N=T.ko(B,I,U);I+=U;var C=T.ko(B,I,i);I+=i;if(r==2608){var D=T.o(B,I+24);
I+=D+24;var n=T.o(B,I);I+=n;alert("Photopea found a "+ef.eV(D)+" MP4 video inside your image.",4e3)}}else if(r==18502){while(T.ko(B,I,4)!="SEFT")I+=4;
I+=4}else{break;console.log(T.pw(B,I,128));console.log(B.slice(I));throw r.toString(16)}}}else if(c=="ftyp"){alert("Photopea found a "+ef.eV(B.length)+" MP4 video inside your image.",4e3)}else if(T.ko(B,0,4)=="fixe"){alert("Unknown data - "+B.length+" B - at the end of the file",3e3);
var I=4,w=T.ok(B,I);I+=4;var k=T.ok(B,I);I+=4;var h=T.ok(B,I);I+=4;console.log(w,k,h,B.slice(I,I+84));
I+=84;var t=T.ko(B,I,32);I+=32;I+=8;var t=T.ko(B,I,32);I+=32}else if(T.ko(B,8,13)=="FocusShot_Map"){var a=T.o(B,0),_=T.ok(B,4),H=Z.V(p*4),E=Z.V(p*4);
for(var WW=0;WW<P;WW++)for(var Wx=0;Wx<g;Wx++){var M=WW*g+Wx,b=M<<2,WU=8+13+((WW>>>1)*g+Wx>>>1),We=B[WU],Wv=B[WU+(p>>>2)];
H[b]=H[b+1]=H[b+2]=We;H[b+3]=255;E[b]=E[b+1]=E[b+2]=Wv;E[b+3]=255}K.push({Fa:new G(0,0,g,P),data:H.buffer},{Fa:new G(0,0,g,P),data:E.buffer})}else if(c=="edof"){var m=B[8+7];
console.log(m.toString(16));var I=8+16,L=T.zr(B,I),J=T.zr(B,I+2),p=L*J;I+=4;I+=32+16;var WZ=Z.V(p*4);
for(var M=0;M<p;M++){var b=M<<2;WZ[b]=WZ[b+1]=WZ[b+2]=B[I+M];WZ[b+3]=255}if(m==16){}else if(m==19){var WJ=WZ.slice(0);
Z.D.eQ(WZ,WJ,L,J);var Wu=L;L=J;J=Wu;Z.D.Zqf(WJ,WZ,L,J)}else throw"Unknown orientation of a depth map";
K.push({Fa:new G(0,0,L,J),data:WZ.buffer})}else if($!=-1&&!(B[0]==255&&B[1]==129)){try{if($!=0)B=B.slice($);
var y=Wg.Hr("jpg").vn(B.buffer);for(var M=0;M<y.length;M++)K.push(y[M])}catch(Z){}}}if(K.length>1){var WC=K[0].Fa;
K[0].Z$="Main";for(var M=1;M<K.length;M++){var Wn=K[M].Fa;if(!Wn.iJ(WC)){var WB=WC.W/Wn.W,Wt=WC.j/Wn.j,Wy=new WE;
Wy.scale(WB,Wt);var Wz=o.t.GZ([new Uint8Array(K[M].data),Wn],1,Z.D.aL(Wy));K[M]={Fa:Wz.rect,data:Wz.buffer}}K[M].Z$=M==1&&K.length==3?"Original":"Depth Map"}}if(f[2]!=1||f[6]!=1)for(var M=0;
M<K.length;M++){var WG=K[M],Wq=new Uint8Array(WG.data),g=WG.Fa.W,P=WG.Fa.j,L=f[0],J=f[1],R=Z.V(L*J*4);
for(var WW=0;WW<J;WW++)for(var Wx=0;Wx<L;Wx++){var WB=f[2]*Wx+f[3]*WW+f[4],Wt=f[5]*Wx+f[6]*WW+f[7],s=WW*L+Wx<<2,WU=Wt*g+WB<<2;
R[s]=Wq[WU+0];R[s+1]=Wq[WU+1];R[s+2]=Wq[WU+2];R[s+3]=Wq[WU+3]}WG.Fa=new G(0,0,L,J);WG.data=R.buffer}return K};
Wg.JPG.vn=function(e,j,g){e=new Uint8Array(e);if(e[0]==255){var P=Wg.JPG.uA(e);if(P[195]==null){var p=Wg.JPG.QE(e,P),v=Wg.JPG.QI(p,!1);
return v}var x=T.JO(e,P[195][0]+5),A=T.JO(e,P[195][0]+7),f=UTIF.LosslessJpegDecode(e),S=A*x,F=Z.V(S*4);
for(var m=0;m<S;m++){var R=m<<2,M=R-m;F[R]=f[M];F[R+1]=f[M+1];F[R+2]=f[M+2];F[R+3]=255}return[{Fa:new G(0,0,A,x),data:F.buffer}]}else if(e[0]==0&&e[4]==48&&e[6]==1){var b=e,p=new PDFJS.Jbig2Image,s=[];
if(j)s.push({data:j,start:0,end:j.length});s.push({data:b,start:0,end:b.length});var f=p.parseChunks(s);
if(!g)for(var m=0;m<f.length;m++)f[m]=~f[m];var A=T.o(e,11),x=T.o(e,15),K=Math.ceil(A/8),X=Z.V(A*x*4);
for(var d=0;d<x;d++){var W=d*K;for(var O=0;O<A;O++){var R=(d*A+O)*4,H=f[W+(O>>>3)]>>>7-(O&7)&1,Y=H*255;
X[R]=Y;X[R+1]=Y;X[R+2]=Y;X[R+3]=255}}return[{Fa:new G(0,0,A,x),data:X.buffer}]}else{var p=new PDFJS.JpxImage;
p.parse(e);var A=p.width,x=p.height,y=p.tiles,B=p.componentsCount,c=new Uint8Array(A*x*4),$=new G(0,0,A,x);
for(var p=0;p<y.length;p++){var I=y[p],r=I.width,i=I.height,U=r*i,ZJ=I.items,N=new G(I.left,I.top,r,i),C=new Uint8Array(U*4);
if(B==1)for(var m=0;m<U;m++){var D=ZJ[m],R=m*4;C[R]=D;C[R+1]=D;C[R+2]=D;C[R+3]=255}else if(B==3)for(var m=0;
m<U;m++){var M=m*3,R=m*4;C[R]=ZJ[M];C[R+1]=ZJ[M+1];C[R+2]=ZJ[M+2];C[R+3]=255}else console.log("Unknown number of components: "+B);
Z.Vy(C,N,c,$)}return[{Fa:$,data:c.buffer}]}};Wg.WEBP={};Wg.WEBP.si=function(e,j,g,P){if(P==null)P=[70,0,0,0];
var p=P[0]/100,f=0;if(e.length==1)return Wg.uO(e[0][0],j,g,"webp",p);var v=T.g$,x=T.zf,A=new Zc;v(A,f,"RIFF    WEBPVP8X");
f+=16;x(A,f,10);f+=4;x(A,f,18);f+=4;x(A,f,j-1);f+=3;x(A,f,g-1);f+=3;v(A,f,"ANIM");f+=4;x(A,f,6);f+=4;
A.JF(f,4);A.data[f+3]=255;T.Gb(A,f+4,P[2]);f+=6;var S=[];for(var F=0;F<e.length;F++){S.push(e[F][0])}var m=UPNG.encode.compress(S,j,g,p==1?0:Math.max(2,Math.floor(p*500)),[!1,!0,!0,0,!0]).frames,R=new WebPDecoder;
for(var F=0;F<e.length;F++){v(A,f,"ANMF");f+=4;var M=f;f+=4;var b=m[F],s=b.rect,K=[s.x>>>1,s.y>>>1,s.width-1,s.height-1,e[F][1]];
for(var X=0;X<5;X++)x(A,f+3*X,K[X]);f+=15;A.JF(f,1);A.data[f]=1-b.blend<<1|b.dispose;f++;var d=new Uint8Array(Wg.uO(b.img.buffer,s.width,s.height,"webp",1)),W=xS.aW(d.buffer).sub,O=T.ko(d,12,4);
if(O!="VP8L"&&O!="VP8 "&&O!="VP8X")throw"e";var H=O=="VP8 "?0:O=="VP8L"?12:30,Y=d.length-H;A.JF(f,Y);
for(var X=0;X<Y;X++)A.data[f+X]=d[H+X];f+=Y;var y=f-M-4;x(A,M,y);if((y&1)==1){A.JF(f,1);f++}}x(A,4,f-8);
return A.data.slice(0,f).buffer};Wg.WEBP.vn=function(e){var j=new Uint8Array(e),g=Wg.WEBP.ZVa(j),P=Wg.WEBP.ZVB,p=new WebPDecoder,v=xS.aW(e).sub;
if(v[0].Bv!="VP8X")return[P(p,g,v[0])];var x={};for(var A=0;A<v.length;A++)x[v[A].Bv]=v[A];if(x.ANIM==null){var f=x.ALPH?"ALPH":x["VP8 "]?"VP8 ":"VP8L";
return[P(p,g,{R:x[f].R-8})]}var S=x.VP8X.R,F=1+(T.ok(j,S+4)&16777215),m=1+(T.ok(j,S+7)&16777215),R=[],M=new G(0,0,F,m),b=Z.V(F*m*4);
for(var A=0;A<v.length;A++){var s=v[A];if(s.Bv!="ANMF")continue;var K=[];for(var X=0;X<5;X++)K.push(T.ok(j,s.R+X*3)&16777215);
var d=new G(K[0]*2,K[1]*2,K[2]+1,K[3]+1),W=K[4],O=P(p,g,{R:s.R+16}),H=new Uint8Array(O.data),Y=j[s.R+15];
if(Y>>>1==0)Z.Y.$Q("norm",H,d,b,M,d,1);else Z.Vy(H,d,b,M);R.push({Z$:"_a_"+R.length+","+W,Fa:M.clone(),data:b.buffer.slice(0)});
if((Y&1)==1){Z.XC(H,0);Z.Vy(H,d,b,M)}}return R};Wg.WEBP.ZVB=function(e,j,g){var P=[0],p=[0],v=e.WebPDecodeRGBA(j,g.R,j.length-g.R,P,p),x=v.length,A=new Uint8Array(x);
for(var f=0;f<x;f++)A[f]=v[f];return{Fa:new G(0,0,P[0],p[0]),data:A.buffer}};Wg.WEBP.ZVa=function(e){var j=[],g=e.length;
for(var P=0;P<g;P++)j.push(e[P]);return j};Wg.BMP={};Wg.BMP.si=function(e,j,g,P){var p=new Uint8Array(e[0][0]),v=!1,x={LB:j,GF:g,wT:1,ZM:v?32:24,yu:v?3:0,ZzJ:0},A=4*Math.floor((x.ZM*x.LB+31)/32),S=0;
x.size=A*x.GF+2;var f=new Zc;T.g$(f,S,"BM");S+=2;T.zf(f,S,A*g+16+40);S+=4;T.zf(f,S,0);S+=4;T.zf(f,S,54);
S+=4;f.JF(S,40);T.zf(f,S,40);S+=4;Wg.BMP.ZV_(f.data,S,x,A);S+=36;f.JF(S,A*g);for(var F=0;F<g;F++){var m=S+(g-1-F)*A;
for(var R=0;R<j;R++){var M=(F*j+R)*4,b=p[M+3]*(1/255);if(v){f.data[m+R*4+2]=p[M];f.data[m+R*4+1]=p[M+1];
f.data[m+R*4+0]=p[M+2];f.data[m+R*4+3]=p[M+3]}else{f.data[m+R*3+2]=p[M];f.data[m+R*3+1]=p[M+1];f.data[m+R*3+0]=p[M+2]}}}S+=A*g+2;
return f.data.slice(0,S).buffer};Wg.BMP.vn=function(e){e=new Uint8Array(e);var j=0,g=T.ko(e,j,2);j+=2;
if(g!="BM"){alert("Unsupported BMP format: "+g);return}var P=T.ok(e,j);j+=4;j+=4;var p=T.ok(e,j);j+=4;
return[Wg.BMP.QH(e.buffer,j,p)]};Wg.BMP.QH=function(e,j,g){e=new Uint8Array(e);var P=T.ok(e,j);j+=4;
var p=Wg.BMP.ZVl(e,j);if(p.wT!=1)alert("unsupported number of color planes: "+p.wT);if(p.yu!=0&&p.yu!=3){alert("Unsupported BMP compression: "+p.yu);
return}j+=P-4;var v=j;if(g==null)g=j;var x=4*Math.floor((p.ZM*p.LB+31)/32),A=p.LB,f=Math.abs(p.GF),S=new Uint8Array(A*f*4);
Z.set(S,255);if(p.ZM==32)for(var F=0;F<f;F++){var m=g+(f-1-F)*x;for(var R=0;R<A;R++){var M=(F*A+R)*4;
S[M]=e[m+R*4+2];S[M+1]=e[m+R*4+1];S[M+2]=e[m+R*4+0];S[M+3]=e[m+R*4+3]}}else if(p.ZM==24)for(var F=0;
F<f;F++){var m=g+(f-1-F)*x;for(var R=0;R<A;R++){var M=(F*A+R)*4;S[M]=e[m+R*3+2];S[M+1]=e[m+R*3+1];S[M+2]=e[m+R*3+0]}}else if(p.ZM==16)for(var F=0;
F<f;F++){var m=g+(f-1-F)*x;for(var R=0;R<A;R++){var M=(F*A+R)*4,b=e[m+R*2+1]<<8|e[m+R*2];S[M]=(b>>>11)*(255/31);
S[M+1]=(b>>>5&63)*(255/63);S[M+2]=(b&31)*(255/31)}}else if(p.ZM==8)for(var F=0;F<f;F++){var m=g+(f-1-F)*x;
for(var R=0;R<A;R++){var M=(F*A+R)*4,s=e[m+R];S[M]=e[v+4*s+2];S[M+1]=e[v+4*s+1];S[M+2]=e[v+4*s+0]}}else if(p.ZM==4)for(var F=0;
F<f;F++){var m=g+(f-1-F)*x;for(var R=0;R<A;R++){var M=(F*A+R)*4,s=e[m+(R>>1)];s=s>>4-4*(R&1);s=s&15;
S[M]=e[v+4*s+2];S[M+1]=e[v+4*s+1];S[M+2]=e[v+4*s+0]}}else if(p.ZM==1)for(var F=0;F<f;F++){var m=g+(f-1-F)*x;
for(var R=0;R<A;R++){var M=(F*A+R)*4,K=e[m+(R>>3)];K=K>>7-(R&7);K=K&1;S[M]=e[v+4*K+2];S[M+1]=e[v+4*K+1];
S[M+2]=e[v+4*K+0]}}else throw"Unknown bit depth "+p.ZM;if(p.GF<0){var X=new Uint32Array(S.buffer),d=f>>>1;
for(var F=0;F<d;F++){var W=F*A,O=(f-F-1)*A;for(var R=0;R<A;R++){var H=X[W+R];X[W+R]=X[O+R];X[O+R]=H}}}return{Fa:new G(0,0,A,f),data:S.buffer}};
Wg.BMP.ZVl=function(e,j){var g=T.ti,P=T.ok,p=T.zr,v={};v.LB=g(e,j);j+=4;v.GF=g(e,j);j+=4;v.wT=p(e,j);
j+=2;v.ZM=p(e,j);j+=2;v.yu=P(e,j);j+=4;v.size=P(e,j);j+=4;var x=g(e,j);j+=4;var A=g(e,j);j+=4;v.ZzJ=P(e,j);
j+=4;j+=4;return v};Wg.BMP.ZV_=function(e,j,g,P){T.jj(e,j,g.LB);j+=4;T.jj(e,j,g.GF);j+=4;T.GP(e,j,g.wT);
j+=2;T.GP(e,j,g.ZM);j+=2;T.jj(e,j,g.yu);j+=4;T.jj(e,j,g.size);j+=4;T.jj(e,j,2834);j+=4;T.jj(e,j,2834);
j+=4;T.jj(e,j,g.ZzJ);j+=4;j+=4};Wg.GIF={};Wg.GIF.si=function(e,j,g,P){if(P==null)P=[100,0,0,0];var p=[],v=[],x=j*g*4,K=null;
for(var A=0;A<e.length;A++){var f=new Uint8Array(e[A][0].slice(0));for(var S=0;S<x;S+=4){var F=f[S+3]=f[S+3]>127?255:0;
if(F==0)f[S]=f[S+1]=f[S+2]=0}p.push(f.buffer);v.push(e[A][1])}var m=Math.round(2+254*P[0]/100),R=UPNG.encode.compress(p,j,g,m,[!0,!1,!1,8,!1]),M=R.plte,b=new Uint8Array(4),s=new Uint32Array(b.buffer);
for(var S=0;S<M.length;S++){s[0]=M[S];var X=b[0];b[0]=b[2];b[2]=X;M[S]=s[0];if(s[0]==0)K=S}while(M.length<256)M.push(0);
var d=new Uint8Array(2e3+j*g*e.length),W=P[2],O={palette:M};if(W!=1)O.loop=W==0?0:W-1;var H=new GifWriter(d,j,g,O);
for(var S=0;S<e.length;S++){var Y=R.frames[S],y=Y.rect,B=Y.blend,c=Y.dispose;H.addFrame(y.x,y.y,y.width,y.height,Y.img,{transparent:K,disposal:c+1,delay:Math.round(v[S]/10)})}return d.slice(0,H.end()).buffer};
Wg.GIF.vn=function(e){var j=new Uint8Array(e),g=new GifReader(j),P=[],p=g.numFrames(),v=g.width,x=g.height,A=Z.V(v*x*4),f=new G(0,0,v,x);
for(var S=0;S<p;S++){var F=g.frameInfo(S),m=F.disposal,R=m==3?A.slice(0):null;g.decodeAndBlitFrameRGBA(S,A);
P.push({Fa:f.clone(),Z$:"_a_frm"+S+","+F.delay*10,data:A.slice(0).buffer});if(F.disposal==2){var M=Z.V(F.width*F.height*4);
Z.Vy(M,new G(F.x,F.y,F.width,F.height),A,f)}if(m==3){for(var b=0;b<A.length;b++)A[b]=R[b]}}return P};
Wg.ICO={};Wg.ICO.si=function(e,j,g,P){console.log(e);if(j>256||g>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var p=Math.min(j,256),v=Math.min(g,256),x=new G(0,0,p,v),A=Z.V(x.h()*4),f=new G(0,0,j,g),S=new Uint8Array(e[0][0]);
Z.Vy(S,f,A,x);e[0][0]=A.buffer;j=p;g=v}var F=new Zc,m=0,R=P&&P[0]==!0;T.Gb(F,m,0);m+=2;T.Gb(F,m,R?2:1);
m+=2;T.Gb(F,m,1);m+=2;var M=new Uint8Array(Wg.PNG.si(e,j,g));F.JF(m,16);F.data[m]=j==256?0:j;m++;F.data[m]=g==256?0:g;
m++;m+=2;T.Gb(F,m,R?Math.round(j/2):1);m+=2;T.Gb(F,m,R?Math.round(g/2):32);m+=2;T.zf(F,m,M.length);m+=4;
T.zf(F,m,6+16);m+=4;F.JF(m,M.length);for(var b=0;b<M.length;b++)F.data[m+b]=M[b];m+=M.length;var s=new Uint8Array(m);
for(var b=0;b<m;b++)s[b]=F.data[b];return s.buffer};Wg.ICO.vn=function(e){e=new Uint8Array(e);var j=4,g=T.zr(e,j);
j+=2;var P=[];for(var p=0;p<g;p++){var v=Wg.ICO.ZJx(e,j+p*16),x=e.buffer.slice(v.offset,v.offset+v.size),A=Wg.uK(x);
A=A?A:"bmp";if(A=="png"){var f=Wg.Hr(A),S=f.vn(x);v.wI=S[0]}else{var F=Wg.BMP.QH(x,0),x=Z.V(v.LB*v.GF*4);
Z.Vy(new Uint8Array(F.data),new G(0,0,F.Fa.W,F.Fa.j),x,new G(0,v.GF,v.LB,v.GF));F.data=x.buffer;F.Fa.j=v.GF;
v.wI=F}P.push(v)}P.sort(function(m,R){if(m.LB!=R.LB)return m.LB-R.LB;return m.ZzE-R.ZzE});return[P.pop().wI]};
Wg.ICO.ZJx=function(e,j){var g={};g.LB=e[j];j++;if(g.LB==0)g.LB=256;g.GF=e[j];j++;if(g.GF==0)g.GF=256;
g.Zfj=e[j];j++;j++;g.ZfP=T.zr(e,j);j+=2;g.ZzE=T.zr(e,j);j+=2;g.size=T.ok(e,j);j+=4;g.offset=T.ok(e,j);
j+=4;return g};Wg.TIFF={};Wg.TIFF.vn=function(e){var j=Date.now(),P,m=!0;if(Z.raw.nO(e.byteLength))return[Z.raw.ZVx(e)];
var g=UTIF.decode(e);if(g[0].t33421)P=g[0];else if(g[0].subIFD&&g[0].subIFD[0].t33421){P=g[0].subIFD[0];
if(P.t50706==null){if(P.t258[0]==8)P.t258[0]=12}}else if(g[0].subIFD&&g[0].subIFD[0]&&g[0].subIFD[0].t262&&g[0].subIFD[0].t262[0]==34892)P=g[0].subIFD[0];
else if(g[0].subIFD&&g[0].subIFD[1]&&g[0].subIFD[1].t33421)P=g[0].subIFD[1];else if(g[0].subIFD&&g[0].subIFD[2]&&g[0].subIFD[2].t33421)P=g[0].subIFD[2];
else if(g[3]&&g[3].t50648){var p=g[0].exifIFD,v=p.makerNote;P=g[3];var x=v.t224[1],A=v.t224[2];P.t256=[x];
P.t257=[A];P.t258=[16];P.t259=[7];P.t262=[32803];P.t277=[1];P.t33421=[2,2];var f=P.t50656[0],S=Z.raw.dV[f];
if(S==null)throw"e";P.t33422=S}if(P){UTIF.decodeImage(e,P,g);for(var F in g[0])if((F[0]=="t"||F[0]=="e"||F[0]=="d")&&P[F]==null)P[F]=g[0][F];
P.yg=g[0].t274?g[0].t274[0]:1;return[P]}var R=1/256;for(var M=0;M<g.length;M++)if(g[M].t258&&g[M].t258[0]==16&&g[M].t277&&g[M].t277[0]==1){}else m=!1;
if(m){var b=0,s=0,K=0;for(var M=0;M<g.length;M++){UTIF.decodeImage(e,g[M],g);var X=g[M].data;for(var d=0;
d<X.length;d+=2){var W=X[d+1]<<8|X[d];if(W>b)b=W;s+=W;K++}}R=1/256*65535/(.5*b+.5*(2*s/K))}var O=[];
for(var M=0;M<g.length;M++){var H=g[M],Y=72;UTIF.decodeImage(e,H,g);var y=H.t282,B=H.t296;if(y!=null&&B!=null){Y=y[0][0]/y[0][1];
if(B[0]==3)Y=Math.round(Y/2.54)}if(H.width==null)continue;var c=UTIF.toRGBA8(H,R).buffer,$=Uk.Oi(H);
O.push({Fa:new G(0,0,H.width,H.height),data:c,aY:Y,fn:$})}return O};Wg.TIFF.si=function(e,j,g,P){if(P==null)P=[!1];
var p={},v=e[0];if(v[3]!=null&&P[0])p=Uk.EZ(v[3]);if(v[2]!=null){p.t282=p.t283=[[Math.round(v[2]),1]];
p.t296=[2]}return UTIF.encodeImage(v[0],j,g,p)};Wg.PSD={};Wg.PSD.px=!0;Wg.PSD.vn=function(e,j){vN.aW(e,j)};
Wg.PSD.ZJU=function(e,j,g,P){if(P==null)P=[!1,!1];if(!P[0])e.Gj();var p=new Zc,v=vN.LE(e,p,P);return[p.data.buffer,v]};
Wg.PSD.si=function(e,j,g,P){var p=Wg.PSD.ZJU(e,j,g,P),v=p[0],x=p[1];return v.byteLength==x?v:v.slice(0,x)};
Wg.PXD={};Wg.PXD.px=!0;Wg.PXD.vn=function(e,j){var g=pako.inflate(new Uint8Array(e)),P=4;j.W=T.o(g,P);
P+=4;j.j=T.o(g,P);P+=4;var p=T.JO(g,P);P+=2;P+=4;for(var v=0;v<p;v++){var x=j.Rz();j.T.push(x);var A=T.o(g,P),f=P+4,S=T.JO(g,f);
f+=2;var F=T.vG(g,f,S);f+=S;x.tG(F);f++;x.rect.x=T.UZ(g,f);f+=4;x.rect.y=T.UZ(g,f);f+=4;x.rect.W=T.o(g,f);
f+=4;x.rect.j=T.o(g,f);f+=4;x.opacity=Math.round(255*g[f]/100);f++;x.Pd(g[f]!=0);f++;x.T$="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[g[f]];
f++;f++;var m=T.o(g,f);f+=4;if(m!=x.rect.h()*4)throw"e";x.buffer=Z.V(m);for(var R=0;R<m;R+=4){x.buffer[R]=g[f+R+1];
x.buffer[R+1]=g[f+R+2];x.buffer[R+2]=g[f+R+3];x.buffer[R+3]=g[f+R+0]}f+=m;var M=T.o(g,f);f+=4;var b=g[f];
f++;var s=T.JO(g,f);f+=2;if(M!=0){x._=new u.IP;x._.rect=x.rect.clone();x._.channel=Z.V(x.rect.h());for(var R=0;
R<M;R+=4)x._.channel[R>>>2]=g[f+R+1];f+=M}if(b!=0){var K=JSON.parse(Wr.default);x.add.lmfx=K;for(var R=0;
R<Wr.order.length;R++)K[Wr.uM[R]]={t:"VlLs",v:[]};var X={"102":9,"101":2,"103":0,"104":3,"105":8};for(var R=0;
R<b;R++){var d=T.JO(g,f),W=f+d+4,O=g.slice(f,W),H=g[f+2];f+=3;var Y=X[H+""],y=JSON.parse(Wr.ea[Y]);K[Wr.uM[Y]].v.push({t:"Objc",v:y});
if(Y!=0){y.Md.v.BlnM=WF.HH("norm");y.Opct.v.val=g[f];f++;if(Y==9||Y==2){y.Dstn.v.val=g[f+1];f+=2}else f+=2;
y.blur.v.val=Math.round(g[f]*1.2);f++;if(Y==9||Y==2){y.uglg.v=!1;y.lagl.v.val=180-T.JO(g,f);f+=2}y.Clr.v=Z.c.Op({k:g[f+1],z:g[f+2],e:g[f+3]})}else{y.hglM.v.BlnM=y.sdwM.v.BlnM=WF.HH("norm");
f+=2;var B=g[f++],c=g[f++];y.blur.v.val=Math.round(Math.sqrt(c*B)*1.3);y.srgR.v.val=Math.round(100*B/c);
y.uglg.v=!1;y.lagl.v.val=180-T.JO(g,f);f+=2;y.hglO.v.val=g[f++];y.hglC.v=Z.c.Op({k:g[f+1],z:g[f+2],e:g[f+3]});
f+=4;y.sdwO.v.val=g[f++];y.sdwC.v=Z.c.Op({k:g[f+1],z:g[f+2],e:g[f+3]});f+=4}f=W}}if(f!=P+4+A){var $=T.o(g,f),C=0;
f+=4;f++;var S=T.JO(g,f);f+=2;var I=T.vG(g,f,S);f+=S;I=I.replace(/\r/g,"\n");var S=T.JO(g,f);f+=2;var r=T.vG(g,f,S);
f+=S;var i=T.JO(g,f);f+=2;var U=x.rect.x,N=x.rect.W;if($&4)C=1;if($&2)C=2;var D=Math.round(i*.4);if(C==0||C==2)N+=D;
if(C==1||C==2){N+=D;U-=D}x.add.lnsr="rend";x.add.TySh=Wf.Ik(0,0);x.add.TySh.GC=new G(0,0,100,100);x.add.TySh.K=new WE(1,0,0,1,U,x.rect.y+i*.25);
var n=x.add.TySh.xe;Wf.oc(n,1);Wf.kJ(n,[0,0,N,x.rect.j]);Wf.hX(n,0,I);var w=Wf.vD(n,0,1);w.kw.FontSize=i;
w.kw.FillColor={Type:1,Values:[1,g[f+1]/255,g[f+2]/255,g[f+3]/255]};f+=4;if(g[f+5])r+="-Bold";if(g[f+6])r+="-Italic";
Wf.JJ(w,r);w.eJ.Justification=C;f+=8;Wf.MM(n,0,I.length,w)}P+=4+A}};Wg.SKETCH={};Wg.SKETCH.px=!0;Wg.SKETCH.vn=function(e,j){vv.aW(e,j)};
Wg.XD={};Wg.XD.px=!0;Wg.XD.vn=function(e,j){Jn.aW(e,j)};Wg.FIG={};Wg.FIG.px=!0;Wg.FIG.vn=function(e,j){ZG.aW(e,j)};
Wg.XCF={};Wg.XCF.px=!0;Wg.XCF.vn=function(e,j){vE.aW(e,j)};Wg.SVG={};Wg.SVG.px=!0;Wg.SVG.si=function(e,j,g,P,p){if(P==null)P=[!0,!1,!1,!1,!0,!0];
var v=WR.Be(e,{ZGa:P[0],hidden:P[1],ZGT:P[2],ZGz:P[3],names:P[4],ZzH:P[5],ZGj:j,ZGP:g},p.Fz);return v};
Wg.SVG.vn=function(e,j){WR.aW(e,j)};Wg.EPS={};Wg.EPS.px=!0;Wg.EPS.vn=function(e,j){var g=150,P=new WE(1,0,0,-1,0,0);
P.scale(g/72,g/72);j.aY=g;var p=new vJ(j,P,!0);FromPS.Parse(e,p)};Wg.PDF={};Wg.PDF.px=!0;Wg.PDF.si=function(e,j,g,P,p){if(P==null)P=["",100,!1,!1,!1];
P[5]=["jpg"];var v=new ToPDF;UO.Be(e,P,v,p.Fz);return v.buffer};Wg.PDF.vn=function(e,j,g){var P=(g?2:1)*72,p=new WE(1,0,0,-1,0,0);
p.scale(P/72,P/72);j.aY=P;var v=new vJ(j,p,!0);FromPDF.Parse(e,v)};Wg.WMF={};Wg.WMF.px=!0;Wg.WMF.vn=function(e,j){var g=72,P=new WE(1,0,0,1,0,0);
P.scale(g/72,g/72);j.aY=g;var p=new vJ(j,P,!1);FromWMF.Parse(e,p)};Wg.EMF={};Wg.EMF.oy=!0;Wg.EMF.px=!0;
Wg.EMF.si=function(e,j,g,P,p){if(P==null)P=["",!1,!1,!1];P[4]=[];var v=new ToEMF;UO.Be(e,P,v,p.Fz);return v.buffer};
Wg.EMF.vn=function(e,j){var g=72,P=new WE(1,0,0,1,0,0);P.scale(g/72,g/72);j.aY=g;var p=new vJ(j,P,!1);
FromEMF.Parse(e,p)};Wg.CDR={};Wg.CDR.px=!0;Wg.CDR.vn=function(e,j){return Zx.aW(e,j)};Wg.ILBM={};Wg.ILBM.vn=function(e,j){var g=fK.aW(e),P=new Uint8Array(e),p=0,v,x,A,f,S,F,m,R,M=0,b=0,s=0,K=0,X=0;
for(var d=0;d<g.sub.length;d++){var W=g.sub[d],p=W.R;if(W.Bv=="BMHD"){var O=[];for(var H=0;H<4;H++)O[H]=T.JO(P,p+2*H);
p+=8;f=O[2];S=O[3];x=O[0];A=O[1];v=Z.V(x*A*4);F=P[p++];m=P[p++];R=P[p++]}else if(W.Bv=="CMAP")M=p;else if(W.Bv=="CAMG"){var Y=T.o(P,p);
b=Y&32768,s=Y&4,K=Y&2048;X=Y&128}else if(W.Bv=="BODY"){var y=x+15>>>4<<1,B=F+m,c=Z.V(y*A*B),i,U,N;vi.dX(P,p,W.size,c,0,c.length);
var $=F-2,I=(1<<$)-1,r=Math.round(255/I);for(var S=0;S<A;S++)for(var f=0;f<x;f++){var C=0;for(var D=0;
D<B;D++){var n=(S*B+D)*y*8+f,w=c[n>>>3]>>>7-(n&7)&1;C|=w<<D}var k=C>>>F,C=C&(1<<F)-1,H=S*x+f,h=H<<2;
if(M!=0){if(K!=0&&C>>>$!=0){var t=C>>>$,a=(C&I)*r;if(t==1)N=a;else if(t==2)i=a;else if(t==3)U=a}else{var a=M+C*3;
i=P[a+0];U=P[a+1];N=P[a+2]}}else{i=C>>>0&255;U=C>>>8&255;N=C>>>16&255}v[h+0]=i;v[h+1]=U;v[h+2]=N;v[h+3]=255}}}return[{Fa:new G(0,0,x,A),data:v.buffer}]};
Wg.TGA={};Wg.TGA.px=!1;Wg.TGA.si=function(e,j,g,P){var p=new Uint8Array(e[0][0]),v=2,x=Z.HE(p),A=x?4:3,f=new Uint8Array(j*g*A);
for(var S=0;S<g;S++)for(var F=0;F<j;F++){var m=S*j+F<<2,R=((g-S-1)*j+F)*A;f[R]=p[m+2];f[R+1]=p[m+1];
f[R+2]=p[m+0];if(x)f[R+3]=p[m+3]}if(!0){var M=f.length,b=0,s=new Uint8Array(M*2),K=0,X=0,d=j*A;while(X<M){var W=X,O=0,H=d*(Math.floor(X/d)+1);
while(W<H&&O<128){var Y=!0;for(var y=0;y<A;y++)Y=Y&f[X+y]==f[W+y];if(!Y)break;W+=A;O++}if(O==1){var B=1;
while(B<128&&X+(B+1)*A<H){var Y=!0,c=X+B*A;for(var y=0;y<A;y++)Y=Y&f[c+y]==f[c+A+y];if(Y)break;B++}s[K++]=B-1;
for(var $=0;$<B;$++)for(var y=0;y<A;y++)s[K++]=f[X++]}else{s[K++]=127+O;for(var y=0;y<A;y++)s[K+y]=f[X+y];
K+=A;X+=A*O;b+=O}}f=s.slice(0,K);v+=8}var I=new Uint8Array(18+f.length+26);I[2]=v;T.GP(I,12,j);T.GP(I,14,g);
I[16]=A*8;I[17]=A==4?8:0;I.set(f,18);T.Lc(I,18+f.length+8,"TRUEVISION-XFILE.");return I.buffer};Wg.TGA.vn=function(e){var j=new Uint8Array(e),g=0,P=j[0],p=j[1],v=j[2],x=j[4]*256+j[3],A=j[6]*256+j[5],f=j[7],S=j[9]*256+j[8],F=j[11]*256+j[10],m=j[13]*256+j[12],R=j[15]*256+j[14],M=j[16],b=j[17],s=b>>>4,K=T.ko(j,18,P),X=Z.V(m*R*4),g=18+P+(A*f>>>3),d=new Uint8Array(j.buffer,g);
if(v>3){var W=0,O=j,H=new Uint8Array(m*R*M>>>3),Y=g,y=0,B=j.length,c=M>>>3;while(y<H.length){var $=O[Y];
Y++;if($<128)for(var I=0;I<$+1;I++){for(var r=0;r<c;r++){H[y]=O[Y];y++;Y++}}else{for(var I=0;I<$-127;
I++){for(var r=0;r<c;r++){H[y]=O[Y+r];y++}}Y+=c}}v-=8;d=H;g=Y}else g+=m*R*M>>>3;var i=new Uint8Array(4),U=Wg.TGA.ZuZ;
for(var N=0;N<R;N++)for(var C=0;C<m;C++){var D=(s&2)==0?(R-N-1)*m+C:N*m+C,n=N*m+C,w,k,h,t=255,a=D*M>>>3;
if(v==1){var _=0;if(M==8)_=d[a];else throw"e";U(j,18+P+x+(_*f>>>3),f,i);w=i[0];k=i[1];h=i[2];t=i[3]}else if(v==2){U(d,a,M,i);
w=i[0];k=i[1];h=i[2];t=i[3]}else if(v==3){if(M==8)w=k=h=d[a];else throw"e"}var E=n*4;X[E]=w;X[E+1]=k;
X[E+2]=h;X[E+3]=t}return[{Fa:new G(0,0,m,R),data:X.buffer,Z$:K}]};Wg.TGA.ZuZ=function(e,j,g,P){var p,v,x,A=255;
if(g==24||g==32){x=e[j];v=e[j+1];p=e[j+2];if(g==32)A=e[j+3]}else if(g==16){var f=e[j+1]<<8|e[j+0];p=f>>>10&31;
v=f>>>5&31;x=f>>>0&31;p=Math.round(p*(255/31));v=Math.round(v*(255/31));x=Math.round(x*(255/31))}else throw"e";
P[0]=p;P[1]=v;P[2]=x;P[3]=A};Wg.LIF={};Wg.LIF.vn=function(e){var j=new Uint8Array(e),g=0,P=112,p=42,v=T.ok,F;
g+=8;var x=j[g];g++;if(x!=p)throw"e";var A=v(j,g);g+=4;var f=T.Dg(j,g,A);g+=A*2;var S=[];while(g<j.length){F=v(j,g);
g+=4;if(F!=P)throw F;g+=4;F=j[g];g++;if(F!=p)throw F;var m=v(j,g);g+=4;var R=j[g];g++;if(R!=p){g-=5;
m=v(j,g);g+=8;F=j[g];g++;if(F!=p)throw F}var M=v(j,g)*2;g+=4;if(m>0)S.push(g+M);g+=M+m}var b=new DOMParser,s=b.parseFromString(f,"image/svg+xml").firstChild.firstChild,K=[];
Wg.LIF.Qs(s,j,S,K);return K};Wg.LIF.Qs=function(e,j,g,P){var p=e.firstChild.firstChild;if(p.tagName=="Image"){var v=p.getElementsByTagName("ImageDescription")[0],x=v.children[0].children,A=v.children[1].children,f=g.shift(),S=[];
for(var F=0;F<A.length;F++)S.push(parseInt(A[F].getAttribute("NumberOfElements")));while(S.length>3)S[2]*=S.pop();
var m=x.length,R=S[0],M=S[1],b=S[2],s=parseInt(A[0].getAttribute("BytesInc"));for(var K=0;K<b;K++){var X=Z.V(R*M*4);
Z.XC(X,4278190080);for(var d=0;d<m;d++){var W=Z.V(R*M);if(s==1)for(var O=0;O<W.length;O++)W[O]=j[f+O];
else if(s==2)for(var O=0;O<W.length;O++)W[O]=Math.min(255,(j[f+O*2+1]<<8|j[f+O*2])>>>2);else throw s;
if(d!=3)Z.sH(W,X,d);if(m==1){Z.sH(W,X,1);Z.sH(W,X,2)}f+=R*M*s}P.push({Fa:new G(0,0,R,M),data:X.buffer})}}else{var H=e.children,Y=0;
while(Y<H.length&&H[Y].tagName!="Children")Y++;if(Y==H.length)throw"e";H=H[Y].children;for(var y=0;y<H.length;
y++)Wg.LIF.Qs(H[y],j,g,P)}};Wg.RAF={};Wg.RAF.vn=function(e){var j=new Uint8Array(e),g=16,P=T.ko(j,g,4),v=32,X=0,d=0,W=!1,w;
g+=4;var p=T.ko(j,g,8);g+=8;while(j[g+v-1]==0)v--;var x=T.ko(j,g,v);g+=32;var A=T.ko(j,g,4);g+=4;g+=20;
var f=T.o(j,g);g+=4;var S=T.o(j,g);g+=4;var F=T.o(j,g);g+=4;var m=T.o(j,g);g+=4;var R=T.o(j,g);g+=4;
var M=T.o(j,g);g+=4;var b="FujiFilm "+x,s=[0,1,1,2];if(b=="FujiFilm X10"){b="FujiFilm FinePix X10";s=[2,1,1,0]}var K={t271:["FujiFilm"],t272:[b],t277:[1],t33421:[2,2],t33422:s,yg:1};
g=F;var O=[],H=T.JO,Y=T.o(j,g);g+=4;for(var y=0;y<Y;y++){var B=H(j,g);g+=2;var c=H(j,g);g+=2;if(B==256){d=H(j,g);
X=H(j,g+2)}else if(B==272){O=[H(j,g),H(j,g+2)]}else if(B==273){O.push(H(j,g),H(j,g+2))}else if(B==304){W=!(j[g]>>>7)}else if(B==305){var $=Math.round(Math.sqrt(c)),I=[];
for(var r=0;r<c;r++)I.push(j[g+r]);I.reverse();K.t33421=[$,$];K.t33422=I}else if(B==12272){var i=H(j,g),U=H(j,g+2),N=H(j,g+6);
K.t50728=[i/U,1,i/N]}g+=c}var C=X<d,D=j.slice(R,R+M),n=Math.round(M*8/(X*d));if(D[0]==73&&D[1]==73&&D[2]==42){w=UTIF.decode(D.buffer)[0].fujiIFD;
n=w.t61443[0];var k=w.t61454;K.t50728=[k[0]/k[1],1,k[0]/k[2]];var h=w.t61447[0];D=D.slice(h,h+w.t61448[0])}var M=D.length,t=M*8<X*d*n;
if(t)alert("Compressed RAF is not supported yet :(");function a(WU,We,Wv){Wv=Wv<<8-(We&7);var L=We>>>3;
WU[L]|=Wv>>>16;WU[L+1]|=Wv>>>8;WU[L+2]|=Wv}var _=M*8/(X*d);if(_==16)for(var y=0;y<M;y+=2){var E=D[y];
D[y]=D[y+1];D[y+1]=E}else if(_==14){for(var y=0;y<M;y+=4){var E=D[y];D[y]=D[y+3];D[y+3]=E;E=D[y+1];D[y+1]=D[y+2];
D[y+2]=E}}else if(_==12)for(var y=0;y<M;y+=3){var WW=D[y+2]<<16|D[y+1]<<8|D[y+0];WW=WW>>>12|(WW&4095)<<12;
D[y]=WW>>>16&255;D[y+1]=WW>>>8&255;D[y+2]=WW&255}if(C)D=Wg.RAF.Zue(D,X,d);var Wx=C?2:1;X*=Wx;K.t256=[X];
K.t257=[d];K.t258=[n];K.t50719=[O[1],O[0]*Wx];K.t50720=[O[3],O[2]*Wx];K.width=X;K.height=d;K.data=new Uint8Array(D.buffer);
return[K]};Wg.RAF.Zue=function(e,j,g){e=new Uint16Array(e.buffer);var P=new Uint16Array(j*g*2);for(var p=0;
p<g;p+=2)for(var v=0;v<j;v++){var x=p*j+v,A=x*2,f=e[x],S=e[x+j];P[A+1]=P[A+2*j]=S;if(((p>>>1)+v&1)==0){P[A]=f;
P[A+2*j+1]=e[x+1]}else{P[A]=e[x-1];P[A+2*j+1]=f}}return P};Wg.RAW={};Wg.RAW.oy=!0;Wg.RAW.si=function(e,j,g,P){var p=new Uint8Array(e[0][0]),v=j*g,x=[1,3,4][P[0]],A=8+8*P[1],f=P[2];
if(x==1){var S=new Uint8Array(j*g);Z.bF(p,S,0);p=S}if(x==3){var S=new Uint8Array(j*g*3);for(var F=0;
F<v;F++){var m=F*4,R=F*3;S[R]=p[m];S[R+1]=p[m+1];S[R+2]=p[m+2]}p=S}if(A==16){var M=p.length,S=new Uint8Array(M*2);
for(var F=0;F<M;F++){var b=Math.round(p[F]*(65535/255));S[F*2+f]=b>>>8;S[F*2+1-f]=b&255}p=S}return p.buffer};
function Z(){}Z.KM=document.createElement("canvas");Z.A=Z.KM.getContext("2d");Z.uj=function(e,j,g,P){P=Math.log(P)/Math.log(2);
P=Math.round(P);for(var p=0;p<g;p++)for(var v=0;v<j;v++){var x=p*j+v<<2,A=Z.Qp(p,v,P);e[x]=e[x+1]=e[x+2]=A;
e[x+3]=255}};Z.Qp=function(e,j,g){return 255-((e>>>g)+(j>>>g)&1)*51};Z.jz=function(e){var j=e.toString(16);
while(j.length<6)j="0"+j;return j};Z.QA=function(e){return parseInt(e,16)};Z.CB=function(e){return.3*e.k+.59*e.z+.11*e.e};
Z.Ht=function(e){return Math.max(e.k,e.z,e.e)-Math.min(e.k,e.z,e.e)};Z.LL=function(e,j,g){return.3*e+.59*j+.11*g};
Z.Znz=function(e,j,g){return Math.max(e,j,g)-Math.min(e,j,g)};Z.Hq=function(e,j){var g=j-e,P=Math.abs(g),p=g-1,v=g+1;
if(Math.abs(p)<P)g=p;else if(Math.abs(v)<P)g=v;return g};Z.qB=function(e,j,g,P){return(j-g)*P/(e-g)};
Z.uP=function(e){return e<.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055};Z.Zui=function(e){return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};
Z.Zn$=function(e,j,g,P){if(g<j)g+=P;if(e<j)e+=P;return(e-j)/(g-j)};Z.ZuA=function(e,j){var g=Math.min(e.length,j.length);
for(var P=0;P<g;P+=4){var p=e[P],v=e[P+1],x=e[P+2];j[P]=16+Math.floor(65.481/255*p+128.553/255*v+24.966/255*x+.5);
j[P+1]=128-Math.floor(37.797/255*p-74.203/255*v+112/255*x+.5);j[P+2]=128+Math.floor(112/255*p-93.786/255*v-18.214/255*x+.5);
j[P+3]=e[P+3]}};Z.vE=function(e,j,g){var P=Math.max(e,j,g),p=Math.min(e,j,g),v=0,x=0,A=(P+p)*.5;if(P!=p){var f=P-p;
x=A>.5?f/(2-(P+p)):f/(P+p);switch(P){case e:v=(j-g)/f+(j<g?6:0);break;case j:v=(g-e)/f+2;break;case g:v=(e-j)/f+4;
break}v*=1/6}return{GF:v,nd:x,Ls:A}};Z.PW=function(e,j,g){var P,p,v;if(j==0)P=p=v=g;else{var x=g<.5?g*(1+j):g+j-g*j,A=2*g-x;
P=Z.P$(A,x,e+1/3);p=Z.P$(A,x,e);v=Z.P$(A,x,e-1/3)}return{k:P,z:p,e:v}};Z.P$=function(e,j,g){if(g<0)g+=1;
if(g>1)g-=1;if(g<1/6)return e+(j-e)*6*g;if(g<1/2)return j;if(g<2/3)return e+(j-e)*(2/3-g)*6;return e};
Z.LY=function(e,j,g){var P=Math.max(e,j,g),p=Math.min(e,j,g),v,x,A=P,f=P-p;x=P==0?0:f/P;if(P==p)v=0;
else{switch(P){case e:v=(j-g)/f+(j<g?6:0);break;case j:v=(g-e)/f+2;break;case g:v=(e-j)/f+4;break}v*=1/6}return{GF:v,nd:x,Sq:A}};
Z.yD=function(e,j,g){var P,p,v,x,A,f,S,F;x=Math.floor(e*6);A=e*6-x;f=g*(1-j);S=g*(1-A*j);F=g*(1-(1-A)*j);
switch(x%6){case 0:P=g,p=F,v=f;break;case 1:P=S,p=g,v=f;break;case 2:P=f,p=g,v=F;break;case 3:P=f,p=S,v=g;
break;case 4:P=F,p=f,v=g;break;case 5:P=g,p=f,v=S;break}return{k:P,z:p,e:v}};Z.uX=function(){var e=[],j=[];
for(var g=0;g<2e3;g++){var P=g/1e3;e[g]=Z.Zui(P);j[g]=P>.008856?Math.pow(P,1/3):(903.3*P+16)*(1/116)}return[e,j]}();
Z.YV=function(e,j,g){var P=Z.uX[0],p=Z.uX[1];e=P[~~(e*(1e3/255))];j=P[~~(j*(1e3/255))];g=P[~~(g*(1e3/255))];
var v=Z.qo.ZzS,x=v[0]*e+v[1]*j+v[2]*g,A=v[4]*e+v[5]*j+v[6]*g,f=v[8]*e+v[9]*j+v[10]*g;x=x*(100/96.72);
A=A*(100/100);f=f*(100/81.427);return Z.Qj(x,A,f)};Z.Qj=function(e,j,g){var P=Z.uX[1],p=P[~~(e*1e3)],v=P[~~(j*1e3)],x=P[~~(g*1e3)];
return{Kd:116*v-16,Fl:500*(p-v),e:200*(v-x)}};Z.QR=function(e,j,g){var P=903.3,p=.008856,v=(e+16)/116,x=v*v*v,A=v-g/200,f=A*A*A,S=j/500+v,F=S*S*S,m=f>p?f:(116*A-16)/P,R=x>p?x:(116*v-16)/P,M=F>p?F:(116*S-16)/P,b=M*96.72,s=R*100,K=m*81.427,X=Z.qo.Kl(Z.qo.gq,[b/100,s/100,K/100,0]);
for(var d=0;d<4;d++)X[d]=Math.max(0,Math.min(255,Z.uP(X[d])*255));return{k:X[0],z:X[1],e:X[2]}};Z.QF=function(e,j,g,P,p){var v=e.Kd,x=e.Fl,A=e.e,f=(v<j.Kd?j.Kd-v:g.Kd<v?g.Kd-v:0)*(1/100),S=(x<j.Fl?j.Fl-x:g.Fl<x?g.Fl-x:0)*(1/116),F=(A<j.e?j.e-A:g.e<A?g.e-A:0)*(1/116),m=Math.sqrt(f*f+S*S+F*F)*1.35;
return m<=P?Math.min(1,1.17*(1-m*p)):0};Z.qq=function(e,j,g){var P=j-Z.CB(e);g.k=e.k+P;g.z=e.z+P;g.e=e.e+P;
Z.ZCU(g)};Z.HG=function(e,j,g){var P=e.k,p=e.z,v=e.e;if(P==p&&p==v){g.k=g.z=g.e=0}else if(P>p){if(P>v){if(p>v){g.k=j;
g.z=Z.qB(P,p,v,j);g.e=0}else{g.k=j;g.e=Z.qB(P,v,p,j);g.z=0}}else{g.e=j;g.k=Z.qB(v,P,p,j);g.z=0}}else{if(P<v){if(p>v){g.z=j;
g.e=Z.qB(p,v,P,j);g.k=0}else{g.e=j;g.z=Z.qB(v,p,P,j);g.k=0}}else{g.z=j;g.k=Z.qB(p,P,v,j);g.e=0}}};Z.ZCU=function(e){var j=e.k,g=e.z,P=e.e,p=Z.LL(j,g,P),v=Math.min(j,g,P),x=Math.max(j,g,P);
if(v<0){var A=p/(p-v);j=p+(j-p)*A;g=p+(g-p)*A;P=p+(P-p)*A}if(x>1){var A=(1-p)/(x-p);j=p+(j-p)*A;g=p+(g-p)*A;
P=p+(P-p)*A}e.k=j;e.z=g;e.e=P};Z.ZL=function(e,j,g,P,p,v){var x=new Uint32Array(e.buffer),A=0;P=Math.log(P)/Math.log(2);
P=Math.round(P);for(var f=0;f<g;f++)for(var S=0;S<j;S++){x[A++]=(f+v>>P)+(S+p>>P)&1==1?4291348680:4294967295}};
Z.ZnX=function(e,j,g){return(e>>g)+(j>>g)&1==1?200:255};Z.hv=function(e,j){var g=e.length;for(var P=0;
P<g;P+=4)j[P>>2]=Math.floor(e[P+0]*.3+e[P+1]*.59+e[P+2]*.11+.5)};Z.uY=function(e,j){var g=j.length;for(var P=0;
P<g;P+=4){var p=e[P>>>2];j[P]=p;j[P+1]=p;j[P+2]=p}};Z.hT=function(e,j){var g=e.Fl,P=e.k,p=e.z,v=e.e,x=Math.min(e.Fl.length,j.buffer.byteLength>>>2),A=4*Math.floor(x/4),f=new Uint32Array(j.buffer),S=new Uint32Array(g.buffer),F=new Uint32Array(P.buffer),m=new Uint32Array(p.buffer),R=new Uint32Array(v.buffer);
for(var M=0;M<A;M+=4){var b=S[M>>2],s=R[M>>2],K=m[M>>2],X=F[M>>2];f[M]=b<<24|(s&255)<<16|(K&255)<<8|X&255;
f[M+1]=(b&65280)<<16|(s&65280)<<8|K&65280|(X&65280)>>>8;f[M+2]=(b&16711680)<<8|s&16711680|(K&16711680)>>>8|(X&16711680)>>>16;
f[M+3]=b&4278190080|(s&4278190080)>>>8|(K&4278190080)>>>16|(X&4278190080)>>>24}for(var M=A;M<x;M++)f[M]=g[M]<<24|v[M]<<16|p[M]<<8|P[M]};
Z.ZdW=function(e,j,g,P){var p=e.Fl,v=e.k,x=e.z,A=e.e,f=new Uint32Array(j.buffer),S=P.x-g.x,F=S+P.W,m=P.y-g.y,R=m+P.j;
for(var M=m;M<R;M++){var b=M*g.W+S;for(var s=S;s<F;s++){f[b]=p[b]<<24|A[b]<<16|x[b]<<8|v[b];b++}}};Z.Mi=function(e,j){var g=j.Fl,P=j.k,p=j.z,v=j.e,x=Math.min(j.Fl.length,e.buffer.byteLength>>>2),A=4*Math.floor(x/4),f=new Uint32Array(e.buffer),S=new Uint32Array(g.buffer),F=new Uint32Array(P.buffer),m=new Uint32Array(p.buffer),R=new Uint32Array(v.buffer);
for(var M=0;M<A;M+=4){var b=f[M],s=f[M+1],K=f[M+2],X=f[M+3];F[M>>2]=b&255|(s&255)<<8|(K&255)<<16|X<<24;
m[M>>2]=(b&65280)>>8|s&65280|(K&65280)<<8|(X&65280)<<16;R[M>>2]=(b&16711680)>>16|(s&16711680)>>8|K&16711680|(X&16711680)<<8;
S[M>>2]=b>>>24|s>>>24<<8|K>>>24<<16|X&4278190080}for(var M=A;M<x;M++){var d=f[M];P[M]=d>>0&255;p[M]=d>>8&255;
v[M]=d>>16&255;g[M]=d>>24&255}};Z.bF=function(e,j,g){var P=new Uint8Array(e.buffer),p=Math.min(P.length/4,j.length);
for(var v=0;v<p;v++){j[v]=P[(v<<2)+g]}};Z.sH=function(e,j,g){var P=new Uint8Array(j.buffer),p=new Uint32Array(e.buffer),v=Math.min(P.length/4,e.length),x=0;
while(x+4<v){var A=p[x>>>2];P[(x<<2)+g]=A&255;P[(x<<2)+g+4]=A>>>8&255;P[(x<<2)+g+8]=A>>>16&255;P[(x<<2)+g+12]=A>>>24;
x+=4}while(x<v){P[(x<<2)+g]=e[x];x++}};Z.clone=function(e){return e.slice(0)};Z.qp=function(e,j){Z.set(e.Fl,j);
Z.set(e.k,j);Z.set(e.z,j);Z.set(e.e,j)};Z.set=function(e,j){j=Math.round(j);var g=j<<24|j<<16|j<<8|j,P=new Uint32Array(e.buffer),p=P.length;
for(var v=0;v<p;v++)P[v]=g};Z.XC=function(e,j,g){if(g==null)g=0;var P=new Uint32Array(e.buffer),p=P.length;
for(var v=0;v<p;v++)P[v]=P[v]&g|j};Z.ZCL=function(e,j,g,P,p){if(p==null)p=0;var v=new Uint32Array(e.buffer);
g=g.zx(j);var x=g.x-j.x,A=g.y-j.y,f=g.W,S=g.j,F=j.W;for(var m=0;m<S;m++){var R=(A+m)*F+x;for(var M=0;
M<f;M++){v[R]=v[R]&p|P;R++}}};Z.ZdD=function(e,j){Z.Ue(e.Fl,j.Fl);Z.Ue(e.k,j.k);Z.Ue(e.z,j.z);Z.Ue(e.e,j.e)};
Z.Ue=function(e,j){var g=Math.min(e.buffer.byteLength,j.buffer.byteLength),P=g>>>2,e=new Uint32Array(e.buffer,0,P),j=new Uint32Array(j.buffer,0,P);
j.set(e)};Z.ZdL=function(e,j){return Z.iJ(e.Fl,j.Fl)&&Z.iJ(e.k,j.k)&&Z.iJ(e.z,j.z)&&Z.iJ(e.e,j.e)};Z.iJ=function(e,j){var g=e.buffer.byteLength,P=j.buffer.byteLength,p=new Uint32Array(e.buffer,0,g>>2),v=new Uint32Array(j.buffer,0,P>>2);
if(g!=P)return!1;var x=p.length;for(var A=0;A<x;A++)if(v[A]!=p[A])return!1;return!0};Z.OF=function(e){var j=new Uint32Array(e.buffer),g=j.length;
for(var P=0;P<g;P++)j[P]=~j[P]};Z.ZdI=function(e){var j=e.length;for(var g=3;g<j;g+=4)e[g]=~e[g]};Z.ZCT=function(e){return e+(e%4==0?0:4-e%4)};
Z.V=function(e,j){if(j==null)j=!1;if(!j)e=Z.ZCT(e);try{var g=new Uint8Array(e)}catch(Z){alert("Not enough RAM! (need "+Math.round(e/(1<<20))+" MB)",7e3);
throw"low_ram"}return g};Z.ZG=function(e){var j=e.length,g=e[j-2],P=e[j-1];while(P.W>=2&&P.j>=2){var p=Z.qA(g,P);
e.push(p.C$,p.rect);g=p.C$;P=p.rect}};Z.ZCM=function(e){var j=e.length,g=e[j-2],P=e[j-1];while(P.W>=2&&P.j>=2){var p=Z.Qb(g,P);
e.push(p.C$,p.rect);g=p.C$;P=p.rect}};Z.qA=function(e,j,g){var P=j.W,p=j.j,v=P>>1,x=p>>1,A=new G(j.x,j.y,v,x),f=g&&g.length==v*x*4?g:Z.V(v*x*4),S=new Uint32Array(e.buffer),F=new Uint32Array(f.buffer);
for(var m=0;m<x;m++)for(var R=0;R<v;R++){var M=m*v+R,b=(m<<1)*P+(R<<1),s=S[b],K=S[b+1],X=S[b+P],d=S[b+P+1],W=s>>>24,O=K>>>24,H=X>>>24,Y=d>>>24,y=W+O+H+Y;
if(y==1020){var B=(s>>>0&255)+(K>>>0&255)+(X>>>0&255)+(d>>>0&255)+2>>>2,c=(s>>>8&255)+(K>>>8&255)+(X>>>8&255)+(d>>>8&255)+2>>>2,$=(s>>>16&255)+(K>>>16&255)+(X>>>16&255)+(d>>>16&255)+2>>>2;
F[M]=255<<24|$<<16|c<<8|B}else if(y==0)F[M]=0;else{var B=(s>>>0&255)*W+(K>>>0&255)*O+(X>>>0&255)*H+(d>>>0&255)*Y,c=(s>>>8&255)*W+(K>>>8&255)*O+(X>>>8&255)*H+(d>>>8&255)*Y,$=(s>>>16&255)*W+(K>>>16&255)*O+(X>>>16&255)*H+(d>>>16&255)*Y,I=1/y;
B=~~(B*I+.5);c=~~(c*I+.5);$=~~($*I+.5);F[M]=y+2>>>2<<24|$<<16|c<<8|B}}return{rect:A,C$:f}};Z.Qo=function(e,j,g){var P=j.W,p=j.j,v=P>>1,x=p>>1,A=new G(j.x,j.y,v,x),f=g&&g.length==v*x*4?g:Z.V(v*x*4),S=new Uint32Array(e.buffer),F=new Uint32Array(f.buffer);
for(var m=0;m<x;m++)for(var R=0;R<v;R++){var M=m*v+R,b=(m<<1)*P+(R<<1),s=S[b],K=S[b+1],X=S[b+P],d=S[b+P+1],W=2+(s>>>0&255)+(K>>>0&255)+(X>>>0&255)+(d>>>0&255)>>>2,O=2+(s>>>8&255)+(K>>>8&255)+(X>>>8&255)+(d>>>8&255)>>>2,H=2+(s>>>16&255)+(K>>>16&255)+(X>>>16&255)+(d>>>16&255)>>>2;
F[M]=4278190080|H<<16|O<<8|W}return{rect:A,C$:f}};Z.ZC_=function(e,j,g){var P=j.W,p=j.j,v=2*Math.floor(P/3),x=2*Math.floor(p/3),A=new G(j.x,j.y,v,x),f=g&&g.length==v*x*4?g:Z.V(v*x*4),S=new Uint32Array(e.buffer),F=new Uint32Array(f.buffer);
for(var m=0;m<x;m+=2)for(var R=0;R<v;R+=2){var M=m*v+R,b=(m*3>>>1)*P+(R*3>>>1),s=S[b],K=S[b+1],X=S[b+2],d=S[b+P],W=S[b+1+P],O=S[b+2+P],H=S[b+P+P],Y=S[b+1+P+P],y=S[b+2+P+P],B=s>>>24<<2,c=(s>>>16&255)*B,$=(s>>>8&255)*B,I=(s&255)*B,r=K>>>24<<1,i=(K>>>16&255)*r,U=(K>>>8&255)*r,N=(K&255)*r,C=X>>>24<<2,D=(X>>>16&255)*C,n=(X>>>8&255)*C,w=(X&255)*C,k=d>>>24<<1,h=(d>>>16&255)*k,t=(d>>>8&255)*k,a=(d&255)*k,_=W>>>24,E=(W>>>16&255)*_,WW=(W>>>8&255)*_,Wx=(W&255)*_,WU=O>>>24<<1,We=(O>>>16&255)*WU,Wv=(O>>>8&255)*WU,L=(O&255)*WU,J=H>>>24<<2,WZ=(H>>>16&255)*J,WJ=(H>>>8&255)*J,Wu=(H&255)*J,WC=Y>>>24<<1,Wn=(Y>>>16&255)*WC,WB=(Y>>>8&255)*WC,Wt=(Y&255)*WC,Wy=y>>>24<<2,Wz=(y>>>16&255)*Wy,WG=(y>>>8&255)*Wy,Wq=(y&255)*Wy,Wa=B+r+k+_,WK=C+r+WU+_,Wd=J+WC+k+_,WD=Wy+WC+WU+_,W$=Wa==0?0:1/Wa,Zg=WK==0?0:1/WK,WL=Wd==0?0:1/Wd,WY=WD==0?0:1/WD,WA=0,Wb=0,WX=0,fI=0;
WA=~~(.5+(I+N+a+Wx)*W$);Wb=~~(.5+($+U+t+WW)*W$);WX=~~(.5+(c+i+h+E)*W$);fI=~~(.5+Wa*(1/9));F[M]=fI<<24|WX<<16|Wb<<8|WA;
WA=~~(.5+(w+N+L+Wx)*Zg);Wb=~~(.5+(n+U+Wv+WW)*Zg);WX=~~(.5+(D+i+We+E)*Zg);fI=~~(.5+WK*(1/9));F[M+1]=fI<<24|WX<<16|Wb<<8|WA;
WA=~~(.5+(Wu+Wt+a+Wx)*WL);Wb=~~(.5+(WJ+WB+t+WW)*WL);WX=~~(.5+(WZ+Wn+h+E)*WL);fI=~~(.5+Wd*(1/9));F[M+v]=fI<<24|WX<<16|Wb<<8|WA;
WA=~~(.5+(Wq+Wt+L+Wx)*WY);Wb=~~(.5+(WG+WB+Wv+WW)*WY);WX=~~(.5+(Wz+Wn+We+E)*WY);fI=~~(.5+WD*(1/9));F[M+v+1]=fI<<24|WX<<16|Wb<<8|WA}return{rect:A,C$:f}};
Z.ZCm=function(e,j,g){var P=j.W,p=j.j,v=2*Math.floor(P/3),x=2*Math.floor(p/3),A=new G(j.x,j.y,v,x),f=g&&g.length==v*x*4?g:Z.V(v*x*4),S=new Uint32Array(e.buffer),F=new Uint32Array(f.buffer);
for(var m=0;m<x;m+=2)for(var R=0;R<v;R+=2){var M=m*v+R,b=(m*3>>>1)*P+(R*3>>>1),s=S[b],K=S[b+1],X=S[b+2],d=S[b+P],W=S[b+1+P],O=S[b+2+P],H=S[b+P+P],Y=S[b+1+P+P],y=S[b+2+P+P],B=(s>>>16&255)<<2,c=(s>>>8&255)<<2,$=(s&255)<<2,I=(K>>>16&255)<<1,r=(K>>>8&255)<<1,i=(K&255)<<1,U=(X>>>16&255)<<2,N=(X>>>8&255)<<2,C=(X&255)<<2,D=(d>>>16&255)<<1,n=(d>>>8&255)<<1,w=(d&255)<<1,k=W>>>16&255,h=W>>>8&255,t=W&255,a=(O>>>16&255)<<1,_=(O>>>8&255)<<1,E=(O&255)<<1,WW=(H>>>16&255)<<2,Wx=(H>>>8&255)<<2,WU=(H&255)<<2,We=(Y>>>16&255)<<1,Wv=(Y>>>8&255)<<1,L=(Y&255)<<1,J=(y>>>16&255)<<2,WZ=(y>>>8&255)<<2,WJ=(y&255)<<2,Wu=0,WC=0,Wn=0;
Wu=~~(.5+($+i+w+t)*(1/9));WC=~~(.5+(c+r+n+h)*(1/9));Wn=~~(.5+(B+I+D+k)*(1/9));F[M]=255<<24|Wn<<16|WC<<8|Wu;
Wu=~~(.5+(C+i+E+t)*(1/9));WC=~~(.5+(N+r+_+h)*(1/9));Wn=~~(.5+(U+I+a+k)*(1/9));F[M+1]=255<<24|Wn<<16|WC<<8|Wu;
Wu=~~(.5+(WU+L+w+t)*(1/9));WC=~~(.5+(Wx+Wv+n+h)*(1/9));Wn=~~(.5+(WW+We+D+k)*(1/9));F[M+v]=255<<24|Wn<<16|WC<<8|Wu;
Wu=~~(.5+(WJ+L+E+t)*(1/9));WC=~~(.5+(WZ+Wv+_+h)*(1/9));Wn=~~(.5+(J+We+a+k)*(1/9));F[M+v+1]=255<<24|Wn<<16|WC<<8|Wu}return{rect:A,C$:f}};
Z.HE=function(e){var j=255,g=e.length;g-=g&31;for(var P=3;P<g;P+=32)j=j&e[P]&e[P+4]&e[P+8]&e[P+12]&e[P+16]&e[P+20]&e[P+24]&e[P+28];
return j!=255};Z.ub=function(e,j,g,P){var p=Z.qA,v=Z.ZC_,A=0;if(!Z.HE(e)){p=Z.Qo;v=Z.ZCm}var x={C$:e,rect:j},f=g;
while(f<.499){A++;f*=2}for(var S=0;S<A;S++)x=p(x.C$,x.rect,P);if(f<.5001)x=p(x.C$,x.rect,P);else x=v(x.C$,x.rect,P);
return x};Z.Qh=function(e,j,g,P){var p=Z.Qb,v=Z.ZCQ,x={C$:e,rect:j},A=0,f=g;while(f<.499){A++;f*=2}for(var S=0;
S<A;S++)x=p(x.C$,x.rect,P);if(f<.5001)x=p(x.C$,x.rect,P);else x=v(x.C$,x.rect,P);return x};Z.Qb=function(e,j,g){var P=j.W,p=j.j,v=P>>1,x=p>>1,A=new G(j.x,j.y,v,x);
if(e==null)return{rect:A};var f=g&&g.length>=v*x?g:Z.V(v*x);for(var S=0;S<x;S++){var F=S*v;for(var m=0;
m<v;m++){var R=(S<<1)*P+(m<<1);f[F+m]=2+e[R]+e[R+1]+e[R+P]+e[R+P+1]>>>2}}return{rect:A,C$:f}};Z.ZCQ=function(e,j,g){var P=j.W,p=j.j,v=2*Math.floor(P/3),x=2*Math.floor(p/3),A=new G(j.x,j.y,v,x);
if(e==null)return{rect:A};var f=g&&g.length>=v*x?g:Z.V(v*x);for(var S=0;S<x;S+=2)for(var F=0;F<v;F+=2){var m=S*v+F,R=(S*3>>>1)*P+(F*3>>>1),M=e[R]<<2,b=e[R+1]<<1,s=e[R+2]<<2,K=e[R+P]<<1,X=e[R+1+P],d=e[R+2+P]<<1,W=e[R+P+P]<<2,O=e[R+1+P+P]<<1,H=e[R+2+P+P]<<2;
f[m]=~~(.5+(M+b+K+X)*(1/9));f[m+1]=~~(.5+(s+b+d+X)*(1/9));f[m+v]=~~(.5+(W+O+K+X)*(1/9));f[m+v+1]=~~(.5+(H+O+d+X)*(1/9))}return{rect:A,C$:f}};
Z.Oo=function(e,j,g,P,p){var v=j.zx(P);if(p)v=v.zx(p);var x=Math.max(0,v.x-j.x),A=Math.max(0,v.x-P.x),f=Math.max(0,v.y-j.y),S=Math.max(0,v.y-P.y),F=v.W,m=v.j;
for(var R=0;R<m;R++){var M=(f+R)*j.W+x,b=(S+R)*P.W+A;for(var s=0;s<F;s++){g[b+s]=e[M+s]}}};Z.Ql=function(e,j,g,P){if(j.iJ(P)){Z.sH(e,g,3);
return}var p=j.zx(P),v=Math.max(0,p.x-j.x),x=Math.max(0,p.x-P.x),A=Math.max(0,p.y-j.y),f=Math.max(0,p.y-P.y),S=p.W,F=p.j;
for(var m=0;m<F;m++){var R=(A+m)*j.W+v,M=(f+m)*P.W+x;for(var b=0;b<S;b++)g[(M+b<<2)+3]=e[R+b]}};Z.uw=function(e,j,g,P){var p=j.zx(P),v=Math.max(0,p.x-j.x),x=Math.max(0,p.x-P.x),A=Math.max(0,p.y-j.y),f=Math.max(0,p.y-P.y),S=p.W,F=p.j;
for(var m=0;m<F;m++){var R=(A+m)*j.W+v,M=(f+m)*P.W+x;for(var b=0;b<S;b++)g[M+b]=e[(R+b<<2)+3]}};Z.ZdO=function(e,j,g,P){var p=j.zx(P),v=Math.max(0,p.x-j.x),x=Math.max(0,p.x-P.x),A=Math.max(0,p.y-j.y),f=Math.max(0,p.y-P.y),S=p.W,F=p.j;
for(var m=0;m<F;m++){var R=(A+m)*j.W+v,M=(f+m)*P.W+x;for(var b=0;b<S;b++)g[M++]=e[R++]}};Z.Vy=function(e,j,g,P,p){if(j.iJ(P)&&(p==null||p.iJ(P))){Z.Ue(e,g);
return}e=new Uint32Array(e.buffer),g=new Uint32Array(g.buffer);var v=j.zx(P);if(p)v=v.zx(p);var x=Math.max(0,v.x-j.x),A=Math.max(0,v.x-P.x),f=Math.max(0,v.y-j.y),S=Math.max(0,v.y-P.y),F=v.W,m=v.j,R=F&3,M=R==0?F:F-R;
for(var b=0;b<m;b++){var s=(f+b)*j.W+x,K=(S+b)*P.W+A,X=0;while(X<M){g[K+X]=e[s+X];g[K+X+1]=e[s+X+1];
g[K+X+2]=e[s+X+2];g[K+X+3]=e[s+X+3];X+=4}if(R==1){g[K+X]=e[s+X]}else if(R==2){g[K+X]=e[s+X];g[K+X+1]=e[s+X+1]}else if(R==3){g[K+X]=e[s+X];
g[K+X+1]=e[s+X+1];g[K+X+2]=e[s+X+2]}}};Z.ul=function(e,j,g,P){var p=j.zx(P),v=Math.max(0,p.x-j.x),x=Math.max(0,p.x-P.x),A=Math.max(0,p.y-j.y),f=Math.max(0,p.y-P.y),S=p.W,F=p.j,m=e.Fl,R=e.k,M=e.z,b=e.e,s=g.Fl,K=g.k,X=g.z,d=g.e;
for(var W=0;W<F;W++){var O=(A+W)*j.W+v,H=(f+W)*P.W+x;for(var Y=0;Y<S;Y++){s[H+Y]=m[O+Y];K[H+Y]=R[O+Y];
X[H+Y]=M[O+Y];d[H+Y]=b[O+Y]}}};Z.Zp=function(e){var j=e.length;for(var g=0;g<j;g+=4){var P=e[g+3];e[g]=~~(e[g]*P*(1/255)+.5);
e[g+1]=~~(e[g+1]*P*(1/255)+.5);e[g+2]=~~(e[g+2]*P*(1/255)+.5)}};Z.ZA=function(e){var j=e.length;for(var g=0;
g<j;g+=4){var P=e[g+3];if(P==0||P==255)continue;var p=255/P;e[g]=~~(e[g]*p+.5);e[g+1]=~~(e[g+1]*p+.5);
e[g+2]=~~(e[g+2]*p+.5)}};Z.Zdp=function(){var e=new Uint8Array(256*256);for(var j=0;j<256;j++)for(var g=0;
g<256;g++)e[g*256+j]=Math.round(255*j/g);return e}();Z.HI=function(e,j){for(var g=0;g<e.length;g++)if(e[g]!=j)return!1;
return!0};Z.YH=function(e){return e+1+(e>>>8)>>>8};Z.round=function(e,j){if(j==null)j=128;var g=e.length;
for(var P=0;P<g;P++)e[P]=e[P]<j?0:255};Z.se=function(e,j){var g=e.length;for(var P=0;P<g;P++)e[P]=Math.round(e[P]*j)};
Z.ZdA=function(e,j){var g=e.length;for(var P=0;P<g;P+=4)e[P+3]=Math.round(e[P+3]*j)};Z.sN=function(e,j){var g=new Uint32Array(e.buffer),P=new Uint32Array(j.buffer),p=g.length;
for(var v=0;v<p;v++){var x=g[v],A=P[v];P[v]=Z.YH((x>>>24)*(A>>>24))<<24|Z.YH((x>>>16&255)*(A>>>16&255))<<16|Z.YH((x>>>8&255)*(A>>>8&255))<<8|Z.YH((x&255)*(A&255))}};
Z.Q_=function(e,j){var g=e.length;for(var P=0;P<g;P++)j[(P<<2)+3]=Z.YH(j[(P<<2)+3]*e[P])};Z.ZgU=function(e,j,g,P){var p=Math.max(0,P.x-j.x),v=Math.max(0,j.x-P.x),x=Math.max(0,P.y-j.y),A=Math.max(0,j.y-P.y),f=Math.min(j.x+j.W,P.x+P.W)-Math.max(j.x,P.x),S=Math.min(j.y+j.j,P.y+P.j)-Math.max(j.y,P.y);
for(var F=0;F<S;F++){var m=(x+F)*j.W+p,R=(A+F)*P.W+v;for(var M=0;M<f;M++){g[R]=Z.YH(g[R]*e[m]);m++;R++}}};
Z.yF=function(e,j,g,P){var p=Math.max(0,P.x-j.x),v=Math.max(0,j.x-P.x),x=Math.max(0,P.y-j.y),A=Math.max(0,j.y-P.y),f=Math.min(j.x+j.W,P.x+P.W)-Math.max(j.x,P.x),S=Math.min(j.y+j.j,P.y+P.j)-Math.max(j.y,P.y);
for(var F=0;F<S;F++){var m=(x+F)*j.W+p,R=((A+F)*P.W+v<<2)+3;for(var M=0;M<f;M++){g[R]=Z.YH(g[R]*e[m]);
m++;R+=4}}};Z.u_=function(e,j,g,P){var p=Math.max(0,P.x-j.x),v=Math.max(0,j.x-P.x),x=Math.max(0,P.y-j.y),A=Math.max(0,j.y-P.y),f=Math.min(j.x+j.W,P.x+P.W)-Math.max(j.x,P.x),S=Math.min(j.y+j.j,P.y+P.j)-Math.max(j.y,P.y);
for(var F=0;F<S;F++){var m=((x+F)*j.W+p<<2)+3,R=((A+F)*P.W+v<<2)+3;for(var M=0;M<f;M++){g[R]=Z.YH(g[R]*e[m]);
m+=4;R+=4}}};Z.ZBJ=function(e,j,g,P){var p=1/255,v=Math.max(0,P.x-j.x),x=Math.max(0,j.x-P.x),A=Math.max(0,P.y-j.y),f=Math.max(0,j.y-P.y),S=Math.min(j.x+j.W,P.x+P.W)-Math.max(j.x,P.x),F=Math.min(j.y+j.j,P.y+P.j)-Math.max(j.y,P.y);
for(var m=0;m<F;m++){var R=(A+m)*j.W+v,M=(f+m)*P.W+x;for(var b=0;b<S;b++){g[M]=p*g[M]*(255-e[R]);R++;
M++}}};Z.ZBn=function(e,j){var g=[];for(var P=0;P<256;P++)g.push(0);var p=e.length,v=1/255;for(var P=0;
P<p;P++)g[e[P]]+=j[P]*v;return g};Z.LO=function(e){var j=new Float64Array(256),g=new Float64Array(256),P=new Float64Array(256),p=new Float64Array(256),v=e.length;
for(var x=0;x<v;x+=4){var A=e[x+3]*(1/255);g[e[x+0]]+=A;P[e[x+1]]+=A;p[e[x+2]]+=A}for(var x=0;x<256;
x++)j[x]=g[x]+P[x]+p[x];return[j,g,P,p,v>>>2]};Z.Qm=function(e,j){var g=new Uint32Array(e.buffer),P=g.length;
for(var p=0;p<P;p++){var v=g[p],x=v&255,A=v>>8&255,f=v>>16&255,S=v>>24&255;g[p]=j[x]|j[A]<<8|j[f]<<16|j[S]<<24}};
Z.Zgq=function(e,j,g,P,p,v,x){var A=new Uint32Array(e.buffer),f=new Uint32Array(j.buffer),S=A.length,F=0;
while(256<<F<g.length)F++;if(!x&&!v){for(var m=0;m!=S;m++){var R=A[m],M=(R&255)<<F,b=(R>>>8&255)<<F,s=(R>>>16&255)<<F,K=g[M],X=P[b],d=p[s];
f[m]=K|X<<8|d<<16|R&4278190080}return}for(var m=0;m<S;m++){var R=A[m],M=(R&255)<<F,b=(R>>>8&255)<<F,s=(R>>>16&255)<<F;
if(v)M=b=s=Math.round(M*.3+b*.59+s*.11);var K=g[M],X=P[b],d=p[s];if(x){var W=Z.LL(M,b,s),O=Z.LL(K,X,d);
if(W>O){var H=(W-O)/(255-O);K+=H*(255-K);X+=H*(255-X);d+=H*(255-d)}else if(O==0)K=X=d=0;else{var H=W/O;
K=H*K;X=H*X;d=H*d}}f[m]=K|X<<8|d<<16|R&4278190080}};Z.ZBB=function(e){var j=new Uint32Array(256),P=0;
for(var g=0;g<e.length;g++)j[e[g]]++;for(var g=0;g<256;g++)if(j[g]>j[P])P=g;return P};Z.Ms=function(e,j){var g=j.W,P=j.j,top=0,p=0,v=0,x=0,A=0;
A=0;for(var f=0;f<P;f++){var S=f*g;for(var F=0;F<g;F++)A|=e[S+F];if(A!=0)break;top++}if(top==P)return new G(0,0,0,0);
A=0;for(var f=P-1;f>=0;f--){var S=f*g;for(var F=0;F<g;F++)A|=e[S+F];if(A!=0)break;v++}var m=P-v;A=0;
for(var F=0;F<g;F++){for(var f=top;f<m;f++)A|=e[f*g+F];if(A!=0)break;p++}A=0;for(var F=g-1;F>=0;F--){for(var f=top;
f<m;f++)A|=e[f*g+F];if(A!=0)break;x++}var R=new G(j.x+p,j.y+top,g-p-x,P-top-v);return R};Z.sq=function(e,j,g,P){if(P==null)P=[!0,!0,!0,!0];
if(g==null)g=0;var p=new Uint32Array(e.buffer),v=j.W,x=j.j,top=0,A=0,f=0,S=0,F=!1,m=[p[0],p[p.length-1],0][g];
F=!1;if(P[0])for(var R=0;R<x;R++){var M=R*v;for(var b=0;b<v;b++)if(p[M+b]!=m)F=!0;if(F)break;top++}F=!1;
if(P[2])for(var R=x-1;R>=0;R--){var M=R*v;for(var b=0;b<v;b++)if(p[M+b]!=m)F=!0;if(F)break;f++}F=!1;
if(P[1])for(var b=0;b<v;b++){for(var R=0;R<x;R++)if(p[R*v+b]!=m)F=!0;if(F)break;A++}F=!1;if(P[3])for(var b=v-1;
b>=0;b--){for(var R=0;R<x;R++)if(p[R*v+b]!=m)F=!0;if(F)break;S++}var s=new G(j.x+A,j.y+top,v-A-S,x-top-f);
return s.tE()?new G(0,0,0,0):s};Z.ZBy=function(e){var j=255,g=e.length;for(var P=3;P<g;P+=4)j=j&e[P];
return j};Z.Co=function(e){var j=Z.Ms(e.channel,e.rect);if(j.iJ(e.rect))return;var g=Z.V(j.h());Z.Oo(e.channel,e.rect,g,j);
e.channel=g;e.rect=j};Z.sL=function(e){var j=Z.V(e.buffer.length>>2);Z.bF(e.buffer,j,3);var g=Z.Ms(j,e.rect);
if(g.iJ(e.rect))return;var P=new Z.V(g.h()*4);Z.Vy(e.buffer,e.rect,P,g);e.buffer=P;e.rect=g};Z.extend=function(e,j,g){if(e.rect.pY(j))return;
var P=e.rect.Gd(j),p=Z.V(P.h());if(g!=null)Z.set(p,g);Z.Oo(e.channel,e.rect,p,P);e.rect=P;e.channel=p};
Z.ZgT=function(e,j){if(j.tE()||e.rect.pY(j))return;var g=e.rect.Gd(j),P=Z.V(g.h()*4);Z.Vy(e.buffer,e.rect,P,g);
e.rect=g;e.buffer=P};Z.ZBT=function(e,j,g){var P=j.clone(),p=g.h(),v=e.Gd(P);while(v.h()/e.h()<2&&v.h()<p){P.F_(16,16);
v=v.Gd(P).zx(g)}if(p/v.h()<2)v=g.clone();return v};Z.Qc=function(e){var j=e.length;for(var g=0;g<j;g+=4){var P=e[g+3];
if(e[g]>P)e[g]=P;if(e[g+1]>P)e[g+1]=P;if(e[g+2]>P)e[g+2]=P}};Z.hE=function(e,j,g){if(!g.uC(e))return!1;
var P=Math.floor(e.x)-g.x,p=Math.floor(e.y)-g.y,v=p*g.W+P;return j[v]>128};Z.Zne=function(e,j,g){if(!g.uC(e))return!1;
var P=Math.floor(e.x)-g.x,p=Math.floor(e.y)-g.y,v=p*g.W+P;return j[4*v+3]>128};Z.um=function(e){if(Z.sS.length<e){Z.sS=Z.V(e);
Z.set(Z.sS,255)}return Z.sS};Z.sS=Z.V(0);Z.vK=function(e){if(Z.uQ.length<e)Z.uQ=Z.V(e);return Z.uQ};
Z.uQ=Z.V(0);Z.il=function(e){this.Fl=Z.V(e);this.k=Z.V(e);this.z=Z.V(e);this.e=Z.V(e)};Z.il.prototype.clone=function(){var e=this.Fl.length,j=new Z.il(1);
j.Fl=Z.clone(this.Fl);j.k=Z.clone(this.k);j.z=Z.clone(this.z);j.e=Z.clone(this.e);return j};Z.cf={ZnV:function(e,j){var g=e.length;
e.push(j);var P=g>>>1;while(P!=0&&e[g][0]<e[P][0]){var p=e[g];e[g]=e[P];e[P]=p;g=P;P=g>>>1}},Zny:function(e){if(e.length==2)return e.pop();
var top=e[1],j=1;e[1]=e.pop();var g=e.length;while(!0){var P=j<<1,p=P+1,v=j;if(P<g&&e[P][0]<e[v][0])v=P;
if(p<g&&e[p][0]<e[v][0])v=p;if(v==j)break;var x=e[j];e[j]=e[v];e[v]=x;j=v}return top},ZBG:function(e){for(var j=1;
j<e.length;j++){var g=j,P=1e9;while(g!=0){var p=e[g][0];if(p>P){console.log(j);throw"e"}P=p;g=g>>>1}}}};
Z.Y={};Z.Y.sj=new Float64Array(256);Z.Y.R$=new Uint8Array(256*256);Z.Y.Cr=new Uint8Array(256*256);(function(){for(var e=0;
e<256;e++)Z.Y.sj[e]=255/e;for(var e=0;e<256;e++)for(var j=0;j<256;j++)Z.Y.R$[e*256+j]=e==0?0:Math.round(j*255/e);
for(var e=0;e<256;e++)for(var j=0;j<256;j++)Z.Y.Cr[e*256+j]=Math.round(e*(255-j)/255)}());Z.Y.$Q=function(e,j,g,P,p,v,x,A){if(A==null)A=Wi.$a();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(e)==-1){x=x*A.fill;A.fill=1;A.style=!1}var f="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),S="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),F=Z.Y[e+"F"];
if(A.su==null&&e=="norm")Z.Y.Zdn(j,g,P,p,v,x,F,A.sV?1:0);else if(e=="diss")Z.Y.Zdo(j,g,P,p,v,x,F,A.sV?1:0);
else if(f.indexOf(e)!=-1)Z.Y.Zd$(j,g,P,p,v,x,F,A);else if(S.indexOf(e)!=-1)Z.Y.ZdX(j,g,P,p,v,x,F,A)};
Z.Y.Znc=function(e,j,g){var P=e*g+1-g;return P<.001?0:1-Math.min(1,(1-j)/P)};Z.Y.Zdr=function(e,j,g){return e*g==1?1:Math.min(1,j/(1-e*g))};
Z.Y.LR=function(e){return e<=.25?((16*e-12)*e+4)*e:Math.sqrt(e)};Z.Y.normF=function(e,j,g){return e};
Z.Y.darkF=function(e,j,g){return Math.min(e,j)};Z.Y["mul F"]=function(e,j,g){return e*j};Z.Y.idivF=function(e,j,g){var P=e*g+1-g;
return j==1?1:1-j>=P?0:1-(1-j)/P};Z.Y.lbrnF=function(e,j,g){return Math.max(0,e*g+j-g)};Z.Y.dkClF=function(e,j,g){var P=Z.CB(e)<Z.CB(j)?e:j;
g.k=P.k;g.z=P.z;g.e=P.e;return g};Z.Y.liteF=function(e,j,g){return Math.max(e,j)};Z.Y.scrnF=function(e,j,g){return j+e-j*e};
Z.Y["div F"]=function(e,j,g){e*=g;return j==0?0:j>=1-e?1:j/(1-e)};Z.Y.lddgF=function(e,j,g){e*=g;return Math.min(1,e+j)};
Z.Y.lgClF=function(e,j,g){var P=Z.CB(e)>Z.CB(j)?e:j;g.k=P.k;g.z=P.z;g.e=P.e;return g};Z.Y.overF=function(e,j,g){return Z.Y.hLitF(j,e,g)};
Z.Y.sLitF=function(e,j,g){return e<=.5?j-(1-2*e)*j*(1-j):j+(2*e-1)*(Z.Y.LR(j)-j)};Z.Y.hLitF=function(e,j,g){return e<=.5?Z.Y["mul F"](2*e,j,g):Z.Y.scrnF(2*e-1,j,g)};
Z.Y.vLitF=function(e,j,g){return e<=.5?Z.Y.Znc(2*e,j,g):Z.Y.Zdr(2*e-1,j,g)};Z.Y.lLitF=function(e,j,g){return e<=.5?Z.Y.lbrnF(2*e,j,g):Z.Y.lddgF(2*e-1,j,g)};
Z.Y.pLitF=function(e,j,g){return e<=.5?Z.Y.darkF(2*e,j,g):Z.Y.liteF(2*e-1,j,g)};Z.Y.hMixF=function(e,j,g){if(g>.99)return e+j<1?0:1;
return Math.min(1,Math.max(0,(j+e*g-g)/(1-g+1e-6)))};Z.Y.diffF=function(e,j,g){e*=g;return Math.abs(e-j)};
Z.Y.smudF=function(e,j,g){return e+j-2*e*j};Z.Y.fsubF=function(e,j,g){return Math.max(j-e,0)};Z.Y.fdivF=function(e,j,g){return Math.min(j/e,1)};
Z.Y["hue F"]=function(e,j,g){Z.HG(e,Z.Ht(j),g);Z.qq(g,Z.CB(j),g)};Z.Y["sat F"]=function(e,j,g){Z.HG(j,Z.Ht(e),g);
Z.qq(g,Z.CB(j),g)};Z.Y.colrF=function(e,j,g){Z.qq(e,Z.CB(j),g)};Z.Y["lum F"]=function(e,j,g){Z.qq(j,Z.CB(e),g)};
Z.Y.Zdn=function(e,j,g,P,p,v,x,A){var f=j.zx(P).zx(p),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j,s=j.W,K=P.W,X=Z.Y.R$,d=Z.Y.Cr,W=new Uint32Array(e.buffer),O=new Uint32Array(g.buffer);
for(var H=0;H<b;H++){var Y=(m+H)*s+S,y=(R+H)*K+F;for(var B=0;B<M;B++){var c=W[Y+B],r=255;if(c>>>24==0)continue;
if(c>>>24==255&&v==1&&A==0){O[y+B]=W[Y+B];continue}var $=O[y+B],I=255*v&255;if(A==0){I=(c>>>24)*v&255;
r=$>>>24}var i=d[r<<8|I],U=I+i,N=c&255,C=c>>>8&255,D=c>>>16&255,n=$&255,w=$>>>8&255,k=$>>>16&255;O[y+B]=A*($>>>24)+(1-A)*U<<24|X[U<<8|Z.YH(D*I+k*i)]<<16|X[U<<8|Z.YH(C*I+w*i)]<<8|X[U<<8|Z.YH(N*I+n*i)]}}};
Z.Y.Zdd=function(e,j,g,P,p,v){var x=j.zx(P).zx(p),A=Math.max(0,x.x-j.x),f=Math.max(0,x.x-P.x),S=Math.max(0,x.y-j.y),F=Math.max(0,x.y-P.y),m=x.W,R=x.j,M=j.W,b=P.W,s=Z.Y.R$,K=Z.Y.Cr,X=new Uint32Array(e.buffer),d=new Uint32Array(g.buffer),W=Math.floor(Math.random()*16777215),O=0;
for(var H=0;H<R;H++){var Y=(S+H)*M+A,y=(F+H)*b+f;for(var B=0;B<m;B++){var c=X[Y+B];if(c>>>24==0)continue;
if(c>>24==255&&v==1){d[y+B]=c;continue}var $=d[y+B],I=(c>>>24)*v*(1/255),r=($>>>24)*(1/255),i=r*(1-I),U=I+i,N=c&255,C=c>>>8&255,D=c>>>16&255,n=$&255,w=$>>>8&255,k=$>>>16&255;
O>>>=8;if((B&3)==0)O=Z.Y.yo(y+B+W);var h=U==0?0:1/U,t=Math.floor(U*(256*255))+(O&255)>>>8,a=Math.floor((D*I+k*i)*h+.5),_=Math.floor((C*I+w*i)*h+.5),E=Math.floor((N*I+n*i)*h+.5);
d[y+B]=t<<24|a<<16|_<<8|E}}};Z.Y.sX=function(e,j,g,P,p,v,x,A){var f=Z.LL(e,j,g),S=Z.LL(P,p,v),F=Math.min,m=Z.Y.ZdK,R=m(f,A,0);
R=F(R,m(e,A,8));R=F(R,m(j,A,16));R=F(R,m(g,A,24));var M=m(S,A,4);M=F(M,m(P,A,12));M=F(M,m(p,A,20));M=F(M,m(v,A,28));
M=Math.max(M,1-x);var b=Math.min(R,M);return b<0?0:b>1?1:b};Z.Y.ZdK=function(e,j,g){return Math.min((e-j[g])*j[g+1],(e-j[g+3])*j[g+2])};
Z.Y.Zd$=function(e,j,g,P,p,v,x,A){var f=1/255,S=f*v,F=A.sV?1:0,m=A.fill,R=A.style,M=j.zx(P).zx(p),b=Math.max(0,M.x-j.x),s=Math.max(0,M.x-P.x),K=Math.max(0,M.y-j.y),X=Math.max(0,M.y-P.y),d=M.W,W=M.j,O=j.W,H=P.W,Y=new Uint32Array(e.buffer),y=new Uint32Array(g.buffer);
for(var B=0;B<W;B++){var c=(K+B)*O+b,$=(X+B)*H+s;for(var I=0;I<d;I++,c++,$++){var r=Y[c],h=1;if(r>>>24==0)continue;
var i=y[$],U=(r&255)*f,N=(r>>>8&255)*f,C=(r>>>16&255)*f,D=(i&255)*f,n=(i>>>8&255)*f,w=(i>>>16&255)*f,k=v;
if(F==0){k=(r>>>24)*S;h=(i>>>24)*f}if(A.su)k*=Z.Y.sX(U,N,C,D,n,w,h,A.su);var t=h*(1-k),a=k+t,_=255/a,E=R?1:k,WW=((1-h)*k*U+(1-E)*h*D+E*h*x(U,D,(1+k-E)*m))*_,Wx=((1-h)*k*N+(1-E)*h*n+E*h*x(N,n,(1+k-E)*m))*_,WU=((1-h)*k*C+(1-E)*h*w+E*h*x(C,w,(1+k-E)*m))*_;
a=k*m+h*(1-k*m);var We=Math.round(a*255);y[$]=F*(i>>>24)+(1-F)*We<<24|WU<<16|Wx<<8|WW}}};Z.Y.ZdX=function(e,j,g,P,p,v,x,A){var f=1/255,S=f*v,F=A.sV?1:0,m=j.zx(P).zx(p),R=Math.max(0,m.x-j.x),M=Math.max(0,m.x-P.x),b=Math.max(0,m.y-j.y),s=Math.max(0,m.y-P.y),K=m.W,X=m.j,d=new Uint32Array(e.buffer),W=new Uint32Array(g.buffer),O={k:0,z:0,e:0},H={k:0,z:0,e:0},Y={k:0,z:0,e:0};
for(var y=0;y<X;y++){var B=(b+y)*j.W+R,c=(s+y)*P.W+M;for(var $=0;$<K;$++,B++,c++){var I=d[B],r=W[c],i=(I&255)*f,U=(I>>>8&255)*f,N=(I>>>16&255)*f,C=(r&255)*f,D=(r>>>8&255)*f,n=(r>>>16&255)*f,w=v,k=1;
if(F==0){w=(I>>>24)*S;k=(r>>>24)*f}if(A.su)w*=Z.Y.sX(i,U,N,C,D,n,k,A.su);var h=k*(1-w),t=w+h,a=255/t;
O.k=i;O.z=U;O.e=N;H.k=C;H.z=D;H.e=n;x(O,H,Y);var _=(((1-k)*i+k*Y.k)*w+C*h)*a,E=(((1-k)*U+k*Y.z)*w+D*h)*a,WW=(((1-k)*N+k*Y.e)*w+n*h)*a,Wx=F*(r>>>24)+(1-F)*Math.round(t*255);
W[c]=Wx<<24|WW<<16|E<<8|_}}};Z.Y.Pj=function(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;e=e*668265261;e=e^e>>15;
return(e&16777215)*(1/16777215)};Z.Y.yo=function(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;e=e*668265261;
e=e^e>>>15;return e};Z.Y.CV=function(e){this.nM=e};Z.Y.CV.prototype.get=function(){var e=this.nM=Z.Y.yo(this.nM);
return(e&16777215)*(1/16777215)};Z.Y.Zdo=function(e,j,g,P,p,v,x,A){var f=1/255,S=f*v,F=Math.round(v*(256*256*256/255)),m=j.zx(P).zx(p),R=Math.max(0,m.x-j.x),M=Math.max(0,m.x-P.x),b=Math.max(0,m.y-j.y),s=Math.max(0,m.y-P.y),K=m.W,X=m.j,d=new Uint32Array(e.buffer),W=new Uint32Array(g.buffer);
for(var O=0;O<X;O++){var H=(b+O)*j.W+R,Y=(s+O)*P.W+M;for(var y=0;y<K;y++,H++,Y++){var B=d[H],c=W[Y],$=A*255+(1-A)*(B>>>24);
if((Z.Y.yo(H)&16777215)>=$*F)continue;W[Y]=B&16777215|A*(c>>>24)+(1-A)*255<<24}}};Z.Y.ZBO=function(e,j,g){for(var P=0;
P<e.length;P+=4){var p=g[P>>>2];if(p==0)continue;var v=p*(1/255),x=1/v,A=j[P],f=j[P+1],S=j[P+2],F=e[P],m=e[P+1],R=e[P+2];
j[P]=Math.min(255,Math.max(0,Math.round((A-(1-v)*F)*x)));j[P+1]=Math.min(255,Math.max(0,Math.round((f-(1-v)*m)*x)));
j[P+2]=Math.min(255,Math.max(0,Math.round((S-(1-v)*R)*x)));j[P+3]=255}};Z.Y.aE=function(e,j,g,P,p,v,x,A,f,S){if(S==null)S=!1;
if(p&&!j.iJ(v)){var F=Z.V(j.h()*4);Z.set(F,x);Z.Oo(p,v,F,j);p=F;v=j}if(S){if(p==null)Z.Y.ZBr(e,j,g,P,p,A,f);
else Z.Y.ZyG(e,j,g,P,p,A,f)}else{if(p==null)Z.Y.Zdb(e,j,g,P,p,A,f);else Z.Y.ZBs(e,j,g,P,p,A,f)}};Z.Y.Zdb=function(e,j,g,P,p,v,x){var A=1/255,f=j.zx(P).zx(v),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j,s=new Uint32Array(e.buffer),K=new Uint32Array(g.buffer),X=Z.Y.R$,d=x*255&255;
for(var W=0;W<b;W++){var O=(m+W)*j.W+S,H=(R+W)*P.W+F;for(var Y=0;Y<M;Y++,O++,H++){var y=s[O],B=K[H],c=y>>>24,$=B>>>24,I=Z.YH(d*c+(255-d)*$),r=Z.YH(c*d),i=Z.YH($*(255-d)),U=y&255,N=y>>>8&255,C=y>>>16&255,D=B&255,n=B>>>8&255,w=B>>>16&255,k=r*U+D*i,h=r*N+n*i,t=r*C+w*i;
k=X[I<<8|Z.YH(k)];h=X[I<<8|Z.YH(h)];t=X[I<<8|Z.YH(t)];K[H]=I<<24|t<<16|h<<8|k}}};Z.Y.ZBr=function(e,j,g,P,p,v,x){var A=1/255,f=j.zx(P).zx(v),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j,s=new Uint32Array(e.buffer),K=new Uint32Array(g.buffer),X=Z.Y.R$,d=x*16777215&16777215;
for(var W=0;W<b;W++){var O=(m+W)*j.W+S,H=(R+W)*P.W+F;for(var Y=0;Y<M;Y++,O++,H++){if((Z.Y.yo(O)&16777215)<d)K[H]=s[O]}}};
Z.Y.ZBs=function(e,j,g,P,p,v,x){var A=1/255,f=j.zx(P).zx(v),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j,s=new Uint32Array(e.buffer),K=new Uint32Array(g.buffer),X=Z.Y.R$;
for(var d=0;d<b;d++){var W=(m+d)*j.W+S,O=(R+d)*P.W+F;for(var H=0;H<M;H++,W++,O++){var Y=p[W]*x&255;if(Y==0)continue;
if(Y==255){K[O]=s[W];continue}var y=s[W],B=K[O],c=y>>>24,$=B>>>24,I=Z.YH(Y*c+(255-Y)*$),r=Z.YH(c*Y),i=Z.YH($*(255-Y)),U=y&255,N=y>>>8&255,C=y>>>16&255,D=B&255,n=B>>>8&255,w=B>>>16&255,k=X[I<<8|Z.YH(r*U+D*i)],h=X[I<<8|Z.YH(r*N+n*i)],t=X[I<<8|Z.YH(r*C+w*i)];
K[O]=I<<24|t<<16|h<<8|k}}};Z.Y.ZyG=function(e,j,g,P,p,v,x){var A=1/255,f=j.zx(P).zx(v),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j,s=new Uint32Array(e.buffer),K=new Uint32Array(g.buffer),X=Z.Y.R$,d=Math.round(x*257);
for(var W=0;W<b;W++){var O=(m+W)*j.W+S,H=(R+W)*P.W+F;for(var Y=0;Y<M;Y++,O++,H++){var y=p[O]*d;if((Z.Y.yo(O)&65535)<y)K[H]=s[O]}}};
Z.Y.cx=function(e,j,g,P,p,v,x){var A=1/255,f=j.zx(P).zx(v),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j,s=new Uint32Array(e.buffer),K=new Uint32Array(g.buffer),X=Math.floor(Math.random()*P.h()),d=Z.Y.ZiH;
for(var W=0;W<b;W++){var O=(m+W)*j.W+S,H=(R+W)*P.W+F;for(var Y=0;Y<M;Y++){var y=p[O+Y]*x;if(y==0)continue;
if(y==255){K[H+Y]=s[O+Y];continue}var B=s[O+Y],c=K[H+Y],$=B>>>24,I=c>>>24,r=$*y*(1/255),i=I*(255-y)*(1/255),U=B&255,N=B>>>8&255,C=B>>>16&255,D=c&255,n=c>>>8&255,w=c>>>16&255,k=Z.Y.yo(H+Y+X),h=Math.floor((r+i)*256+.5)+(k>>>0&255)>>>8,t=h==0?0:256/(r+i),a=U*r+D*i,_=N*r+n*i,E=C*r+w*i,WW=Math.floor(a*t+.5)+(k>>>8&255)>>>8,Wx=Math.floor(_*t+.5)+(k>>>16&255)>>>8,WU=Math.floor(E*t+.5)+(k>>>21&248)>>>8;
K[H+Y]=h<<24|WU<<16|Wx<<8|WW}}};Z.Y.ZiH=function(e){return Math.floor(e+Math.random())};Z.Y.Lk=function(e,j,g,P,p,v,x){var A=1/255,f=j.zx(P).zx(v),S=Math.max(0,f.x-j.x),F=Math.max(0,f.x-P.x),m=Math.max(0,f.y-j.y),R=Math.max(0,f.y-P.y),M=f.W,b=f.j;
for(var s=0;s<b;s++){var K=(m+s)*j.W+S,X=(R+s)*P.W+F;for(var d=0;d<M;d++,K++,X++){var W=x*p[K]*A;if(W==0)continue;
if(W==1){g[X]=e[K];continue}g[X]=e[K]*W+g[X]*(1-W)}}};Z.Hl={};Z.Hl.ZiP=function(e,j,g,P,p,v){Z.Hl.Cu(e,j,g,P,p,v,null,0)};
Z.Hl.Zik=function(e,j,g,P,p){Z.Hl.Cu(e,j,g,P,p,null,null,0)};Z.Hl.ZiF=function(e,j,g,P,p,v,x){Z.Hl.Cu(e,j,g,P,p,null,v,x*.5)};
Z.Hl.Cu=function(e,j,g,P,p,v,x,A){var f=0,i=0,U=1e9,N=0,C=1e9,D=0,n=1e9,w=0,k=0,h=0,t=0;if(v){f=p*.5;
p=3+Math.round((p-3)*.75)}if(x){p=Math.round(p*2.2)}var S=1/p,F=Math.floor(j*S)+1,m=Math.floor(g*S)+1,R=[],M=new Uint8Array(F*m*4),b=x?.5:1,s=v?64:0;
for(var K=0;K<m;K++){var X=x?.5*(K&1):0;for(var d=0;d<F;d++){var W=(d+Math.random()*b+X)*p,O=(K+Math.random()*b)*p;
R.push(W,O);var H=Math.min(j-1,Math.floor(W)),Y=Math.min(g-1,Math.floor(O)),y=(Y*j+H)*4,B=(K*F+d)*4;
for(var c=0;c<4;c++)M[B+c]=Math.max(0,Math.min(255,Math.floor(e[y+c]+(Math.random()-.5)*s)))}}var $=v?v:x?x:[0,0,0],I=F*m*2,r=[-F-1,-F,-F+1,-1,0,1,F-1,F,F+1];
for(var K=0;K<g;K++){h=0;for(var d=0;d<j;d++){var a=d+.5,_=K+.5,E=Math.floor(_*S),WW=Math.floor(a*S),Wx=E*F+WW,Wv=0,L=0;
if(h>1+A){U=Z.Hl.cU(R,i,a,_);w=Math.sqrt(U);h--;t++}else{U=C=n=1e9;for(var c=0;c<r.length;c++){var WU=(Wx+r[c])*2;
if(WU<0||WU>=I)continue;var We=Z.Hl.cU(R,WU,a,_);if(We<n){if(We<C){if(We<U){D=N;n=C;N=i;C=U;i=WU;U=We}else{D=N;
n=C;N=WU;C=We}}else{D=WU;n=We}}}w=Math.sqrt(U);k=Math.sqrt(C);h=k-(w+k)*.5}if(x==null){var J=(w+k)*.5,WZ=v?Math.max(0,J-f):0;
Wv=Math.max(0,Math.min(1,.5+J-w-WZ));L=Math.max(0,Math.min(1,1-(.5+J-w)-WZ))}else{var WJ=Math.min(Z.Hl.cv(R,i,N,a,_),Z.Hl.cv(R,i,D,a,_));
Wv=Math.max(0,Math.min(1,WJ-A*.5));if(a<A||j-A<a||_<A||g-A<_)Wv=0;L=0}var Wu=1-L-Wv,B=K*j+d<<2,WC=i<<1,Wn=N<<1;
P[B+0]=Math.floor(.5+Wv*M[WC+0]+L*M[Wn+0]+Wu*$[0]);P[B+1]=Math.floor(.5+Wv*M[WC+1]+L*M[Wn+1]+Wu*$[1]);
P[B+2]=Math.floor(.5+Wv*M[WC+2]+L*M[Wn+2]+Wu*$[2]);P[B+3]=e[B+3]}}};Z.Hl.cU=function(e,j,g,P){var p=g-e[j],v=P-e[j+1];
return p*p+v*v};Z.Hl.cv=function(e,j,g,P,p){var v=e[j],x=e[j+1],A=e[g],f=e[g+1],S=(v+A)*.5,F=(x+f)*.5,m=S+(f-x),R=F-(A-v),M=R-F,b=m-S;
return Math.abs(M*P-b*p+m*F-R*S)/Math.sqrt(b*b+M*M)};Z.blur={};Z.blur.Zj=function(e){if(Z.blur.Kf.length<e)Z.blur.Kf=Z.V(e);
return Z.blur.Kf};Z.blur.Kf=Z.V(0);Z.blur.cJ=function(e){if(Z.blur.CC.length<e)Z.blur.CC=new Float32Array(e);
return Z.blur.CC};Z.blur.CC=new Float32Array(0);Z.blur.Mj=function(e,j,g,P){var p=g.W,v=g.j;Z.blur.Zih(e,j,p,v,P)};
Z.blur.Zio=function(e,j,g){var P=j.W,p=j.j;Z.blur.Ziw(e,P,p,g)};Z.blur.Rl=function(e,j,g,P,p){var v=g.W,x=g.j;
Z.blur.Zil(e,j,v,x,P,p)};Z.blur.cn=function(e,j,g,P){var p=g.W,v=g.j;P=Math.round(P);var x=Z.blur.Zj(p*v);
Z.Ue(e,j);Z.blur.KU(j,x,p,v,P)};Z.blur.cB=function(e,j,g){var P=j.W,p=j.j;g=Math.round(g);var v=Z.blur.Zj(P*p*4);
Z.blur.Kv(e,v,P,p,g)};Z.blur.ZR=function(e,j,g,P){var p=g.W,v=g.j;P=Math.round(P);var x=Z.blur.cJ(p*v);
Z.Ue(e,j);Z.blur.ci(j,x,p,v,P)};Z.blur.cy=function(e,j,g){var P=j.W,p=j.j;g=Math.round(g);var v=Z.blur.Zj(P*p*4);
Z.blur.cN(e,v,P,p,g);Z.Ue(v,e)};Z.blur.Kx=function(e,j){var g=Math.sqrt(12*e*e/j+1),P=Math.floor(g);
if(P%2==0)P--;var p=P+2,v=(12*e*e-j*P*P-4*j*P-3*j)/(-4*P-4),x=Math.round(v),A=[];for(var f=0;f<j;f++)A.push(f<x?P:p);
return A};Z.blur.Zih=function(e,j,g,P,p){var v=Z.blur.Kx(p,3),x=Z.blur.Zj(g*P);Z.Ue(e,j);Z.blur.KU(j,x,g,P,v[0]-1>>1);
Z.blur.KU(j,x,g,P,v[1]-1>>1);Z.blur.KU(j,x,g,P,v[2]-1>>1)};Z.blur.Ziw=function(e,j,g,P){var p=Z.blur.Kx(P,3),v=Z.blur.Zj(j*g*4);
Z.blur.Kv(e,v,j,g,p[0]-1>>1);Z.blur.Kv(e,v,j,g,p[1]-1>>1);Z.blur.Kv(e,v,j,g,p[2]-1>>1)};Z.blur.Zil=function(e,j,g,P,p,v){if(v==null)v=3;
var x=Z.blur.Kx(p,v),A=Z.blur.cJ(g*P);Z.Ue(e,j);for(var f=0;f<v;f++)Z.blur.ci(j,A,g,P,(x[0]-1)/2)};Z.blur.KU=function(e,j,g,P,p){Z.blur.Zi_(e,j,g,P,p);
Z.blur.ZNx(j,e,g,P,p)};Z.blur.Kv=function(e,j,g,P,p){Z.blur.cN(e,j,g,P,p);Z.blur.ZNU(j,e,g,P,p)};Z.blur.ci=function(e,j,g,P,p){Z.blur.Zim(e,j,g,P,p);
Z.blur.ZNW(j,e,g,P,p)};Z.blur.Cg=[];Z.blur.KC=function(e){if(Z.blur.Cg[e])return Z.blur.Cg[e];var j=1/(e+e+1),g=(e+e+1)*256,P=Z.V(g);
for(var p=0;p<g;p++)P[p]=Math.round(p*j);Z.blur.Cg[e]=P;return P};Z.blur.Zi_=function(e,j,g,P,p){var v=1/(p+p+1),x=g-p-p-1,A=Z.blur.KC(p);
for(var f=0;f<P;f++){var S=f*g,F=S,m=S+p,R=e[S],M=e[S+g-1],b=(p+1)*R;for(var s=0;s<p;s++)b+=e[S+s];for(var s=0;
s<=p;s++){b+=e[m+s]-R;j[S+s]=A[b]}m+=p+1;S+=p+1;for(var s=0;s<x;s++){b+=e[m+s]-e[F+s];j[S+s]=A[b]}m+=x;
F+=x;S+=x;for(var s=g-p;s<g;s++){b+=M-e[F++];j[S++]=A[b]}}};Z.blur.cN=function(e,j,g,P,p){var v=g<<2,x=p<<2,A=1/(p+p+1),f=g-p-p-1,S=f<<2,F=Z.blur.KC(p);
for(var m=0;m<P;m++){var R=m*v,M=R,b=R+x,s=R+v,K=e[R],X=e[R+1],d=e[R+2],W=e[R+3],O=(p+1)*K,H=(p+1)*X,Y=(p+1)*d,y=(p+1)*W;
for(var B=0;B<x;B+=4){O+=e[R+B];H+=e[R+B+1];Y+=e[R+B+2];y+=e[R+B+3]}for(var B=0;B<=x;B+=4){O+=e[b]-K;
j[R]=F[O];H+=e[b+1]-X;j[R+1]=F[H];Y+=e[b+2]-d;j[R+2]=F[Y];y+=e[b+3]-W;j[R+3]=F[y];b+=4;R+=4}for(var B=0;
B<S;B+=4){O+=e[b+B]-e[M+B];j[R+B]=F[O];H+=e[b+B+1]-e[M+B+1];j[R+B+1]=F[H];Y+=e[b+B+2]-e[M+B+2];j[R+B+2]=F[Y];
y+=e[b+B+3]-e[M+B+3];j[R+B+3]=F[y]}b+=S;M+=S;R+=S;K=e[s-4];X=e[s-3];d=e[s-2];W=e[s-1];for(var B=g-p;
B<g;B++){O+=K-e[M];j[R]=F[O];H+=X-e[M+1];j[R+1]=F[H];Y+=d-e[M+2];j[R+2]=F[Y];y+=W-e[M+3];j[R+3]=F[y];
M+=4;R+=4}}};Z.blur.Zim=function(e,j,g,P,p){var v=1/(p+p+1),x=g-p-p-1,A=0,f=0,S=0;for(var F=0;F<P;F++){A=F*g;
f=A;S=A+p;var m=e[A],R=e[A+g-1],M=(p+1)*m;for(var b=0;b<p;b++){M+=e[A+b]}for(var b=0;b<=p;b++){M+=e[S++]-m;
j[A++]=M*v}for(var b=0;b<x;b++){M+=e[S+b]-e[f+b];j[A+b]=M*v}S+=x;f+=x;A+=x;for(var b=g-p;b<g;b++){M+=R-e[f++];
j[A++]=M*v}}};Z.blur.ZNx=function(e,j,g,P,p){var v=1/(p+p+1),x=P-p-p-1,A=Z.blur.KC(p);for(var f=0;f<g;
f++){var S=f,F=S,m=S+p*g,R=e[S],M=e[S+g*(P-1)],b=(p+1)*R;for(var s=0;s<p;s++)b+=e[S+s*g];for(var s=0;
s<=p;s++){b+=e[m]-R;j[S]=A[b];m+=g;S+=g}for(var s=0;s<x;s++){var K=s*g;b+=e[m+K]-e[F+K];j[S+K]=A[b]}F+=x*g;
m+=x*g;S+=x*g;for(var s=P-p;s<P;s++){b+=M-e[F];j[S]=A[b];F+=g;S+=g}}};Z.blur.ZNU=function(e,j,g,P,p){var v=g<<2,x=p<<2,A=1/(p+p+1),f=P-p-p-1,S=f<<2,F=Z.blur.KC(p);
for(var m=0;m<g;m++){var R=m<<2,M=R,b=R+p*v,s=R+v*(P-1),K=e[R],X=e[R+1],d=e[R+2],W=e[R+3],O=(p+1)*K,H=(p+1)*X,Y=(p+1)*d,y=(p+1)*W;
for(var B=0;B<p;B++){var c=R+B*v;O+=e[c];H+=e[c+1];Y+=e[c+2];y+=e[c+3]}for(var B=0;B<=p;B++){O+=e[b]-K;
j[R]=F[O];H+=e[b+1]-X;j[R+1]=F[H];Y+=e[b+2]-d;j[R+2]=F[Y];y+=e[b+3]-W;j[R+3]=F[y];b+=v;R+=v}for(var B=0;
B<f;B++){var $=B*v;O+=e[b+$]-e[M+$];j[R+$]=F[O];H+=e[b+$+1]-e[M+$+1];j[R+$+1]=F[H];Y+=e[b+$+2]-e[M+$+2];
j[R+$+2]=F[Y];y+=e[b+$+3]-e[M+$+3];j[R+$+3]=F[y]}M+=f*v;b+=f*v;R+=f*v;K=e[s];X=e[s+1];d=e[s+2];W=e[s+3];
for(var B=P-p;B<P;B++){O+=K-e[M];j[R]=F[O];H+=X-e[M+1];j[R+1]=F[H];Y+=d-e[M+2];j[R+2]=F[Y];y+=W-e[M+3];
j[R+3]=F[y];M+=v;R+=v}}};Z.blur.ZNW=function(e,j,g,P,p){var v=1/(p+p+1),x=P-p-p-1;for(var A=0;A<g;A++){var f=A,S=f,F=f+p*g,m=e[f],R=e[f+g*(P-1)],M=(p+1)*m;
for(var b=0;b<p;b++)M+=e[f+b*g];for(var b=0;b<=p;b++){M+=e[F]-m;j[f]=M*v;F+=g;f+=g}for(var b=0;b<x;b++){var s=b*g;
M+=e[F+s]-e[S+s];j[f+s]=M*v}S+=x*g;F+=x*g;f+=x*g;for(var b=P-p;b<P;b++){M+=R-e[S];j[f]=M*v;S+=g;f+=g}}};
Z.ie={};Z.ie.V=function(e,j,g,P){var p=[];for(var v=0;v<4;v++)for(var x=0;x<4;x++)p.push(e+g*x/3,j+P*v/3);
return p};Z.ie.ct=function(e,j){var g=e.slice(0);for(var P=0;P<4;P++)for(var p=0;p<4;p++){var v=2*(P*4+p),x=2*(p*4+(3-P));
if(j){var A=v;v=x;x=A}g[x]=e[v];g[x+1]=e[v+1]}return g};Z.ie.ZNe=new Float64Array(16);Z.ie.drawImage=function(e,j,g,P,p,v,x){if(x==null)x=!1;
var A=v.W,f=v.j,R=2;p=new Uint32Array(p.buffer);j=new Uint32Array(j.buffer);var S=Z.ie.Q.cS(e,0,1,0,1,g,P),F=S.yn,m=S.wo,M=1/R,b=Z.ie.KB,s=new Float64Array(2),K=new Uint32Array(30);
for(var X=0;X<f;X++)for(var d=0;d<A;d++){var W=d+v.x+.5,O=X+v.y+.5,H=Z.ie.Q.ZNy(F,m,W,O,K),r=0,i=0,U=0,N=0;
if(H==0)continue;var Y=X*A+d,y=Z.ie.hE(e,W,O,F,K,H,!0),B=b[0]*g,c=b[1]*P;if(x){if(y!=-1&&0<B&&B<g&&0<c&&c<P){var $=Math.floor(c)*g+Math.floor(B);
p[Y]=j[$]}continue}var I=y!=-1&&(1<B&&B<g-1)&&(1<c&&c<P-1);if(F[y+8]<.95){Z.D.TL(B,c,j,g,P,p,Y,0);continue}for(var C=0;
C<R;C++)for(var D=0;D<R;D++){var W=d+v.x+(C+.5)*M,O=X+v.y+(D+.5)*M,y=0;y=Z.ie.hE(e,W,O,F,K,H,!0);if(y!=-1){var B=b[0],c=b[1],B=Math.floor(B*g);
c=Math.floor(c*P);var n=j[c*g+B],w=n>>>24;r+=(n&255)*w;i+=(n>>>8&255)*w;U+=(n>>>16&255)*w;N+=w}}if(N!=0){var k=1/N;
r=~~(r*k+.5);i=~~(i*k+.5);U=~~(U*k+.5);N=~~(N*M*M+.5);p[Y]=N<<24|U<<16|i<<8|r}}};Z.ie.KB=new Float64Array(5*20);
Z.ie.ZNd=new Uint32Array(5*5*20);Z.ie.hE=function(e,j,g,P,p,v,x){var A=Z.ie.KB,f=Z.ie.ZNd,S=0,F=0;for(var m=0;
m<v;m++){var R=p[m],M=S;S=Z.ie.CL(e,j,g,P,R+4,x,A,S);if(S!=M){f[F]=R;F+=5}}if(S==0)return-1;else if(S==5)return f[0];
else{var b=0;for(var m=0;m<S;m+=5)if(A[m+4]<A[b+4])b=m;A[0]=A[b];A[1]=A[b+1];A[2]=A[b+2];A[3]=A[b+3];
return f[b]}};Z.ie.TJ=new Array(10);Z.ie.CL=function(e,j,g,P,p,v,x,A){var f=Z.ie.TJ,S=0,F=0,m=0,R=0,M=0,b=0,s=0,K=P[p],X=P[p+1],d=P[p+2],W=P[p+3],O=(d-j)*(d-j)+(W-g)*(W-g);
for(var H=0;H<5&&O>.05;H++){Z.ie.L_(f,0,X);Z.ie.TB(f,4,K);Z.ie.ku(e,f);S=f[8];F=f[9];Z.ie.TB(f,0,X);
Z.ie.L_(f,4,K);Z.ie.ku(e,f);m=f[8];R=f[9];M=1/(S*R-F*m);b=(d-j)*M;s=(W-g)*M;K+=-R*b+m*s;X+=+F*b-S*s;
Z.ie.CG(e,K,X,f);d=f[8];W=f[9];O=(d-j)*(d-j)+(W-g)*(W-g)}if(v&&(K<0||K>1||X<0||X>1||O>.25))return A;
x[A]=K;x[A+1]=X;x[A+2]=d;x[A+3]=W;x[A+4]=S*R-F*m;return A+5};Z.ie.apply=function(e,j,g){var P=g.x,p=g.y,v=1/g.W,x=1/g.j,A=Z.ie.TJ;
for(var f=0;f<j.length;f+=2){var S=(j[f]-P)*v,F=(j[f+1]-p)*x;Z.ie.CG(e,S,F,A);j[f]=A[8];j[f+1]=A[9]}};
Z.ie.CG=function(e,j,g,P){Z.ie.L_(P,0,g);Z.ie.L_(P,4,j);Z.ie.ku(e,P)};Z.ie.TB=function(e,j,g){var P=1-g;
e[j]=-3*(P*P);e[j+1]=3*(P*P)-6*(g*P);e[j+2]=6*(g*P)-3*(g*g);e[j+3]=3*(g*g)};Z.ie.L_=function(e,j,g){var P=1-g;
e[j]=P*(P*P);e[j+1]=3*g*(P*P);e[j+2]=3*(g*g)*P;e[j+3]=g*g*g};Z.ie.ku=function(e,j){var g=0,P=0,p=0;p=j[0]*j[4];
g+=e[0]*p;P+=e[1]*p;p=j[0]*j[5];g+=e[2]*p;P+=e[3]*p;p=j[0]*j[6];g+=e[4]*p;P+=e[5]*p;p=j[0]*j[7];g+=e[6]*p;
P+=e[7]*p;p=j[1]*j[4];g+=e[8]*p;P+=e[9]*p;p=j[1]*j[5];g+=e[10]*p;P+=e[11]*p;p=j[1]*j[6];g+=e[12]*p;P+=e[13]*p;
p=j[1]*j[7];g+=e[14]*p;P+=e[15]*p;p=j[2]*j[4];g+=e[16]*p;P+=e[17]*p;p=j[2]*j[5];g+=e[18]*p;P+=e[19]*p;
p=j[2]*j[6];g+=e[20]*p;P+=e[21]*p;p=j[2]*j[7];g+=e[22]*p;P+=e[23]*p;p=j[3]*j[4];g+=e[24]*p;P+=e[25]*p;
p=j[3]*j[5];g+=e[26]*p;P+=e[27]*p;p=j[3]*j[6];g+=e[28]*p;P+=e[29]*p;p=j[3]*j[7];g+=e[30]*p;P+=e[31]*p;
j[8]=g;j[9]=P};Z.ie.Q={};Z.ie.Q.LR=12;Z.ie.Q.cz=new Uint32Array(50);Z.ie.Q.ZNy=function(e,j,g,P,p){var v=0,x=Z.ie.Q.cz,A=1;
x[0]=0;while(A!=0){var f=x[--A];if(e[f+0]<=g&&e[f+1]<=P&&g<e[f+2]&&P<e[f+3]){if(j[f+f+18]==0){p[v]=f;
v++}else{x[A]=j[f+f+18];x[A+1]=j[f+f+19];A+=2}}}return v};Z.ie.Q.ZNG=function(e,j,g,P,p){var v=0,x=Z.ie.Q.CS,A=Z.ie.Q.cz,f=1,S=0,F=999999999999;
A[0]=0;while(f!=0){var m=A[--f],R=x(g,P,e[m+0],e[m+1]),M=x(g,P,e[m+0],e[m+3]),b=x(g,P,e[m+2],e[m+1]),s=x(g,P,e[m+2],e[m+3]),K=Math.min(R,Math.min(M,Math.min(b,s))),X=Math.max(R,Math.max(M,Math.max(b,s)));
if(K>F)continue;if(j[m+m+18]==0){if(X<F){F=X;S=m}}else{A[f]=j[m+m+18];A[f+1]=j[m+m+19];f+=2}}p[v]=S;
v++;return v};Z.ie.Q.CS=function(e,j,g,P){return(g-e)*(g-e)+(P-j)*(P-j)};Z.ie.Q.Zh=null;Z.ie.Q.cG=null;
Z.ie.Q.cS=function(e,j,g,P,p,v,x){if(v==null){v=1;x=1}Z.ie.Q.cG=e;if(Z.ie.Q.Zh==null){Z.ie.Q.Zh={yn:new Float64Array(15e3*8),wo:null};
Z.ie.Q.Zh.wo=new Uint32Array(Z.ie.Q.Zh.yn.buffer)}var A=Z.ie.Q.Zh;Z.ie.Q.Cp(e,j,g,P,p,0,A.yn,A.wo,0,v,x);
return A};Z.ie.Q.Cp=function(e,j,g,P,p,v,x,A,f,S,F){var m=Z.g.XI(e),R=f,M=Z.ie.Q.cG,b=(j+g)/2,s=(P+p)/2,K=Z.ie.TJ,X=Z.ie.KB,d=Z.ie.ZNe,WW,Wx,WU;
Z.ie.CG(M,b,s,K);var W=K[8],O=K[9];d[0]=b;d[1]=s;d[2]=W;d[3]=O;Z.ie.CL(M,W+1,O,d,0,!1,X,0);var H=(b-X[0])*S,Y=(s-X[1])*F,y=Math.sqrt(H*H+Y*Y);
Z.ie.CL(M,W,O+1,d,0,!1,X,0);var B=(b-X[0])*S,c=(s-X[1])*F,$=Math.sqrt(B*B+c*c);x[R]=m.x;x[R+1]=m.y;x[R+2]=m.x+m.W;
x[R+3]=m.y+m.j;x[R+4]=b;x[R+5]=s;x[R+6]=W;x[R+7]=O;x[R+8]=.5*(y+$);A[R+R+18]=0;A[R+R+19]=0;f+=10;Z.ie.L_(K,0,.1);
Z.ie.TB(K,4,.1);Z.ie.ku(e,K);var I=K[8],r=K[9];Z.ie.TB(K,0,.1);Z.ie.L_(K,4,.7);Z.ie.ku(e,K);var i=K[8],U=K[9];
Z.ie.L_(K,0,.8);Z.ie.TB(K,4,.8);Z.ie.ku(e,K);var N=K[8],C=K[9];Z.ie.TB(K,0,.9);Z.ie.L_(K,4,.2);Z.ie.ku(e,K);
var D=K[8],n=K[9],w=(N-I)*(N-I)+(D-i)*(D-i)+(C-r)*(C-r)+(n-U)*(n-U);if(f>=x.length){console.log("Buffer not long enough");
throw"e"}if(v==Z.ie.Q.LR||w<2)return f;var k=Z.ie.Q.cI(e,!0),h=Z.g.XI(k[0]),t=Z.g.XI(k[1]),a=Z.ie.Q.cI(e,!1),_=Z.g.XI(a[0]),E=Z.g.XI(a[1]);
if(h.W+h.j+t.W+t.j<_.W+_.j+E.W+E.j){WU=!0;WW=k[0];Wx=k[1]}else{WU=!1;WW=a[0];Wx=a[1]}var We=(j+g)/2,Wv=(P+p)/2,L=j,J=P,WZ=g,WJ=p,Wu=j,WC=P,Wn=g,WB=p;
if(WU){WZ=Wu=We}else{WJ=WC=Wv}A[R+R+18]=f;f=Z.ie.Q.Cp(WW,L,WZ,J,WJ,v+1,x,A,f,S,F);A[R+R+19]=f;f=Z.ie.Q.Cp(Wx,Wu,Wn,WC,WB,v+1,x,A,f,S,F);
var Wt=A[R+R+18],Wy=A[R+R+19];x[R]=Math.min(x[Wt],x[Wy]);x[R+1]=Math.min(x[Wt+1],x[Wy+1]);x[R+2]=Math.max(x[Wt+2],x[Wy+2]);
x[R+3]=Math.max(x[Wt+3],x[Wy+3]);return f};Z.ie.Q.cI=function(e,j){var g=0,P=0,p=0,v=0,x=0,A=0,f=0,S=0,F=e.slice(0),m=e.slice(0);
for(var R=0;R<4;R++){g=j?e[R*8+2*0]:e[0*8+2*R];P=j?e[R*8+2*0+1]:e[0*8+2*R+1];p=j?e[R*8+2*1]:e[1*8+2*R];
v=j?e[R*8+2*1+1]:e[1*8+2*R+1];x=j?e[R*8+2*2]:e[2*8+2*R];A=j?e[R*8+2*2+1]:e[2*8+2*R+1];f=j?e[R*8+2*3]:e[3*8+2*R];
S=j?e[R*8+2*3+1]:e[3*8+2*R+1];var M=(g+p)/2,b=(P+v)/2,s=(p+x)/2,K=(v+A)/2,X=(x+f)/2,d=(A+S)/2,W=(M+s)/2,O=(b+K)/2,H=(s+X)/2,Y=(K+d)/2,y=(W+H)/2,B=(O+Y)/2;
if(j){F[R*8+2*0]=g;F[R*8+2*0+1]=P;F[R*8+2*1]=M;F[R*8+2*1+1]=b;F[R*8+2*2]=W;F[R*8+2*2+1]=O;F[R*8+2*3]=y;
F[R*8+2*3+1]=B;m[R*8+2*0]=y;m[R*8+2*0+1]=B;m[R*8+2*1]=H;m[R*8+2*1+1]=Y;m[R*8+2*2]=X;m[R*8+2*2+1]=d;m[R*8+2*3]=f;
m[R*8+2*3+1]=S}else{F[0*8+2*R]=g;F[0*8+2*R+1]=P;F[1*8+2*R]=M;F[1*8+2*R+1]=b;F[2*8+2*R]=W;F[2*8+2*R+1]=O;
F[3*8+2*R]=y;F[3*8+2*R+1]=B;m[0*8+2*R]=y;m[0*8+2*R+1]=B;m[1*8+2*R]=H;m[1*8+2*R+1]=Y;m[2*8+2*R]=X;m[2*8+2*R+1]=d;
m[3*8+2*R]=f;m[3*8+2*R+1]=S}}return[F,m]};Z.In={};Z.In.ZNw=function(e,j,g){var P=Z.In.Zt$(j,g),p=Z.In.ZtN(P,e,j,g);
return{Am:P,Ls:p}};Z.In.ZDx=function(e,j,g){var P=Math.round(e.length/8),p=new Uint32Array(P),v=new Uint8Array(P),x=new Uint32Array(P);
Z.XC(p,4294967295,0);p[g]=0;var A=new VZ(P);A.push(g,p[g]);var f={Am:e,Ls:j,DO:p,wb:v,sC:x,Kd:A,Zxg:g};
return f};Z.In.Cj=function(e,j){var g=e.Am,P=e.Ls,p=e.DO,v=e.wb,x=e.sC,A=e.Kd;while(!A.tE()&&(j==null||v[j]==0)){var f=A.pop();
v[f]=1;for(var S=0;S<8;S++){var F=g[8*f+S];if(F==-1||v[F])continue;var m=p[f]+P[8*f+S];if(A.contains(F)&&m<p[F])A.remove(F,p[F]);
if(!A.contains(F)){p[F]=m;x[F]=f;A.push(F,p[F])}}}};function VZ(e){this.Xp=new Uint32Array(e);this.list=[];
this.yq=0;this.XP=4294967295}VZ.prototype.tE=function(){return this.yq==0};VZ.prototype.push=function(e,j){var g=this.list;
if(g[j]==null)g[j]=[];g[j].push(e);this.yq++;this.Xp[e]=g[j].length-1+1;this.XP=Math.min(this.XP,j)};
VZ.prototype.pop=function(){this.yq--;var e=this.list,j=this.XP,g=e[j].pop();if(e[j].length==0)e[j]=null;
this.cH();this.Xp[g]=0;return g};VZ.prototype.contains=function(e){return this.Xp[e]!=0};VZ.prototype.remove=function(e,j){this.yq--;
var g=this.list,P=this.Xp[e]-1;if(P==g[j].length-1)g[j].pop();else{var p=g[j].pop();g[j][P]=p;this.Xp[p]=P+1}if(g[j].length==0)g[j]=null;
this.Xp[e]=0;this.cH()};VZ.prototype.cH=function(){if(this.yq==0){this.XP=4294967295;return}var e=this.XP,j=this.list;
while(j[e]==null)e++;this.XP=e};Z.In.ZDW=function(e,j,g){var P=new Float32Array(j*g);for(var p=0;p<g;
p++)for(var v=0;v<j;v++){var x=p*j+v,A=-16*e[x];if(1<v&&v<j-2&&1<p&&p<g-2){A+=e[x-j-j];A+=e[x-j-1]+2*e[x-j]+e[x-j+1];
A+=e[x-2]+2*e[x-1]+2*e[x+1]+e[x+2];A+=e[x+j-1]+2*e[x+j]+e[x+j+1];A+=e[x+j+j]}P[x]=A/16}return P};Z.In.ZDz=function(e,j,g){var P=new Float32Array(j*g),p=0,v=0;
for(var x=0;x<g;x++)for(var A=0;A<j;A++){var f=0,S=0;if(0<A&&A<j-1)f=e[p+1]-e[p-1];if(0<x&&x<g-1)S=e[p+j]-e[p-j];
P[p]=Math.sqrt(f*f+S*S);if(P[p]>v)v=P[p];p++}var F=j*g,m=v==0?0:1/v;for(var p=0;p<F;p++)P[p]=1-P[p]*m;
return P};Z.In.ZDX=function(e,j,g){var P=new Float32Array(j*g*2),p=0;for(var v=0;v<g;v++)for(var x=0;
x<j;x++){var A=0,f=0;if(0<x&&x<j-1&&0<v&&v<g-1){A=2*e[p+1]-2*e[p-1];f=2*e[p+j]-2*e[p-j]}var S=Math.sqrt(A*A+f*f);
if(S!=0){P[2*p]=A/S;P[2*p+1]=f/S}else{P[2*p]=A;P[2*p+1]=f}p++}return P};Z.In.ZtN=function(e,j,g,P){var p=Z.In.ZDW(j,g,P),v=Z.In.ZDz(j,g,P),x=Z.In.ZDX(j,g,P),A=256,f=new Float32Array(A);
for(var S=0;S<A;S++)f[S]=Math.acos(-1+2*S/(A-1));var F=[-1,0,1,1,1,0,-1,-1],m=[-1,-1,-1,0,1,1,1,0],R=1/Math.sqrt(2),M=new Uint8Array(g*P*8),b=g*P;
for(var s=0;s<b;s++){var K=p[s],X=x[2*s+1],d=-x[2*s];for(var W=0;W<8;W++){var O=8*s+W,H=e[O];if(H==-1)M[O]=-1;
else{var Y=(W&1)==0,y=K*p[H]>=0?0:1,B=v[H]*(Y?1:R),c=1,$=x[2*H+1],I=-x[2*H];if(!(X==0&&d==0||$==0&&I==0)){var r=F[W],i=m[W];
if(X*F[W]+d*m[W]<0){r=-r;i=-i}if(Y){r*=R;i*=R}var U=X*r+d*i,N=$*r+I*i,C=2/(3*Math.PI)*(f[Math.floor((.5+.5*U)*(A-1))]+f[Math.floor((.5+.5*N)*(A-1))]);
c=C}var D=Math.round(20*(.43*y+.43*c+.14*B));M[O]=Math.max(1,Math.min(255,D))}}}console.log(M);return M};
Z.In.Zt$=function(e,j){var g=new Int32Array(e*j*8),P=g,p=0,v=0;P.fill(-1);for(var x=0;x<j;x++)for(var A=0;
A<e;A++){if(x>0&&A>0)P[v+0]=p-e-1;if(x>0)P[v+1]=p-e;if(x>0&&A<e-1)P[v+2]=p-e+1;if(A<e-1)P[v+3]=p+1;if(x<j-1&&A<e-1)P[v+4]=p+e+1;
if(x<j-1)P[v+5]=p+e;if(x<j-1&&A>0)P[v+6]=p+e-1;if(A>0)P[v+7]=p-1;p++;v+=8}return g};Z.Bz={};Z.Bz.ZBp=function(e,j){var g=e.slice(0);
for(var P=0;P<e.length;P++)g[P]*=j;return g};Z.Bz.Ti=function(e){var j=e.slice(0),g=0;for(var P=0;P<e.length;
P++)g+=e[P];for(var P=0;P<e.length;P++)j[P]/=g;return j};Z.Bz.ZBQ=function(e,j,g,P,p){var v=p.length,x=v>>>1,A=x,f=g-x;
for(var S=0;S<P;S++)for(var F=A;F<f;F++){var m=0,R=S*g+F;for(var M=0;M<v;M++)m+=p[M]*e[R-x+M];j[R]=m}};
Z.Bz.ZBc=function(e,j,g,P,p){var v=p.length,x=v>>>1,A=x,f=P-x;for(var S=A;S<f;S++)for(var F=0;F<g;F++){var m=0,R=S*g+F;
for(var M=0;M<v;M++)m+=p[M]*e[R+(-x+M)*g];j[R]=m}};Z.Bz.ZtA=function(e,j,g,P,p){var v=[-g-1,-g,-g+1,-1,0,1,g-1,g,g+1],x=P-1,A=g-1;
for(var f=1;f<x;f++)for(var S=1;S<A;S++){var F=f*g+S,m=Z.Bz.Td(e,F,g,p);j[F]=~~(m+.5)}};Z.Bz.Td=function(e,j,g,P){return e[j-g-1]*P[0]+e[j-g]*P[1]+e[j-g+1]*P[2]+e[j-1]*P[3]+e[j]*P[4]+e[j+1]*P[5]+e[j+g-1]*P[6]+e[j+g]*P[7]+e[j+g+1]*P[8]};
Z.Bz.kd=function(e,j,g,P,p,v,x){if(x==null)x=!1;var A=Math.floor(Math.sqrt(p.length)),f=A-1>>>1,S=new Uint32Array(e.buffer),j=new Uint8ClampedArray(j.buffer);
for(var F=0;F<P;F++)for(var m=0;m<g;m++){var R=0,M=0,b=0,s=0;for(var K=0;K<A;K++)for(var X=0;X<A;X++){var d=p[K*A+X];
if(d==0)continue;var W=Math.min(g-1,Math.max(0,m-f+X)),O=Math.min(P-1,Math.max(0,F-f+K)),H=S[O*g+W];
R+=(H&255)*d;M+=(H>>>8&255)*d;b+=(H>>>16&255)*d;s+=(H>>>24&255)*d}if(x){if(R<0)R=-R;if(M<0)M=-M;if(b<0)b=-b;
if(s<0)s=-s}var Y=F*g+m<<2;j[Y]=~~(.5+R);j[Y+1]=~~(.5+M);j[Y+2]=~~(.5+b);j[Y+3]=255-v&j[Y+3]|v&~~(.5+s)}};
Z.Bz.ZtP=function(){function e(x,A,f,S,F,m,R){if(F==0){A.set(x);return}var M=Z.V(f*S),b=Z.V(f*S);if(Z.HE(x)){var s=[Z.Bz.Ch,Z.Bz.Ck],K=s.indexOf(m),X=K!=-1?s[1-K]:m;
j(x,A,f,S,F,m,R);Z.bF(x,M,3);Z.Bz.CX(M,b,f,S,F,X,R);Z.sH(b,A,3)}else{for(var d=0;d<3;d++){Z.bF(x,M,d);
Z.Bz.CX(M,b,f,S,F,m,R);Z.sH(b,A,d)}}}function j(x,A,f,S,F,m,R){var M=0,b=new ArrayBuffer(512*4*3),s=[new Int32Array(b,0),new Int32Array(b,2048),new Int32Array(b,2*2048)],K=1+2*Math.round(Math.sqrt(F)),X=K>>>1,d=new Array(K),W=new Array(K);
for(var O=0;O<K;O++){var b=new ArrayBuffer(512*4*3);d[O]=[new Int32Array(b,0),new Int32Array(b,2048),new Int32Array(b,2*2048)];
W[O]=d[O][0]}var H=m[0],Y=m[1],y=s[0];for(var B=0;B<f;B++)if(B<F||B>f-F-K-1){y.fill(0);var c=Math.max(B-F,0),$=Math.min(f,B+F+1),I=$-c;
for(var r=0;r<F;r++)P(y,x,r*f+c,r*f+$,1);for(var r=0;r<S;r++){var i=r-F-1,U=r+F;if(U<S)P(y,x,U*f+c,U*f+$,1);
if(i>=0)P(y,x,i*f+c,i*f+$,-1);var N=r*f+B<<2;M=y[300];if(M!=0)for(var O=0;O<3;O++)A[N+O]=H(s[O],x[N+O],M,R)}}else{for(var O=0;
O<K;O++)W[O].fill(0);var c=B-F+X,$=B+F+1+X;for(var r=0;r<F;r++)g(W,x,r*f+c,r*f+$,1,X);for(var r=0;r<S;
r++){var i=r-F-1,U=r+F;if(i>=0)g(W,x,i*f+c,i*f+$,-1,X);if(U<S)g(W,x,U*f+c,U*f+$,1,X);var C=d[X];M=C[0][300];
for(var O=0;O<X;O++){var D=X-1-O,n=X+1+O,w=d[D],k=d[n],h=M+w[0][300],t=M+k[0][300],a=r*f+B+D<<2,_=r*f+B+n<<2;
if(h!=0)for(var E=0;E<3;E++)A[a+E]=Y(C[E],w[E],x[a+E],h,R);if(t!=0)for(var E=0;E<3;E++)A[_+E]=Y(C[E],k[E],x[_+E],t,R)}var N=r*f+B+X<<2;
if(M!=0)for(var E=0;E<3;E++)A[N+E]=H(C[E],x[N+E],M,R)}B+=K-1}}function g(x,A,f,S,F,m){var R=p,M=f<<2,b=S<<2;
R(x[m-1],A,f-1<<2,F);R(x[m-1],A,S-1<<2,-F);R(x[m+1],A,S<<2,F);R(x[m+1],A,f<<2,-F);for(var s=1;s<m;s++){var K=x[m-s-1],X=x[m+s+1];
for(var d=0;d<=s;d++){var W=d<<2;R(K,A,f-1-d<<2,F);R(K,A,S-1-d<<2,-F);R(X,A,S+d<<2,F);R(X,A,f+d<<2,-F)}}P(x[m],A,f,S,F)}function P(x,A,f,S,F){var m=f<<2,R=S<<2;
while(m<R){p(x,A,m,F);m+=4}}function p(x,A,f,S){var F=S*A[f+3];x[300]+=F;v(x,A[f],0,F);v(x,A[f+1],512,F);
v(x,A[f+2],1024,F)}function v(x,A,f,S){x[f|A]+=S;x[f|256|A>>>4]+=S}return e}();Z.Bz.CX=function(){function e(m,R,M,b,s,K,X){if(s==0){R.set(m);
return}if(s<=80)j(m,R,M,b,s,K,X);else v(m,R,M,b,s,K,X)}function j(m,R,M,b,s,K,X){var d=0,W=new Int32Array(512),O=1+2*Math.round(Math.sqrt(s)),H=O>>>1,Y=new Array(O);
for(var y=0;y<O;y++)Y[y]=new Int32Array(512);var B=K[0],c=K[1];for(var $=0;$<M;$++)if($<s||$>M-s-O-1){W.fill(0);
d=0;var I=Math.max($-s,0),r=Math.min(M,$+s+1),i=r-I;for(var U=0;U<s;U++){d+=i;P(W,m,U*M+I,U*M+r,1)}for(var U=0;
U<b;U++){var N=U-s-1,C=U+s;if(N>=0){d-=i;P(W,m,N*M+I,N*M+r,-1)}if(C<b){d+=i;P(W,m,C*M+I,C*M+r,1)}var D=B(W,m[U*M+$],d,X);
R[U*M+$]=D}}else{for(var y=0;y<O;y++)Y[y].fill(0);d=0;var I=$-s+H,r=$+s+1+H,i=r-I;for(var U=0;U<s;U++){d+=i;
g(Y,m,U*M+I,U*M+r,1,H)}for(var U=0;U<b;U++){var N=U-s-1,C=U+s;if(N>=0){d-=i;g(Y,m,N*M+I,N*M+r,-1,H)}if(C<b){d+=i;
g(Y,m,C*M+I,C*M+r,1,H)}for(var y=0;y<H;y++){var n=H-1-y,w=H+1+y;R[U*M+$+n]=c(Y[H],Y[n],m[U*M+$+n],d,X);
R[U*M+$+w]=c(Y[H],Y[w],m[U*M+$+w],d,X)}R[U*M+$+H]=B(Y[H],m[U*M+$+H],d,X)}$+=O-1}}function g(m,R,M,b,s,K){var X=p;
X(m[K-1],R[M-1],0,s);X(m[K-1],R[b-1],0,-s);X(m[K+1],R[b],0,s);X(m[K+1],R[M],0,-s);for(var d=1;d<K;d++){var W=m[K-d-1],O=m[K+d+1];
for(var H=0;H<=d;H++){X(W,R[M-1-H],0,s);X(W,R[b-1-H],0,-s);X(O,R[b+H],0,s);X(O,R[M+H],0,-s)}}P(m[K],R,M,b,s)}function P(m,R,M,b,s){while(M<b)p(m,R[M++],0,s)}function p(m,R,M,b){m[M|R]+=b;
m[M|256|R>>>4]+=b}function v(m,R,M,b,s,K,X){var d=0,W=new Int32Array(512),O=new Int32Array(1*M),H=new Int32Array(512*M),Y=Math.min(s,M),y=Math.min(s,b),B=K[0];
for(var c=0;c<y;c++)x(H,O,m,M,c,1);for(var c=0;c<b;c++){if(c+s<b)x(H,O,m,M,c+s,1);if(c-s-1>=0)x(H,O,m,M,c-s-1,-1);
W.fill(0);d=0;for(var $=0;$<Y;$++){d+=O[$];A(W,H,$)}for(var $=0;$<M;$++){var I=$-s-1,r=$+s;if(I>=0&&O[I]!=0){d-=O[I];
f(W,H,I)}if(r<M&&O[r]!=0){d+=O[r];A(W,H,r)}var i=d==0?0:B(W,m[c*M+$],d,X);R[c*M+$]=i}}}function x(m,R,M,b,s,K){var X=s*b;
for(var d=0;d<b;d++){p(m,M[X+d],d<<9,K);R[d]+=K}}function A(m,R,M){for(var b=0;b<16;b++){var s=R[M<<9|256|b];
if(s==0)continue;m[256|b]+=s;var K=b<<4,X=M<<9|K;S(m,R,K,X);S(m,R,K+4,X+4);S(m,R,K+8,X+8);S(m,R,K+12,X+12)}}function f(m,R,M){for(var b=0;
b<16;b++){var s=R[M<<9|256|b];if(s==0)continue;m[256|b]-=s;var K=b<<4,X=M<<9|K;F(m,R,K,X);F(m,R,K+4,X+4);
F(m,R,K+8,X+8);F(m,R,K+12,X+12)}}function S(m,R,M,b){m[M]+=R[b];m[M+1]+=R[b+1];m[M+2]+=R[b+2];m[M+3]+=R[b+3]}function F(m,R,M,b){m[M]-=R[b];
m[M+1]-=R[b+1];m[M+2]-=R[b+2];m[M+3]-=R[b+3]}return e}();Z.Bz.Ck=[function(e,j,g,P){var p=15;while(e[256|p]==0&&p>0)p--;
p=(p<<4)+15;while(e[p]==0&&p>0)p--;return p},function(e,j,g,P,p){var v=15;while(e[256|v]+j[256|v]==0&&v>0)v--;
v=(v<<4)+15;while(e[v]+j[v]==0&&v>0)v--;return v}];Z.Bz.Ch=[function(e,j,g,P){var p=0;while(e[256|p]==0&&p<15)p++;
p=p<<4;while(e[p]==0&&p<255)p++;return p},function(e,j,g,P,p){var v=0;while(e[256|v]+j[256|v]==0&&v<15)v++;
v=v<<4;while(e[v]+j[v]==0&&v<255)v++;return v}];Z.Bz.Zl=.5;Z.Bz.Cw=[function(e,j,g,P){var p=~~(.5+Z.Bz.Zl*g),v=0,x=256;
while(v+e[x]<=p)v+=e[x++];x=x-256<<4;while(v<=p)v+=e[x++];return x-1},function(e,j,g,P,p){var v=~~(.5+Z.Bz.Zl*P),x=0,A=256;
while(x+e[A]+j[A]<=v){x+=e[A]+j[A];A++}A=A-256<<4;while(x<=v){x+=e[A]+j[A];A++}return A-1}];Z.Bz.cs=[function(e,j,g,P){var p=P[0],v=0,x=0,A=Math.max(0,j-p),f=Math.min(256,j+p+1);
while(A<f){var S=e[A];v+=A*S;x+=S;A++}return x==0?0:v/x},function(e,j,g,P,p){var v=p[0],x=0,A=0,f=Math.max(0,g-v),S=Math.min(256,g+v+1);
while(f<S){var F=e[f]+j[f];x+=f*F;A+=F;f++}return A==0?0:x/A}];Z.D={};Z.D.cK=function(e){var j=o.t.ca(e.Trnf),g=e.Sz.v,P=Z.D.Or(j,new G(0,0,g.Wdth.v,g.Hght.v));
return Z.D.pN(P)};Z.D.Or=function(e,j){var g=e[0],P=e[1],p=e[2],v=e[3],x=e[6],A=e[7],f=e[4],S=e[5],F=0,m=0,R=1,M=0,b=0,s=1,K=1,X=1;
if(j){F=j.x;m=j.y;R=j.x+j.W;M=j.y;b=j.x;s=j.y+j.j;K=j.x+j.W;X=j.y+j.j}return Z.D.Zth(e,[F,m,R,M,K,X,b,s])};
Z.D.Zth=function(e,j){var g=e[0],P=e[1],p=e[2],v=e[3],x=e[6],A=e[7],f=e[4],S=e[5],F=j[0],m=j[1],R=j[2],M=j[3],b=j[6],s=j[7],K=j[4],X=j[5],d=[[F,m,1,0,0,0,-F*g,-m*g,g],[0,0,0,F,m,1,-F*P,-m*P,P],[R,M,1,0,0,0,-R*p,-M*p,p],[0,0,0,R,M,1,-R*v,-M*v,v],[b,s,1,0,0,0,-b*x,-s*x,x],[0,0,0,b,s,1,-b*A,-s*A,A],[K,X,1,0,0,0,-K*f,-X*f,f],[0,0,0,K,X,1,-K*S,-X*S,S]],W=[0,0,0,0,0,0,0,0],O=Z.YG.fB(d,W);
if(O!=0)W=[0,0,0,0,0,0,0,0];return W};Z.D.Ka=function(e){return Math.abs(e[6])<1e-10&&Math.abs(e[7])<1e-10};
Z.D.pN=function(e){return new WE(e[0],e[3],e[1],e[4],e[2],e[5])};Z.D.aL=function(e){return[e.Fl,e.Ug,e.vR,e.e,e.LC,e.LV,0,0]};
Z.D.apply=function(e,j){var g=new Float64Array(2);for(var P=0;P<j.length;P+=2){var p=j[P],v=j[P+1];Z.D.Cl(p,v,e,g);
j[P]=g[0];j[P+1]=g[1]}};Z.D.Cl=function(e,j,g,P){var p=1/(g[6]*e+g[7]*j+1);P[0]=(g[0]*e+g[1]*j+g[2])*p;
P[1]=(g[3]*e+g[4]*j+g[5])*p};Z.D.cA=function(e,j){var g=new Float64Array(2);Z.D.Cl(j.x,j.y,e,g);return new Uc(g[0],g[1])};
Z.D.eQ=function(e,j,g,P){e=new Uint32Array(e.buffer);j=new Uint32Array(j.buffer);for(var p=0;p<P;p++){for(var v=0;
v<g;v++){j[v*P+p]=e[p*g+v]}}};Z.D.Zqf=function(e,j,g,P){e=new Uint32Array(e.buffer);j=new Uint32Array(j.buffer);
for(var p=0;p<P;p++){for(var v=0;v<g;v++){j[p*g+v]=e[p*g+g-1-v]}}};Z.D.cP=function(e){return Math.abs(e[6])<1e-9&&Math.abs(e[7])<1e-9};
Z.D.cX=function(e){return Math.abs(e[0])<1e-9&&Math.abs(e[4])<1e-9||Math.abs(e[1])<1e-9&&Math.abs(e[3])<1e-9};
Z.D.drawImage=function(e,j,g,P,p,v,x,A,f){if(x==null)x=!1;if(A==null)A=!1;var S=Z.D.OF(e),F=!0,m=0,R=1/Math.sqrt(Math.abs(e[0]/g*e[4]/P-e[1]/g*e[3]/P));
for(var M=0;M<8;M++){var b=Math.round(e[M]);if(M!=2&&M!=5)m+=Math.abs(b);if(Math.abs(b-e[M])>1e-9)F=!1}var s=Z.D.cP(e),K=Z.D.cX(e)&&s,X=K?1:0;
if(x||F&&m==g+P&&s){Z.D.Zqu(S,j,g,P,p,v,A,s,f);return}var d=v.W,W=v.j,O=new Float64Array(2);p=new Uint32Array(p.buffer);
j=new Uint32Array(j.buffer);for(var H=0;H<W;H++)for(var Y=0;Y<d;Y++){var y=H*d+Y,B,c,$,I,WW=0,Wx=0,WU=0,We=0;
p[y]=0;var r=Y+v.x+.5,i=H+v.y+.5;B=r;c=i;$=S;I=1/($[6]*B+$[7]*c+1);var U=($[0]*B+$[1]*c+$[2])*I,N=($[3]*B+$[4]*c+$[5])*I,C=U*g,D=N*P,n=C<-1||C>g+1||D<-1||D>P+1;
if(A){C=Math.max(.001,Math.min(g-1,C));D=Math.max(.001,Math.min(P-1,D))}else if(n)continue;var w=R;if(!s){var k=0,h=0;
$=e;B=U+1/g;c=N;I=1/($[6]*B+$[7]*c+1);k=($[0]*B+$[1]*c+$[2])*I-r;h=($[3]*B+$[4]*c+$[5])*I-i;var t=k*k+h*h;
B=U;c=N+1/P;I=1/($[6]*B+$[7]*c+1);k=($[0]*B+$[1]*c+$[2])*I-r;h=($[3]*B+$[4]*c+$[5])*I-i;var a=k*k+h*h;
w=1/Math.sqrt(Math.max(t,a))}if(w<1.1){Z.D.TL(C,D,j,g,P,p,y,X);continue}var _=Math.round(w*2.3);if(!A&&(C<.6||C>g-.6||D<.6||D>P-.6)){_=Math.max(_,5)}if(A&&n)_=1;
var E=1/_,Wv=v.x+Y,L=v.y+H;$=S;for(var M=0;M<_;M++)for(var J=0;J<_;J++){B=Wv+(M+.5)*E;c=L+(J+.5)*E;I=1/($[6]*B+$[7]*c+1);
var C=($[0]*B+$[1]*c+$[2])*I,D=($[3]*B+$[4]*c+$[5])*I;if(A){C=Math.max(.001,Math.min(.999,C));D=Math.max(.001,Math.min(.999,D))}else if(C<0||C>=1||D<0||D>=1)continue;
C=Math.floor(C*g);D=Math.floor(D*P);var WZ=D*g+C,WJ=j[WZ],Wu=WJ>>>24;WW+=(WJ&255)*Wu;Wx+=(WJ>>>8&255)*Wu;
WU+=(WJ>>>16&255)*Wu;We+=Wu}if(We!=0){var WC=1/We;WW=~~(WW*WC+.5);Wx=~~(Wx*WC+.5);WU=~~(WU*WC+.5);We=~~(We*E*E+.5);
p[y]=We<<24|WU<<16|Wx<<8|WW}}};Z.D.Zqu=function(e,j,g,P,p,v,x,A,f){if(A&&!x&&v.h()>4e6&&f){Z.D.ZqK(e,j,g,P,p,v,x,A,f);
return}var S=v.x+v.W,F=v.y+v.j,m=0,R=new Uint32Array(p.buffer),M=new Uint32Array(j.buffer),b=e[0]*g,s=e[1]*g,K=e[2]*g,X=e[3]*P,d=e[4]*P,W=e[5]*P,O=e[6],H=e[7];
if(A&&!x)for(var Y=v.y+.5;Y<F;Y++)for(var y=v.x+.5;y<S;y++){var B=b*y+s*Y+K,c=X*y+d*Y+W;if(0<B&&B<g&&0<c&&c<P){var $=~~c*g+~~B;
R[m]=M[$]}else R[m]=0;m++}else for(var Y=v.y+.5;Y<F;Y++)for(var y=v.x+.5;y<S;y++){var I=1/(O*y+H*Y+1),B=(b*y+s*Y+K)*I,c=(X*y+d*Y+W)*I;
if(x){B=Math.max(.001,Math.min(g-1,B));c=Math.max(.001,Math.min(P-1,c))}if(0<B&&B<g&&0<c&&c<P){var $=Math.floor(c)*g+Math.floor(B);
R[m]=M[$]}else R[m]=0;m++}};Z.D.ZqK=function(e,j,g,P,p,v,x,A,f){var S=new Uint32Array(p.buffer),F=new Uint32Array(j.buffer),H=0;
if(f&&(v.W&3)!=0)throw"e";var m=e[0]*g,R=e[1]*g,M=e[2]*g,b=e[3]*P,s=e[4]*P,K=e[5]*P,X=e[6],d=e[7],W=v.W,O=v.j,Y=v.x+.5,y=v.y+.5,B=(W>>>2<<2)-1e-9,c=-.1+(O>>>1<<1)-1e-9,$=~~g,I=m==0?0:1/m,r=b==0?0:1/b;
for(var i=0;i<O;i++){var U=Y*m+R*(i+y)+M,N=Y*b+s*(i+y)+K,C=0,D=W;if(m==0){}else if(I>0){C=Math.max(C,-U*I);
D=Math.min(D,(g-U)*I)}else{D=Math.min(D,-U*I);C=Math.max(C,(g-U)*I)}if(b==0){}else if(r>0){C=Math.max(C,-N*r);
D=Math.min(D,(P-N)*r)}else{D=Math.min(D,-N*r);C=Math.max(C,(P-N)*r)}if(D<0)D=0;if(C>D)C=D;C=Math.ceil(C);
D=~~D;H=~~(i*W);for(var n=0;n<C;n++)S[H++]=0;for(var n=C;n<D;n+=4){var w=m*n+U,k=b*n+N,h=~~k*$+~~w;S[H++]=S[H++]=S[H++]=S[H++]=F[h]}for(var n=D;
n<W;n++)S[H++]=0}};Z.D.OF=function(e){var j=e[4]-e[5]*e[7],g=e[2]*e[7]-e[1],P=e[1]*e[5]-e[2]*e[4],p=e[5]*e[6]-e[3],v=e[0]-e[2]*e[6],x=e[3]*e[2]-e[0]*e[5],A=e[3]*e[7]-e[4]*e[6],f=e[1]*e[6]-e[0]*e[7],S=1/(e[0]*e[4]-e[1]*e[3]);
return[j*S,g*S,P*S,p*S,v*S,x*S,A*S,f*S]};Z.D.TS=function(e,j){var g=e[0],P=e[1],p=e[2],v=e[3],x=e[4],A=e[5],f=e[6],S=e[7],F=j[0],m=j[1],R=j[2],M=j[3],b=j[4],s=j[5],K=j[6],X=j[7],d=[g*F+P*M+p*K,g*m+P*b+p*X,g*R+P*s+p,v*F+x*M+A*K,v*m+x*b+A*X,v*R+x*s+A,f*F+S*M+K,f*m+S*b+X],W=1/(f*R+S*s+1);
for(var O=0;O<8;O++)d[O]*=W;return d};Z.D.TL=function(e,j,g,P,p,v,x,A){var f=e,S=j,R=0,M=0,b=0,s=0;e-=.499999;
j-=.499999;var F=Math.floor(e),m=Math.floor(j);if(A==0){var K=m*P+F,X=F>=0&&F<P,d=F+1>=0&&F+1<P,W=m>=0&&m<p,O=m+1>=0&&m+1<p;
if(X&&W)R=g[K];if(d&&W)M=g[K+1];if(X&&O)b=g[K+P];if(d&&O)s=g[K+P+1]}else if(A==1){var H=F<0?0:F>P-1?P-1:F,Y=F<-1?0:F>P-2?P-1:F+1,y=m<0?0:m>p-1?p-1:m,B=m<-1?0:m>p-2?p-1:m+1;
R=g[y*P+H];M=g[y*P+Y];b=g[B*P+H];s=g[B*P+Y]}else{var H=(F+50*P)%P,Y=(F+50*P)%P,y=(m+50*p)%p,B=(m+50*p)%p;
R=g[y*P+H];M=g[y*P+Y];b=g[B*P+H];s=g[B*P+Y]}var c=e-F,$=j-m,I=(1-$)*(1-c)*(R>>>24),r=(1-$)*c*(M>>>24),i=$*(1-c)*(b>>>24),U=$*c*(s>>>24),N=I+r+i+U,C=I*(R&255)+r*(M&255)+i*(b&255)+U*(s&255),D=I*(R>>>8&255)+r*(M>>>8&255)+i*(b>>>8&255)+U*(s>>>8&255),n=I*(R>>>16&255)+r*(M>>>16&255)+i*(b>>>16&255)+U*(s>>>16&255);
if(N==0)v[x]=0;else{var w=1/N;C=~~(C*w+.5);D=~~(D*w+.5);n=~~(n*w+.5);N=~~(N+.5);v[x]=N<<24|n<<16|D<<8|C}};
Z.D.co=function(e,j,g,P,p,v){var x=e-.499999,A=j-.499999,f=~~x,S=~~A,F=x-f,m=A-S,R=(1-m)*(1-F),M=(1-m)*F,b=m*(1-F),s=m*F,K=S*P+f<<2,X=(S+1)*P+f<<2,d=R*g[K]+M*g[K+4]+b*g[X]+s*g[X+4],W=R*g[K+1]+M*g[K+5]+b*g[X+1]+s*g[X+5],O=R*g[K+2]+M*g[K+6]+b*g[X+2]+s*g[X+6],H=R*g[K+3]+M*g[K+7]+b*g[X+3]+s*g[X+7];
v[0]=d;v[1]=W;v[2]=O;v[3]=H};Z.D.cl=function(e,j,g,P,p,v,x,A,f,S,F,m){var R=new Uint32Array(e.buffer),M=new Uint32Array(P.buffer),b=(1+2*S)/p,s=[],K=[];
for(var X=0;X<p;X++){var d=-.25+S-X*b;s.push(Math.cos(2*Math.PI*d)*m/F);s.push(Math.sin(2*Math.PI*d)/F)}x*=j;
A*=g;for(var W=0;W<v;W++){var O=Math.pow(W/v,f)*v;for(var X=0;X<p;X++){var H=x+s[X<<1]*O,Y=A+s[(X<<1)+1]*O,y=~~(.5+(H<0?0:H>j-1?j-1:H)),B=~~(.5+(Y<0?0:Y>g-1?g-1:Y));
M[W*p+X]=R[B*j+y]}}};Z.D.cm=function(e,j,g,P,p,v,x,A,f,S,F,m){var R=new Uint32Array(e.buffer),M=new Uint32Array(P.buffer),b=1/m,s=[],K=g*4,X=1/K;
for(var d=0;d<K;d++)s.push(Math.pow(d*X,1/f)*g*F);x*=p;A*=v;for(var d=0;d<v;d++)for(var W=0;W<p;W++){var O=b*(W-x),H=d-A,Y=1.75-Math.atan2(H,O)*(1/(2*Math.PI));
Y=Y-~~Y;Y=(Y+S)*(1/(1+2*S));var y=Math.sqrt(O*O+H*H);y=s[~~(y*4)];Z.D.TL(Y*j+.5,y+.5,R,j,g,M,d*p+W,1)}};
Z.c={Tp:function(e,j){var g=~~(.499+e*j);return g<0?0:g>j?j:g},Zq$:function(e,j,g,P,p,v,x,A){var f=g[0],S=g[1],F=g[2],m=g[3],R=P.W,M=P.j,b=new Float64Array(R*4+8),s=new Float64Array(R*4+8);
for(var K=0,X=0;K<M;K++){var d=b;b=s;s=d;s.fill(0);for(var W=0;W<R;W++,X++){var O=W+p,H=K+v,Y=f*O+S*H,y=F*O+m*H,B=0,I=0;
if(A==0)B=Y+.5;else if(A==1)B=2*Math.sqrt(Y*Y+y*y);else if(A==2)B=(Math.PI+Math.atan2(-y,-Y))/(2*Math.PI);
else if(A==3)B=Math.abs(Y*2);else if(A==4)B=2*(Math.abs(Y)+Math.abs(y));var c=Z.c.Tp(B,x)*4,$=W*4;for(var r=0;
r<4;r++){var i=Math.max(0,Math.min(254.999,j[c+r]+b[$+4+r])),U=Math.floor(i);if(Math.random()<i-U)U++;
var N=i-U;b[$+8+r]=N*(7/16);s[$+0+r]=N*(3/16);s[$+4+r]=N*(5/16);s[$+8+r]=N*(1/16);I|=U<<r*8}e[X]=I}}},Q:[function(e,j,g,P,p,v,x){var A=g[0],f=g[1],S=g[2],F=g[3],m=P.W,R=P.j;
for(var M=0,b=0;M<R;M++)for(var s=0;s<m;s++,b++){var K=s+p,X=M+v,d=A*K+f*X,W=S*K+F*X,O=d+.5;e[b]=j[Z.c.Tp(O,x)]}},function(e,j,g,P,p,v,x){var A=g[0],f=g[1],S=g[2],F=g[3],m=P.W,R=P.j;
for(var M=0,b=0;M<R;M++)for(var s=0;s<m;s++,b++){var K=s+p,X=M+v,d=A*K+f*X,W=S*K+F*X,O=2*Math.sqrt(d*d+W*W);
e[b]=j[Z.c.Tp(O,x)]}},function(e,j,g,P,p,v,x){var A=g[0],f=g[1],S=g[2],F=g[3],m=P.W,R=P.j;for(var M=0,b=0;
M<R;M++)for(var s=0;s<m;s++,b++){var K=s+p,X=M+v,d=A*K+f*X,W=S*K+F*X,O=(Math.PI+Math.atan2(-W,-d))/(2*Math.PI);
e[b]=j[Z.c.Tp(O,x)]}},function(e,j,g,P,p,v,x){var A=g[0],f=g[1],S=g[2],F=g[3],m=P.W,R=P.j;for(var M=0,b=0;
M<R;M++)for(var s=0;s<m;s++,b++){var K=s+p,X=M+v,d=A*K+f*X,W=S*K+F*X,O=Math.abs(d*2);e[b]=j[Z.c.Tp(O,x)]}},function(e,j,g,P,p,v,x){var A=g[0],f=g[1],S=g[2],F=g[3],m=P.W,R=P.j;
for(var M=0,b=0;M<R;M++)for(var s=0;s<m;s++,b++){var K=s+p,X=M+v,d=A*K+f*X,W=S*K+F*X,O=2*(Math.abs(d)+Math.abs(W));
e[b]=j[Z.c.Tp(O,x)]}}]};Z.c.Zyr=function(e,j){return e+.5};Z.c.Zyf=function(e,j){return 2*Math.sqrt(e*e+j*j)};
Z.c.ZyJ=function(e,j){return(Math.PI+Math.atan2(-j,-e))/(2*Math.PI)};Z.c.Zya=function(e,j){return Math.abs(e*2)};
Z.c.Zyi=function(e,j){return 2*(Math.abs(e)+Math.abs(j))};Z.c.ff=function(e,j,g,P,p,v,x,A,f,S,F,m){if(e.Clrs==null)return;
var R=new Uint32Array(j.buffer),M=1023,b=Z.c.Ki(e.Clrs.v,f,S);if(m){var s=Z.c.ZqO(e,b,M+1,x);Z.c.Zq$(R,s,P,g,g.x-p,g.y-v,M,A);
return}var K=Z.c.cQ(e,b,M+1,x);if(A<5){Z.c.Q[A](R,K,P,g,g.x-p,g.y-v,M)}else{var X=new Uint8Array(K.buffer),d=g.W,W=g.j,O=F.SK-F.SZ,H=1/O,Y=F.tz.W-g.W>>1,y=F.tz.j-g.j>>1,B=F.tz.W,c=-.6*H,$=(-.6+.4)*H,I=(-.6+2*.4)*H,r=(-.6+3*.4)*H;
for(var i=0,U=0;i<W;i++)for(var N=0;N<d;N++,U+=4){var C=0,D=0,n=0,w=0,k=(i+y)*B+N+Y,h=(F.yL[k]-F.SZ)*H,t=0;
if(h<=0||h>=1){t=(h<=0?0:M)<<2;j[U]=X[t];j[U+1]=X[t+1];j[U+2]=X[t+2];j[U+3]=X[t+3];continue}t=Math.max(0,Math.min(M-1,Math.round((h+c)*M)))<<2;
D+=X[t];n+=X[t+1];w+=X[t+2];C+=X[t+3];t=Math.max(0,Math.min(M-1,Math.round((h+$)*M)))<<2;D+=X[t];n+=X[t+1];
w+=X[t+2];C+=X[t+3];t=Math.max(0,Math.min(M-1,Math.round((h+I)*M)))<<2;D+=X[t];n+=X[t+1];w+=X[t+2];C+=X[t+3];
t=Math.max(0,Math.min(M-1,Math.round((h+r)*M)))<<2;D+=X[t];n+=X[t+1];w+=X[t+2];C+=X[t+3];j[U]=D>>>2;
j[U+1]=n>>>2;j[U+2]=w>>>2;j[U+3]=C>>>2}}};Z.c.Ki=function(e,j,g){var P=[];for(var p=0;p<e.length;p++){var v;
if(e[p].v.Type.v.Clry=="FrgC")v={k:j>>16&255,z:j>>8&255,e:j&255};else if(e[p].v.Type.v.Clry=="BckC")v={k:g>>16&255,z:g>>8&255,e:g&255};
else v=Z.c.W_(e[p].v.Clr.v);P.push(v)}return P};Z.c.W_=function(e){var j,g=e.classID;if(g=="RGBC")j={k:e.Rd.v,z:e.Grn.v,e:e.Bl.v};
else if(g=="HSBC"){j=Z.yD(e.H.v.val/360,e.Strt.v/100,e.Brgh.v/100);j.k*=255;j.z*=255;j.e*=255}else if(g=="CMYC"){var P=100-e.Cyn.v,p=100-e.Mgnt.v,v=100-e.Ylw.v,x=100-e.Blck.v,A=255*P*x*1e-4,f=255*(.2*P+.8*p)*x*1e-4,S=255*(.2*p+.8*v)*x*1e-4;
j={k:A,z:f,e:S}}else if(g=="Grsc")j={k:255-e.Gry.v,z:255-e.Gry.v,e:255-e.Gry.v};else if(g=="LbCl"){j=Z.QR(e.Lmnc.v,e.A.v,e.B.v)}else console.log(e);
if(isNaN(j.k))j.k=j.z=j.e=0;return j};Z.c.Op=function(e){return{classID:"RGBC",Rd:{t:"doub",v:e.k},Grn:{t:"doub",v:e.z},Bl:{t:"doub",v:e.e}}};
Z.c.ZqO=function(e,j,g,P){var p=[],v=1/(g-0);for(var x=0;x<g;x++){var A=x*4,f=Z.c.cc(e,j,(P?g-1-x:x)*v);
p[A]=f[0];p[A+1]=f[1];p[A+2]=f[2];p[A+3]=f[3]}return p};Z.c.cQ=function(e,j,g,P){var p=new Uint32Array(g),v=1/(g-0);
for(var x=0;x<g;x++)p[x]=Z.c.pK(e,j,(P?g-1-x:x)*v);return p};Z.c.cc=function(e,j,g){var P=4096,p=1/4096,v=e.Intr.v*p,x=e.Clrs.v,A=e.Trns.v,f=x.length-1,S=A.length-1,F=-1,m=0,R=0,M=0,b=0;
while(F<S&&A[F+1].v.Lctn.v<=g*P)F++;if(F==-1){m=A[0].v.Opct.v.val*(255/100)}else if(F==S){m=A[F].v.Opct.v.val*(255/100)}else{var s=Z.c.ZE(A,p,F,g,v);
m=(s*A[F].v.Opct.v.val+(1-s)*A[F+1].v.Opct.v.val)*(255/100)}F=-1;while(F<f&&x[F+1].v.Lctn.v<=g*P)F++;
if(F==-1){var K=j[0];R=K.k;M=K.z;b=K.e}else if(F==f){var K=j[F];R=K.k;M=K.z;b=K.e}else{var X=j[F],d=j[F+1],W=Z.c.ZE(x,p,F,g,v);
R=W*X.k+(1-W)*d.k;M=W*X.z+(1-W)*d.z;b=W*X.e+(1-W)*d.e}return[R,M,b,m]};Z.c.pK=function(e,j,g){var P=Z.c.cc(e,j,g),p=~~(.5+P[0]),v=~~(.5+P[1]),x=~~(.5+P[2]),A=~~(.5+P[3]);
return A<<24|x<<16|v<<8|p};Z.c.ZE=function(e,j,g,P,p){if(e.length==2)p*=.5;var v=e[g].v.Lctn.v*j,x=e[g+1].v.Lctn.v*j,A=v+e[g+1].v.Mdpn.v*.01*(x-v),f;
if(P<A)f=.5*(P-v)/(A-v);else f=.5+.5*(P-A)/(x-A);f=.5+.5*(p*Math.cos(Math.PI*f)+(1-p)*(1-2*f));return f};
Z.c.C_=function(e,j){var g=Math.PI*e.Angl.v.val/180,P=e.Scl.v.val/100,p=e.Ofst.v,v=p.Hrzn.v.val/100,x=p.Vrtc.v.val/100,A=Math.cos(g),f=-Math.sin(g),S=.5*j.j,F=S*(A/f),m=Math.sqrt(S*S+F*F),R=.5*j.W,M=R*(f/A),b=Math.sqrt(R*R+M*M),s=Math.min(m,b)*P,K=j.x+j.W/2+v*j.W,X=j.y+j.j/2+x*j.j;
return[new Uc(K,X),new Uc(K+A*s,X+f*s)]};Z.c.KL=function(e,j,g,P){var p=j.x-e.x,v=-(j.y-e.y),x=Math.sqrt(p*p+v*v),A=Math.atan2(v,p),f=Math.cos(A),S=-Math.sin(A),F=.5*g.j,m=F*(f/S),R=Math.sqrt(F*F+m*m),M=.5*g.W,b=M*(S/f),s=Math.sqrt(M*M+b*b),K=x/Math.min(R,s),X=(e.x-g.x-g.W/2)/g.W,d=(e.y-g.y-g.j/2)/g.j;
P.Angl.v.val=180*A/Math.PI;P.Scl.v.val=K*100;var W=P.Ofst.v;W.Hrzn.v.val=X*100;W.Vrtc.v.val=d*100};Z.c.fU=function(e,j){for(var g=0;
g<e.length;g++){var P=e[g],p=Math.round(P[0]*4096),v=P[1],x=P[2];if(x==null)x=1;var A=Z.c.Op({k:v[0]*255,z:v[1]*255,e:v[2]*255});
j.Clrs.v[g]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:p},Mdpn:{t:"long",v:50},Clr:{t:"Objc",v:A},Type:{t:"enum",v:{Clry:"UsrS"}}}};
j.Trns.v[g]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:p},Mdpn:{t:"long",v:50},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(x*100)}}}}}};
Z.xf={};Z.xf.fe=function(e,j,g,P,p){var v=!1,b=1,U=0,N=0,a=0,Wt=0;if(!j.pY(p)){var x=j.Gd(p),A=Z.V(x.h()*4);
Z.Vy(e,j,A,x);e=A;j=x}var f=Z.V(j.h());Z.Oo(g,p,f,j);Z.round(f);p=p.zx(j);var S=p.W,F=p.j,m=S*3<F?2:1,R=F*3<S?2:1;
if(p.h()*(m*2+1)*(R*2+1)<j.h()){var x=new G(p.x-S*m,p.y-F*m,S*(m*2+1),F*(R*2+1)).zx(j),A=Z.V(x.h()*4);
Z.Vy(e,j,A,x);var M=Z.V(x.h());Z.Oo(f,j,M,x);j=x;e=A;f=M}while((j.W+j.j)/2/b>400)b++;var s=e,K=j,X=f,d=Math.floor(K.W/b),W=Math.floor(K.j/b);
e=Z.V(d*W*4);Z.scale.Tl(s,K.W,K.j,e,d,W,1/b);f=Z.V(d*W);Z.scale.$Y(X,K.W,K.j,f,d,W,1/b);Z.round(f,1);
var O=Z.Ms(f,new G(0,0,d,W));if(O.tE())return;var H=Math.round((O.W+O.j)/2/15),Y=Date.now(),y=Z.V(d*W*4);
Z.ZuA(e,y);var B=Int16Array,c=new B(d*W*24),$=new B(64),I=new B(64),r=new B(64),i=new B(64);for(var C=3;
C<W-4;C++)for(var D=3;D<d-4;D++){var n=C*d+D;if(f[n]==255)continue;if(Z.xf.ZLF(y,f,D,C,d,W,$,I,r)!=0)continue;
Z.xf.gC($,i);c[U]=D;c[U+1]=C;Z.xf.Ue($,c,U+4,12);U+=16;Z.xf.gC(I,i);Z.xf.Ue(I,c,U,4);U+=4;Z.xf.gC(r,i);
Z.xf.Ue(r,c,U,4);U+=4;var w=c[U-24+5],k=c[U-24+6];c[U-24+5]=c[U-24+20];c[U-24+6]=c[U-24+16];c[U-24+16]=w;
c[U-24+20]=k;N++}if(N==0)return;if(v)console.log(Date.now()-Y,"FWHT computed");Y=Date.now();var h=[];
Z.xf.Cm(0,N-1,h,c,new B(2*24));if(v)console.log(Date.now()-Y,"KD tree computed");Y=Date.now();var t=new Float32Array(d*W*4);
for(var _=0;_<N;_++){var E=_,WW=Z.xf.ZLN(E,c,h,H);if(WW==-1)continue;var Wx=E*24,WU=WW*24,We=c[Wx],Wv=c[Wx+1],L=c[WU],J=c[WU+1];
a+=Z.xf.getError(WU,Wx,c,1e99);var WZ=L-We,WJ=J-Wv;t[(W+WJ)*2*d+(d+WZ)]+=1}if(v)console.log(Date.now()-Y,"NN found");
Y=Date.now();var Wu=[],WC=1/(2*d);for(var _=0;_<t.length;_++){if(t[_]>0){var C=Math.floor(_*WC),D=_-C*2*d;
Wu.push({x:D-d,y:C-W,r:t[_],XJ:-1})}}Wu.sort(function(W_,vW){return vW.r-W_.r});var Wn=new Int32Array(d*W),WB=[];
for(var _=0;_<d*W;_++){if(f[_]==255){Wn[_]=Wt;WB.push(_%d,Math.floor(_/d));Wt++}else if(e[(_<<2)+3]<200){Wn[_]=-2}else{Wn[_]=-1}}var Wy=Z.xf.ZLx(d,W,Wu,Wn,WB,Wt);
if(Wy==null){return}var Wz=Wy.Od,top=Wy.top;Wz=Z.xf.Zqp(Wz,e,d,W,top,Wn,WB,Wt);if(v)console.log(Date.now()-Y,"optimal labeling found");
Y=Date.now();var x=p.clone();x.F_(1,1);x=x.zx(K);var Wq=Z.V(x.h()*4),Wa=Z.V(x.h());Z.Vy(s,K,Wq,x);var WK=K.W,Wd=K.j;
for(var C=0;C<Wd;C++)for(var D=0;D<WK;D++){if(X[C*WK+D]==0)continue;var WD=Math.min(Math.floor(D/b),d-1),W$=Math.min(Math.floor(C/b),W-1),Zg=Wn[W$*d+WD],WL=Wz[Zg],WY=top[WL],WA=D+WY.x*b,Wb=C+WY.y*b,WX=Wb*WK+WA<<2,Ww=(C-x.y+K.y)*x.W+(D-x.x+K.x)<<2;
Wq[Ww]=s[WX];Wq[Ww+1]=s[WX+1];Wq[Ww+2]=s[WX+2];Wq[Ww+3]=s[WX+3];Wq[Ww+3]=s[WX+3];Wa[Ww>>2]=WL+1}if(v)console.log(Date.now()-Y,"copied back");
Y=Date.now();Z.$K.fe(Wq,Wa,x,null,1e3);if(v)console.log(Date.now()-Y,"poisson smooth");Y=Date.now();
Z.Vy(Wq,x,P,p)};Z.xf.fG=function(e,j,g,P,p,v){return Z.xf.KT(e+p.x,j+p.y,g,P)&&v[(j+p.y)*g+(e+p.x)]==-1?0:1e9};
Z.xf.Zqp=function(e,j,g,P,top,p,v,x){var A=Date.now(),f=[-1,0,0,-1,1,0,0,1],S=1e99,F=[],m=[],R=2*(x*2*3+x*2),M=null,b=0,s=0,K=0,X=1e99;
while(!0&&Date.now()<A+12e3){K++;var d=null,W=S;for(var O=0;O<top.length;O++){var H=top[O],Y=0,y=x+2,B=0;
for(var c=0;c<x;c++){var $=v[c*2],I=v[c*2+1],r=top[e[c]],i=Z.xf.fG($,I,g,P,H,p),U=e[c]==O?1e9:Z.xf.fG($,I,g,P,r,p);
for(var N=0;N<4;N++){if(N==0&&$==0||N==1&&I==0||N==2&&$==g-1||N==3&&I==P-1)continue;var D=f[2*N],n=f[2*N+1],w=$+D,k=I+n,h=p[k*g+w];
if(h==-2){}else if(h==-1){i+=3*Z.xf.JI(w+H.x,k+H.y,w,k,g,P,j,p);i+=2*Z.xf.JI(w+H.x+D,k+H.y+n,w+D,k+n,g,P,j,p);
U+=3*Z.xf.JI(w+r.x,k+r.y,w,k,g,P,j,p);U+=2*Z.xf.JI(w+r.x+D,k+r.y+n,w+D,k+n,g,P,j,p)}else if(N>1){if(e[c]==e[h]){var t=0;
t+=Z.xf.JI($+r.x,I+r.y,$+H.x,I+H.y,g,P,j,p);t+=Z.xf.JI(w+r.x,k+r.y,w+H.x,k+H.y,g,P,j,p);F[Y]=c;F[Y+1]=h;
m[Y]=t;m[Y+1]=t;Y+=2}else{var a=top[e[h]],_=y,E=0,WW=0,Wx=0;y++;E+=Z.xf.JI($+r.x,I+r.y,$+H.x,I+H.y,g,P,j,p);
E+=Z.xf.JI(w+r.x,k+r.y,w+H.x,k+H.y,g,P,j,p);WW+=Z.xf.JI($+a.x,I+a.y,$+H.x,I+H.y,g,P,j,p);WW+=Z.xf.JI(w+a.x,k+a.y,w+H.x,k+H.y,g,P,j,p);
Wx+=Z.xf.JI($+a.x,I+a.y,$+r.x,I+r.y,g,P,j,p);Wx+=Z.xf.JI(w+a.x,k+a.y,w+r.x,k+r.y,g,P,j,p);F[Y]=c;F[Y+1]=_;
m[Y]=E;m[Y+1]=E;Y+=2;F[Y]=h;F[Y+1]=_;m[Y]=WW;m[Y+1]=WW;Y+=2;F[Y]=_;F[Y+1]=x+1;m[Y]=Wx;m[Y+1]=0;Y+=2}}}F[Y]=x;
F[Y+1]=c;m[Y]=i;m[Y+1]=0;Y+=2;F[Y]=c;F[Y+1]=x+1;m[Y]=U;m[Y+1]=0;Y+=2;B+=Math.min(i,U)}if(B>W)continue;
var WU=Z.OQ.fB(y,Y,x,x+1,F,m,W);if(WU.DO<W){W=WU.DO;var We=e.slice(0);Z.xf.ZqA(We,Y,F,WU.Xd,O,x);d=We}}if(W*1>=S){break}S=W;
e=d;if((K&3)==0){if(W*1.03>=X)break;X=W}if((K&3)==0){var Wv=0*top.length;for(var c=0;c<top.length&&top.length>Wv;
c++){if(e.indexOf(c)!=-1)continue;top.splice(c,1);for(var h=0;h<e.length;h++)if(e[h]>c)e[h]--;c--}}}return e};
Z.xf.ZqA=function(e,j,g,P,p,v){for(var x=0;x<P.length;x++){var A=P[x]<<1,f=0,S=0;if(A<j){f=g[A];S=g[A+1]}else{S=g[A];
f=g[A+1]}if(f==v&&e[S]!=p)e[S]=p}};Z.xf.fs=function(top,e,j,g,P,p,v,x,A){for(var f=0;f<j.length;f++){var S=j[f],F=!0;
if(x!=null&&!(Z.xf.KT(x+S.x,A+S.y,p,v)&&g[p*(A+S.y)+x+S.x]==-1))continue;if(S.XJ==-1)S.XJ=Z.xf.Zqc(S,g,P,p,v);
if(S.XJ<=0)continue;for(var m=0;m<top.length;m++){var R=top[m],M=S.x-R.x,b=S.y-R.y;if(M*M+b*b<e){F=!1;
break}}if(F)return S}return null};Z.xf.Zqc=function(e,j,g,P,p){var v=0;for(var x=0;x<g.length;x+=2){var A=g[x]+e.x,f=g[x+1]+e.y;
if(Z.xf.KT(A,f,P,p)&&j[P*f+A]==-1)v++}return v/(g.length>>1)};Z.xf.ZLx=function(e,j,g,P,p,v){var top=[];
for(var x=0;x<60;x++){var A=Z.xf.fs(top,25,g,P,p,e,j);if(A==null)break;else top.push(A)}if(top.length==0)return null;
var f=[];for(var x=0;x<v;x++){var S=p[x*2],F=p[x*2+1],m=-1,R=0;while(!0){R++;var M=Math.random();m=Math.floor(M*.99999*top.length);
var b=top[m],s=S+b.x,K=F+b.y;if(Z.xf.KT(s,K,e,j)&&P[K*e+s]==-1)break;if(R>100){var A;A=Z.xf.fs(top,0,g,P,p,e,j,S,F);
if(A==null)return null;top.push(A);R=0}}f.push(m)}return{top:top,Od:f}};Z.xf.JI=function(e,j,g,P,p,v,x,A){if(e==g&&j==P)return 0;
if(e<0||j<0||e>=p||j>=v||g<0||P<0||g>=p||P>=v||A[j*p+e]!=-1||A[P*p+g]!=-1)return 1e7;var f=j*p+e<<2,S=P*p+g<<2,F=x[f]-x[S],m=x[f+1]-x[S+1],R=x[f+2]-x[S+2];
return 1+(F*F+m*m+R*R)};Z.xf.KT=function(e,j,g,P){return e>=0&&e<g&&j>=0&&j<P};Z.xf.ZLN=function(e,j,g,P){var p=24*e,v=j[p],x=j[p+1],A=P*P,f=0,R=1e9;
while(g[f]!=99)if(j[p+g[f]]<g[f+1])f=g[f+2];else f=g[f+3];var S=g[f+1],F=g[f+2],m=-1;for(var M=S;M<=F;
M++){var f=M,b=f*24,s=j[b],K=j[b+1];if((s-v)*(s-v)+(K-x)*(K-x)<A)continue;var X=Z.xf.getError(b,p,j,R);
if(X<R){R=X;m=f}}return m};Z.xf.getError=function(e,j,g,P){var p=0;for(var v=4;v<24;v+=4){var x=g[j+v]-g[e+v],A=g[j+v+1]-g[e+v+1],f=g[j+v+2]-g[e+v+2],S=g[j+v+3]-g[e+v+3];
p+=x*x+A*A+f*f+S*S;if(p>=P)return p+1}return p};Z.xf.Cm=function(e,j,g,P,p){var v=16,M=0;if(j-e<=v){g.push(99,e,j);
return}Z.xf.XI(e,j,P,p);var x=-1,A=-1;for(var f=4;f<24;f++){var S=p[2*f+1]-p[2*f];if(S>A){A=S;x=f}}var F=e+j>>1,m=Z.xf.ZLA(F,e,j,P,x),R=-1;
for(var f=e;f<=j;f++)if(P[24*f+x]==m){if(R==-1)R=f;M=f}if(e+8<R&&R-e>j-M)F=R;else if(M+1<j-8)F=M+1;else if(j-e<64){g.push(99,e,j);
return}else F=F;var b=g.length;g.push(x,m,0,0);g[b+2]=b+4;Z.xf.Cm(e,F-1,g,P,p);g[b+3]=g.length;Z.xf.Cm(F,j,g,P,p)};
Z.xf.XI=function(e,j,g,P){for(var p=0;p<48;p+=4){P[p]=3e4;P[p+1]=-3e4;P[p+2]=3e4;P[p+3]=-3e4}for(var p=e;
p<=j;p++){var v=p*24;for(var x=0;x<24;x++){var A=g[v+x],f=P[x<<1],S=P[(x<<1)+1];if(A<f)P[x<<1]=A;if(A>S)P[(x<<1)+1]=A}}};
Z.xf.gf=function(e,j,g){var P=0,p=0;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;
p++;P=g[e+p];g[e+p]=g[j+p];g[j+p]=P;p++};Z.xf.gx=function(e,j,g,P){var p=g+P>>>1,v=e[24*p+j];while(g<=P){while(e[24*g+j]<v)g++;
while(e[24*P+j]>v)P--;if(g<=P){if(e[24*g+j]!=e[24*P+j])Z.xf.gf(g*24,P*24,e);g++;P--}}return g};Z.xf.ZLA=function(e,j,g,P,p){var v=0;
while(j!=g){v=Z.xf.gx(P,p,j,g);if(e<v)g=v-1;else j=v}return P[e*24+p]};Z.xf.Ue=function(e,j,g,P){for(var p=0;
p<P;p++)j[g+p]=e[p]};Z.xf.ZLF=function(e,j,g,P,p,v,x,A,f){var S=(P-3)*p+(g-3),F=S<<2;for(var m=0;m<8;
m++){if(j[S]+j[S+1]+j[S+2]+j[S+3]+j[S+4]+j[S+5]+j[S+6]+j[S+7]!=0||e[F+3]<200||e[F+7]<200||e[F+11]<200||e[F+15]<200||e[F+19]<200||e[F+23]<200||e[F+27]<200||e[F+31]<200)return 1;
var R=m<<3;x[R+0]=e[F+0];A[R+0]=e[F+1];f[R+0]=e[F+2];x[R+1]=e[F+4];A[R+1]=e[F+5];f[R+1]=e[F+6];x[R+2]=e[F+8];
A[R+2]=e[F+9];f[R+2]=e[F+10];x[R+3]=e[F+12];A[R+3]=e[F+13];f[R+3]=e[F+14];x[R+4]=e[F+16];A[R+4]=e[F+17];
f[R+4]=e[F+18];x[R+5]=e[F+20];A[R+5]=e[F+21];f[R+5]=e[F+22];x[R+6]=e[F+24];A[R+6]=e[F+25];f[R+6]=e[F+26];
x[R+7]=e[F+28];A[R+7]=e[F+29];f[R+7]=e[F+30];F+=p<<2;S+=p}return 0};Z.xf.gC=function(e,j){j[0]=e[32]+e[0];
j[1]=e[33]+e[1];j[2]=e[34]+e[2];j[3]=e[35]+e[3];j[4]=e[36]+e[4];j[5]=e[37]+e[5];j[6]=e[38]+e[6];j[7]=e[39]+e[7];
j[8]=e[40]+e[8];j[9]=e[41]+e[9];j[10]=e[42]+e[10];j[11]=e[43]+e[11];j[12]=e[44]+e[12];j[13]=e[45]+e[13];
j[14]=e[46]+e[14];j[15]=e[47]+e[15];j[16]=e[48]+e[16];j[17]=e[49]+e[17];j[18]=e[50]+e[18];j[19]=e[51]+e[19];
j[20]=e[52]+e[20];j[21]=e[53]+e[21];j[22]=e[54]+e[22];j[23]=e[55]+e[23];j[24]=e[56]+e[24];j[25]=e[57]+e[25];
j[26]=e[58]+e[26];j[27]=e[59]+e[27];j[28]=e[60]+e[28];j[29]=e[61]+e[29];j[30]=e[62]+e[30];j[31]=e[63]+e[31];
j[32]=e[0]-e[32];j[33]=e[1]-e[33];j[34]=e[2]-e[34];j[35]=e[3]-e[35];j[36]=e[4]-e[36];j[37]=e[5]-e[37];
j[38]=e[6]-e[38];j[39]=e[7]-e[39];j[40]=e[8]-e[40];j[41]=e[9]-e[41];j[42]=e[10]-e[42];j[43]=e[11]-e[43];
j[44]=e[12]-e[44];j[45]=e[13]-e[45];j[46]=e[14]-e[46];j[47]=e[15]-e[47];j[48]=e[16]-e[48];j[49]=e[17]-e[49];
j[50]=e[18]-e[50];j[51]=e[19]-e[51];j[52]=e[20]-e[52];j[53]=e[21]-e[53];j[54]=e[22]-e[54];j[55]=e[23]-e[55];
j[56]=e[24]-e[56];j[57]=e[25]-e[57];j[58]=e[26]-e[58];j[59]=e[27]-e[59];j[60]=e[28]-e[60];j[61]=e[29]-e[61];
j[62]=e[30]-e[62];j[63]=e[31]-e[63];e[0]=j[16]+j[0];e[1]=j[17]+j[1];e[2]=j[18]+j[2];e[3]=j[19]+j[3];
e[4]=j[20]+j[4];e[5]=j[21]+j[5];e[6]=j[22]+j[6];e[7]=j[23]+j[7];e[8]=j[24]+j[8];e[9]=j[25]+j[9];e[10]=j[26]+j[10];
e[11]=j[27]+j[11];e[12]=j[28]+j[12];e[13]=j[29]+j[13];e[14]=j[30]+j[14];e[15]=j[31]+j[15];e[16]=j[0]-j[16];
e[17]=j[1]-j[17];e[18]=j[2]-j[18];e[19]=j[3]-j[19];e[20]=j[4]-j[20];e[21]=j[5]-j[21];e[22]=j[6]-j[22];
e[23]=j[7]-j[23];e[24]=j[8]-j[24];e[25]=j[9]-j[25];e[26]=j[10]-j[26];e[27]=j[11]-j[27];e[28]=j[12]-j[28];
e[29]=j[13]-j[29];e[30]=j[14]-j[30];e[31]=j[15]-j[31];j[0]=e[8]+e[0];j[1]=e[9]+e[1];j[2]=e[10]+e[2];
j[3]=e[11]+e[3];j[4]=e[12]+e[4];j[5]=e[13]+e[5];j[6]=e[14]+e[6];j[7]=e[15]+e[7];j[8]=e[0]-e[8];j[9]=e[1]-e[9];
j[10]=e[2]-e[10];j[11]=e[3]-e[11];j[12]=e[4]-e[12];j[13]=e[5]-e[13];j[14]=e[6]-e[14];j[15]=e[7]-e[15];
e[0]=j[4]+j[0];e[1]=j[5]+j[1];e[2]=j[6]+j[2];e[3]=j[7]+j[3];e[4]=j[0]-j[4];e[5]=j[1]-j[5];e[6]=j[2]-j[6];
e[7]=j[3]-j[7];e[8]=j[12]+j[8];e[9]=j[13]+j[9];e[10]=j[14]+j[10];e[11]=j[15]+j[11];e[12]=j[8]-j[12];
e[13]=j[9]-j[13];e[14]=j[10]-j[14];e[15]=j[11]-j[15];j[0]=e[2]+e[0];j[1]=e[3]+e[1];j[2]=e[0]-e[2];j[3]=e[1]-e[3];
j[4]=e[6]+e[4];j[5]=e[7]+e[5];j[6]=e[4]-e[6];j[7]=e[5]-e[7];j[8]=e[10]+e[8];j[9]=e[11]+e[9];j[10]=e[8]-e[10];
j[11]=e[9]-e[11];j[12]=e[14]+e[12];j[13]=e[15]+e[13];j[14]=e[12]-e[14];j[15]=e[13]-e[15];e[0]=j[1]+j[0];
e[1]=j[0]-j[1];e[2]=j[3]+j[2];e[3]=j[2]-j[3];e[4]=j[5]+j[4];e[5]=j[4]-j[5];e[6]=j[7]+j[6];e[7]=j[6]-j[7];
e[8]=j[9]+j[8];e[9]=j[8]-j[9];e[10]=j[11]+j[10];e[11]=j[10]-j[11];e[12]=j[13]+j[12];e[13]=j[12]-j[13];
e[14]=j[15]+j[14];e[15]=j[14]-j[15]};Z.xf.ZyN=function(){var e="",j=64,g="v",P="t",p="a",v=5,x,A,f;for(x=j>>1;
x>0;x>>=1,v--){for(A=0;A<j;A++){f=(A>>v&1)!=0;if(f){e+=P+"["+A+"] = "+g+"["+(-x+A)+"] - "+g+"["+A+"];  "}else{e+=P+"["+A+"] = "+g+"["+(x+A)+"] + "+g+"["+A+"];  "}}p=g;
g=P;P=p;e+="\n"}console.log(e)};Z.xf.ZyD=function(e,j,g){var P=j,p=g,v=P,x=0,f,S,F;while(e>>x!=2)x++;
var A=x;for(f=e>>1;f>0;f>>=1,x--){for(S=0;S<e;S++){F=(S>>x&1)!=0;if(F)p[S]=P[-f+S]-P[S];else p[S]=P[f+S]+P[S]}v=P;
P=p;p=v}if((A&1)==1)for(f=0;f<e;f++)g[f]=P[f]};Z.Bq={};Z.Bq.gg=function(e,j,g,P,p,v,x,A,f){var S=Date.now(),F=new Uint32Array(e.buffer),m=new Uint32Array(j.buffer),R=x/g,M=A/P,b=1/R,s=1/M,K=new Float64Array(2),X=3,d=1/X,W=1/(X*X),O=0,H=0,Y=g,y=P;
if(p){O=p.x;H=p.y;Y=p.W;y=p.j}for(var B=0;B<y;B++)for(var c=0;c<Y;c++){var $=O+c,I=H+B,r=I*g+$,i=r<<1,U=r<<2;
Z.Bq.ZLb(v,x,A,($+.5)*R,(I+.5)*M,K);var N=K[0]*b,C=K[1]*s;if(N==0&&C==0)m[r]=F[r];else{Z.D.TL($+N+.5,I+C+.5,F,g,P,m,r,f)}}};
Z.Bq.ZLb=function(e,j,g,P,p,v){P-=.499999;p-=.499999;var x=~~P,A=~~p,f=P-x,S=p-A,F=(1-S)*(1-f),m=(1-S)*f,R=S*(1-f),M=S*f,b=x<j-1?x+1:x,s=A<g-1?A+1:A,K=A*j+x<<1,X=A*j+b<<1,d=s*j+x<<1,W=s*j+b<<1;
v[0]=F*e[K]+m*e[X]+R*e[d]+M*e[W];v[1]=F*e[K+1]+m*e[X+1]+R*e[d+1]+M*e[W+1]};Z.Bq.ZTU=function(e,j,g,P,p){var v=1/e,x=[-1,1,-e,e],A=P.length;
for(var f=0;f<A;f++){var S=P[f],F=S<<1,m=f<<1,R=~~(S*v),M=S-e*R,b=g[F],s=g[F+1],K=0,X=0;if(M!=0&&M!=e-1){var d=S-1<<1,W=S+1<<1,O=g[d],H=g[W],Y=g[d+1],y=g[W+1],B=b-(O+H)*.5,c=s-(Y+y)*.5;
K-=B*p;X-=c*p}if(R!=0&&R!=j-1){var d=S-e<<1,W=S+e<<1,O=g[d],H=g[W],Y=g[d+1],y=g[W+1],B=b-(O+H)*.5,c=s-(Y+y)*.5;
K-=B*p;X-=c*p}g[F]=b+K;g[F+1]=s+X}};Z.Bq.ZTS=function(e,j){var g=e+","+j;if(Z.Bq.fb==g)return Z.Bq.fm;
var P=Z.Bq.fm=[];Z.Bq.fb=g;for(var p=0;p<=1e3;p++){var v=p*.001,x=Math.sqrt(v),A=Math.exp(-4*x),f=.96*(1-x*x),S=j*((1-e)*A+e*f);
P[p]=S}return P};Z.Bq.fb="";Z.Bq.fm=[];Z.Bq.Zzg=function(e,j,g,P,p,v,x,A,f,S,F,m,R){var M=Math.max(0,Math.floor(p-x-1)),b=Math.min(j,Math.ceil(p+x+1)),s=Math.max(0,Math.floor(v-x-1)),K=Math.min(g,Math.ceil(v+x+1)),X=2*j,d=x*x,W=1/x,O=0;
if(R&&(P==3||P==6))f=-f;var H=Z.Bq.ZTS(A,f);for(var Y=s;Y<K;Y++)for(var y=M;y<b;y++){var B=Y*j+y,c=B<<1,$=(p-y)*W,I=(v-Y)*W,r=$*$+I*I;
if(r<1){m[O]=B;var i=H[~~(r*1e3)];if(P==1){e[c]=e[c]*(1-i*.05);e[c+1]=e[c+1]*(1-i*.05)}else{var U=0,N=0,n,w,k,h;
if(P==0){U=S*i;N=F*i}else if(P==2){}else if(P==3){U=i*I;N=-i*$}else if(P==4){U=i*$;N=i*I}else if(P==5){U=-i*$;
N=-i*I}else if(P==6){U=F*i;N=-S*i}var C=e[c],D=e[c+1];if(y==0||y!=j-1&&U<0){n=1+e[c+2]-C;k=e[c+3]-D}else{n=C-e[c-2]+1;
k=D-e[c-1]}if(Y==0||Y!=g-1&&N<0){w=e[c+X]-C;h=1+e[c+X+1]-D}else{w=C-e[c-X];h=D-e[c-X+1]+1}e[c]=-(n*U+w*N-C);
e[c+1]=-(k*U+h*N-D)}O++}}};Z.Bq.ZyT=function(e){var j=e[0],g=e[0],P=e[1],p=e[1];for(var v=0;v<e.length;
v+=2){var x=e[v],A=e[v+1];if(x<j)j=x;else if(x>g)g=x;if(A<P)P=A;else if(A>p)p=A}return[j,P,g,p]};Z.Zzt=function(e,j,g,P,p){function v(L,J,WZ,WJ){return Math.sqrt((L-WZ)*(L-WZ)+(J-WJ)*(J-WJ))}function x(L,J){return L>=0&&L<j&&J>=0&&J<g}function A(L){if(L<0)return 0;
if(L>=j)return j-1;return L}function f(L){if(L<0)return 0;if(L>=g)return g-1;return L}function S(_,L){var J=L[3]*(1/255),WZ=P[_]+L[0]*J;
if(WZ>255)WZ=255;P[_]=WZ;WZ=P[_+1]+L[1]*J;if(WZ>255)WZ=255;P[_+1]=WZ;WZ=P[_+2]+L[2]*J;if(WZ>255)WZ=255;
P[_+2]=WZ}function F(L,J,WZ){if(!h(L,J))return;if(WZ[3]<0)WZ[3]=0;S((J*j+L)*4,WZ)}function m(L){var J=L.slice(0,3);
J[3]=0;return J}var R=j/800;function M(L){return Math.round(L*R)}function b(){for(var _=0;_<=300;_++){a[_]=s(_)}}function s(g){var L=.8,J=.2,WZ=L*J,WJ=g/60%2-1,Wu=WZ*(1-WJ*WJ),WC=J-WZ,Wn;
if(g<60){Wn=[WZ+WC,Wu,0]}else if(g<120){Wn=[Wu,WZ,0]}else if(g<180){Wn=[0,WZ,Wu]}else if(g<240){Wn=[0,Wu,WZ]}else if(g<300){Wn=[Wu,0,WZ]}else{Wn=[WZ,0,Wu]}return[(Wn[0]+WC)*255,(Wn[1]+WC)*255,(Wn[2]+WC)*255]}function K(g){return a[~~g]}function X(L){return 1-d(L)}function d(L){return L-~~L}function W(L,J,WZ,WJ){w(L,J,WZ,0,J+1,1,WJ)}function O(L,J,WZ,WJ,Wu,WC){w(L,J,WZ,0,WJ,1,Wu,WC)}function H(L){for(var _=0;
_<P.length;_+=4){S(_,L)}}function Y(L,J,WZ,WJ,Wu,WC,Wn,WB){y(L,J,WZ,WJ,Wu,1,WC,Wn,WB)}function y(L,J,WZ,WJ,Wu,WC,Wn,WB,Wt){if(WC==null)WC=.5;
if(Wn==null)Wn=0;if(WB==null)WB=0;if(Wt==null)Wt=!1;var Wy=L.x,Wz=L.y,WG=WZ.slice(0),Wq=~~(WZ[3]*WW);
WJ=WJ*WW;if(!Wt){J=k(J);Wu=k(Wu);Wn=k(Wn);WB=k(WB)}var Wa=A(Wy-J),WK=A(Wy+J);for(var Wd=Wa;Wd<=WK;Wd++){var WD=Wd-Wy,W$=Math.floor(Math.sqrt(J*J-WD*WD)),Zg=f(Wz-W$),WL=f(Wz);
for(var WY=Zg;WY<=WL;WY++){var WA=v(Wd,WY,Wy,Wz);if(WA>J||WA<=J-Wu)break;var Wb=(WA-J+Wu)/Wu;WG[3]=Wq-WJ*(WC==1?Wb:Math.pow(Wb,WC));
S((WY*j+Wd)*4,WG)}Zg=f(Wz+W$);for(var WY=Zg;WY>WL;WY--){var WA=v(Wd,WY,Wy,Wz);if(WA>J||WA<=J-Wu)break;
var Wb=(WA-J+Wu)/Wu;WG[3]=Wq-WJ*(WC==1?Wb:Math.pow(Wb,WC));S((WY*j+Wd)*4,WG)}}if(Wn>0){w(L,J+Wn,WG,WG[3],Wn,1,0,0,!0)}if(WB>0){w(L,J-Wu,t(WZ),-WZ[3],WB,1,0,0,!0)}}function B(L,J,WZ,WJ,Wu,WC){w(L,J,WZ,WZ[3],J+1,1,WJ,Wu,WC)}function c(L,J,WZ,WJ,Wu){if(Wu==null)Wu=!1;
var WC=L.x,Wn=L.y;WJ*=WW;if(!Wu){J=k(J);WZ=k(WZ)}var WB=A(WC-J),Wt=A(WC+J);for(var Wy=WB;Wy<Wt;Wy++){var Wz=Wy-WC,WG=~~Math.sqrt(J*J-Wz*Wz),Wq=f(Wn-WG),Wa=f(Wn);
for(var WK=Wq;WK<=Wa;WK++){var Wd=v(Wy,WK,WC,Wn);if(Wd>J||Wd<=J-WZ)break;var WD=(J-Wd)/WZ,W$=K(300*WD);
W$[3]=WJ;S((WK*j+Wy)*4,W$)}Wq=f(Wn+WG);for(var WK=Wq;WK>Wa;WK--){var Wd=v(Wy,WK,WC,Wn);if(Wd>J||Wd<=J-WZ)break;
var WD=(J-Wd)/WZ,W$=K(300*WD);W$[3]=WJ;S((WK*j+Wy)*4,W$)}}}function $(E,L){var J=E.yw,WZ=E.Xz,WJ=L.slice(0),Wu=L[3]*WW,WC=Math.abs(WZ.y-J.y)>Math.abs(WZ.x-J.x);
if(WC){var Wn=J.x;J.x=J.y;J.y=Wn;Wn=WZ.x;WZ.x=WZ.y;WZ.y=Wn}if(J.x>WZ.x){var Wn=J;J=WZ;WZ=Wn}var WB=WZ.x-J.x,Wt=WZ.y-J.y,Wy=WB==0?1:Wt/WB,Wz=Math.round(J.x),WG=J.y+Wy*(Wz-J.x),Wq=X(J.x+.5),Wa=Wz,WK=~~WG;
if(WC){WJ[3]=Wu*X(WG)*Wq;F(WK,Wa,WJ);WJ[3]=Wu*d(WG)*Wq;F(WK+1,Wa,WJ)}else{WJ[3]=Wu*X(WG)*Wq;F(Wa,WK,WJ);
WJ[3]=Wu*d(WG)*Wq;F(Wa,WK+1,WJ)}var Wd=WG-Wy;Wz=Math.round(WZ.x);WG=WZ.y+Wy*(Wz-WZ.x);Wq=d(WZ.x+.5);
var WD=Wz,W$=~~WG;if(WC){WJ[3]=Wu*X(WG)*Wq;F(W$,WD,WJ);WJ[3]=Wu*d(WG)*Wq;F(W$+1,WD,WJ)}else{WJ[3]=Wu*X(WG)*Wq;
F(WD,W$,WJ);WJ[3]=Wu*d(WG)*Wq;F(WD,W$+1,WJ)}if(WC){for(var Zg=Wa+1;Zg<=WD-1;Zg++){WJ[3]=Wu*X(Wd);F(~~Wd,Zg,WJ);
WJ[3]=Wu*d(Wd);F(~~Wd+1,Zg,WJ);Wd+=Wy}}else{for(var Zg=Wa+1;Zg<=WD-1;Zg++){WJ[3]=Wu*X(Wd);F(Zg,~~Wd,WJ);
WJ[3]=Wu*d(Wd);F(Zg,~~Wd+1,WJ);Wd+=Wy}}}function I(L,J,WZ,WJ){for(var _=0;_<4;_++){var Wu=L.yb(J+1.3*_,WZ);
$(Wu,WJ,1)}}function Uc(L,J){this.x=Math.round(L);this.y=Math.round(J)}var r=Math.PI/180;Uc.prototype.yb=function(L,J){L=L*r;
var WZ=this.x+J*Math.cos(L),WJ=this.y+J*Math.sin(L);return new i(this.x,this.y,WZ,WJ)};Uc.prototype.ZTW=function(L,J){L=L*r;
var WZ=this.RA+J*Math.cos(L),WJ=this.ZgX+J*Math.sin(L);return new Uc(WZ,WJ)};function i(L,J,WZ,WJ){this.yw=new Uc(L,J);
this.Xz=new Uc(WZ,WJ)}i.prototype.PC=function(L){var J=L*this.yw.x+(1-L)*this.Xz.x,WZ=L*this.yw.y+(1-L)*this.Xz.y;
return new Uc(J,WZ)};var U=Y,N=B,C=W,D=O,n=c,w=y,k=M,h=x,t=m,a=[];b();for(var _=0;_<e.length;_++){P[_]=e[_]}var E=new i(j*p[2],g*p[3],j/2,g/2),WW=p[1],Wx=[];
Wx[0]=function WU(){var L=[80,40,15,60],WZ=0,WJ=0;C(E.PC(1.4),260,L,10);C(E.PC(1),100,[240,50,50,30],30);
N(E.PC(1),60,[255,40,0,40]);var J=[255,255,255,255];w(E.PC(1),70,J,J[3],58,.5);C(E.PC(1),12,J);J[3]=40;
U(E.PC(1),150,J,J[3],150);for(var _=0;_<40;_++){WZ+=Math.random()*25;WJ=Math.random()*k(300)+k(100);
var Wu=E.PC(1).yb(WZ,WJ);$(E.PC(1).yb(WZ,WJ),[110,110,110,30])}N(E.PC(1),130,[255,255,255,8]);var WC=[170,30,23,70];
D(E.PC(1),70,WC,1,3,3);var Wn=[60,60,130,40];C(E.PC(.47),44,Wn,5);C(E.PC(.43),22,Wn,3);Wn[3]=16;C(E.PC(.53),15,Wn,2);
var WB=[138,94,42,100];C(E.PC(.2),16,WB,2);var Wt=[130,255,170,180];N(E.PC(0),4,Wt);N(E.PC(-.25),5,Wt);
WB=[150,90,0,50];U(E.PC(-.45),55,t(WB),-WB[3],40,2);C(E.PC(-.42),35,WB,2);C(E.PC(-.5),15,WB,2);n(E.PC(-1.28),145,11,70);
var Wy=K(0);Wy[3]=50;U(E.PC(-1.28),149,Wy,Wy[3],4);Wy=K(300);Wy[3]=50;U(E.PC(-1.28),155-1,t(Wy),-Wy[3],3);
var Wz=[130,130,10,50];D(E.PC(-1),73,Wz,3,2);var WG=[40,130,70,40];U(E.PC(-1),70,t(WG),-WG[3],35);WG=[40,170,60,50];
C(E.PC(-.7),25,WG,4);var WG=[70,110,50,60];U(E.PC(1.3),30,t(WG),-WG[3],11,3);Wn=[0,50,210,80];N(E.PC(-.72),20,Wn)};
Wx[1]=function We(){N(E.PC(1),150,[240,70,70,60]);C(E.PC(1),100,[200,60,60,40],30);var L=[255,255,255,255],J=0,WZ=0;
w(E.PC(1),75,L,L[3],63);C(E.PC(1),12,L);N(E.PC(1),270,[200,200,200,20],10);for(var _=0;_<10;_++){J+=10+Math.random()*40;
WZ=Math.random()*k(250)+k(80);var WJ=E.PC(1).yb(J,WZ);$(WJ,[110,110,110,35])}J=5;WZ=100;for(var _=0;
_<12;_++){J+=30;I(E.PC(1),J,WZ,[90,90,90,40])}var Wu=[150,40,23,100];D(E.PC(1),70,Wu,1,3,3);var WC=[30,100,60,40];
N(E.PC(-.9),180,[255,255,255,20]);C(E.PC(-.9),140,WC,15);var Wn=[170,80,25,15];D(E.PC(-.9),120,Wn,1,4,4);
var WB=[110,240,190,200];N(E.PC(-.6),3,WB);WB[3]=100;N(E.PC(-.6),7,WB);var Wt=[230,120,40,85];N(E.PC(-.73),9,Wt);
var Wy=[60,60,190,50];C(E.PC(.3),28,Wy,6);Wy[3]=25;C(E.PC(.34),20,Wy,3)};Wx[2]=function Wv(){var L=[255,255,255,255],WZ=0,WJ=0;
C(E.PC(1),13,L);w(E.PC(1),150,L,L[3],137);var J=[120,80,35,20];C(E.PC(1.4),260,J,10);for(var _=0;_<40;
_++){WZ+=5+Math.random()*30;WJ=Math.random()*k(300);$(E.PC(1).yb(WZ,WJ),[110,110,110,20])}var Wu=[10,30,255,30];
C(E.PC(1),70,Wu,50);var WC=[15,90,170,15];C(E.PC(1.5),60,WC);var Wn=[220,220,20,50];C(E.PC(-1.15),8,Wn,2);
var L=[255,255,255,40];N(E.PC(-1.18),6,L);N(E.PC(-1.18),4,L);Wn=[110,110,10,8];U(E.PC(-1.2),32,t(Wn),-Wn[3],20,3);
var WB=[5,0,16,255];for(var _=0;_<4;_++){C(E.PC(-1.36),10,WB,3)}var Wt=[90,200,150,20],Wy=Wt.slice(0);
Wy[3]*=2;C(E.PC(-1.32),7,Wy,3);C(E.PC(-1.36),7,Wy,3);C(E.PC(-1.4),7,Wy,3);var L=[230,230,230,100];N(E.PC(-1.36),2,L);
L[3]=3;C(E.PC(-.55),10,L);Wn=[120,100,10,18];C(E.PC(-.55),160,Wn,8);C(E.PC(-.55),80,Wn,4);Wt[3]=3;Wy[3]=6;
U(E.PC(-.49),13,t(Wy),-Wy[3],13,2);U(E.PC(-.55),13,t(Wy),-Wy[3],13,2);Wt[3]=20;C(E.PC(.15),25,Wt,3);
Wn[3]=100;N(E.PC(-.52),3,Wn);Wn=[200,200,50,40];C(E.PC(.27),1,Wn,4);var Wz=[150,40,23,30];U(E.PC(1),80,t(Wz),-Wz[3],2,1)};
return Wx[p[0]]()};Z.YG={};Z.YG.eQ=function(e){var j=e.length,g=e[0].length,P=new Array(g);for(var p=0;
p<g;p++)P[p]=new Array(j);for(var p=0;p<g;p++)for(var v=0;v<j;v++)P[p][v]=e[v][p];return P};Z.YG.ki=function(e,j){var g=e.length,P=e[0].length,p=new Array(g);
for(var v=0;v<g;v++)p[v]=new Array(P);for(var v=0;v<g;v++)for(var x=0;x<P;x++)p[v][x]=e[v][x]-j[v][x];
return p};Z.YG.add=function(e,j){var g=e.length,P=e[0].length,p=new Array(g);for(var v=0;v<g;v++)p[v]=new Array(P);
for(var v=0;v<g;v++)for(var x=0;x<P;x++)p[v][x]=e[v][x]+j[v][x];return p};Z.YG.multiply=function(e,j){var g=e.length,P=e[0].length,p=j[0].length;
if(P!=j.length)throw"e";var v=new Array(g);for(var x=0;x<g;x++)v[x]=new Array(p);if((P&1)!=0)for(var x=0;
x<g;x++){var A=e[x],f=v[x];for(var S=0;S<p;S++){var F=0;for(var m=0;m<P;m++)F+=A[m]*j[m][S];f[S]=F}}else for(var x=0;
x<g;x++){var A=e[x],f=v[x];for(var S=0;S<p;S++){var F=0;for(var m=0;m<P;m+=2)F+=A[m]*j[m][S]+A[m+1]*j[m+1][S];
f[S]=F}}return v};Z.YG.kG=function(e,j){var g=e.length,P=e[0].length,p=new Array(g);for(var v=0;v<g;
v++){var x=0;for(var A=0;A<P;A++)x+=e[v][A]*j[A];p[v]=x}return p};Z.YG.xU=function(e,j){var g=[];for(var P=0;
P<e;P++){g.push([]);for(var p=0;p<j;p++)g[P].push(0)}return g};Z.YG.ZyE=function(e){for(var j=0;j<e.length;
j++)console.log(JSON.stringify(e[j]))};Z.YG.Zys=function(e){var j=[];for(var g=0;g<e.length;g++)j.push(e[g].join(","));
return"["+j.join(";")+"]"};Z.YG.fB=function(e,j){var g=e.length;for(var P=0;P<g;P++){var p=0,v=Number.NEGATIVE_INFINITY;
for(var x=P;x<g;x++)if(Math.abs(e[x][P])>v){p=x;v=Math.abs(e[x][P])}Z.YG.ZzT(e,P,p);for(var x=P+1;x<g;
x++){if(e[P][P]==0)return 1;var A=e[x][P]/e[P][P];for(var f=P;f<g+1;f++)e[x][f]-=e[P][f]*A}}for(var x=g-1;
x>=0;x--){if(e[x][x]==0)return 1;var S=e[x][g]/e[x][x];j[x]=S;for(var f=x-1;f>=0;f--){e[f][g]-=e[f][x]*S;
e[f][x]=0}}return 0};Z.YG.ZzT=function(e,j,g){var P=e[j];e[j]=e[g];e[g]=P};Z.YG.ZyK=function(e){var j=e.length,g=Z.YG.xU(j,j);
for(var P=0;P<j;P++)g[P][P]=e[P];return g};Z.YG.Zyo=function(e){var j=e.length,g=e[0].length,P=new Array(j);
for(var p=0;p<j;p++){P[p]=0;for(var v=0;v<g;v++)P[p]+=e[p][v];P[p]/=g}return P};Z.YG.kq=function(e){var j=0;
for(var g=0;g<e.length;g++)j+=e[g]*e[g];return Math.sqrt(j)};Z.qo={};Z.qo.xv=function(e){var j=~~(e+.5);
return j<0?0:j>255?255:j};Z.qo.transform=function(e,j,g){var P=Z.qo.xv,p=e.k.length;for(var v=0;v<p;
v++){var x=e.k[v],A=e.z[v],f=e.e[v];j.k[v]=P(g[0]*x+g[1]*A+g[2]*f+g[3]*255);j.z[v]=P(g[4]*x+g[5]*A+g[6]*f+g[7]*255);
j.e[v]=P(g[8]*x+g[9]*A+g[10]*f+g[11]*255)}};Z.qo.gy=function(e,j,g){var P=Z.qo.xv,p=e.length;for(var v=0;
v<p;v+=4){var x=e[v],A=e[v+1],f=e[v+2];j[v]=P(g[0]*x+g[1]*A+g[2]*f+g[3]*255);j[v+1]=P(g[4]*x+g[5]*A+g[6]*f+g[7]*255);
j[v+2]=P(g[8]*x+g[9]*A+g[10]*f+g[11]*255)}};Z.qo.gN=function(e){var j=e[0]+e[1]+e[2],g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(j==1){var P=e.indexOf(1);g[P]=g[P+4]=g[P+8]=1}else{g[0]=e[0];g[5]=e[1];g[10]=e[2]}return g};Z.qo.fD=function(e,j,g){return[1,0,0,e,0,1,0,j,0,0,1,g,0,0,0,1]};
Z.qo.fq=function(e,j,g){return[e,0,0,0,0,j,0,0,0,0,g,0,0,0,0,1]};Z.qo.Zyb=function(e){return[e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]]};
Z.qo.kH=function(e){return[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]};Z.qo.Kl=function(e,j){return[e[0]*j[0]+e[1]*j[1]+e[2]*j[2]+e[3]*j[3],e[4]*j[0]+e[5]*j[1]+e[6]*j[2]+e[7]*j[3],e[8]*j[0]+e[9]*j[1]+e[10]*j[2]+e[11]*j[3],e[12]*j[0]+e[13]*j[1]+e[14]*j[2]+e[15]*j[3]]};
Z.qo.eQ=function(e){var j=[];j[0]=e[0];j[1]=e[4];j[2]=e[8];j[3]=e[12];j[4]=e[1];j[5]=e[5];j[6]=e[9];
j[7]=e[13];j[8]=e[2];j[9]=e[6];j[10]=e[10];j[11]=e[14];j[12]=e[3];j[13]=e[7];j[14]=e[11];j[15]=e[15];
return j};Z.qo.multiply=function(e,j){var g=[];g[0]=e[0]*j[0]+e[1]*j[4]+e[2]*j[8]+e[3]*j[12];g[1]=e[0]*j[1]+e[1]*j[5]+e[2]*j[9]+e[3]*j[13];
g[2]=e[0]*j[2]+e[1]*j[6]+e[2]*j[10]+e[3]*j[14];g[3]=e[0]*j[3]+e[1]*j[7]+e[2]*j[11]+e[3]*j[15];g[4]=e[4]*j[0]+e[5]*j[4]+e[6]*j[8]+e[7]*j[12];
g[5]=e[4]*j[1]+e[5]*j[5]+e[6]*j[9]+e[7]*j[13];g[6]=e[4]*j[2]+e[5]*j[6]+e[6]*j[10]+e[7]*j[14];g[7]=e[4]*j[3]+e[5]*j[7]+e[6]*j[11]+e[7]*j[15];
g[8]=e[8]*j[0]+e[9]*j[4]+e[10]*j[8]+e[11]*j[12];g[9]=e[8]*j[1]+e[9]*j[5]+e[10]*j[9]+e[11]*j[13];g[10]=e[8]*j[2]+e[9]*j[6]+e[10]*j[10]+e[11]*j[14];
g[11]=e[8]*j[3]+e[9]*j[7]+e[10]*j[11]+e[11]*j[15];g[12]=e[12]*j[0]+e[13]*j[4]+e[14]*j[8]+e[15]*j[12];
g[13]=e[12]*j[1]+e[13]*j[5]+e[14]*j[9]+e[15]*j[13];g[14]=e[12]*j[2]+e[13]*j[6]+e[14]*j[10]+e[15]*j[14];
g[15]=e[12]*j[3]+e[13]*j[7]+e[14]*j[11]+e[15]*j[15];return g};Z.qo.OF=function(e){var j=[];j[0]=e[5]*e[10]*e[15]-e[5]*e[14]*e[11]-e[6]*e[9]*e[15]+e[6]*e[13]*e[11]+e[7]*e[9]*e[14]-e[7]*e[13]*e[10];
j[1]=-e[1]*e[10]*e[15]+e[1]*e[14]*e[11]+e[2]*e[9]*e[15]-e[2]*e[13]*e[11]-e[3]*e[9]*e[14]+e[3]*e[13]*e[10];
j[2]=e[1]*e[6]*e[15]-e[1]*e[14]*e[7]-e[2]*e[5]*e[15]+e[2]*e[13]*e[7]+e[3]*e[5]*e[14]-e[3]*e[13]*e[6];
j[3]=-e[1]*e[6]*e[11]+e[1]*e[10]*e[7]+e[2]*e[5]*e[11]-e[2]*e[9]*e[7]-e[3]*e[5]*e[10]+e[3]*e[9]*e[6];
j[4]=-e[4]*e[10]*e[15]+e[4]*e[14]*e[11]+e[6]*e[8]*e[15]-e[6]*e[12]*e[11]-e[7]*e[8]*e[14]+e[7]*e[12]*e[10];
j[5]=e[0]*e[10]*e[15]-e[0]*e[14]*e[11]-e[2]*e[8]*e[15]+e[2]*e[12]*e[11]+e[3]*e[8]*e[14]-e[3]*e[12]*e[10];
j[6]=-e[0]*e[6]*e[15]+e[0]*e[14]*e[7]+e[2]*e[4]*e[15]-e[2]*e[12]*e[7]-e[3]*e[4]*e[14]+e[3]*e[12]*e[6];
j[7]=e[0]*e[6]*e[11]-e[0]*e[10]*e[7]-e[2]*e[4]*e[11]+e[2]*e[8]*e[7]+e[3]*e[4]*e[10]-e[3]*e[8]*e[6];j[8]=e[4]*e[9]*e[15]-e[4]*e[13]*e[11]-e[5]*e[8]*e[15]+e[5]*e[12]*e[11]+e[7]*e[8]*e[13]-e[7]*e[12]*e[9];
j[9]=-e[0]*e[9]*e[15]+e[0]*e[13]*e[11]+e[1]*e[8]*e[15]-e[1]*e[12]*e[11]-e[3]*e[8]*e[13]+e[3]*e[12]*e[9];
j[10]=e[0]*e[5]*e[15]-e[0]*e[13]*e[7]-e[1]*e[4]*e[15]+e[1]*e[12]*e[7]+e[3]*e[4]*e[13]-e[3]*e[12]*e[5];
j[11]=-e[0]*e[5]*e[11]+e[0]*e[9]*e[7]+e[1]*e[4]*e[11]-e[1]*e[8]*e[7]-e[3]*e[4]*e[9]+e[3]*e[8]*e[5];j[12]=-e[4]*e[9]*e[14]+e[4]*e[13]*e[10]+e[5]*e[8]*e[14]-e[5]*e[12]*e[10]-e[6]*e[8]*e[13]+e[6]*e[12]*e[9];
j[13]=e[0]*e[9]*e[14]-e[0]*e[13]*e[10]-e[1]*e[8]*e[14]+e[1]*e[12]*e[10]+e[2]*e[8]*e[13]-e[2]*e[12]*e[9];
j[14]=-e[0]*e[5]*e[14]+e[0]*e[13]*e[6]+e[1]*e[4]*e[14]-e[1]*e[12]*e[6]-e[2]*e[4]*e[13]+e[2]*e[12]*e[5];
j[15]=e[0]*e[5]*e[10]-e[0]*e[9]*e[6]-e[1]*e[4]*e[10]+e[1]*e[8]*e[6]+e[2]*e[4]*e[9]-e[2]*e[8]*e[5];var g=e[0]*j[0]+e[1]*j[4]+e[2]*j[8]+e[3]*j[12];
for(var P=0;P<16;P++)j[P]/=g;return j};Z.qo.Zy_=function(e){var j=[],g=e[5]*e[10]*e[15]-e[5]*e[14]*e[11]-e[6]*e[9]*e[15]+e[6]*e[13]*e[11]+e[7]*e[9]*e[14]-e[7]*e[13]*e[10],P=-e[4]*e[10]*e[15]+e[4]*e[14]*e[11]+e[6]*e[8]*e[15]-e[6]*e[12]*e[11]-e[7]*e[8]*e[14]+e[7]*e[12]*e[10],p=e[4]*e[9]*e[15]-e[4]*e[13]*e[11]-e[5]*e[8]*e[15]+e[5]*e[12]*e[11]+e[7]*e[8]*e[13]-e[7]*e[12]*e[9],v=-e[4]*e[9]*e[14]+e[4]*e[13]*e[10]+e[5]*e[8]*e[14]-e[5]*e[12]*e[10]-e[6]*e[8]*e[13]+e[6]*e[12]*e[9];
return e[0]*g+e[1]*P+e[2]*p+e[3]*v};Z.qo.gq=Z.qo.kH([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
Z.qo.Zar=Z.qo.kH([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
Z.qo.ZzS=Z.qo.OF(Z.qo.gq);Z.OQ={};Z.OQ.TX=new Uint32Array(1);Z.OQ.xJ=function(e,j,g,P,p,v){var x=new Uint32Array(e),A=0,f=Z.OQ.TX;
if(f.length<j*4)Z.OQ.TX=f=new Uint32Array(j*4);var S=new Float64Array(f.buffer);for(var F=0;F<j;F+=2){var m=p[F],R=p[F+1],M=v[F],b=v[F+1];
f[A]=R;S[A+2>>1]=M;f[A+1]=x[m];x[m]=A+1;A+=4;f[A]=m;S[A+2>>1]=b;f[A+1]=x[R];x[R]=A+1;A+=4}return{wb:f,ZEE:S,ZSr:x}};
Z.OQ.fB=function(e,j,g,P,p,v,x){var A=1,f=Z.OQ.xJ(e,j,g,P,p,v),S=f.wb,F=f.ZEE,m=f.ZSr,R=new Uint32Array(e),M=new Z.OQ.gz(e),s=1,O=0;
M.push(g);M.push(P);var b=new Z.OQ.gz(e),K=new Uint8Array(e),X=new Uint32Array(e);K[g]=1;K[P]=2;var d=new Uint32Array(e),W=new Uint32Array(e);
W[g]=W[P]=0;d[g]=d[P]=1;while(!0){var H=-1,r=0,n=1e30;while(!M.Km()&&H==-1){var Y=M.top(),y=K[Y],B=m[Y]-1;
while(B!=-1){var c=S[B],$=K[c],I=B^y-1<<2;if(F[I+2>>1]!=0){if($==0){Z.OQ.gL(Y,B,c,K,X,W,d);M.push(c)}else if($==y&&d[c]<=d[Y]&&W[c]>W[Y])Z.OQ.gL(Y,B,c,K,X,W,d);
else if($!=y){H=I}}B=S[B+1]-1}if(H!=-1)break;M.pop()}if(H==-1){break}s++;var i=H;while(i!=-1){R[r]=i;
r++;i=X[S[i^4]]-1}var U=r>>1;for(var N=0;N<U;N++){var D=R[N];R[N]=R[r-N-1];R[r-N-1]=D}i=X[S[H]]-1;while(i!=-1){R[r]=i^4;
r++;i=X[S[i^4]]-1}for(var N=0;N<r;N++)n=Math.min(n,F[R[N]+2>>1]);O+=n;if(O>=x)return{Xd:null,DO:O};for(var N=0;
N<r;N++){var w=R[N],k=w^4,Y=S[k],c=S[w];F[w+2>>1]-=n;F[k+2>>1]+=n;if(F[w+2>>1]==0&&K[Y]==K[c]){if(K[Y]==1){X[c]=0;
b.push(c)}if(K[Y]==2){X[Y]=0;b.push(Y)}}}while(!b.Km()){var Y=b.pop(),y=K[Y],B=m[Y]-1,h=y==1?4:0,t=0,a=0,_=1e9;
while(B!=-1){var c=S[B],E=B^4,I=B^h;if(K[c]==y&&F[I+2>>1]>0&&Z.OQ.ZzK(c,g,P,X,S,s,d,W)+1<_){t=c;a=E;
_=W[c]+1}B=S[B+1]-1}if(a!=0){Z.OQ.gL(t,a,Y,K,X,W,d);continue}B=m[Y]-1;while(B!=-1){var c=S[B],I=B^h;
if(K[c]==y){if(F[I+2>>1]>0){M.push(c)}if(X[c]==B+1){X[c]=0;b.push(c)}}B=S[B+1]-1}K[Y]=0;M.remove(Y)}}var WW=[];
for(var N=0;N<j;N+=2){var Y=p[N],c=p[N+1];if(K[Y]==1&&K[c]!=1){WW.push(N>>1)}if(K[c]==1&&K[Y]!=1){WW.push(j+N>>1)}}return{Xd:WW,DO:O}};
Z.OQ.gL=function(e,j,g,P,p,v,x){P[g]=P[e];p[g]=j+1;v[g]=v[e]+1;x[g]=x[e]};Z.OQ.ZzK=function(e,j,g,P,p,v,x,A){var f=e,S=P[e]-1,F=0;
while(S!=-1&&x[e]!=v){e=p[S^4];S=P[e]-1;F++}if(S==-1&&e!=j&&e!=g)return 1e9;var m=A[e]+F;F=0;S=P[f]-1;
while(f!=e){A[f]=m-F;F++;x[f]=v;f=p[S^4];S=P[f]-1}return m};Z.OQ.ZaZ=function(e,j,g,P,p,v){var x=Z.OQ.xJ(e,j,g,P,p,v),A=x.wb,f=x.ZEE,S=x.ZSr,F=0,m=0,R=new Uint32Array(e*2),M=new Z.OQ.xG(e),b=0;
while(!0){M.reset();M.push(g);for(var s=0;s<e;s++)R[s<<1]=0;while(!M.Km()){var K=M.pop(),X=S[K]-1;while(X!=-1){b=A[X];
if(R[b<<1]==0&&f[X+2>>1]>0&&b!=g){R[b<<1]=K+1;R[(b<<1)+1]=X;M.push(b)}X=A[X+1]-1}if(R[P<<1]!=0){break}}if(R[P<<1]==0){break}var d=1e30;
b=P;while(!0){var W=R[b<<1]-1;if(W==-1)break;var O=R[(b<<1)+1];d=Math.min(d,f[O+2>>1]);b=W}b=P;while(!0){var W=R[b<<1]-1;
if(W==-1)break;var O=R[(b<<1)+1],H=O^4;f[O+2>>1]-=d;f[H+2>>1]+=d;b=W}F+=d}var Y=[];for(var s=0;s<j;s+=2){var W=p[s],b=p[s+1];
if((R[W<<1]!=0||W==g)&&R[b<<1]==0&&b!=g){Y.push(s>>1)}if((R[b<<1]!=0||b==g)&&R[W<<1]==0&&W!=g){Y.push(j+s>>1)}}return{Xd:Y,DO:F}};
Z.OQ.xG=function(e){e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;this.Ha=new Uint32Array(e+1);this.Vr=e;
this.sP=0;this.sY=0};Z.OQ.xG.prototype={push:function(e){var j=this.sY;this.Ha[j]=e;this.sY=j+1&this.Vr},pop:function(){var e=this.sP,j=this.Ha[e];
this.sP=e+1&this.Vr;return j},Km:function(){return this.sP==this.sY},reset:function(){this.sP=0;this.sY=0}};
Z.OQ.gz=function(e){e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;this.Ha=new Uint32Array(e+1);this.XR=new Uint32Array(e+1);
this.Vr=e;this.sP=0;this.sY=0};Z.OQ.gz.prototype={top:function(){return this.Ha[this.sP]},Zat:function(){return this.Ha[this.sY]},push:function(e){if(this.XR[e]!=0)return;
this.XR[e]=this.sY+1;var j=this.sY;this.Ha[j]=e;this.sY=j+1&this.Vr},pop:function(){var e=this.sP,j=this.Ha[e];
this.XR[j]=0;this.sP=e+1&this.Vr;return j},Km:function(){return this.sP==this.sY},remove:function(e){var j=this.XR[e]-1;
if(j==-1)return;this.XR[e]=0;if(j==this.sP){this.pop();return}var g=this.pop();this.Ha[j]=g;this.XR[g]=j+1},if:function(e){return e+this.Vr+1&this.Vr}};
Z.OQ.xs=function(e,j,g){var P=Z.OQ.gx(e,j,g);if(j<P-1)Z.OQ.xs(e,j,P-1);if(P<g)Z.OQ.xs(e,P,g)};Z.OQ.gx=function(e,j,g){var P=e[j+g>>>1];
while(j<=g){while(e[j]<P)j++;while(e[g]>P)g--;if(j<=g){Z.OQ.gf(e,j,g);j++;g--}}return j};Z.OQ.gf=function(e,j,g){var P=e[j];
e[j]=e[g];e[g]=P};Z.uF={};Z.uF.Zz$=function(e){for(var j=0;j<e.length;j++)Z.uF.KQ(e,j)};Z.uF.KQ=function(e,j){e[j].v.keyShapeInvalidated={t:"bool",v:!0}};
Z.uF.ZGU=function(e){for(var j=0;j<e.length;j++)e[j].v.keyOriginIndex.v=j};Z.uF.vK=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
Z.uF.xp=function(e){e=e.v;var j={Rctn:2,Ln:4,Elps:5},g=j[e.classID],P=e.topLeft?Z.uF.xR(e):null,p=null,v=0;
if(g==4){var x=e.Strt.v,A=e.End.v;p=[x.Hrzn.v.val,x.Vrtc.v.val,A.Hrzn.v.val,A.Vrtc.v.val];v=e.Wdth.v.val}if(g==null)return null;
return Z.uF.uv(g,g==4?null:Z.uF.gG(e),P,p,v)};Z.uF.FV=function(e,j,g,P,p,v){var x={classID:e,unitValueQuadVersion:{t:"long",v:1}};
if(j)Z.uF.Ty(x,["Left","Top","Rght","Btom"],j);if(g)Z.uF.Ty(x,["topLeft","topRight","bottomRight","bottomLeft"],g);
if(e=="Ln"){x.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:P[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:P[1]}}}},x.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:P[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:P[3]}}}},x.Wdth={t:"UntF",v:{type:"#Pxl",val:p}}}if(v)x.Nm={t:"TEXT",v:v};
return{t:"Objc",v:x}};Z.uF.uv=function(e,j,g,P,p){var v=Z.uF.vK(),x=v.v;delete x.keyShapeInvalidated;
x.keyOriginType={t:"long",v:e};x.keyOriginResolution={t:"doub",v:75};if(e==4){x.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:P[0]},Vrtc:{t:"doub",v:P[1]}}};
x.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:P[2]},Vrtc:{t:"doub",v:P[3]}}};j=[Math.min(P[0],P[2]),Math.min(P[1],P[3]),Math.max(P[0],P[2]),Math.max(P[1],P[3])];
x.keyOriginLineWeight={t:"doub",v:p},x.keyOriginLineArrowSt={t:"bool",v:!1};x.keyOriginLineArrowEnd={t:"bool",v:!1};
x.keyOriginLineArrWdth={t:"doub",v:0};x.keyOriginLineArrLngth={t:"doub",v:0};x.keyOriginLineArrConc={t:"long",v:0}}var A={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
x.keyOriginShapeBBox={t:"Objc",v:A};Z.uF.gS(x,j);if(g!=null){var f={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
x.keyOriginRRectRadii={t:"Objc",v:f};Z.uF.gA(x,g)}return v};Z.uF.K=function(e,j,g,P){var p=Z.D.cX(j),v=Z.D.cP(j),x=Math.max(Math.abs(j[0]),Math.abs(j[1])),A=Math.max(Math.abs(j[3]),Math.abs(j[4]));
for(var f=0;f<e.length;f++){var S=e[f].v,F=S.keyShapeInvalidated;if(F&&F.v||S.keyOriginType==null)continue;
if(g.length!=0&&g.indexOf(f)==-1)continue;var m=S.keyOriginType.v;if(!p||!v||P&&m==2&&Math.abs(1-x/A)>.01){Z.uF.KQ(e,f);
continue}var R=Z.uF.$y(S);Z.D.apply(j,R);Z.uF.gS(S,[Math.min(R[0],R[2]),Math.min(R[1],R[3]),Math.max(R[0],R[2]),Math.max(R[1],R[3])]);
if(m==2){var M=Z.uF.gI(S),b=new WE(j[0],j[1],j[3],j[4],0,0);b.DJ();if(b.Fl==0){M.push(M.shift());b.rotate(Math.PI/2);
b.DJ()}if(b.Fl<0){var s=M[0];M[0]=M[1];M[1]=s;s=M[2];M[2]=M[3];M[3]=s}if(b.LC<0){var s=M[0];M[0]=M[3];
M[3]=s;s=M[1];M[1]=M[2];M[2]=s}if(P)for(var K=0;K<4;K++)M[K]=M[K]*x;Z.uF.gA(S,M)}if(m==4){S.keyOriginLineWeight.v*=x;
var X=Z.uF.xk(S);Z.D.apply(j,X);Z.uF.ZGD(S,X)}}};Z.uF.$B=function(e,j){var g=j.F;for(var P=0;P<e.length;
P++){var p=e[P].v,v=p.keyShapeInvalidated,R;if(v&&v.v||p.keyOriginType==null)continue;var x=p.keyOriginType.v,A=Z.uF.$y(p),f=A[0],S=A[1],F=A[2],m=A[3];
if(x==1)R=Z.f.vC.Rect(f,S,F-f,m-S,0);else if(x==2){var M=Z.uF.gI(p);R=Z.f.vC.Rect(f,S,F-f,m-S,M)}else if(x==4){var b=Z.uF.xk(p);
R=Z.f.vC.zL(b[0],b[1],b[2],b[3],p.keyOriginLineWeight.v)}else if(x==5)R=Z.f.vC.Po(f,S,F-f,m-S);var s=Z.f.mh(g,P),K=Z.f.nT(g,P);
R[2].WF=g[s].WF;var X=g;g=g.slice(0,s);for(var d=2;d<R.length;d++)g.push(R[d]);for(var d=s+K;d<X.length;
d++)g.push(X[d])}j.F=g;j.jA=!0};Z.uF.Or=function(e){var j=1e9,g=-j,P=1e9,p=-P,v=null,x=e.OK(),A=x[0],f=x[1];
for(var S=0;S<f.length;S++){var F=A[f[S]],m=F.add.vogk;if(m==null)continue;var R=F.add.vmsk.b;for(var M=0;
M<m.length;M++){var b=m[M].v,s=b.keyShapeInvalidated;if(s&&s.v||b.keyOriginType==null)continue;if(f.length==1&&R.length!=0&&R.indexOf(M)==-1)continue;
var K=b.keyOriginType.v;if(K!=4){var X=Z.uF.$y(b);j=Math.min(j,X[0]);P=Math.min(P,X[1]);g=Math.max(g,X[2]);
p=Math.max(p,X[3])}if(K==2&&v==null){v=Z.uF.gI(b)}}}return[j<g?[j,P,g,p]:null,v]};Z.uF.ZGg=function(e,j,g){var P=Z.uF.Or(e)[0],p;
if(P){var v=new WE;v.translate(-P[0],-P[1]);v.scale(1/(P[2]-P[0]),1/(P[3]-P[1]));v.scale(j[2]-j[0],j[3]-j[1]);
v.translate(j[0],j[1]);p=Z.D.aL(v)}var x=e.OK(),A=x[0],f=x[1];for(var S=0;S<f.length;S++){var F=A[f[S]],m=F.add.vogk;
if(m==null)continue;var R=F.add.vmsk.b;for(var M=0;M<m.length;M++){var b=m[M].v,s=b.keyShapeInvalidated;
if(s&&s.v||b.keyOriginType==null)continue;if(f.length==1&&R.length!=0&&R.indexOf(M)==-1)continue;var K=b.keyOriginType.v;
if(K!=4&&j[0]!=null){var j=Z.uF.$y(b);Z.D.apply(p,j);Z.uF.gS(b,j)}if(K==2&&g!=null){Z.uF.gA(b,g)}}}};
Z.uF.$y=function(e){return Z.uF.gG(e.keyOriginShapeBBox.v)};Z.uF.gG=function(e){var j=e.Left.v.val,g=e.Rght.v.val,P=e.Top.v.val,p=e.Btom.v.val;
return[j,P,g,p]};Z.uF.gS=function(e,j){Z.uF.Ty(e.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],j)};
Z.uF.gI=function(e){return Z.uF.xR(e.keyOriginRRectRadii.v)};Z.uF.xR=function(e){var j=[],g=["topLeft","topRight","bottomRight","bottomLeft"];
for(var P=0;P<4;P++)j.push(e[g[P]].v.val);return j};Z.uF.gA=function(e,j){Z.uF.Ty(e.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],j)};
Z.uF.Ty=function(e,j,g){for(var P=0;P<4;P++)if(g[P]!=null)e[j[P]]={t:"UntF",v:{type:"#Pxl",val:g[P]}}};
Z.uF.xk=function(e){var j=e.keyOriginLineStart.v,g=e.keyOriginLineEnd.v;return[j.Hrzn.v,j.Vrtc.v,g.Hrzn.v,g.Vrtc.v]};
Z.uF.ZGD=function(e,j){var g=e.keyOriginLineStart.v,P=e.keyOriginLineEnd.v;g.Hrzn.v=j[0];g.Vrtc.v=j[1];
P.Hrzn.v=j[2];P.Vrtc.v=j[3]};Z.g={};Z.g.clone=function(e){return{L:e.L.slice(0),u:e.u.slice(0)}};Z.g.xM=function(e){if(e.length<6)return!0;
var j=e.length-4;for(var g=0;g<j;g+=2)if(!Z.g.gj(e[g],e[g+1],e[g+2],e[g+3],e[g+4],e[g+5]))return!1;if(!Z.g.gj(e[j],e[j+1],e[j+2],e[j+3],e[0],e[1]))return!1;
if(!Z.g.gj(e[j+2],e[j+3],e[0],e[1],e[2],e[3]))return!1;return!0};Z.g.gj=function(e,j,g,P,p,v){return(j-P)*(p-g)+(g-e)*(v-P)>=0};
Z.g.gX=function(e){var j={},g=null,P=0,p={M:2,L:2,Q:4,C:6};for(var v=0;v<e.L.length;v++){var x=e.L[v];
if(x.charAt(0)=="#"){if(j[x]==null)j[x]={u:[],L:[]};g=j[x]}else if(x!="X"){g.L.push(x);var A=p[x];if(A==null)A=0;
for(var f=0;f<A;f++)g.u.push(e.u[P+f]);P+=A}}return j};Z.g.br=function(e,j){e=Z.g.fY(e);var g=e.u,P=e.L,p=0,v=[],x=null;
for(var A=0;A<P.length;A++){var f=P[A];if(f=="M"){x={ZIf:p,TO:0,ww:!1};v.push(x);p+=2}if(f=="C"){x.TO++;
p+=6}if(f=="Z"){x.ww=!0}}var S=[];for(var A=0;A<v.length;A++)if(v[A].TO!=0)S.push(v[A]);v=S;for(var A=0;
A<v.length;A++){var F=v[A],m=F.ZIf,R=m+2+F.TO*6,b=0;F.jm=Z.g.XI(g,m,R);var M=g[m]==g[R-2]&&g[m+1]==g[R-1];
for(var s=0;s<F.TO;s++){var K=m+s*6,X=K+6;b+=(g[X]-g[K])*(g[X+1]+g[K+1])}if(F.TO==2){var d=function(E,WW,Wx){var WU=1-Wx;
return WU*WU*WU*E[WW]+3*WU*WU*Wx*E[WW+2]+3*WU*Wx*Wx*E[WW+4]+Wx*Wx*Wx*E[WW+6]},W=g[m],O=g[m+1],H=g[m+6],Y=g[m+7],y=g[m+6],B=g[m+7],c=d(g,m,.5),$=d(g,m+1,.5),I=d(g,m+6,.5),r=d(g,m+7,.5);
b=(c-W)*($-O)+(H-c)*(Y-$)+(I-H)*(r-Y)+(y-I)*(B-r)}if(!M)b+=(g[m]-g[R-2])*(g[m+1]+g[R-1]);F.wl=b<=0}for(var A=0;
A<v.length-1;A++)for(var K=A+1;K<v.length;K++){var i=v[A],U=v[K];if(U.jm.pY(i.jm)){v[A]=U;v[K]=i}}var N=v.length==0?!0:v[0].wl,C=[{type:6},{type:8,all:0}];
for(var A=0;A<v.length;A++){var F=v[A],m=F.ZIf,R=m+2+F.TO*6,M=g[m]==g[R-2]&&g[m+1]==g[R-1],D=F.ww||M?0:3,n=F.wl==N&&!j?1:0;
if(!j&&A!=0){if(v[A-1].jm.pY(F.jm)&&v[A-1].wl!=F.wl)n=0;for(var K=0;K<v.length;K++)if(K!=A&&v[K].jm.pY(F.jm))n=0}C.push({type:D,length:F.TO+(M?0:1),WF:n,Tu:2});
for(var K=0;K<F.TO;K++){var p=m+K*6,w=new Uc(g[p],g[p+1]),k=new Uc(g[p+2],g[p+3]),h;if(K==0){if(M)h=new Uc(g[R-4],g[R-3]);
else h=w.clone()}else h=new Uc(g[p-2],g[p-1]);C.push({type:D+2,Li:h,G:w,ap:k})}if(!M){var t=new Uc(g[R-2],g[R-1]);
C.push({type:D+2,Li:new Uc(g[R-4],g[R-3]),G:t,ap:t.clone()})}}for(var K=0;K<C.length;K++){var a=C[K];
if(a.type>5||a.type==0||a.type==3)continue;var _=a.Li.iJ(a.G)||a.ap.iJ(a.ap);if(!_){var i=a.Li.x*(a.G.y-a.ap.y)+a.G.x*(a.ap.y-a.Li.y)+a.ap.x*(a.Li.y-a.G.y);
if(Math.abs(i)<1e-6)_=!0}if(_)a.type--}return C};Z.g.bg=function(){function e(P,p,v,x){if(!x&&P.ap.iJ(P.G)&&p.Li.iJ(p.G)){v.u.push(p.G.x,p.G.y);
v.L.push("L")}else{v.u.push(P.ap.x,P.ap.y,p.Li.x,p.Li.y,p.G.x,p.G.y);v.L.push("C")}}function j(P,p,v,x,A,f){var S=p[v];
P.u.push(S.G.x,S.G.y);P.L.push("M");for(var F=v;F<v+x-1;F++)e(p[F],p[F+1],P,f);if(!A)e(p[F],p[v],P,f)}function g(P,p){if(p==null)p=!1;
var v={u:[],L:[]};for(var x=0;x<P.length;x++){if(P[x].type>5)continue;var A=P[x].length;if(A==0)continue;
if(x==P.length-1)break;var f=P[x].type==3;j(v,P,x+1,A,f,p);if(!f)v.L.push("Z");x+=A}return v}return g}();
Z.g.Zaq=function(e){var j=e.u,g=[],P,p=0;for(var v=0;v<e.L.length;v++){var x=e.L[v];if(x=="C"){P.push(j[p++],j[p++],j[p++],j[p++],j[p++],j[p++])}else if(x=="Z"){}else{P=[];
if(x!="M"){P.push(x);v++}P.push(j[p++],j[p++]);g.push(P)}}return g};Z.g.$L=function(e,j,g,P){if(P==null)P=1e9;
var p=1e9,v=0;for(var x=0;x<e.length;x+=2){var A=j-e[x],f=g-e[x+1],S=A*A+f*f;if(S<p){p=S;v=x>>>1}}return p<P*P?v:-1};
Z.g.gR=function(e,j,g,P){for(var p=0;p<e.length;p+=2){var v=e[p],x=e[p+1],A=j[p],f=j[p+1];g[p]=v+(A-v)*P;
g[p+1]=x+(f-x)*P}};Z.g.K=function(e,j,g){for(var P=0;P<e.length;P+=2){var p=e[P],v=e[P+1];g[P]=p*j.Fl+v*j.Ug+j.vR;
g[P+1]=p*j.e+v*j.LC+j.LV}};Z.g.XI=function(e,j,g){if(j==null)j=0;if(g==null)g=e.length;var P=99999999999,p=-P,v=99999999999,x=-v;
for(var A=j;A<g;A+=2){var f=e[A],S=e[A+1];P=Math.min(P,f);v=Math.min(v,S);p=Math.max(p,f);x=Math.max(x,S)}return new G(P,v,p-P,x-v)};
Z.g.xl=function(e,j){var g=Math.max(j.x,Math.min(j.x+j.W,e.x)),P=Math.max(j.y,Math.min(j.y+j.j,e.y)),p=e.x-g,v=e.y-P;
return Math.sqrt(p*p+v*v)};Z.g.FD=function(e){if(e.tE())return new G(Math.floor(e.x),Math.floor(e.y),Math.ceil(e.W),Math.ceil(e.j));
var j=Math.floor(e.x),g=Math.ceil(e.x+e.W),P=Math.floor(e.y),p=Math.ceil(e.y+e.j);return new G(j,P,g-j,p-P)};
Z.g.bO=function(e){return Z.g.FD(Z.g.XI(e))};Z.g.B$=function(e){var j=e.x,g=e.y,P=e.x+e.W,p=e.y+e.j;
return{L:["M","L","L","L","Z"],u:[j,g,P,g,P,p,j,p]}};Z.g.concat=function(e,j,g){if(g==null)g=new WE;
for(var P=0;P<j.u.length;P+=2){var p=j.u[P],v=j.u[P+1];e.u.push(p*g.Fl+v*g.Ug+g.vR);e.u.push(p*g.e+v*g.LC+g.LV)}for(var P=0;
P<j.L.length;P++)e.L.push(j.L[P])};Z.g.fY=function(e){var j=e.u,g=[],P=[],p=0,v=0,x=0,A=0,f=0,S=0,F=0,m=0,R=0;
for(var M=0;M<e.L.length;M++){var b=e.L[M];if(b=="M"){v=j[p];x=j[p+1];p+=2;P.push(b);g.push(v,x)}else if(b=="C"){A=j[p];
f=j[p+1];S=j[p+2];F=j[p+3];m=j[p+4];R=j[p+5];p+=6;P.push(b);g.push(A,f,S,F,m,R);v=m;x=R}else if(b=="Q"){A=j[p];
f=j[p+1];S=j[p+2];F=j[p+3];p+=4;var s=A-v,K=f-x,X=S-A,d=F-f;P.push("C");g.push(v+2/3*s,x+2/3*K,A+1/3*X,f+1/3*d,S,F);
v=S;x=F}else if(b=="L"){A=j[p];f=j[p+1];p+=2;var W=A-v,O=f-x;P.push("C");g.push(v,x,A,f,A,f);v=A;x=f}else P.push(b)}return{L:P,u:g}};
Z.g.ZG$=function(e){var j=e.u,g=[],P=[],p=0;for(var v=0;v<e.L.length;v++){var x=e.L[v];if(x=="Q"){var A=j[p-2],f=j[p-1],S=j[p],F=j[p+1],m=j[p+2],R=j[p+3];
p+=4;var M=S-A,b=F-f,s=m-S,K=R-F;P.push("C");g.push(A+2/3*M,f+2/3*b,S+1/3*s,F+1/3*K,m,R)}else{var X=0;
if(x=="M"||x=="L")X=2;else if(x=="C")X=6;for(var d=0;d<X;d++)g.push(j[p+d]);p+=X;P.push(x)}}return{L:P,u:g}};
Z.g.fR=function(e,j){var g=e.u,P=[],p=[],v=0,x=0,A=0,f=0,S=0,F=0,m=0,R=0,M=0;for(var b=0;b<e.L.length;
b++){var s=e.L[b];if(s=="M"){x=g[v];A=g[v+1];v+=2;p.push(s);P.push(x,A)}else if(s=="C"){f=g[v];S=g[v+1];
F=g[v+2];m=g[v+3];R=g[v+4];M=g[v+5];v+=6;Z.g.go(x,A,f,S,F,m,R,M,j,p,P,0);x=R;A=M}else p.push(s)}return{L:p,u:P}};
Z.g.go=function(e,j,g,P,p,v,x,A,f,S,F,m){var R=Math.sqrt((x-e)*(x-e)+(A-j)*(A-j)),M=Math.sqrt((x-p)*(x-p)+(A-v)*(A-v))+Math.sqrt((p-g)*(p-g)+(v-P)*(v-P))+Math.sqrt((g-e)*(g-e)+(P-j)*(P-j)),b=(R+M)/2;
if(b<=f){S.push("C");F.push(g,P,p,v,x,A)}else{var s=0,K=0,X=0,d=0,W=0,O=0,H=0,Y=0,y=0,B=0,c=0,$=0,I=0;
K=(e+g)/2;X=(j+P)/2;d=(g+p)/2;W=(P+v)/2;O=(p+x)/2;H=(v+A)/2;Y=(K+d)/2;y=(X+W)/2;B=(d+O)/2;c=(W+H)/2;
$=(Y+B)/2;I=(y+c)/2;Z.g.go(e,j,K,X,Y,y,$,I,f,S,F,m+1);Z.g.go($,I,B,c,O,H,x,A,f,S,F,m+1)}};Z.g.gh=function(e,j){var g=e.length-2,P=e[0],p=e[1],v=e[g],x=e[g+1],A=v-P,f=x-p,S=1/Math.sqrt(A*A+f*f),F=v*p-x*P,m=-1,R=-1;
for(var M=2;M<g;M+=2){var b=e[M],s=e[M+1],K=Math.abs(f*b-A*s+F)*S;if(K>R){R=K;m=M}}if(R<j)return[P,p,v,x];
var X=Z.g.gh(e.slice(0,m+2),j),d=Z.g.gh(e.slice(m),j);for(var M=2;M<d.length;M++)X.push(d[M]);return X};
Z.g.ZGk=function(){var e=function(P,p,v,x,A,f){return(p-x)*(A-v)+(v-P)*(f-x)>=0},j=function(P,p,v,x,A,f,S,F){var m=S-v,R=F-x,M=A-v,b=f-x,s=P-v,K=p-x,X=m*m+R*R,d=m*M+R*b,W=m*s+R*K,O=M*M+b*b,H=M*s+b*K,Y=1/(X*O-d*d),y=(O*W-d*H)*Y,B=(X*H-d*W)*Y;
return y>=0&&B>=0&&y+B<1},g=function(P){var p=P.length>>>1,A=0;if(p<3)return[];var v=[],x=[];for(var A=0;
A<p;A++)x.push(A);var f=p;while(f>3){var S=x[(A+0)%f],F=x[(A+1)%f],m=x[(A+2)%f],R=P[2*S],M=P[2*S+1],b=P[2*F],s=P[2*F+1],K=P[2*m],X=P[2*m+1],d=!1;
if(e(R,M,b,s,K,X)){d=!0;for(var W=0;W<f;W++){var O=x[W];if(O==S||O==F||O==m)continue;if(j(P[2*O],P[2*O+1],R,M,b,s,K,X)){d=!1;
break}}}if(d){v.push(S,F,m);x.splice((A+1)%f,1);f--;A=0}else if(A++>3*f)break}v.push(x[0],x[1],x[2]);
return v};return g}();Z.g.ZGw=function(e,j){var g={},P={L:[],u:[]};for(var p=0;p<j.length;p+=3){var v=j[p]*2,x=j[p+1]*2,A=j[p+2]*2;
Z.g.gM(e,v,x,P,g);Z.g.gM(e,v,A,P,g);Z.g.gM(e,x,A,P,g)}return P};Z.g.gM=function(e,j,g,P,p){if(j>g){var v=g;
g=j;j=v}if(p[j+","+g])return;p[j+","+g]=!0;P.L.push("M","L");P.u.push(e[j],e[j+1],e[g],e[g+1])};Z.g.xc=function(e,j){var g=[],P=e.length;
for(var p=0;p<P;p+=2){var v=e[p],x=e[p+1],A=e[(p+2)%P],f=e[(p+3)%P];if(f<x){var S=x;x=f;f=S}if(x<j&&j<f){var F=(j-x)/(f-x);
g.push(v+F*(A-v))}}g.sort(function(m,R){return m-R});return g};Z.g.ZGQ=function(e,j){var g=j.slice(0),P=e.length/2,p=[],v=[];
for(var x=0;x<P;x++){var A=(x+1)%P,f=e[2*x]-e[2*A],S=e[2*x+1]-e[2*A+1];v[x]=Math.sqrt(f*f+S*S)}for(var x=0;
x<P;x++){var F=(x-1+P)%P,A=(x+1)%P,m=j[x],R=m+j[F],M=m+j[A];if(R!=0)g[x]=Math.min(g[x],v[F]*m/R);if(M!=0)g[x]=Math.min(g[x],v[x]*m/M)}for(var x=0;
x<P;x++){var A=(x+1)%P,b=(x+2)%P,s=g[x],K=g[A],X=e[2*x],d=e[2*x+1],W=e[2*A],O=e[2*A+1],H=e[2*b],Y=e[2*b+1],y=v[x],B=v[A],c=Z.g.ZEW(X,d,W,O,H,Y,s,K,y,B);
p.push(c[0],c[1],c[0],c[1],c[2],c[3]);p.push(c[2],c[3],c[4],c[5],c[6],c[7])}return p};Z.g.ZEW=function(e,j,g,P,p,v,x,A,f,S){if(f==null)f=Math.sqrt((g-e)*(g-e)+(P-j)*(P-j));
if(S==null)S=Math.sqrt((p-g)*(p-g)+(v-P)*(v-P));var F=.553,m=0,R=0,M=0,b=0;if(f!=0){m=(g-e)/f;R=(P-j)/f}if(S!=0){M=(p-g)/S;
b=(v-P)/S}var s=e+x*m,K=j+x*R,X=g-A*m,d=P-A*R;return[s,K,X,d,g-A*m*(1-F),P-A*R*(1-F),g+A*M*(1-F),P+A*b*(1-F),g+A*M,P+A*b]};
Z.g.UC=function(e,j,g,P,p,v,x){var A=e-g,f=j-P,S=p-g,F=v-P,m=1/Math.sqrt(A*A+f*f),R=1/Math.sqrt(S*S+F*F),M=A*m,b=f*m,s=S*R,K=F*R,X=b*x,d=-M*x,W=-K*x,O=s*x,H=Z.g.Wm(X,d,M,b,W,O,s,K),Y=X+M*H,y=d+b*H,H=Z.g.Wm(0,0,M,b,Y,y,-b,M),B=M*H,c=b*H;
return[Math.sqrt(B*B+c*c),M,b,s,K]};Z.g.UH=function(e,j,g,P,p,v,x){var A=Z.g.UC(e,j,g,P,p,v,x),f=A[0],S=A[1],F=A[2],m=A[3],R=A[4],M=Math.atan2(S*R-F*m,S*m+F*R);
if(M<0){M=M*-1}var b=Math.PI-M,s=4/3*Math.tan(b/4),K=g+f*S,X=P+f*F,d=g+f*m,W=P+f*R,O=K+s*x*-S,H=X+s*x*-F,Y=d+s*x*-m,y=W+s*x*-R;
return[0,0,K,X,O,H,Y,y,d,W]};Z.g.Wm=function(e,j,g,P,p,v,x,A){var f=x*(j-v)-A*(e-p),S=A*g-x*P;if(S==0)return 0;
return f/S};Z.g.UH(0,50,0,0,30,30,10);Z.$K=function(){};Z.$K.fe=function(e,j,g,P,p){var v=g.W,x=g.j,A=v*x,f=new Int32Array(A),S=0;
for(var F=0;F<A;F++)if(j[F]!=0){f[F]=S;S++}else if(e[(F<<2)+3]<200){f[F]=-2}else f[F]=-1;if(S==0)return;
var m=new Z.Oa(S,S),R=new Array(3*S),M=new Array(3*S);for(var F=0;F<M.length;F++)M[F]=R[F]=0;var b=1/255,s=[-v,-1,1,v],K=[],X=[];
for(var d=0;d<x;d++)for(var W=0;W<v;W++){var O=d*v+W,H=O<<2,F=f[O],Y=F*3,y=0,B=0,c=0;if(F==-1||F==-2)continue;
for(var $=0;$<4;$++){if($==2){B=c;K[c]=0;X[c]=F;c++}var I=O+s[$],r=I<<2,i=f[I];if($==0&&d==0||$==1&&W==0||$==2&&W==v-1||$==3&&d==x-1||i==-2)continue;
y++;if(i==-1){R[Y+0]+=e[r+0];R[Y+1]+=e[r+1];R[Y+2]+=e[r+2]}else{K[c]=-1;X[c]=i;c++;if(j[O]==j[I]){R[Y+0]+=e[H+0]-e[r+0];
R[Y+1]+=e[H+1]-e[r+1];R[Y+2]+=e[H+2]-e[r+2]}}}K[B]=y;m.lB(K,X,c)}for(var F=0;F<A;F++)if(f[F]!=-1){var U=F<<2,N=f[F],C=N*3;
M[C]=e[U+0];M[C+1]=e[U+1];M[C+2]=e[U+2]}var D=Date.now();m.ZHQ(M,R,P,p);console.log(Date.now()-D);for(var F=0;
F<A;F++){var N=f[F],n=N*3,U=F<<2;if(N==-1||e[U+3]!=255)continue;e[U+0]=~~(.5+Math.max(0,Math.min(255,M[n+0])));
e[U+1]=~~(.5+Math.max(0,Math.min(255,M[n+1])));e[U+2]=~~(.5+Math.max(0,Math.min(255,M[n+2])))}};Z.rect={};
Z.rect.Wc=function(e,j){var g=[e],P=[];for(var p=0;p<j.length;p++){var v=j[p],x=!1;for(var A=p+1;A<j.length;
A++){var f=j[A];if(f[0]<=v[0]&&f[1]<=v[1]&&v[2]<=f[2]&&v[3]<=f[3]){x=!0;break}}if(!x)P.push(v)}j=P;for(var p=0;
p<j.length;p++){var v=j[p];for(var A=0;A<g.length;A++){var f=g[A],S=Math.max(v[0],f[0]),F=Math.min(v[2],f[2]),m=Math.max(v[1],f[1]),R=Math.min(v[3],f[3]);
if(S<F&&m<R){var M=[];if(f[1]<v[1]){var b=f.slice(0);b[3]=v[1];M.push(b)}if(f[0]<v[0]){var s=f.slice(0);
s[1]=m;s[2]=v[0];M.push(s)}if(v[2]<f[2]){var K=f.slice(0);K[1]=m;K[0]=v[2];M.push(K)}if(v[3]<f[3]){var X=[S,R,F,f[3]];
M.push(X)}if(M.length!=0){g[A]=M[0];for(var d=1;d<M.length;d++)g.push(M[d])}}}g.push(v);g=Z.rect.ZEq(g)}g.sort(function(v,f){return v[1]!=f[1]?v[1]-f[1]:v[0]-f[0]});
return g};Z.rect.ZEq=function(e){e=e.slice(0);for(var j=0;j<e.length;j++){var g=e[j],P=null;if(g[4]!=null)continue;
for(var p=0;p<e.length;p++){var v=e[p];if(j==p||v[4]!=null)continue;var x=g[0]==v[0],A=g[1]==v[1],f=g[2]==v[2],S=g[3]==v[3];
if(A&&S&&(g[2]==v[0]||g[0]==v[2])){P=[Math.min(g[0],v[0]),g[1],Math.max(g[2],v[2]),g[3]]}if(x&&f&&(g[3]==v[1]||g[1]==v[3])){P=[g[0],Math.min(g[1],v[1]),g[2],Math.max(g[3],v[3])]}if(P){e[j]=P;
e.splice(p,1);break}}if(P){j--}}return e};Z.rect.$p=function(e){var j=new G;for(var g=0;g<e.length;g++)j=j.Gd(e[g]);
return j};Z.rect.ZEH=function(e,j){var g=Z.rect.$p,P=new UnionFind(e.length),y=1e3,B=1e3;for(var p=0;
p<e.length;p++)for(var v=p+1;v<e.length;v++){if(!j)continue;var x=e[p],A=e[v],R=1e9,M=1e9;if(x.cV(A)){P.link(p,v);
continue}var f=x.x+x.W,S=x.y+x.j,F=A.x+A.W,m=A.y+A.j;if((f<A.x||F<x.x)&&(S<A.y||m<x.y))continue;if(!(S<A.y||m<x.y))R=Math.min(Math.abs(f-A.x),Math.abs(x.x-F));
if(!(f<A.x||F<x.x))M=Math.min(Math.abs(S-A.y),Math.abs(x.y-m));var b=Math.min(R,M),s=Math.min(x.W,x.j,A.W,A.j);
if(b<.3*s)P.link(p,v)}var K=[],X={};for(var p=0;p<e.length;p++){var d=P.find(p),W=e[p];if(X[d]==null){X[d]=K.length;
K.push([])}K[X[d]].push(W)}var O=[],H=[];for(var p=0;p<K.length;p++){O.push(g(K[p]));var Y=g(K[p]);Y.if=p;
H.push(Y)}H.sort(function(n,w){return Math.max(w.j,w.W)-Math.max(n.j,n.W)});var c=new NETXUS.RectanglePacker(y,B);
while(!0){var $=!1;c.reset(y,B);for(var p=0;p<H.length;p++){var I=c.findCoords(H[p].W,H[p].j);if(I){H[p].x=I.x;
H[p].y=I.y}else{y=Math.floor(y*1.1);B=Math.floor(B*1.1);$=!0;break}}if($)continue;break}for(var p=0;
p<K.length;p++){var r=H[p],i=r.if,U=O[i],N=K[i],C=r.x-U.x,D=r.y-U.y;for(var v=0;v<N.length;v++)N[v].offset(C,D)}};
Z.CF=function(){};Z.CF.kL=Math.floor(16*window.devicePixelRatio);Z.CF.gb={};Z.CF.oK=0;Z.CF.fk=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
Z.CF.ZEO=["px","in","cm","mm","%"];Z.CF.vr=function(e,j,g){var P=j.aY,p=[1,P,P/2.54,P/25.4,j.W/100][g];
return e*p};Z.CF.wn=function(e,j,g,P,p){var v=g.ka.AG,x=[1,j,j/2.54,j/25.4,P/100][v],A=[2,3,2,1,2][v];
e=e/x;var f=Math.round(e),S=v==0&&Math.abs(e-f)<1e-6?f+"":e.toFixed(A);if(p)S+=" "+Z.CF.ZEO[v];return S};
Z.CF.ZEX=function(e,j,g,P){var p=g.ka.AG,v=[1,j,j/2.54,j/25.4,P/100][p];e=parseFloat(e)*v;return e};
Z.CF.ZEY=function(e,j){var g=Math.round(Z.CF.kL*.5);Z.CF.oK=g;var P=document.createElement("canvas");
P.width=P.height=g;var p=P.getContext("2d");p.font=g*1.5+"px monospace";var v="0 1 2 3 4 5 6 7 8 9 -".split(" ");
for(var x=0;x<v.length;x++){p.fillStyle="#"+Z.jz(j);p.fillRect(0,0,g,g);p.fillStyle="#"+Z.jz(e);p.fillText(v[x],0,g);
Z.CF.gb[v[x]]=p.getImageData(0,0,g,g).data}};Z.CF.ZSp=function(e,j,g){var P=0,p=0,v=4*Z.CF.kL;for(var x=9;
x>=0;x--){var A=Math.pow(10,x);if(5*A*e<=v){P=5*A;p=10;break}if(2*A*e<=v){P=2*A;p=4;break}if(1*A*e<=v){P=1*A;
p=10;break}}if(P==0){P=1;p=10}var f=Math.ceil(P*e),S=Z.V(f*Z.CF.kL*4);Z.XC(S,4278190080|g);for(var x=0;
x<Z.CF.kL;x++)Z.CF.gw(S,4*x*f,j);for(var x=0;x<f;x++)Z.CF.gw(S,4*((Z.CF.kL-1)*f+x),j);if(P==2)p=2;if(P==5)p=5;
if(P>1||P==1&&f>20)for(var x=1;x<p;x++)Z.CF.ZSA(S,x*(f/p),f,(x&1)==1?.8:.7,j);return{WE:S,step:P}};Z.CF.ZSA=function(e,j,g,P,p){var j=Math.round(j);
for(var v=Math.round(Z.CF.kL*P);v<Z.CF.kL-1;v++)Z.CF.gw(e,4*(v*g+j),p)};Z.CF.gw=function(e,j,g){e[j+0]=g>>16&255;
e[j+1]=g>>8&255;e[j+2]=g&255};Z.CF.ZSj=function(e,j,g){var P=j&255,p=j>>8&255,v=j>>16&255,X,d,W,O;j=Math.round(P*.6)<<16|Math.round(p*.6)<<8|Math.round(v*.6);
Z.CF.ZEY(Math.round(P*.8)<<16|Math.round(p*.8)<<8|Math.round(v*.8),g);var x=this.ZSp(e.d,j,g),A=e.IR(0,0),f=e.IR(e.A.W,e.A.j),S=Math.floor(A.x/x.step)*x.step,F=Math.ceil(f.x/x.step)*x.step,m=Math.floor(A.y/x.step)*x.step,R=Math.ceil(f.y/x.step)*x.step,M=e.p$(S,m),b=e.p$(F,m),s=x.step*e.d,K=Math.ceil(s);
X=e.Xk.data;d=new G(0,0,e.A.W,Z.CF.kL);W=new G(0,0,K,Z.CF.kL);O=new G(0,Math.round(Z.CF.kL*.08),Z.CF.oK,Z.CF.oK);
for(var H=0;H<(F-S)/x.step;H++){W.x=Math.round(M.x+H*s);Z.Vy(x.WE,W,X,d,W);var Y=(S+H*x.step).toString(10);
for(var y=0;y<Y.length;y++){O.x=W.x+3+y*Math.round(Z.CF.oK*.8);var B=Z.CF.gb[Y[y]];Z.Vy(B,O,X,d,O)}}var c=new Uint32Array(x.WE.buffer),$=new Uint32Array(x.WE.length);
for(var I=0;I<K;I++)for(var r=0;r<Z.CF.kL;r++){$[I*Z.CF.kL+r]=c[r*K+I]}x.WE=new Uint8Array($.buffer);
X=e.av.data;d=new G(0,0,Z.CF.kL,e.A.j);W=new G(0,0,Z.CF.kL,K);O=new G(Math.round(Z.CF.kL*.2),0,Z.CF.oK,Z.CF.oK);
for(var H=0;H<(R-m)/x.step;H++){W.y=Math.round(M.y+H*s);Z.Vy(x.WE,W,X,d,W);var Y=Math.abs(m+H*x.step).toString(10);
for(var y=0;y<Y.length;y++){O.y=W.y+3+y*Math.round(Z.CF.oK*1.15);var B=Z.CF.gb[Y[y]];Z.Vy(B,O,X,d,O)}}};
Z.scale={};Z.scale.O$=document.createElement("canvas");Z.scale.kl=Z.scale.O$.getContext("2d");Z.scale.ZSY=document.createElement("canvas");
Z.scale.ZaH=Z.scale.ZSY.getContext("2d");Z.scale.wy=function(e,j,g){var P=Z.scale.O$,p=Z.scale.kl;P.width=j;
P.height=g;var v=new ImageData(new Uint8ClampedArray(e.buffer),j,g);p.putImageData(v,0,0);return p.createPattern(P,"repeat")};
Z.scale.Zas=function(e,j,g,P,p,v,x,A){var f=Z.scale.vO(e,g,P,p,v,x,A);Z.Mi(f.data,j)};Z.scale.ZS_=function(e,j,g,P,p,v,x,A){var f=Z.scale.vO(e,g,P,p,v,x,A);
Z.Ue(f.data,j)};Z.scale.vO=function(e,j,g,P,p,v,x){var A=Z.scale.O$,f=Z.scale.kl;A.width=j;A.height=g;
f.rect(0,0,j,g);f.translate(v,x);f.scale(P,p);f.fillStyle=e;f.fill();return f.getImageData(0,0,j,g)};
Z.scale.$Y=function(e,j,g,P,p,v,x){if(x<1)Z.scale.ZIE(e,j,g,P,p,v,Math.round(1/x));else Z.scale.ZIG(e,j,g,P,p,v,x)};
Z.scale.Tl=function(e,j,g,P,p,v,x,A){if(A)A=A.zx(new G(0,0,j,g));e=new Uint32Array(e.buffer);P=new Uint32Array(P.buffer);
if(x<1)Z.scale.ZII(e,j,g,P,p,v,Math.round(1/x),A);else Z.scale.ZIS(e,j,g,P,p,v,x)};Z.scale.ZIG=function(e,j,g,P,p,v,x){for(var A=0;
A<g;A++)for(var f=0;f<j;f++){var S=e[A*j+f],F=Math.min(x,p-f*x),m=Math.min(x,v-A*x);for(var R=0;R<m;
R++)for(var M=0;M<F;M++)P[(x*A+R)*p+x*f+M]=S}};Z.scale.ZIE=function(e,j,g,P,p,v,x){for(var A=0;A<v;A++)for(var f=0;
f<p;f++){var S=0,F=Math.min(x,j-f*x),m=Math.min(x,g-A*x);for(var R=0;R<m;R++)for(var M=0;M<F;M++)S+=e[(x*A+R)*j+(x*f+M)];
P[A*p+f]=Math.round(S/(F*m))}};Z.scale.ZIS=function(e,j,g,P,p,v,x){for(var A=0;A<g;A++)for(var f=0;f<j;
f++){var S=e[A*j+f],F=Math.min(x,p-f*x),m=Math.min(x,v-A*x);for(var R=0;R<m;R++)for(var M=0;M<F;M++)P[(x*A+R)*p+x*f+M]=S}};
Z.scale.ZII=function(e,j,g,P,p,v,x,A){var f=0,S=p,F=0,m=v;if(A){f=Math.floor(A.x/x);S=Math.ceil((A.x+A.W)/x);
F=Math.floor(A.y/x);m=Math.ceil((A.y+A.j)/x)}for(var R=F;R<m;R++)for(var M=f;M<S;M++){var b=0,s=0,K=0,X=0,d=Math.min(x,j-M*x),W=Math.min(x,g-R*x);
for(var O=0;O<W;O++)for(var H=0;H<d;H++){var Y=e[(x*R+O)*j+x*M+H],y=Y>>>24;b+=y;s+=y*(Y>>>16&255);K+=y*(Y>>>8&255);
X+=y*(Y&255)}if(b!=0){var B=1/b;P[R*p+M]=b/(d*W)<<24|s*B<<16|K*B<<8|X*B}else P[R*p+M]=0}};Z.Z={};Z.Z.ZIH=function(e,j,g){var P=128,p=0,v=g.W,x=g.j;
for(var A=0;A<x;A++)for(var f=0;f<v;f++){if(e[p]>=P&&(f==0||e[p-1]<P||(f==v-1||e[p+1]<P)||(A==0||e[p-v]<P)||(A==x-1||e[p+v]<P)))j[p]=255;
p++}};Z.Z.ZIs=function(e,j,g,P){var p=new Uint32Array([4278190080,4294967295]),v=g.W,x=g.j,A=0,f=0,S=v,F=x;
if(P){A=P.x-g.x;f=P.y-g.y;S=A+P.W;F=f+P.j}var m=new Uint8Array(j.buffer),R=new Uint32Array(j.buffer);
for(var M=f;M<F;M++)for(var b=A;b<S;b++){var s=M*v+b;if((e[s]&128)!=0&&(M==0||(e[s-v]&128)==0||b==0||(e[s-1]&128)==0||b==v-1||(e[s+1]&128)==0||M==x-1||(e[s+v]&128)==0)){R[s]=p[(b+M&4)>>>2]}}};
Z.Z.ZHy=function(e,j,g,P,p,v){var x=g.W,A=g.j,f=0,S=0,F=x,m=A;if(P){f=P.x-g.x;S=P.y-g.y;F=f+P.W;m=S+P.j}var R=new Uint8Array(j.buffer),M=new Uint32Array(j.buffer);
for(var b=S;b<m;b++)for(var s=f;s<F;s++){var K=b*x+s,X=e[K];if(p==1)M[K]=255-X>>>1<<24|255;else M[K]=255<<24|(X<<16|X<<8|X)}};
Z.$r={};Z.$r.gl=function(e,j,g){var P,p;if(g=="front"){P=e.rect.clone();p=Z.$r.ZHa}if(g=="union"){P=e.rect.Gd(j.rect);
p=Z.$r.Gd}if(g=="difference"){P=j.rect.clone();p=Z.$r.ZHF}if(g=="intersection"){P=e.rect.zx(j.rect);
p=Z.$r.zx}if(g=="xor"){P=e.rect.Gd(j.rect);p=Z.$r.ZHl}if(P.tE())return null;var v=Z.V(P.h());Z.Oo(j.channel,j.rect,v,P);
var x=Z.V(P.h());Z.Oo(e.channel,e.rect,x,P);p(x,v,v);var A=Z.Ms(v,P);if(A.tE())return null;if(!A.iJ(P)){var f=Z.V(A.h());
Z.Oo(v,P,f,A);v=f;P=A}return{channel:v,rect:P}};Z.$r.ZHa=function(e,j,g){for(var P=0;P<e.length;P++)g[P]=e[P]};
Z.$r.Gd=function(e,j,g){for(var P=0;P<e.length;P++)g[P]=Math.min(e[P]+j[P],255)};Z.$r.ZHF=function(e,j,g){for(var P=0;
P<e.length;P++)g[P]=Math.max(j[P]-e[P],0)};Z.$r.zx=function(e,j,g){var P=1/255;for(var p=0;p<e.length;
p++)g[p]=e[p]*j[p]*P};Z.$r.ZHl=function(e,j,g){var P=1/255;for(var p=0;p<e.length;p++)g[p]=Math.min(e[p]+j[p],255)-e[p]*j[p]*P};
Z.Oa=function(e,j){this.a=[];this.TN=[0];this.HQ=[];this.Yf=[];this.aC=[0];this.an=[];this.Yn=[];this.rows=e;
this.cols=j};Z.Oa.prototype.clone=function(){var e=this,j=e.rows,g=e.cols,P=new Z.Oa(j,g);P.a=e.a.slice(0);
P.TN=e.TN.slice(0);P.HQ=e.HQ.slice(0);P.Yf=e.Yf.slice(0);P.aC=e.aC.slice(0);P.an=e.an.slice(0);P.Yn=e.Yn.slice(0);
return P};Z.Oa.prototype.lB=function(e,j,g){var P=this.TN.length-1;for(var p=0;p<g;p++){var v=e[p],x=j[p];
this.a.push(v);this.HQ.push(x);if(x==P){this.Yn.push(v==0?0:1/v)}else{this.Yf.push(v);this.an.push(x)}}this.TN.push(this.a.length);
this.aC.push(this.Yf.length)};Z.Oa.prototype.kG=function(e,j){var g=this,P=g.rows,p=g.a,v=g.HQ;if(j==null)j=new Array(P);
for(var x=0;x<P;x++){var A=g.TN[x],f=g.TN[x+1],S=0;while((f-A&3)!=0){S+=p[A]*e[v[A]];A++}for(var F=A;
F<f;F+=4)S+=p[F]*e[v[F]]+p[F+1]*e[v[F+1]]+p[F+2]*e[v[F+2]]+p[F+3]*e[v[F+3]];j[x]=S}return j};Z.Oa.prototype.multiply=function(e){return this.g_(e.eQ())};
Z.Oa.prototype.g_=function(e){var j=this,g=j.rows,P=j.cols,p=e.rows,v=new Z.Oa(g,p),x=j.HQ,A=e.HQ;for(var f=0;
f<g;f++){var S=[],F=[],m=j.TN[f],R=j.TN[f+1];for(var M=0;M<p;M++){var b=e.TN[M],s=e.TN[M+1],K=0,X=m,d=b;
while(X<R&&d<s){var W=Math.max(x[X],A[d]);while(X<R&&x[X]<W)X++;while(d<s&&A[d]<W)d++;if(X<R&&d<s&&x[X]==A[d])K+=j.a[X++]*e.a[d++]}if(K!=0){S.push(K);
F.push(M)}}v.lB(S,F,S.length)}return v};Z.Oa.prototype.eQ=function(){var e=this.rows,j=this.cols,g=[];
for(var P=0;P<j;P++)g.push([[],[]]);var p=this.a,v=this.TN,x=this.HQ;for(var P=0;P<e;P++){var A=v[P],f=v[P+1];
for(var S=A;S<f;S++){var F=g[x[S]];F[0].push(p[S]);F[1].push(P)}}var m=new Z.Oa(j,e);for(var P=0;P<j;
P++)m.lB(g[P][0],g[P][1],g[P][1].length);return m};Z.Oa.prototype.um=function(){var e=this.rows,j=this.cols,g=new Array(e),P=this.a,p=this.TN,v=this.HQ;
for(var x=0;x<e;x++){var A=g[x]=new Array(j);for(var f=0;f<j;f++)A[f]=0;var S=p[x],F=p[x+1];for(var m=S;
m<F;m++)A[v[m]]=P[m]}return g};Z.Oa.prototype.nr=function(e,j,g,P,p){function v(y,j,B,c){var $=y.length;
for(var I=0;I<$;I++)c[I]=y[I]-j[I]*B}function x(y,j,B,c){var $=y.length,I=0;while(($-I&3)!=0){c[I]=y[I]+j[I]*B;
I++}for(var r=I;r<$;r+=4){c[r]=y[r]+j[r]*B;c[r+1]=y[r+1]+j[r+1]*B;c[r+2]=y[r+2]+j[r+2]*B;c[r+3]=y[r+3]+j[r+3]*B}}function A(y,j,B){var c=y.length;
for(var $=0;$<c;$++)B[$]=y[$]*j[$]}function f(y,j){var B=y.length,c=0,$=0;while((B-c&3)!=0){$+=y[c]*j[c];
c++}for(var I=c;I<B;I+=4)$+=y[I]*j[I]+y[I+1]*j[I+1]+y[I+2]*j[I+2]+y[I+3]*j[I+3];return $}var S=P!=null?2:1,F=Date.now(),m=0,R=this,M=e.slice(0),b=e.slice(0);
R.kG(e,b);v(j,b,1,M);var s=this.Yn;if(S==0){s=M.slice(0);s.fill(1)}var K=M.slice(0);A(s,M,K);var X=K.slice(0),d=f(M,K);
while(!0){R.kG(X,b);var W=d/f(X,b);x(e,X,W,e);v(M,b,W,M);if((m&7)==0&&Math.sqrt(f(M,M))<g)break;if(S<=1)A(s,M,K);
else{var O=M.slice(0);P.ZUV(O,M);p.ZUJ(K,O)}var H=f(M,K),Y=H/d;x(K,X,Y,X);d=H;m++}};Z.Oa.prototype.Zaj=function(e,j,g,P){var p=Date.now(),v=1.96,f=0;
if(g==null)g=5e-6;if(P==null)P=1e9;var x=1-v,A=this.rows,S=this.Yf,F=this.aC,m=this.an,R=this.Yn;while(!0){var M=0;
for(var b=0;b<A;b++){var s=j[b],K=F[b],X=F[b+1];if(X-K==4)s-=S[K]*e[m[K]]+S[K+1]*e[m[K+1]]+S[K+2]*e[m[K+2]]+S[K+3]*e[m[K+3]];
else for(var d=K;d<X;d++)s-=S[d]*e[m[d]];var W=e[b]*x+R[b]*s*v,O=W-e[b];M+=O*O;e[b]=W}if(M/A<g||Date.now()>p+P)break}};
Z.Oa.prototype.ZHQ=function(e,j,g,P){var p=Date.now(),v=1.96,f=0;if(g==null)g=5e-5;if(P==null)P=1e9;
var x=1-v,A=this.rows,S=this.Yf,F=this.aC,m=this.an,R=this.Yn;while(!0){var M=0;for(var b=0;b<A;b++){var s=b*3,K=j[s],X=j[s+1],d=j[s+2],W=F[b],O=F[b+1];
for(var H=W;H<O;H++){var Y=S[H],y=m[H]*3;K-=Y*e[y+0];X-=Y*e[y+1];d-=Y*e[y+2]}var B=R[b]*v,c=e[s+0]*x+K*B,$=e[s+1]*x+X*B,I=e[s+2]*x+d*B,r=c-e[s+0],i=$-e[s+1],U=I-e[s+2];
M+=.4*r*r+.5*i*i+.1*U*U;e[s+0]=c;e[s+1]=$;e[s+2]=I}if(M/A<g||Date.now()>p+P)break}};Z.jM={};Z.jM.oM=function(e,j,g){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:e},Vrtc:{t:"doub",v:j},Cnty:{t:"bool",v:g}}}};
Z.jM.K=function(e,j){for(var g=0;g<e.length;g++){var P=e[g].v,p=j.vy(new Uc(P.Hrzn.v,P.Vrtc.v));P.Hrzn.v=Math.round(p.x);
P.Vrtc.v=Math.round(p.y)}};Z.jM.vp=function(e,j,g){var P=e.length-1,p=Z.YG.xU(P+1,P+2);for(var v=1;v<P;
v++){p[v][v-1]=1/(e[v]-e[v-1]);p[v][v]=2*(1/(e[v]-e[v-1])+1/(e[v+1]-e[v]));p[v][v+1]=1/(e[v+1]-e[v]);
p[v][P+1]=3*((j[v]-j[v-1])/((e[v]-e[v-1])*(e[v]-e[v-1]))+(j[v+1]-j[v])/((e[v+1]-e[v])*(e[v+1]-e[v])))}p[0][0]=2/(e[1]-e[0]);
p[0][1]=1/(e[1]-e[0]);p[0][P+1]=3*(j[1]-j[0])/((e[1]-e[0])*(e[1]-e[0]));p[P][P-1]=1/(e[P]-e[P-1]);p[P][P]=2/(e[P]-e[P-1]);
p[P][P+1]=3*(j[P]-j[P-1])/((e[P]-e[P-1])*(e[P]-e[P-1]));Z.YG.fB(p,g)};Z.jM.Zse=function(e,j,g,P){if(e<=j[0])return g[0];
if(e>=j[j.length-1])return g[j.length-1];var p=1;while(j[p]<e)p++;var v=j[p],x=j[p-1],A=g[p],f=g[p-1],S=(e-x)/(v-x),F=P[p-1]*(v-x)-(A-f),m=-P[p]*(v-x)+(A-f),R=(1-S)*f+S*A+S*(1-S)*(F*(1-S)+m*S);
return R};Z.jM.vA=function(e,j,g,P){var p={Eg:[e[0]],Ed:[j[0]],w_:[]};P[0]=p;for(var v=1;v<e.length-1;
v++){p.Eg.push(e[v]);p.Ed.push(j[v]);if(g[v]==!1){Z.jM.vp(p.Eg,p.Ed,p.w_);p={Eg:[e[v]],Ed:[j[v]],w_:[]}}P[v]=p}p.Eg.push(e[v]);
p.Ed.push(j[v]);Z.jM.vp(p.Eg,p.Ed,p.w_);P[v]=p};Z.jM.vj=function(e,j,g,P){if(e<=j[0])return g[0];if(e>=j[j.length-1])return g[j.length-1];
var p=1;while(j[p]<e)p++;var v=P[p-1];return Z.jM.Zse(e,v.Eg,v.Ed,v.w_)};Z.jM.vP=function(e){var j={Eg:[],Ed:[],YE:[]};
for(var g=0;g<e.length;g++){j.Eg[g]=e[g].v.Hrzn.v;j.Ed[g]=e[g].v.Vrtc.v;j.YE[g]=e[g].v.Cnty?e[g].v.Cnty.v:!0}return j};
Z.jM.xB=function(e,j,g){var P=0,p=255;if(g){P=-1e9;p=1e9}var v=Z.jM.vP(e),x=[];Z.jM.vA(v.Eg,v.Ed,v.YE,x);
var A=[];for(var f=0;f<j;f++)A[f]=1/255*Math.max(P,Math.min(p,Z.jM.vj(f*(255/(j-1)),v.Eg,v.Ed,x)));return A};
Z.jM.ZsC=function(e,j,g){var P=Math.round(e.length/20),p=j-e.length,v=g?(e[P]-e[0])/P:0,x=g?e[0]-p*v:e[e.length-1],A=[];
for(var f=0;f<p;f++)A.push(x+f*v);return g?A.concat(e):e.concat(A)};Z.jM.zv=function(e,j,g){var P=Z.jM.vP(e),p=[];
Z.jM.vA(P.Eg,P.Ed,P.YE,p);var v=new Uint8Array(j),x=j/256;for(var A=0;A<j;A++)v[A]=Math.max(0,Math.min(j-1,Z.jM.vj(A*x,P.Eg,P.Ed,p)));
if(g){v[0]=0;if(v[1]>100)v[1]=.4*v[1];if(v[2]>150)v[1]=.7*v[2]}return v};Z.jM.eB=function(e,j){var g=new Uint8Array(e.length);
for(var P=0;P<e.length;P++)g[P]=j[e[P]];return g};Z.jM.Qf=function(e,j,g){var P=V.M("canvas","");P.width=j;
P.height=g;var p=P.getContext("2d"),v=Z.jM.zv(e,256);p.scale(j/255,g/255);p.fillStyle="#fff";p.fillRect(0,0,255,255);
p.fillStyle="#333";p.beginPath();p.moveTo(0,255);for(var x=0;x<v.length;x++)p.lineTo(x,255-v[x]);p.lineTo(255,255);
p.closePath();p.fill();return P.toDataURL()};Z.style={};Z.style.stroke=function(e,j,g,P){var p=g.W,v=g.j,x=new Float64Array(p*v);
Z.style.zD(e,x,p,v);Z.style.nv(j,g,x,g,P)};Z.style.nv=function(e,j,g,P,p){var v=j.zx(P),x=v.W,A=v.j;
p+=.5;var f=v.x-j.x,S=v.y-j.y,F=j.W,m=v.x-P.x,R=v.y-P.y,M=P.W;for(var b=0;b<A;b++){var s=(b+R)*M+m,K=(b+S)*F+f;
for(var X=0;X<x;X++){var d=Math.max(0,Math.min(1,p-g[s+X]));e[K+X]=Math.round(d*255)}}};Z.style.Ziy=function(e,j,g,P){for(var p=0;
p<g;p++)for(var v=0;v<j;v++){var x=p*j+v,A=0,f=0,S=e[x];if(v==0||p==0){A=e[x+1]-S;f=e[x+j]-S}else if(v==g-1||p==j-1){A=S-e[x-1];
f=S-e[x-j]}else{A=e[x+1]-e[x-1];f=e[x+j]-e[x-j]}if(A!=0||f!=0){var F=1/Math.sqrt(A*A+f*f);A*=F;f*=F}P[x+x]=A;
P[x+x+1]=f}};Z.style.zD=function(e,j,g,P){var p=0,v=g*P;for(var x=0;x<v;x++)p|=e[x];if(p==0){j.fill(1e9);
return}var A=Z.style.ne(e,g,P);for(var f=0;f<P;f++)for(var S=0;S<g;S++){var x=f*g+S,F=A[x*2],m=A[x*2+1],R=(f+m)*g+S+F;
if(F==0&&m==0){j[x]=0;continue}var M=Math.sqrt(F*F+m*m),b=e[R]*(1/255),s=1/M,K=Math.abs(F)*s,X=Math.abs(m)*s;
if(X>K){var d=X;X=K;K=d}j[x]=M+Z.style.ZsB(K,X,b)}};Z.style.ZsB=function(e,j,g){return(.5-g)*e};Z.style.ne=function(e,j,g,P){if(P==null){P=!0;
for(var p=0;p<e.length;p++)P=P&&(e[p]==0||e[p]==255)}var v=new Int16Array(j*g*2);if(P)Z.style.Zsi(e,v,j,g);
else Z.style.Zsy(e,v,j,g);return v};Z.style.Zsy=function(e,j,g,P){var p=g*P;for(var v=0;v<p;v++)if(e[v]==0){j[v*2]=16383;
j[v*2+1]=16383}for(var x=1;x<=P-1;x++){var v=x*g;for(var A=0;A<=g-1;A++)Z.style.ey(j,e,g,v+A<<1,-1);
for(var A=1;A<=g-1;A++)Z.style.$k(j,e,g,v+A<<1,-1);for(var A=g-2;A>=0;A--)Z.style.$k(j,e,g,v+A<<1,1)}for(var x=P-2;
x>=0;x--){var v=x*g;for(var A=0;A<=g-1;A++)Z.style.ey(j,e,g,v+A<<1,1);for(var A=1;A<=g-1;A++)Z.style.$k(j,e,g,v+A<<1,-1);
for(var A=g-2;A>=0;A--)Z.style.$k(j,e,g,v+A<<1,1)}};Z.style.$k=function(e,j,g,P,p){var v=(P>>>1)+p<<1,x=e[P],A=e[P+1],f=e[v]+p,S=e[v+1],F=f*f+S*S,m=x*x+A*A;
if(S!=16383&&(x==16383||Math.sqrt(F)+(.5-j[(P>>>1)+S*g+f]*(1/255))<Math.sqrt(m)+(.5-j[(P>>>1)+A*g+x]*(1/255)))){e[P]=f;
e[P+1]=S}};Z.style.ey=function(e,j,g,P,p){var v=(P>>>1)+p*g<<1,x=e[P],A=e[P+1],f=e[v],S=e[v+1]+p,F=f*f+S*S,m=x*x+A*A;
if(f!=16383&&(x==16383||Math.sqrt(F)+(.5-j[(P>>>1)+S*g+f]*(1/255))<Math.sqrt(m)+(.5-j[(P>>>1)+A*g+x]*(1/255)))){e[P]=f;
e[P+1]=S}};Z.style.Zsi=function(e,j,g,P){var p=g*P;for(var v=0;v<p;v++)if(e[v]==0){j[v*2]=16383;j[v*2+1]=16383}for(var x=1;
x<=P-1;x++){var v=x*g;for(var A=0;A<=g-1;A++)Z.style.ez(j,e,g,v+A<<1,-1);for(var A=1;A<=g-1;A++)Z.style.$M(j,e,g,v+A<<1,-1);
for(var A=g-2;A>=0;A--)Z.style.$M(j,e,g,v+A<<1,1)}for(var x=P-2;x>=0;x--){var v=x*g;for(var A=0;A<=g-1;
A++)Z.style.ez(j,e,g,v+A<<1,1);for(var A=1;A<=g-1;A++)Z.style.$M(j,e,g,v+A<<1,-1);for(var A=g-2;A>=0;
A--)Z.style.$M(j,e,g,v+A<<1,1)}};Z.style.$M=function(e,j,g,P,p){var v=(P>>>1)+p<<1,x=e[P],A=e[P+1],f=e[v]+p,S=e[v+1],F=f*f+S*S,m=x*x+A*A;
if(S!=16383&&(x==16383||F<m)){e[P]=f;e[P+1]=S}};Z.style.ez=function(e,j,g,P,p){var v=(P>>>1)+p*g<<1,x=e[P],A=e[P+1],f=e[v],S=e[v+1]+p,F=f*f+S*S,m=x*x+A*A;
if(f!=16383&&(x==16383||F<m)){e[P]=f;e[P+1]=S}};Z.style.ZiI=function(e,j,g,P,p){var v=g*P,x=(g+P+1)*1.01;
for(var A=0;A<v;A++)if(e[A]<=p)j[A]=x;for(var f=1;f<g;f++)j[f]=Math.min(j[f],j[f-1]);for(var S=1;S<P;
S++){var A=S*g;j[A]=Math.min(j[A],Math.min(j[A-g]+1,j[A-g+1]+Math.SQRT2));for(var f=1;f<g-1;f++){var F=j[++A],m=Math.min(j[A-1]+1,Math.min(j[A-g-1]+Math.SQRT2,Math.min(j[A-g]+1,j[A-g+1]+Math.SQRT2)));
if(m<F)j[A]=m}A++;j[A]=Math.min(j[A],Math.min(j[A-1]+1,Math.min(j[A-g-1]+Math.SQRT2,j[A-g]+1)))}for(var f=g-2;
f>=0;f--)j[f+v-g]=Math.min(j[f+v-g],j[f+v-g+1]);for(var S=P-2;S>=0;S--){var A=S*g+g-1;j[A]=Math.min(j[A],Math.min(j[A+g]+1,j[A+g-1]+Math.SQRT2));
for(var f=g-2;f>=1;f--){var F=j[--A],m=Math.min(j[A+1]+1,Math.min(j[A+g-1]+Math.SQRT2,Math.min(j[A+g]+1,j[A+g+1]+Math.SQRT2)));
if(m<F)j[A]=m}A--;j[A]=Math.min(j[A],Math.min(j[A+1]+1,Math.min(j[A+g]+1,j[A+g+1]+Math.SQRT2)))}};Z.style.Zib=function(e,j,g,P,p){var v=new Int32Array(g*P);
Z.style.Zsz(e,v,g,P,p);Z.style.ZsO(v,j,g,P)};Z.style.Zsz=function(e,j,g,P,p){var v=new Int32Array(P);
for(var x=0;x<g;x++){var A=g+P;for(var f=P-1;f>=0;f--){if(e[f*g+x]>p)A=0;else A++;v[f]=A}A=g+P;for(var f=0;
f<P;f++){if(e[f*g+x]>p)A=0;else A++;j[f*g+x]=A<v[f]?-A:v[f]}}};Z.style.ZsO=function(e,j,g,P){var p=(g+P)*(g+P),v=new Float64Array(g),x=new Uint16Array(g);
for(var A=0;A<P;A++){var f=A*g,S=0;x[0]=0;v[0]=-p;v[1]=+p;for(var F=1;F<g;F++){var m=e[F+f]*e[F+f]+F*F,R=(m-(e[x[S]+f]*e[x[S]+f]+x[S]*x[S]))/(2*F-2*x[S]);
while(R<=v[S]){S--;R=(m-(e[x[S]+f]*e[x[S]+f]+x[S]*x[S]))/(2*F-2*x[S])}S++;x[S]=F;v[S]=R;v[S+1]=p}S=0;
for(var F=0;F<g;F++){while(v[S+1]<F)S++;var M=x[S]-F,b=e[x[S]+f],s=A*g+F<<1;j[s]=M;j[s+1]=b}}};Z.style.nV=function(e,j,g){if(g)for(var P=0;
P<e.length;P++){var p=e[P];if(p>0)e[P]=Math.max(0,Math.min(255,p+j*2*(Z.style.Pj(P)-128)))}else for(var P=0;
P<e.length;P++){var p=e[P];if(p>0)e[P]=Math.max(0,Math.min(255,p+Math.min(p*3,j*2*(Z.style.Pj(P)-128))))}};
Z.style.Pj=function(e){e=e^61^e>>16;e=e+(e<<3);e=e^e>>4;e=e*668265261;e=e^e>>15;return e&255};Z.jk={};
Z.jk.lc=function(e,j,g){var P=e.canvas,p=V.I(),v=Math.floor;if(P.width!=v(j*p)||P.height!=v(g*p))V.ik(P,j,g,e)};
Z.jk.xD=function(e,j,g,P,p,v){Z.jk.lc(e,j,g);if(v==null)v=!1;var x=p.channel,A=p.rect,f=!p.isEnabled;
j=Math.floor(j*V.I());g=Math.floor(g*V.I());if(j*g==0)return;var S=e.createImageData(j,g),F=S.data,m=1/j,R=1/g;
for(var M=0;M<g;M++)for(var b=0;b<j;b++){var s=M*j+b,K=s*4,X=Math.round(P.x+b*m*P.W),d=Math.round(P.y+M*R*P.j),W=0;
if(X<A.x||X>=A.x+A.W||d<A.y||d>=A.y+A.j)W=p.color;else W=x[(d-A.y)*A.W+(X-A.x)];W=255*(255-p.Bh)+W*p.Bh>>>8;
if(v)W=170+Math.round(.4*(W-170));F[K]=W;F[K+1]=W;F[K+2]=W;F[K+3]=255}e.putImageData(S,0,0);if(f)Z.jk.nJ(e,j,g)};
Z.jk.Zsj=function(e,j,g,P){e.fillStyle="#eeeeee";e.fillRect(.6*j,.6*g,j,g);e.lineWidth=1.5;var p=.65*j,v=.95*j,x=.65*g,A=.95*g,f=.75*j,S=.85*j,F=.75*g,m=.85*g;
e.beginPath();e.moveTo(p,x);e.lineTo(v,x);e.lineTo(v,A);e.lineTo(p,A);e.lineTo(p,x);e.moveTo(f,F);e.lineTo(S,F);
e.lineTo(S,m);e.lineTo(f,m);e.lineTo(f,F);e.closePath();e.stroke()};Z.jk.es=[];Z.jk.ZsM=function(e,j,g){var P,p,v,x=V.I();
j=Math.floor(x*j);g=Math.floor(x*g);P=Math.ceil(Math.max(j,g)*.35);p=j-P;v=g-P;var A=Z.jk.es[P];if(A==null){e.save();
e.scale(1/x,1/x);e.fillStyle="#eeeeee";e.fillRect(p,v,j,g);e.lineWidth=1;e.strokeRect(p+2.5,v+2.5,j-p-5,g-v-5);
var f=e.createImageData(3,3);Z.XC(f.data,4278190080);f.data[4*4]=f.data[4*4+1]=f.data[4*4+2]=238;e.putImageData(f,p+1,v+1);
e.putImageData(f,j-4,v+1);e.putImageData(f,p+1,g-4);e.putImageData(f,j-4,g-4);e.restore();Z.jk.es[P]=e.getImageData(p,v,j,g)}else e.putImageData(A,p,v)};
Z.jk.Zsw=function(e,j,g,P,p){Z.jk.lc(e,j,g);j=Math.floor(j*V.I());g=Math.floor(g*V.I());var v=j/P.W;
if(j*g==0)return;e.fillStyle="#999999";e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,j,g);var x=Z.jk.VW;
if(x==null){x=Z.jk.VW=JSON.parse(JSON.stringify(Wr.hg.default));x.strokeEnabled.v=!0}x.strokeStyleLineWidth.v.val=1*V.I()/v;
e.fillStyle="#ffffff";e.scale(v,v);Z.f.nG(p.F,e,0,0);Z.f.nG(p.F,e,0,0,x)};Z.jk._$=null;Z.jk.xt=function(e,j,g,P,p,v,x,A){Z.jk.lc(e,j,g);
j=Math.floor(j*V.I());g=Math.floor(g*V.I());if(j*g==0)return;var f=Math.max(j,g),S=Z.jk._$;if(S==null||S.width<f||S.height<f){Z.jk._$=S=e.createImageData(f,f)}f=S.width;
var F=S.data,m=P.W/j,R=P.j/g,M=1/255,b=v.x,s=v.x+v.W,K=v.y,X=v.y+v.j;for(var d=0;d<g;d++)for(var W=0;
W<j;W++){var O=d*f+W,H=O*4,Y=~~(P.x+W*m),y=~~(P.y+d*R),B=Z.Qp(d,W,2);if(Y<b||Y>=s||y<K||y>=X){F[H]=B;
F[H+1]=B;F[H+2]=B;F[H+3]=255}else{var c=(y-v.y)*v.W+(Y-v.x)<<2,$=p[c+3]*M;F[H]=p[c+0]*$+B*(1-$);F[H+1]=p[c+1]*$+B*(1-$);
F[H+2]=p[c+2]*$+B*(1-$);F[H+3]=255}}if(A!=null)for(var d=0;d<F.length;d+=4)F[d]=F[d+1]=F[d+2]=F[d+A];
e.putImageData(S,0,0);if(x)Z.jk.nJ(e,j,g)};Z.jk.Zsl=function(e,j,g,P){Z.jk.lc(e,j,g);e.fillStyle=Z.jk.W_(P.Clr.v);
e.fillRect(0,0,j,g);Z.jk.nu(e,j,g)};Z.jk.eK=null;Z.jk.Zs_=function(e,j,g,P){Z.jk.lc(e,j,g);var p=e.canvas.width,v=e.canvas.height,x=Z.jk.eK;
if(x==null||x.width!=p||x.height!=v){e.fillStyle="#ffffff";e.fillRect(0,0,j,g);e.fillStyle="#000000";
e.font=""+g*.7+"px serif";e.fillText("T",(j-g*.43)/2,g*.75);e.fillText("T",(j-g*.43)/2,g*.75);Z.jk.eK=e.getImageData(0,0,p,v)}else e.putImageData(x,0,0)};
Z.jk.ZKU=function(e,j,g){Z.jk.lc(e,j,g);e.clearRect(0,0,j,g);e.font=g*.7+"px serif";e.fillText(":(",(j-g*.43)/2,g*.7)};
Z.jk.ZKR=function(e,j,g,P){Z.jk.lc(e,j,g);var p=Wj.get(P),v=Zr.get(Wj.names[p]).substring(0,3);e.fillStyle="#ffffff";
e.fillRect(0,0,j,g);e.fillStyle="#000000";e.font=g*.55+"px sans-serif";var x=e.measureText(v);e.fillText(v,(j-x.width)/2,g*.67);
e.fillRect(0,0,j,g*.1);e.fillRect(0,g*.9,j,g*.1)};Z.jk.ZKc=function(e,j,g,P){Z.jk.lc(e,j,g);var p=e.canvas.width,v=e.canvas.height,x=e.getImageData(0,0,p,v);
Z.c.ff(P.Grad.v,new Uint8Array(x.data.buffer),new G(0,0,p,v),[1/p,0,0,1/v],p/2,v/2,!1,0,16711680,65280);
e.putImageData(x,0,0);Z.jk.nu(e,j,g)};Z.jk.Z$U=function(e,j,g,P,p){Z.jk.lc(e,j,g);var v=e,x=Wi.XY(P.Ptrn.v,p.add.Patt);
if(x==null)return;var A=x.vf[1];Z.jk.xt(e,j,g,A,x.vf[0],A,!1);Z.jk.nu(v,j,g)};Z.jk.nJ=function(e,j,g){e.strokeStyle="#bb0000";
e.lineWidth=3;e.beginPath();e.moveTo(j*.15,g*.15);e.lineTo(j*.85,g*.85);e.moveTo(j*.85,g*.15);e.lineTo(j*.15,g*.85);
e.closePath();e.stroke()};Z.jk.nJ=function(e,j,g){e.strokeStyle="#bb0000";e.lineWidth=3;e.beginPath();
e.moveTo(j*.15,g*.15);e.lineTo(j*.85,g*.85);e.moveTo(j*.85,g*.15);e.lineTo(j*.15,g*.85);e.closePath();
e.stroke()};Z.jk.nu=function(e,j,g){e.fillStyle="#eeeeee";e.fillRect(0,g*.75,j,g*.25);e.beginPath();
e.moveTo(0,g*.75);e.lineTo(j,g*.75);e.moveTo(j*.1,g*.875);e.lineTo(j*.9,g*.875);e.moveTo(j*.65,g*.825);
e.lineTo(j*.65,g*.95);e.closePath();e.stroke()};Z.jk.W_=function(e){var j=Z.c.W_(e),g=Math.round(j.k)<<16|Math.round(j.z)<<8|Math.round(j.e);
return"#"+Z.jz(g)};Z.f={};Z.f.Mq=function(e,j,g){var P=[],p=-1;for(var v=0;v<e.length;v++){var x=e[v];
if((x.type==0||x.type==3)&&x.WF!=-1)p++;if(x.type>5||x.type==0||x.type==3)continue;if(j!=null&&j.indexOf(p)==-1)continue;
if(g!=null&&g.indexOf(v)==-1)continue;P.push(x.Li.x);P.push(x.Li.y);P.push(x.G.x);P.push(x.G.y);P.push(x.ap.x);
P.push(x.ap.y)}return P};Z.f.nC=function(e,j,g,P){var p=0,v=-1;for(var x=0;x<j.length;x++){var A=j[x];
if((A.type==0||A.type==3)&&A.WF!=-1)v++;if(A.type>5||A.type==0||A.type==3)continue;if(g!=null&&g.indexOf(v)==-1)continue;
if(P!=null&&P.indexOf(x)==-1)continue;A.Li.Ve(e[p],e[p+1]);A.G.Ve(e[p+2],e[p+3]);A.ap.Ve(e[p+4],e[p+5]);
p+=6}};Z.f.Ly=function(e,j,g,P){var p=Z.f.Mq(e,g,P);Z.g.K(p,j,p);Z.f.nC(p,e,g,P)};Z.f.Z$V=function(e,j,g,P){var p=Z.f.Mq(e,g,P);
Z.D.apply(j,p);Z.f.nC(p,e,g,P)};Z.f.Z$C=function(e,j,g,P){if(g==null&&P==null){var p=Z.f.Z$g(e,40);for(var v=0;
v<p.length;v++)e[v]=p[v]}var x=Z.f.Mq(e,g,P);Z.ie.apply(j,x,Z.g.XI(x));Z.f.nC(x,e,g,P)};Z.f.Z$g=function(e,j){var g=[];
for(var P=0;P<e.length;P++){var p=e[P];if(p.type>5){g.push(JSON.parse(JSON.stringify(p)));continue}var v=Z.f.Z$S(e,P+1,p.length);
v=Z.g.fR(v,j);var x=Z.f.Z$F(v);P+=p.length;p=JSON.parse(JSON.stringify(p));p.length=x.length;g.push(p);
for(var A=0;A<x.length;A++)g.push(x[A])}return g};Z.f.Z$S=function(e,j,g){var P={L:["M"],u:[]},p=e[j],v=e[j+g-1];
P.u.push(p.G.x,p.G.y);for(var x=1;x<g;x++){var A=e[j+x-1],f=e[j+x];P.L.push("C");P.u.push(A.ap.x,A.ap.y,f.Li.x,f.Li.y,f.G.x,f.G.y)}P.L.push("C");
P.u.push(v.ap.x,v.ap.y,p.Li.x,p.Li.y,p.G.x,p.G.y);return P};Z.f.Z$F=function(e){var j=[],g=e.L,P=e.u,p=0,v=P.length;
j.push({type:2,Li:new Uc(P[v-4],P[v-3]),G:new Uc(P[0],P[1]),ap:new Uc(P[2],P[3])});for(var x=0;x<g.length-2;
x++){var A=x*6+4;j.push({type:2,Li:new Uc(P[A],P[A+1]),G:new Uc(P[A+2],P[A+3]),ap:new Uc(P[A+4],P[A+5])})}return j};
Z.f.Z$c=function(e){for(var j=0;j<e.length;j++){if(e[j].type>5)continue;var g=e[j].length;if(!(g==4||g==6||g==8)){j+=g;
continue}for(var P=0;P<g;P++){var p=e[j+1+P],v=e[j+1+(P+1)%g],x=Math.min(p.G.x,v.G.x),A=Math.min(p.G.y,v.G.y),f=0,S=0;
if(p.G.x<v.G.x){f=p.G.y-A;S=f-(v.G.x-x)}else{f=v.G.y-A;S=f-(p.G.x-x)}if(Math.abs(S)<.2*f)return f}}return-1};
Z.f.Gx=function(e,j){var g=null,P=-1;for(var p=0;p<e.length;p++){if(e[p].type>5)continue;var v=e[p].length;
if((e[p].type==0||e[p].type==3)&&e[p].WF!=-1)P++;if(j!=null&&j.indexOf(P)==-1)continue;if(p==e.length-1)break;
var x=e[p].type==3;if(g==null)g=Z.f.ep(e,p+1,v,x);else{var A=Z.f.ep(e,p+1,v,x);if(j!=null||e[p].WF==0||e[p].WF==-1||e[p].WF==1){var f=Math.min(g.x,A.x),S=Math.min(g.y,A.y),F=Math.max(g.x+g.W,A.x+A.W),m=Math.max(g.y+g.j,A.y+A.j);
g.x=f;g.y=S;g.W=F-f;g.j=m-S}else if(e[p].WF==2)g=g;else if(e[p].WF==3)g=g.zx(A)}p+=v}if(g==null||g.W<0||g.j<0)g=new G(0,0,0,0);
return g};Z.f.ZOG=new Float64Array(4);Z.f.ep=function(e,j,g,P){var p=Z.f.ZOG;p[0]=1e30;p[1]=1e30;p[2]=-1e30;
p[3]=-1e30;var v=e[j+g-1];if(!P)Z.f.eA(v.G.x,v.G.y,v.ap.x,v.ap.y,e[j].Li.x,e[j].Li.y,e[j].G.x,e[j].G.y,p);
for(var x=j;x<j+g-1;x++){var A=e[x],f=e[x+1];if(A.G.iJ(A.ap)&&f.Li.iJ(f.G)){p[0]=Math.min(p[0],Math.min(A.G.x,f.G.x));
p[1]=Math.min(p[1],Math.min(A.G.y,f.G.y));p[2]=Math.max(p[2],Math.max(A.G.x,f.G.x));p[3]=Math.max(p[3],Math.max(A.G.y,f.G.y))}else Z.f.eA(A.G.x,A.G.y,A.ap.x,A.ap.y,f.Li.x,f.Li.y,f.G.x,f.G.y,p)}return new G(p[0],p[1],p[2]-p[0],p[3]-p[1])};
Z.f.eA=function(e,j,g,P,p,v,x,A,f){var S=1e30,F=1e30,m=-1e30,R=-1e30,M=40,b=g-e,s=P-j,K=p-g,X=v-P,d=x-p,W=A-v,O=1/M;
for(var H=0;H<M+1;H++){var Y=H*O,y=e+Y*b,B=j+Y*s,c=g+Y*K,$=P+Y*X,I=p+Y*d,r=v+Y*W,i=y+Y*(c-y),U=B+Y*($-B),N=c+Y*(I-c),C=$+Y*(r-$),D=i+Y*(N-i),n=U+Y*(C-U);
if(D<S)S=D;if(n<F)F=n;if(D>m)m=D;if(n>R)R=n}f[0]=Math.min(f[0],S);f[1]=Math.min(f[1],F);f[2]=Math.max(f[2],m);
f[3]=Math.max(f[3],R)};Z.f.eo=function(e,j){var g=e.length-3,P=j%g,p=Math.floor(P);if(j<0||p>=g)return null;
var v=e[3+p],x=e[3+(p+1)%g],A=v.G,f=v.ap,S=x.Li,F=x.G,m=P-p,R=1-m,M=R*R*R*A.x+3*R*R*m*f.x+3*R*m*m*S.x+m*m*m*F.x,b=R*R*R*A.y+3*R*R*m*f.y+3*R*m*m*S.y+m*m*m*F.y;
return new Uc(M,b)};Z.f.eb=function(e){var j=2,g=Z.f.iI(e),P=!1,p=!1;for(var v=2;v<e.length;v++){var x=e[v].WF;
if(x!=null){if(x==2||x==0)P=!0;if(x==-1)p=!0}}if(p){var A=Z.g.bg(e);return{XH:Typr.U.pathToSVG({crds:A.u,cmds:A.L},j),YI:P?1:0}}if(P&&e.length<5e3&&g>1)e=Z.f.na(e);
var A=Z.g.bg(e);return{XH:Typr.U.pathToSVG({crds:A.u,cmds:A.L},j),YI:P?1:0}};Z.f.na=function(e){Z.f.xT();
var j,g=Z.f.nz(e),P=[];for(var p=0;p<g.length;p++){var v=g[p][0],x=g[p][1];if(Math.abs(v.area)<1e-5)P.push(v);
else if(j==null)j=v;else{j=j[x](v);j.remove()}}if(j==null)j=new paper.CompoundPath(P);else{if(j.segments)j=new paper.CompoundPath(j);
for(var p=0;p<P.length;p++){j.children.push(P[p])}}var A=e.slice(0,2);A=A.concat(Z.f.el(j));if(A[2])A[2].WF=1;
for(var p=3;p<A.length;p++)if(A[p].WF!=null)A[p].WF=-1;return A};Z.f.xT=function(){if(Z.f.ZGo==null){var e=V.M("canvas");
paper.setup(e);Z.f.ZGo=!0}};Z.f.ZOK=function(e,j){Z.f.xT();var g=[],P=Z.f.nz(e),p=new paper.Path.Rectangle(new paper.Rectangle(j.x,j.y,j.W,j.j));
p.remove();p.fillColor=new paper.Color(1,0,0);for(var v=0;v<P.length;v++)if(p.intersects(P[v][0])||p.contains(P[v][0].segments[0].point))g.push(v);
return g};Z.f.hE=function(e,j,g,P){Z.f.xT();var p=g?{curves:!0,tolerance:P}:null,v=new paper.Point(j.x,j.y),x=Z.f.nz(e);
for(var A=x.length-1;A>=0;A--){var f=x[A][0],S=f.hitTest(v,p);if(S!=null)return{VS:A,qt:g?S.location.index:null}}return{VS:-1}};
Z.f.$b=function(e,j){var g=[[],[],[]];for(var P=0;P<e.length;P++){var p=e[P];if(p.type>5||p.type==0||p.type==3)continue;
if(j.uC(p.G))g[0].push(P);if(j.uC(p.Li))g[1].push(P);if(j.uC(p.ap))g[2].push(P)}return g};Z.f.ZO$=function(e,j,g){var P=g.slice(0),p=[null,null],v=-1,f=null;
for(var x=2;x<e.length;x++){if((e[x].type==0||e[x].type==3)&&e[x].WF!=-1)v++;p[x]=g[v]}g=p;var A=e.slice(0,2);
p=g.slice(0,2);for(var x=2;x<e.length;x++){if(e[x].type==0||e[x].type==3){f=e[x];A.push(f);p.push(g[x])}else{if(j.indexOf(x)==-1){A.push(e[x]);
p.push(g[x])}else{f.length--;Z.uF.KQ(g,x)}}}for(var x=2;x<A.length;x++){var S=A[x];if(S.type!=0&&S.type!=3)continue;
if(S.length==0){if(A[x+1]&&A[x+1].WF==-1){A[x+1].WF=S.WF}p.splice(x,1);A.splice(x,1);x--}}for(var x=0;
x<P.length;x++)if(p.indexOf(P[x])==-1){P.splice(x,1);x--}return A};Z.f.ZOR=function(e,j){var g=e.slice(0,2),P=-1;
for(var p=2;p<e.length;p++){if((e[p].type==0||e[p].type==3)&&e[p].WF!=-1)P++;if(j.indexOf(P)==-1)g.push(e[p])}return g};
Z.f.ZpZ=function(e,j){var g=e.slice(0,2),P=-1;for(var p=2;p<e.length;p++){if((e[p].type==0||e[p].type==3)&&e[p].WF!=-1)P++;
if(j.indexOf(P)!=-1)g.push(e[p])}return g};Z.f.ZNT=function(e){var j=0;for(var g=0;g<e.length;g++)if(e[g].type==0||e[g].type==3)j=g;
return e[j]};Z.f.iI=function(e){var j=-1;for(var g=0;g<e.length;g++)if((e[g].type==0||e[g].type==3)&&e[g].WF!=-1)j++;
return j+1};Z.f.mh=function(e,j,g){var P=-1;for(var p=0;p<e.length;p++)if((e[p].type==0||e[p].type==3)&&(g||e[p].WF!=-1)){P++;
if(P==j)return p}return-1};Z.f.nL=function(e,j,g){var P=-1;for(var p=0;p<e.length;p++)if((e[p].type==0||e[p].type==3)&&(g||e[p].WF!=-1)){if(p>=j)return P;
P++}return P};Z.f.nT=function(e,j){var g=-1,P=0;for(var p=0;p<e.length;p++){if((e[p].type==0||e[p].type==3)&&e[p].WF!=-1)g++;
if(g==j)P++}return P};Z.f.el=function(e){var j=e.segments?[e]:e.children,g=[];for(var P=0;P<j.length;
P++){var p=j[P],v=p.segments,x=p.closed?0:3,A=g.length,f=null;if(v.length<=1)continue;g.push({type:x,length:v.length,WF:0,Tu:2});
for(var S=0;S<v.length;S++){var F=v[S],m=new Uc(F.handleIn.x,F.handleIn.y),R=new Uc(F.handleOut.x,F.handleOut.y),M=new Uc(F.point.x,F.point.y),b={type:x+1,Li:M.add(m),G:M,ap:M.add(R)};
if(f==null)f=b;g.push(b);if(S+1==v.length&&Uc.zG(f.G,b.G)<1e-5){g.pop();g[A].length--;f.Li=b.Li;if(x==3)for(var s=A;
s<g.length;s++)g[s].type-=3}}}return g};Z.f.nz=function(e){Z.f.xT();var j=[],g,P=new paper.Color(1,0,0);
for(var p=0;p<e.length;p++){if(e[p].type>5)continue;var v=e[p].length,x;if(p==e.length-1)break;var A=e[p].type==3;
if(p==2){if(!Z.f.xj(e))x="subtract";else x="unite"}else{if(e[p].WF==0)x="exclude";if(e[p].WF==1)x="unite";
if(e[p].WF==2)x="subtract";if(e[p].WF==3)x="intersect"}if(e[p].WF!=-1)g=[];for(var f=0;f<v;f++){var S=e[p+1+f],F=S.Li.ki(S.G),m=S.ap.ki(S.G);
g.push([[S.G.x,S.G.y],[F.x,F.y],[m.x,m.y]])}if(e[p+1+v]==null||e[p+1+v].WF!=-1){var R=new paper.Path(g);
R.remove();R.closed=!A;R.fillRule="evenodd";R.fillColor=P;j.push([R,x])}p+=v}return j};Z.f.$w=function(e){for(var j=0;
j<e.length;j++){var g=e[j];if(g.G==null)continue;if(!g.G.iJ(g.Li)||!g.G.iJ(g.ap))return!1}return!0};
Z.f.ZNR=function(e){if(e.length<=5)return 0;var j=0,g=e.length-3-1;for(var P=0;P<g;P++){var p=e[3+P],v=e[3+P+1];
if(p.type==0||v.type==0)return 0;j+=(v.G.x-p.G.x)*(p.G.y+v.G.y)}j+=(e[3].G.x-e[3+g].G.x)*(e[3+g].G.y+e[3+1].G.y);
return-j*.5};Z.f.xj=function(e){if(e.length==2)return e[1].all==0;var j=e[2];if(e[1].all==1){if(j.WF==1||j.WF==3)return!0;
return!1}else{if(j.WF==1||j.WF==3||j.WF==0)return!0;return!1}};Z.f.ZpC=0;Z.f.Vf=0;Z.f.ZNk=0;Z.f.ZrH=function(e,j,g,P){if(g.tE())return;
var p=g.h(),O=16384;Z.f.ZpC+=p;if(p>Z.f.Vf){Z.f.Vf=p}var v=g.W,x=g.j;if(P==null&&Z.f.$w(e)){var A=!0;
for(var f=2;f<e.length;)if(e[f].length==2)f+=3;else{A=!1;break}if(A){return}if(Z.f.VO(e)){j.fill(255);
var S=Z.f.Gx(e);if(S.h()!=p){var F=1-(S.x-g.x),m=1-(S.y-g.y),R=1-(g.x+g.W-(S.x+S.W)),M=1-(g.x+g.j-(S.x+S.j)),b=~~(F*255),s=~~(R*255),K=~~(m*255),X=~~(M*255);
j.fill(K,0,v);j[0]=~~(F*m*255);j[v-1]=~~(R*m*255);for(var f=v;f<p;f+=v){j[f]=b;j[f+v-1]=s}j.fill(X,(x-1)*v,x*v);
j[p-v]=~~(F*M*255);j[p-1]=~~(R*M*255)}return}}var d=Z.KM,W=Z.A,H=Math.ceil(v/O),Y=Math.ceil(x/O),y=Math.ceil(v/H),B=Math.ceil(x/Y),c=Date.now();
for(var $=0;$<Y;$++)for(var I=0;I<H;I++){var r=I*y,i=$*B,U=y,N=B;d.width=U;d.height=N;if(!Z.f.xj(e))W.fillRect(0,0,U,N);
Z.f.nG(e,W,-g.x-r,-g.y-i,P);var C=new Uint8Array(W.getImageData(0,0,U,N).data.buffer);if(U==v&&N==x)Z.bF(C,j,3);
else Z.uw(C,new G(r,i,U,N),j,new G(0,0,v,x))}};Z.f.nG=function(e,j,g,P,p){if(p!=null&&p.fillEnabled.v){var v=!1,x=!1,A=0;
for(var f=0;f<e.length;f++){var S=e[f].WF;if(S!=null)A++;if(S==-1)v=!0;if(S>0)x=!0}if(!v&&A<20)e=Z.f.na(e)}for(var f=0;
f<e.length;f++){if(e[f].type>5)continue;var F=e[f].length;if(F==0)continue;if(f==e.length-1)break;var m=e[f].type==3;
if(f==2){if(!Z.f.xj(e))j.globalCompositeOperation="destination-out";else j.globalCompositeOperation="source-over"}else{var S=e[f].WF;
if(S!=-1&&p==null){var R=["xor","source-over","destination-out","source-in"][S];j.globalCompositeOperation=R}}if(e[f].WF!=-1){j.beginPath();
if(p){var M=p.strokeStyleLineWidth.v.val,b=p.strokeStyleLineAlignment.v.strokeStyleLineAlignment,s=p.strokeStyleLineCapType.v.strokeStyleLineCapType,K=p.strokeStyleLineJoinType.v.strokeStyleLineJoinType,X=p.strokeStyleMiterLimit.v,d=[],W=p.strokeStyleLineDashSet.v;
for(var O=0;O<W.length;O++)d.push(W[O].v.val*M);j.setLineDash(d);j.lineCap=["butt","round","square"][Wr.hg.SH.indexOf(s)];
j.lineJoin=["miter","round","bevel"][Wr.hg.join.indexOf(K)];j.lineWidth=Wr.hg.IS.indexOf(b)==1?M:M*=2;
j.miterLimit=X}}Z.f.Zrc(j,e,f+1,F,g,P,m);if(m){}else j.closePath();if(e[f+1+F]==null||e[f+1+F].WF!=-1){if(p)j.stroke();
else j.fill("evenodd")}f+=F}};Z.f.Zrc=function(e,j,g,P,p,v,x){var A=j[g],f=null;e.moveTo(A.G.x+p,A.G.y+v);
for(var S=g;S<g+P-1;S++){A=j[S];f=j[S+1];e.bezierCurveTo(A.ap.x+p,A.ap.y+v,f.Li.x+p,f.Li.y+v,f.G.x+p,f.G.y+v)}if(!x){A=j[S];
f=j[g];e.bezierCurveTo(A.ap.x+p,A.ap.y+v,f.Li.x+p,f.Li.y+v,f.G.x+p,f.G.y+v)}};Z.f.$c=function(e,j,g){var P=[],p=g?4:1,v=!1;
if(j!=null)for(var x=0;x<j.length;x++)if(j[x]!=0){v=!0;break}if(j!=null&&v){var A=Z.g.ZGQ(e,j),f=A.length/6;
for(var x=0;x<f;x++){var S=x*6,F=(x-1+f)%f*6,m=A[S],R=A[S+1],M=A[S+2],b=A[S+3],s=A[F+4],K=A[F+5];P.push({type:p,Li:new Uc(s,K),G:new Uc(m,R),ap:new Uc(M,b)})}}else{for(var x=0;
x<e.length;x+=2){var X=new Uc(e[x],e[x+1]);P.push({type:p,Li:X.clone(),G:X.clone(),ap:X.clone()})}}return P};
Z.f.nE=function(e,j){Z.f.xT();var g=new paper.Path;g.remove();var P=e.length-1,p=Math.sqrt((e[P-1]-e[0])*(e[P-1]-e[0])+(e[P]-e[1])*(e[P]-e[1]))<3;
g.closed=p;for(var v=0;v<e.length;v+=2)g.add(new paper.Point(e[v],e[v+1]));g.simplify(j);var x=[{type:6},{type:8,all:0}];
x=x.concat(Z.f.el(g));return x};Z.f.Vv=function(e,j,g){var P=e[j].length,p=e[j].type,v=0,x=e.slice(j+1,j+1+P);
for(var A=0;A<P;A++){var f=g[(A-1+P)%P],S=g[(A+1+P)%P],F=g[A];if(F!=0){var m=x[(A-1+P)%P].G,R=x[(A+0+P)%P].G,M=x[(A+1+P)%P].G,b=Uc.zG(R,m),s=Uc.zG(R,M),K=Z.g.UC(m.x,m.y,R.x,R.y,M.x,M.y,F)[0],X=Math.min(K,f==0?b:b/2,S==0?s:s/2);
F*=X/K;var d=Z.g.UH(m.x,m.y,R.x,R.y,M.x,M.y,F),W={type:p+1,Li:new Uc(d[2],d[3]),G:new Uc(d[2],d[3]),ap:new Uc(d[4],d[5])},O={type:p+1,Li:new Uc(d[6],d[7]),G:new Uc(d[8],d[9]),ap:new Uc(d[8],d[9])};
e.splice(j+v+1,1,W,O);v++;e[j].length++}v++}};Z.f.$w=function(e){for(var j=0;j<e.length;j++){var g=e[j],P=g.type;
if(P==1||P==2||P==4||P==5)if(!g.G.iJ(g.Li)||!g.G.iJ(g.ap))return!1}return!0};Z.f.VO=function(e){if(e.length!=7||!Z.f.$w(e))return!1;
for(var j=0;j<4;j++){var g=!0;for(var P=0;P<4;P++){var p=e[3+(j+P&3)],v=e[3+(j+P+1&3)];if(p.G.x!=v.G.x&&p.G.y!=v.G.y)g=!1}if(g)return!0}return!1};
Z.f.vC={};Z.f.vC.ME=function(e,j,g){var P=[{type:6},{type:8,all:0}],p=null;P.push({type:g?3:0,WF:1,length:0,sf:0,sW:0,Tu:1});
if(j==0)p==null;else if(j instanceof Array)p=j;else{p=[];for(var v=0;v<e.length;v+=2)p.push(j)}P=P.concat(Z.f.$c(e,p,g));
P[2].length=P.length-3;return P};Z.f.vC.ZZn=function(e,j,g,P,p){var v=[],x=[],A=.553,f=1,S=-1;v.push({type:1,Li:new Uc(0,A),G:new Uc(0,0),ap:new Uc(0,-A)});
p+=2;for(var F=0;F<p;F++){var m={type:1};if(F==0){m.G=new Uc(1,-1);m.Li=new Uc(1-A,-1);m.ap=new Uc(1+A,-1)}else{var R=-(F+2)*Math.PI/2,M=1+((F&1)==1?F-1:F),b=Math.sin(R),s=Math.cos(R);
f+=M*(b-s);S+=M*(s+b);m.G=new Uc(f,S);m.Li=new Uc(f+M*s*A,S-M*b*A);if((F&1)==1)M+=2;m.ap=new Uc(f-M*s*A,S+M*b*A)}var K={type:1,Li:new Uc(-m.ap.x,-m.ap.y),G:new Uc(-m.G.x,-m.G.y),ap:new Uc(-m.Li.x,-m.Li.y)};
v.push(m);if(F<p-2)x.push(K)}x.reverse();v=v.concat(x);var X=[{type:6},{type:8,all:0}];X.push({type:0,WF:1,length:v.length,sf:0,sW:0,Tu:1});
X=X.concat(v);var d=new WE(g/p,0,0,g/p,0,0);d.rotate(P);d.translate(e,j);Z.f.Ly(X,d);return X};Z.f.vC.Rect=function(e,j,g,P,p){var v=[e,j,e+g,j,e+g,j+P,e,j+P];
return Z.f.vC.ME(v,p)};Z.f.vC.ns=function(e,j,g,P,p,v){var x=[],A=2*Math.PI/p;for(var f=0;f<p;f++)x.push(Math.cos(f*A),Math.sin(f*A));
var S=new WE(g,0,0,g,0,0);S.rotate(P);S.translate(e,j);Z.g.K(x,S,x);return Z.f.vC.ME(x,v)};Z.f.vC.ZfV=function(e,j,g,P,p,v,x){var A=[],f=Math.PI/p;
for(var S=0;S<p*2;S++){var F=(S&1)==0?1:x;A.push(F*Math.cos(S*f),F*Math.sin(S*f))}var m=new WE(g,0,0,g,0,0);
m.rotate(P);m.translate(e,j);Z.g.K(A,m,A);return Z.f.vC.ME(A,v)};Z.f.vC.zL=function(e,j,g,P,p){return Z.f.vC.JL(0,e,j,g,P,p)};
Z.f.vC.Zfs=function(e,j,g,P,p,v){return Z.f.vC.JL(1,e,j,g,P,p,v)};Z.f.vC.JL=function(e,j,g,P,p,v,x){var A=Math.sqrt((P-j)*(P-j)+(p-g)*(p-g)),f;
v/=2;if(e==0)f=[-v,0,v,0,v,A,-v,A];else{var S=v*2*x*1.3/1.5,F=v*x;f=[-v,0,v,0,v,A-S,F,A-S,0,A,-F,A-S,-v,A-S]}var m=new WE(1,0,0,1,0,0);
m.rotate(Math.atan2(-p+g,P-j)+Math.PI/2);m.translate(j,g);Z.g.K(f,m,f);return Z.f.vC.ME(f,0)};Z.f.vC.Po=function(e,j,g,P){var p=[{type:6},{type:8,all:0}],m=.553;
p.push({type:0,WF:1,length:4,sf:0,sW:0,Tu:1});var v=e,x=j,A=e+g,f=j+P,e=(v+A)/2,j=(x+f)/2,S=(v-A)/2,F=(x-f)/2;
p.push({type:1,Li:new Uc(e-m*S,j-F),G:new Uc(e,j-F),ap:new Uc(e+m*S,j-F)});p.push({type:1,Li:new Uc(e+S,j-m*F),G:new Uc(e+S,j),ap:new Uc(e+S,j+m*F)});
p.push({type:1,Li:new Uc(e+m*S,j+F),G:new Uc(e,j+F),ap:new Uc(e-m*S,j+F)});p.push({type:1,Li:new Uc(e-S,j+m*F),G:new Uc(e-S,j),ap:new Uc(e-S,j-m*F)});
return p};Z.f.vC.Zfp=function(e,j,g,P,p){var v=[{type:6},{type:8,all:0}];v.push({type:3,WF:1,length:5,sf:0,sW:0,Tu:1});
var x=(p-P)/4;for(var A=0;A<5;A++){var f=A*x,S=Math.cos(f),F=Math.sin(f),m=.553*(x/(Math.PI/2)),R=F*m,M=-S*m,b=new Uc(S,F);
v.push({type:4,Li:A==0?b.clone():new Uc(S+R,F+M),G:b,ap:A==4?b.clone():new Uc(S-R,F-M)})}var s=new WE;
s.rotate(-P);s.scale(g,g);s.translate(e,j);Z.f.Ly(v,s);return v};Z.xL={};Z.xL.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
Z.xL.Xx=function(e){var j=e.warpStyle.v.warpStyle;if(j=="warpNone")return!0;else if(j=="warpCustom"){var g=!1,P=e.customEnvelopeWarp.v.meshPoints.v.arr,p=P[0].arr,v=P[1].arr;
for(var x=0;x<4;x++)for(var A=0;A<4;A++){if(Math.abs(p[x]-p[A*4+x])>1||Math.abs(v[x*4]-v[x*4+A])>1)g=!0}return!g}else return e.warpValue.v==0&&e.warpPerspective.v==0&&e.warpPerspectiveOther.v==0};
Z.xL.V=function(e){var j={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(e){j.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:e.y}},Left:{t:"UntF",v:{type:"#Pxl",val:e.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:e.y+e.j}},Rght:{t:"UntF",v:{type:"#Pxl",val:e.x+e.W}}}};
j.uOrder={t:"long",v:4};j.vOrder={t:"long",v:4}}return j};Z.xL.ZxJ=function(e,j,g,P){for(var p=0;p<e.length;
p+=2){var v=e[p],x=e[p+1],A=(v-j.x)/j.W,f=(x-j.y)/j.j,S=(1-g)/2,F=1-S,m=S+A*(F-S);f=.5+(f-.5)*m*2;var R=(1-P)/2,M=1-R,b=R+f*(M-R);
A=.5+(A-.5)*b*2;v=j.x+A*j.W;x=j.y+f*j.j;e[p]=v;e[p+1]=x}};Z.xL.Jz=function(e,j){var g=[],P=[];for(var p=0;
p<e.length;p+=2){g.push(e[p]);P.push(e[p+1])}var v=[];v.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:g});
v.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:P});j.warpStyle.v.warpStyle="warpCustom";j.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:v}}}}};
Z.xL.pT=function(e,j){if(j==null){var g=e.bounds.v,P=g.Left.v.val,p=g.Rght.v.val,v=g.Top.v.val,x=g.Btom.v.val;
j=new G(P,v,p-P,x-v)}if(j.tE())j.W=j.j=1;var A=[],f=e.warpStyle.v.warpStyle;if(f=="warpCustom"){var S=e.customEnvelopeWarp.v.meshPoints.v.arr,F=S[0].arr,m=S[1].arr;
for(var R=0;R<16;R++)A.push(F[R],m[R])}else A=Z.xL.xL(j,f,e.warpRotate.v.Ornt=="Hrzn",e.warpValue.v/100,e.warpPerspective.v/100,e.warpPerspectiveOther.v/100);
return A};Z.xL.xL=function(e,j,g,P,p,v){var x=Z.ie.V(e.x,e.y,e.W,e.j);if(j=="warpNone")return x;var A=JSON.parse(JSON.stringify(e)),f=new WE;
if(!g){f.translate(-e.x,-e.y);f.rotate(-Math.PI/2);f.translate(e.j,0);Z.g.K(x,f,x);e=new G(0,0,e.j,e.W);
x=Z.ie.ct(x,!1)}Z.xL.Zxu(x,e,j,P,p,v);if(!g){x=Z.ie.ct(x,!0);e=A;f.OF();Z.g.K(x,f,x)}if(P==0)Z.xL.ZxJ(x,e,p,v);
else{var f=new WE(1/e.W,0,0,1/e.j,-e.x,-e.y);f.translate(-.5,-.5);Z.g.K(x,f,x);Z.xL.Zxo(x,v,p);f.OF();
Z.g.K(x,f,x)}return x};Z.xL.Zxu=function(e,j,g,P,p,v){for(var x=0;x<4;x++){for(var A=0;A<4;A++){var f=2*(4*x+A),S=e[f]-j.x,F=e[f+1]-j.y,m=S,R=F;
if(P!=0){var M=j.W/2,b=j.j/2;m-=M;R-=b;var s=m,K=m,X=-b,d=b,W=Math.abs(P),O=Math.tan((1-W)*Math.PI/2),H=Math.sqrt(O*O+1),Y=Math.atan2(1,O),y=m/M*Y,B=M*H,c=M*H+j.j,$=Math.cos(Y),I=Math.sin(Y),r=Z.xL.ZxM($,I),i=Z.xL.ZUg($,I),U=-O*M+r*B;
if(g=="warpArc"){s=Math.sin(y)*c;X=O*M-Math.cos(Y)*c+b;K=Math.sin(y)*B;d=O*M-Math.cos(Y)*B+b;if(A==1||A==2){s=A==1?-i*c:i*c;
K=A==1?-i*B:i*B;X=O*M+b-r*c;d=O*M+b-r*B}if(P<0){var N=s;s=K;K=N;N=X;X=-d;d=-N}}if(g=="warpArcLower"){if(A==1||A==2){K=A==1?-i*B:i*B;
d=P<0?b-U:b+U}}if(g=="warpArcUpper"||g=="warpArch"||g=="warpBulge"){if(A==1||A==2){s=A==1?-i*B:i*B;X=P<0?-b+U:-b-U}if(g=="warpArch"){K=s;
d=X+2*b}if(g=="warpBulge"){K=s;d=-X}}if(g=="warpFish"||g=="warpFlag"||g=="warpWave"){if(A==1){X-=P*4*b;
d+=P*4*b}if(A==2){X+=P*4*b;d-=P*4*b}if(g=="warpFlag"||g=="warpWave")X=d-2*b}if(g=="warpRise"){if(A<2)X=-b+P*b*4;
d=X+2*b}var C=(R+b)/j.j;m=s+C*(K-s);R=X+C*(d-X);if(g=="warpWave"){if(x==0)R=-b;if(x==3)R=b;if(x==1||x==2)R=2*b*(x/3-.5)*(1/3)+R*(2/3)}if(g=="warpFisheye"){if((x==1||x==2)&&(A==1||A==2)){m=m+4*m*P;
R=R+4*R*P}}if(g=="warpInflate"){var D=2/3;if((x==1||x==2)&&(A==1||A==2)){m=m+.5*m*P;R=R+.5*R*P}else if(x==1||x==2)m=m+D*m*P;
else if(A==1||A==2)R=R+D*R*P}if(g=="warpSqueeze"){var D=2/3;if((x==1||x==2)&&(A==1||A==2)){if(P>0)m=m-D*m*P;
else R=R+D*R*P}else if(x==1||x==2)m=m-D*m*P;else if(A==1||A==2)R=R+D*R*P}if(g=="warpTwist"){if((x==1||x==2)&&(A==1||A==2)){var n=P*Math.PI/2,H=1+Math.abs(P)*2,w=m*Math.cos(n)-R*Math.sin(n),k=m*Math.sin(n)+R*Math.cos(n);
m=w*H;R=k*H}}if(g=="warpShellLower"||g=="warpShellUpper"){if(g=="warpShellUpper"){x=3-x;R=-R}if(x>2||x==2&&(A==0||A==3)){if(P>0){var h=B+x/3*2*b;
m=Math.sin(y)*h;R=-O*M-b+Math.cos(y)*h;if(A==1||A==2){m=A==1?-i*h:i*h;R=-O*M-b+r*h}}else{if((A==1||A==2)&&x==3){m=A==1?-i*B:i*B;
R=O*M-r*B+b}else if(x==2){R=b-b*(2/3)*Math.cos(y);m=m+b*(2/3)*Math.sin(y)}}}if(g=="warpShellUpper"){x=3-x;
R=-R}}m+=M;R+=b}S=m,F=R;e[f]=S+j.x;e[f+1]=F+j.y}}};Z.xL.Zxo=function(e,j,g){var P=[];for(var p=0;p<4;
p++)P.push(1-g+p/3*2*g);var v=[];for(var p=0;p<4;p++)v.push(1-j+p/3*2*j);var x=[0,0,0,0],A=[0,0,0,0];
for(var f=0;f<4;f++)for(var p=0;p<4;p++){var S=2*(4*f+p),F=e[S],m=e[S+1];x[p]+=F/4;A[p]+=m/4}for(var f=0;
f<4;f++)for(var p=0;p<4;p++){var R=P[p],S=2*(4*f+p),F=e[S],m=e[S+1],M=x[p],b=A[p];e[S]=M+R*(F-M);e[S+1]=b+R*(m-b)}var s=e.slice(0);
for(var f=0;f<4;f++)for(var p=1;p<3;p++){var S=2*(4*f+p),F=e[S],m=e[S+1],K=S+(p==1?-2:2),X=e[K],d=e[K+1];
e[S]=F-X;e[S+1]=m-d}var W=e[0],O=e[1],H=e[8],Y=e[9],y=e[16],B=e[17],c=e[24],$=e[25],I=e[6],r=e[7],i=e[14],U=e[15],N=e[22],C=e[23],D=e[30],n=e[31],w=I-W,k=r-O,h=i-H,t=U-Y,a=N-y,_=C-B,E=D-c,WW=n-$;
for(var f=0;f<4;f++){var Wx=2*f*4,WU=0,We=0,Wv=f==1?.33:.66,L=1-Wv;if(f==0){WU=w;We=k}if(f==1){WU=L*w+Wv*-E;
We=L*k+Wv*-WW}if(f==2){WU=L*w+Wv*-E;We=L*k+Wv*-WW}if(f==3){WU=-E;We=-WW}e[Wx]=e[Wx]+WU/2;e[Wx+1]=e[Wx+1]+We/2;
e[Wx+6]=e[Wx+6]-WU/2;e[Wx+7]=e[Wx+7]-We/2}for(var f=0;f<4;f++)for(var p=1;p<3;p++){var S=2*(4*f+p),F=e[S],m=e[S+1],K=S+(p==1?-2:2),X=e[K],d=e[K+1],R=2*f/3;
e[S]=X+R*F;e[S+1]=d+R*m}for(var f=1;f<3;f++)for(var p=1;p<3;p++){var S=2*(4*f+p),F=e[S],m=e[S+1],J=f==1?-8:-16,WZ=f==1?16:8,WJ=e[S+J],Wu=e[S+J+1],WC=e[S+WZ],Wn=e[S+WZ+1],R=f/3;
F=(1-R)*WJ+R*WC;m=(1-R)*Wu+R*Wn;e[S]=F;e[S+1]=m}Z.g.gR(s,e,e,j)};Z.xL.ZxM=function(e,j){return(4-e)*(1/3)};
Z.xL.ZUg=function(e,j){return(1-e)*(3-e)/(3*j)};Z.Mb={};Z.Mb.$Y=function(e,j,g,P,p,v,x,A,f,S){var F=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],m=1/f,R=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],M=new Uint32Array(6);
for(var b=0;b<A;b++){for(var s=0;s<x;s++){var K=3*(b*x+s),X=b+v,d=s+p;M[0]=0;M[1]=0;M[2]=0;M[3]=0;M[4]=0;
M[5]=0;for(var W=0;W<16;W+=2){var O=d+R[W],H=X+R[W+1],Y=O-f*~~(O*m),y=H-f*~~(H*m),B=S[y*f+Y];M[B]+=e[H*j+O];
M[B+3]++}var O=d,H=X,Y=O-f*~~(O*m),y=H-f*~~(H*m),B=S[y*f+Y];M[B]=e[X*j+d];M[B+3]=1;P[K]=M[0]*F[M[3]];
P[K+1]=M[1]*F[M[4]];P[K+2]=M[2]*F[M[5]]}}};Z.Mb.Jl=function(e,j,g){for(var P=0;P<g;P+=2)e[j+P]=e[j+P+1];
j=j+g;for(var P=0;P<g;P+=2)e[j+P+1]=e[j+P]};Z.Mb.uu=function(e,j,g,P){for(var p=0;p<P;p+=2){var v=j+p*g;
e[v]=e[v+g];e[v+g+1]=e[v+1]}};Z.Mb.uD=function(e,j,g,P,p,v){var x=P[p],A=P[p+1],f=P[v],S=P[v+1],F=A+f>>>1;
e[j]=e[j+3]=e[g]=e[g+3]=x;e[j+1]=F;e[j+4]=A;e[g+1]=f;e[g+4]=F;e[j+2]=e[j+5]=e[g+2]=e[g+5]=S};Z.Mb.ZUG=function(e,j,g,P,p,v){var x=v*3;
for(var A=0;A<v;A+=2){var f=j+A,S=p+A*3;Z.Mb.uD(P,S,S+x,e,f,f+g)}};Z.Mb.ZU_=function(e,j,g,P,p,v,x){var A=v*3;
for(var f=0;f<x;f+=2){var S=j+f*g,F=p+f*v*3;Z.Mb.uD(P,F,F+A,e,S,S+g)}};Z.Mb.ut=function(e,j,g){var P=e[j-g-g],p=e[j-g],v=e[j-2],x=e[j-1],A=e[j],f=e[j+1],S=e[j+2],F=e[j+g],m=e[j+g+g],R=Math.abs(p-F),M=Math.abs(x-f),b=Math.abs(A-P)*2+R,s=Math.abs(A-S)*2+M,K=Math.abs(A-v)*2+M,X=Math.abs(A-m)*2+R,d=Math.min(b,Math.min(s,Math.min(K,X)));
if(d==b)return p*3+F+A-P>>2;if(d==s)return f*3+x+A-S>>2;if(d==K)return x*3+f+A-v>>2;return F*3+p+A-m>>2};
Z.Mb.zR=function(e,j,g,P,p){if(e<j&&j<g||e>j&&j>g)return~~(.5+P+(p-P)*(j-e)/(g-e));else return(P+p>>1)+(j+j-e-g>>2)};
Z.Mb.Cn=function(e,j,g,P){var p=j[g-P-1],v=j[g-P+1],x=j[g],A=j[g+P-1],f=j[g+P+1],S=e[g-P-1],F=e[g-P+1],m=e[g],R=e[g+P-1],M=e[g+P+1],b=Math.abs(F-R)+Math.abs(e[g-P-P+2]-m)+Math.abs(m-e[g+P+P-2])+Math.abs(v-x)+Math.abs(x-A),s=Math.abs(S-M)+Math.abs(e[g-P-P-2]-m)+Math.abs(m-e[g+P+P+2])+Math.abs(p-x)+Math.abs(x-f);
if(b<s)return Z.Mb.zR(v,x,A,F,R);else return Z.Mb.zR(p,x,f,S,M)};Z.Mb.OU=function(e,j,g,P,p,v){e[j+0]=g[p];
e[j+1]=P[p];e[j+2]=Z.Mb.Cn(g,P,p,v)};Z.Mb.OV=function(e,j,g,P,p,v){var x=P[p];e[j+0]=Z.Mb.zR(P[p-1],x,P[p+1],g[p-1],g[p+1]);
e[j+1]=x;e[j+2]=Z.Mb.zR(P[p-v],x,P[p+v],g[p-v],g[p+v])};Z.Mb.OJ=function(e,j,g,P,p,v){var x=P[p];e[j+0]=Z.Mb.zR(P[p-v],x,P[p+v],g[p-v],g[p+v]);
e[j+1]=x;e[j+2]=Z.Mb.zR(P[p-1],x,P[p+1],g[p-1],g[p+1])};Z.Mb.Ou=function(e,j,g,P,p,v){e[j+0]=Z.Mb.Cn(g,P,p,v);
e[j+1]=P[p];e[j+2]=g[p]};Z.Mb.ZWI=function(e,j,g,P,p,v,x,A,f){var S=Date.now(),F=2,m=j-2,R=2;if((p&1)==1){F++;
m--}var M=g-2;if((v&1)==1){R++;M--}if(f==1||f==3){F++;m--}var b=e.slice(0);Z.Mb.Jl(b,0,j);Z.Mb.uu(b,0,j,g);
Z.Mb.uu(b,j-2,j,g);Z.Mb.Jl(b,(g-2)*j,j);for(var s=R;s<M;s+=2)for(var K=F;K<m;K+=2){var X=s*j+K,d=Z.Mb.ut(b,X,j),W=Z.Mb.ut(b,X+j+1,j);
b[X]=Math.max(0,d);b[X+j+1]=Math.max(0,W)}var O=x,H=A;if(v+A==g){H-=2;Z.Mb.ZUG(e,(g-2)*j+p,j,P,(A-2)*x*3,x)}if(p+x==j){O-=2;
Z.Mb.ZU_(e,v*j+p+x-2,j,P,(x-2)*3,x,A)}if(f==0)for(var s=0;s<H;s+=2)for(var K=0;K<O;K+=2){var Y=(s+v)*j+K+p,y=(s*x+K)*3;
Z.Mb.OU(P,y,e,b,Y,j);Z.Mb.OV(P,y+3,e,b,Y+1,j);Y+=j;y+=3*x;Z.Mb.OJ(P,y,e,b,Y,j);Z.Mb.Ou(P,y+3,e,b,Y+1,j)}else if(f==1)for(var s=0;
s<H;s+=2)for(var K=0;K<O;K+=2){var Y=(s+v)*j+K+p,y=(s*x+K)*3;Z.Mb.OV(P,y,e,b,Y,j);Z.Mb.OU(P,y+3,e,b,Y+1,j);
Y+=j;y+=3*x;Z.Mb.Ou(P,y,e,b,Y,j);Z.Mb.OJ(P,y+3,e,b,Y+1,j)}else if(f==2)for(var s=0;s<H;s+=2)for(var K=0;
K<O;K+=2){var Y=(s+v)*j+K+p,y=(s*x+K)*3;Z.Mb.Ou(P,y,e,b,Y,j);Z.Mb.OJ(P,y+3,e,b,Y+1,j);Y+=j;y+=3*x;Z.Mb.OV(P,y,e,b,Y,j);
Z.Mb.OU(P,y+3,e,b,Y+1,j)}else if(f==3)for(var s=0;s<H;s+=2)for(var K=0;K<O;K+=2){var Y=(s+v)*j+K+p,y=(s*x+K)*3;
Z.Mb.OJ(P,y,e,b,Y,j);Z.Mb.Ou(P,y+3,e,b,Y+1,j);Y+=j;y+=3*x;Z.Mb.OU(P,y,e,b,Y,j);Z.Mb.OV(P,y+3,e,b,Y+1,j)}};
Z.raw={};Z.raw.ZWH=function(e){var j=e.width,g=e.height,P=Date.now(),p=Z.raw.ZWK(e),v=0,x=0;Z.raw.n$(2,e,p,j,g);
var A=j,f=g;if(e.t50829){var S=e.t50829;v=S[1];x=S[0];A=S[3];f=S[2]}if(e.t50719){var F=e.t50719;v+=F[0]>>1<<1;
x+=F[1]>>1<<1}if(e.t50720){var m=e.t50720;A=v+m[0];f=x+m[1]}var R=A-v,M=f-x,b=new Float32Array(R*M*3);
if(e.t277[0]==1){var s=e.t33421;if(s.length!=2||s[0]!=2||s[1]!=2){console.log("Unknown CFA pattern size",s);
Z.Mb.$Y(p,j,g,b,v,x,R,M,s[0],e.t33422)}else{var K=e.t33422.join(","),X=0;if(K=="0,1,1,2")X=0;else if(K=="1,0,2,1")X=1;
else if(K=="2,1,1,0")X=2;else if(K=="1,2,0,1")X=3;else throw"Unknown CFA pattern "+K;if((R&1)!=0||(M&1)!=0)throw"e";
Z.Mb.ZWI(p,j,g,b,v,x,R,M,X)}}else{for(var d=0;d<M;d++)for(var W=0;W<R;W++){var O=((d+x)*j+W+v)*3,H=(d*R+W)*3;
b[H+0]=p[O+0];b[H+1]=p[O+1];b[H+2]=p[O+2]}}var Y=b,y=b.length,B=Z.raw.ZWA(e),c=1/B;for(var $=0;$<y;$+=3){b[$]=Math.min(1,Y[$]*c);
b[$+1]=Math.min(1,Y[$+1]*c);b[$+2]=Math.min(1,Y[$+2]*c)}Z.raw.n$(3,e,b,R,M);var I=e.yg,r=R,i=M;if(I==1||I==9){}else{var U=Z.raw.Ct(I,R,M),H=0;
r=U[0];i=U[1];var N=b.slice(0);for(var d=0;d<i;d++)for(var W=0;W<r;W++){var C=U[2]*W+U[3]*d+U[4],D=U[5]*W+U[6]*d+U[7],O=(D*R+C)*3;
b[H]=N[O];b[H+1]=N[O+1];b[H+2]=N[O+2];H+=3}}return{C$:b,VD:r,Vt:i}};Z.raw.Ct=function(e,j,g){var P=j,p=g;
if(e==3)return[j,g,-1,0,j-1,0,-1,g-1];else if(e==6)return[g,j,0,1,0,-1,0,g-1];else if(e==8)return[g,j,0,-1,j-1,1,0,0];
else throw"unknown orientation "+e};Z.raw.nK=function(e,j,g,P){var p=e.C$,v=Math.round(p.length/3),x=ex.Zeh(P[0],P[1]),A=Z.raw.ZvR(g,x),f=Z.qo.multiply(Z.qo.gq,A),S=Math.pow(2,P[2]+(g.t50730?g.t50730[0]:0));
f=Z.qo.multiply(f,Z.qo.fq(S,S,S));var F=g.t50728,m=[F[1]/F[0],F[2]/F[0],F[0]/F[1],F[2]/F[1],F[0]/F[2],F[1]/F[2]],R=new Float64Array(1e3);
for(var M=0;M<1e3;M++){var b=M*(1/999);b=M==999?1:Z.uP(M*(1/999));b=Z.raw.Mh.ZWs(b,P[3]/100);R[M]=b}var s=Date.now();
for(var M=0;M<v;M++){var K=M<<2,X=K-M,d=p[X],W=p[X+1],O=p[X+2];if(W>=.92){var H=Math.min(d,O);if(H==d){W=Math.max(W,m[0]*d);
O=Math.max(O,m[1]*d)}else{d=Math.max(d,m[4]*O);W=Math.max(W,m[5]*O)}}var Y=f[0]*d+f[1]*W+f[2]*O,y=f[4]*d+f[5]*W+f[6]*O,B=f[8]*d+f[9]*W+f[10]*O;
if(Y<0)Y=0;else if(Y>1)Y=1;if(y<0)y=0;else if(y>1)y=1;if(B<0)B=0;else if(B>1)B=1;Y=R[~~(Y*999)];y=R[~~(y*999)];
B=R[~~(B*999)];j[K]=~~(.5+Y*255);j[K+1]=~~(.5+y*255);j[K+2]=~~(.5+B*255)}};Z.raw.Mh={ZWs:function(e,j){var g=.5-.5*Math.cos(e*3.2),P=0;
if(j>0){var p=e*.2;P=p*e+(1-p)*g}else{var v=Math.pow(e,.33);P=(1-v)*v+v*(e+(e-g)*.63)}var x=Math.abs(j);
return x*P+(1-x)*e},ZNF:function(e,j){var g=0;if(j>0){var P=e*1.47,p=Math.pow(e,2.4);g=Math.min(1,p*e+(1-p)*P)}else{var P=e*.68,p=Math.pow(e,3);
g=p*e*.5+(1-p)*P}var v=Math.abs(j);return v*g+(1-v)*e},ZNo:function(e,j){var g=0;if(j>0){var P=Math.pow(e,.3),p=e;
g=(1-e)*P+e*p}else{var P=Math.pow(e,2.5),v=e,p=e;g=Math.min(1,(1-v)*P+v*p)}var x=Math.abs(j);return x*g+(1-x)*e}};
Z.raw.ZWK=function(e){var j=e.width,g=e.height,P=j*g*e.t277,p=new Uint16Array(P),v=null,x=0;Z.raw.ZWj(e,p);
Z.raw.n$(1,e,p,j,g);if(e.t50712){v=e.t50712;x=v.length-1;if(v[x]>65535)throw"too big values"}var A=Z.raw.Cz(e),f=Z.raw.ga(e);
if(v==null)for(var S=0;S<P;S++)p[S]=Math.max(0,p[S]-A);else for(var S=0;S<P;S++){var F=p[S];if(F>x)F=x;
F=v[F];p[S]=Math.max(0,F-A)}return p};Z.raw.Cz=function(e){var j=e.t50714,g=j?j[0]:0,P=e.t50715,p=e.t50716;
if(P)g+=P[0];if(p)g+=p[0];return Math.round(g)};Z.raw.ga=function(e){var j=null,g=0;if(e.t50712){j=e.t50712;
g=j.length-1}var P=e.t50717[0];if(j)P=Math.min(P,j[g]);return P};Z.raw.ZWA=function(e){var j=Z.raw.Cz(e),g=Z.raw.ga(e);
return g-j};Z.raw.ZWj=function(e,j){var g=j.length,P=e.data,p=e.t258[0];if(p!=16&&p!=14&&p!=12&&p!=10&&p!=8)throw"Unsupported Bits Per Sample:"+p;
p=Math.round(P.length*8/g);if(p==16&&e.isLE){Z.Ue(P,j);return}for(var v=0;v<g;v+=2){var x=0,A=0,f=0;
if(p==16){x=v<<1;A=P[x]<<8|P[x+1];f=P[x+2]<<8|P[x+3]}else if(p==14){var S=v*14,F=S>>>3,m=P[F]<<24|P[F+1]<<16|P[F+2]<<8|P[F+3];
if((S&7)==0){A=m>>>18;f=m>>>4&16383}else{A=m>>>14&16383;f=m&16383}}else if(p==12){x=v+(v>>>1);A=P[x]<<4|P[x+1]>>4;
f=(P[x+1]&15)<<8|P[x+2]}else if(p==10){var S=v*10,F=S>>>3;if((S&7)==0){A=(P[F]<<2|P[F+1]>>6)&1023;f=(P[F+1]<<4|P[F+2]>>4)&1023}else{A=(P[F]<<6|P[F+1]>>2)&1023;
f=(P[F+1]<<8|P[F+2]>>0)&1023}}else if(p==8){x=v;A=P[x];f=P[x+1]}j[v]=A;j[v+1]=f}};Z.raw.n$=function(e,j,g,P,p){var v=j["t"+[51008,51009,51022][e-1]],F=0;
if(v==null)return;var x=P*p,A=T.o,f=T.aA,S=new Uint8Array(v),m=T.o(S,F);F+=4;for(var R=0;R<m;R++){var M=A(S,F);
F+=4;var b=A(S,F);F+=4;var s=A(S,F);F+=4;var K=A(S,F);F+=4;if(!1){}else if(M==1&&e==3){var X=F,d=A(S,X);
X+=4;var W=f(S,X);X+=8;var O=f(S,X);X+=8;var H=f(S,X);X+=8;var Y=f(S,X);X+=8;var y=f(S,X);X+=8;var B=f(S,X);
X+=8;X+=(d-1)*8*6;var c=f(S,X);X+=8;var $=f(S,X);X+=8;var I=c*P,r=$*p,i=Math.max(I,P-I),U=Math.max(r,p-r),N=Math.sqrt(i*i+U*U),C=1/N,D=g.slice(0);
for(var n=0;n<p;n++)for(var w=0;w<P;w++){var k=(w+.5-I)*C,h=(n+.5-r)*C,t=k*k+h*h,a=W+O*t+H*(t*t)+Y*(t*t)*t,_=y*(2*k*h)+B*(t+2*k*k),E=B*(2*k*h)+y*(t+2*h*h),WW=~~(I+N*(a*k+_)),Wx=~~(r+N*(a*h+E)),WU=(Wx*P+WW)*3,We=(n*P+w)*3;
g[We]=D[WU];g[We+1]=D[WU+1];g[We+2]=D[WU+2]}}else if(M==3&&e==3){var X=F,Wv=f(S,X);X+=8;var L=f(S,X);
X+=8;var J=f(S,X);X+=8;var WZ=f(S,X);X+=8;var WJ=f(S,X);X+=8;var c=f(S,X);X+=8;var $=f(S,X);X+=8;var I=c*P,r=$*p,i=Math.max(I,P-I),U=Math.max(r,p-r),N=Math.sqrt(i*i+U*U),C=1/N;
for(var n=0;n<p;n++)for(var w=0;w<P;w++){var k=(w+.5-I)*C,h=(n+.5-r)*C,t=k*k+h*h,Wu=1+(Wv+(L+(J+(WZ+WJ*t)*t)*t)*t)*t,We=(n*P+w)*3;
g[We]=Wu*g[We];g[We+1]=Wu*g[We+1];g[We+2]=Wu*g[We+2]}}else if(M==4&&e==1){var X=F,WC=A(S,X);X+=4;var Wn=A(S,X);
X+=4;for(var WB=0;WB<x;WB++)if(g[WB]==WC)g[WB]=g[WB-2]+g[WB+2]>>1}else if(M==5&&e==1){var X=F,Wt=A(S,X);
X+=4;var Wy=A(S,X);X+=4;var Wz=A(S,X);X+=4;for(var WB=0;WB<Wy;WB++){var WG=A(S,X);X+=4;var Wq=A(S,X);
X+=4;var WB=WG*P+Wq;g[WB]=g[WB-2]+g[WB+2]>>1}}else if(M==7&&e==1){var X=F,Wa=T.mz(S,X);X+=16;var WK=A(S,X);
X+=4;var Wd=A(S,X);X+=4;var WD=A(S,X),W$=A(S,X+4);X+=8;var Zg=A(S,X);X+=4;var WL=new Uint16Array(Zg);
for(var WB=0;WB<Zg;WB++)WL[WB]=T.JO(S,X+2*WB);var WY=Wa.W,WA=Wa.j;for(var n=0;n<WA;n+=WD)for(var w=0;
w<WY;w+=W$){var WB=(Wa.y+n)*P+(Wa.x+w);g[WB]=WL[g[WB]]}}else if(M==9&&e==2){var X=F,Wa=T.mz(S,X),WH=!0;
X+=16;var WK=A(S,X);X+=4;var Wd=A(S,X);X+=4;var WD=A(S,X),W$=A(S,X+4);X+=8;var Wb=A(S,X),WX=A(S,X+4);
X+=8;var fI=f(S,X),Ww=f(S,X+8);X+=16;var W_=f(S,X),vW=f(S,X+8);X+=16;var vL=A(S,X);X+=4;if(vL!=1)throw"more than one map plane";
var vV=Wb*WX,Wo=new Float32Array(vV);for(var WT=0;WT<vV;WT++)Wo[WT]=T.QQ(S,X+WT*4);for(var WT=0;WT<vV;
WT++)if(Wo[WT]!=1)WH=!1;if(!WH){var WY=Wa.W,WA=Wa.j,WS=.9999*(WX-1)/WY,ve=.9999*(Wb-1)/WA;for(var n=0;
n<WA;n+=WD)for(var w=0;w<WY;w+=W$){var WB=(Wa.y+n)*P+(Wa.x+w),Zi=w*WS,WQ=n*ve,vZ=Math.floor(Zi),fH=Math.floor(WQ),vg=Zi-vZ,vI=WQ-fH,We=fH*WX+vZ,ZL=Wo[We]*(1-vg)+Wo[We+1]*vg,vu=Wo[We+WX]*(1-vg)+Wo[We+1+WX]*vg,vS=ZL*(1-vI)+vu*vI;
g[WB]=~~(g[WB]*vS+.5)}}}else console.log("Unknown opcode "+M+" in OpcodeList"+e+". Length: "+K);F+=K}};
Z.raw.ZvR=function(e,j){var g=ex.nh(j),P=Z.raw.gi(e,j),p=Z.qo.OF(P),v=ex.Zec(g,ex.nh(ex.ZeK)),x=Z.qo.multiply(v,p);
return x};Z.raw.ZvM=function(e){var j=e.t50728.slice(0),P=1;j.push(0);var g={x:.34567,y:.3585};do{var p=Z.qo.OF(Z.raw.gi(e,g)),v=Z.qo.Kl(p,j),x=ex.Ze_(v);
P=Math.abs(g.x-x.x)+Math.abs(g.y-x.y);g=x}while(P>1e-7);return g};Z.raw.gi=function(e,j){var g=ex.nU(j),P=Z.raw.Zex,p=e.t50779?e.t50779[0]:0,v=P(e.t50721,e.t50722,e.t50778[0],p,g.XK),x=P(e.t50723,e.t50724,e.t50778[0],p,g.XK);
x=x||[1,0,0,0,1,0,0,0,1];var A=e.t50727?[e.t50727[0],0,0,0,e.t50727[1],0,0,0,e.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return Z.qo.multiply(Z.qo.kH(A),Z.qo.multiply(Z.qo.kH(x),Z.qo.kH(v)))};Z.raw.Zex=function(e,j,g,P,p){if(!e&&!j){return null}else if(e&&!j){return e}else if(p<g){return e}else if(p>P){return j}else{var v=(1/p-1/P)/(1/g-1/P),x=1-v,A=[];
for(var f=0;f<9;f++)A[f]=e[f]*v+j[f]*x;return A}};var ex={};ex.ZeK={x:.34567,y:.3585};ex.nZ=[{k:0,lg:.18006,Sq:.26352,kC:-.24341},{k:10,lg:.18066,Sq:.26589,kC:-.25479},{k:20,lg:.18133,Sq:.26846,kC:-.26876},{k:30,lg:.18208,Sq:.27119,kC:-.28539},{k:40,lg:.18293,Sq:.27407,kC:-.3047},{k:50,lg:.18388,Sq:.27709,kC:-.32675},{k:60,lg:.18494,Sq:.28021,kC:-.35156},{k:70,lg:.18611,Sq:.28342,kC:-.37915},{k:80,lg:.1874,Sq:.28668,kC:-.40955},{k:90,lg:.1888,Sq:.28997,kC:-.44278},{k:100,lg:.19032,Sq:.29326,kC:-.47888},{k:125,lg:.19462,Sq:.30141,kC:-.58204},{k:150,lg:.19962,Sq:.30921,kC:-.70471},{k:175,lg:.20525,Sq:.31647,kC:-.84901},{k:200,lg:.21142,Sq:.32312,kC:-1.0182},{k:225,lg:.21807,Sq:.32909,kC:-1.2168},{k:250,lg:.22511,Sq:.33439,kC:-1.4512},{k:275,lg:.23247,Sq:.33904,kC:-1.7298},{k:300,lg:.2401,Sq:.34308,kC:-2.0637},{k:325,lg:.24792,Sq:.34655,kC:-2.4681},{k:350,lg:.25591,Sq:.34951,kC:-2.9641},{k:375,lg:.264,Sq:.352,kC:-3.5814},{k:400,lg:.27218,Sq:.35407,kC:-4.3633},{k:425,lg:.28039,Sq:.35577,kC:-5.3762},{k:450,lg:.28863,Sq:.35714,kC:-6.7262},{k:475,lg:.29685,Sq:.35823,kC:-8.5955},{k:500,lg:.30505,Sq:.35907,kC:-11.324},{k:525,lg:.3132,Sq:.35968,kC:-15.628},{k:550,lg:.32129,Sq:.36011,kC:-23.325},{k:575,lg:.32931,Sq:.36038,kC:-40.77},{k:600,lg:.33724,Sq:.36051,kC:-116.45}];
ex.nU=function(e){var j=ex.nZ,g=2*e.x/(1.5-e.x+6*e.y),P=3*e.y/(1.5-e.x+6*e.y),p=0,v=0,x=0;for(;x<31;
x++){p=P-j[x].Sq-j[x].kC*(g-j[x].lg);if(x>0&&p<0){break}v=p}while(x>=j.length)x--;p/=Math.sqrt(1+j[x].kC*j[x].kC);
v/=Math.sqrt(1+j[x-1].kC*j[x-1].kC);var A=v/(v-p),f=1e6/((j[x].k-j[x-1].k)*A+j[x-1].k),S=g-((j[x].lg-j[x-1].lg)*A+j[x-1].lg),F=P-((j[x].Sq-j[x-1].Sq)*A+j[x-1].Sq),m=Math.sqrt(1+j[x].kC*j[x].kC),R=1/m,M=j[x].kC/m,b=Math.sqrt(1+j[x-1].kC*j[x-1].kC),s=1/b,K=j[x-1].kC/b,X=(R-s)*A+s,d=(M-K)*A+K,W=Math.sqrt(X*X+d*d);
X/=W;d/=W;var O=(S*X+F*d)*-3e3;return{XK:f,wm:O}};ex.Zeh=function(e,j){var g=ex.nZ,P=1e6/e,p=1;for(;
p<31;p++){if(P<g[p].k){break}}var v=(g[p].k-P)/(g[p].k-g[p-1].k),x=(g[p-1].lg-g[p].lg)*v+g[p].lg,A=(g[p-1].Sq-g[p].Sq)*v+g[p].Sq,f=Math.sqrt(1+g[p].kC*g[p].kC),S=1/f,F=g[p].kC/f,m=Math.sqrt(1+g[p-1].kC*g[p-1].kC),R=1/m,M=g[p-1].kC/m,b=(R-S)*v+S,s=(M-F)*v+F,K=Math.sqrt(b*b+s*s);
b/=K;s/=K;x+=b*j/-3e3;A+=s*j/-3e3;return{x:1.5*x/(x-4*A+2),y:A/(x-4*A+2)}};ex.Ze_=function(e){var j=e[0]+e[1]+e[2];
return{x:e[0]/j,y:e[1]/j}};ex.nh=function(e){return{x:e.x/e.y,y:1,SL:(1-e.x-e.y)/e.y}};ex.Zec=function(e,j){var g=Z.qo.kH([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),P=[e.x,e.y,e.SL,0],p=[j.x,j.y,j.SL,0];
P=Z.qo.Kl(g,P);p=Z.qo.Kl(g,p);var v=p[0]/P[0],x=p[1]/P[1],A=p[2]/P[2],f=Z.qo.kH([v,0,0,0,x,0,0,0,A]),S=Z.qo.OF(g);
return Z.qo.multiply(Z.qo.multiply(S,f),g)};Z.raw.kq={};Z.raw.nO=function(e){e*=8;var j=[8,10,12,14,16];
for(var g in Z.raw.ON){var P=Z.raw.ON[g];if(P.length==4)continue;var p=P[4],v=P[5];for(var x=0;x<j.length;
x++)if(p*v*j[x]==e)return[g,j[x]]}var A=[[4e3,3e3]];for(var x=0;x<A.length;x++){var P=A[x],p=P[0],v=P[1];
for(var x=0;x<j.length;x++)if(p*v*j[x]==e)return[P,j[x]]}return null};Z.raw.ZVx=function(e){var e=new Uint8Array(e);
for(var j=0;j<e.length;j+=2){var g=e[j];e[j]=e[j+1];e[j+1]=g}var P=Z.raw.nO(e.length),p=Z.raw.ON[P[0]];
if(p==null)p=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,P[0][0],P[0][1]];var v=p[4],x=p[5],A=Math.max(p[2],116),f={data:e,yg:1,width:v,height:x,t256:[v],t257:[x],t258:[P[1]],t277:[1],t33421:[2,2],t33422:Z.raw.dV[p[1]],t50706:[1,2,0,0],t50714:[A,A,A,A],t50717:[p[3]],t50721:p[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var j=0;j<9;j++)f.t50721[j]/=1e4;return f};Z.raw.dZ=function(e){if(e==null||e.length==0||typeof e[0]=="number")return e;
var j=[];for(var g=0;g<e.length;g++)j[g]=e[g][1]==0?0:e[g][0]/e[g][1];return j};Z.raw.dV=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
Z.raw.normalize=function(e,j){if(e.t50706!=null){var g=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var P=0;P<g.length;P++)if(e["t"+g[P]]!=null)e["t"+g[P]]=Z.raw.dZ(e["t"+g[P]]);return}var p=e.t258[0],v=e.exifIFD,j=new Uint8Array(j);
e.t50706=[1,2,0,0];var x=e.t272[0].trim();if(x.indexOf(" ")==-1)x=e.t271[0].trim()+" "+x;e.t50708=[x];
var A=Z.raw.ON,f=A[x.toLowerCase()];if(f==null)for(var S in A)if(x.toLowerCase().startsWith(S))f=A[S];
if(f==null)throw x;var F=f[2];e.t50714=[F,F,F,F];e.t50717=[f[3]];e.t50721=f[0].slice(0);for(var P=0;
P<9;P++)e.t50721[P]=e.t50721[P]*(1/1e4);e.t50723=[1,0,0,0,1,0,0,0,1];if(e.t50728==null)e.t50728=[.35,1,.6];
e.t50778=[17];if(e.t271[0].startsWith("SONY")){var m=UTIF["_bin"+(e.isLE?"LE":"BE")],R=e.t28688,W;if(JSON.stringify(R)!="[8000,10400,12900,14100]")console.log(R);
if(R){var M=[0,0,0,0,0,4095],b=new Uint16Array(16385);for(var P=0;P<4;P++){var s=R[P]>>>2;M[P+1]=s;if(s>4095)throw"e"}for(var P=0;
P<16385;P++)b[P]=P;for(var P=0;P<5;P++)for(var K=M[P]+1;K<=M[P+1];K++)b[K]=b[K-1]+(1<<P);var X=j.length*8<e.width*e.height*p;
if(X)e.t50712=b}else console.log("no curve");var d=e.dngPrvt;if(d){var O=d.t29184[0],H=d.t29185[0],Y=(e.isLE?T.ok:T.o)(d.t29217,0),y=new Uint32Array(j.slice(O,O+(H&4294967292)).buffer),B=new Uint32Array(H>>>2);
Z.raw.ZVJ(y,B,H>>>2,Y);var c=new Uint8Array(O+H);c.set(new Uint8Array(B.buffer),O);var $=[];UTIF._readIFD(m,c,O,$,0,!1);
var I=$.pop(),r=I.t29458;e.t50728=[r[1]/r[0],1,r[1]/r[3]];e.t50730=[.5];var i=I.t29891;e.t50829=[i[1],i[0],i[3],i[2]]}else if(v.makerNote&&v.makerNote.t8208){var W=v.makerNote,U=W.t8208,N=U.length,C=0,D=new Uint8Array(256);
for(var P=249;P<256;P++)D[P]=P;for(var P=0;P<249;P++)D[P*P*P%249]=P;for(var P=0;P<N;P++)U[P]=D[U[P]];
if(N==6604)C=612;else throw"e";var r=[];for(var P=0;P<3;P++)r.push(T.pl(U,C+P*2));console.log(r);e.t50728=[r[1]/r[0],1,r[1]/r[2]]}else console.log("no white balance");
if(e.width*e.height*1.5==e.t279[0]){F=F>>>2;e.t50714=[F,F,F,F];e.t50717=[f[3]>>>2]}}else if(e.t271[0].startsWith("Canon")){var j=e.data,n=j.slice(0),w=e.t50752,k=[],t=0;
if(w==null||w[0]==0&&w[1]==0)k.push(e.width);else{for(var P=0;P<w[0];P++)k.push(w[1]);k.push(w[2])}var h=e.width*2;
for(var a=0;a<k.length;a++){var _=k[a],E=2*t,WW=2*_;for(var Wx=0;Wx<e.height;Wx+=2){var WU=Wx*h+E,We=e.height*E+(Wx>>1)*WW*2;
for(var P=0;P<WW;P++){j[WU+P]=n[We+P];j[WU+P+h]=n[We+P+WW]}}t+=_}var W=v.makerNote;if(W.t16385){var Wv=W.t224,WZ=0;
if(Wv){e.t50719=[Wv[5],Wv[6]];e.t50720=[Wv[7]+1-Wv[5],Wv[8]+1-Wv[6]]}var L=W.t16385,J=L.length;if(J==582)WZ=1;
else if(J==653)WZ=2;else if(J==796)WZ=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(J)!=-1)WZ=4;
else if(J==5120){WZ=5;L=new Int16Array(L.slice(0).buffer)}else if(J==1273||J==1275)WZ=6;else if([1312,1313,1316,1506].indexOf(J)!=-1)WZ=7;
else if([1560,1592,1353,1602].indexOf(J)!=-1)WZ=8;else throw"e"+J;var WJ=L[0],Wu=[null,[25,166],[34,286],[63,196],[63],[71,WJ==-4?333:264],[63,251],[63,WJ==10?504:728],[63,326]],C=Wu[WZ][0],WC=Wu[WZ][1];
if(WZ==4){if(L[0]==2)WC=231;else if(L[0]==3)WC=231;else if(L[0]==4)WC=231;else if(L[0]==5)WC=231;else if(L[0]==6)WC=231;
else if(L[0]==7)WC=231;else if(L[0]==9)WC=231;else throw"e"}e.t50728=[L[C+1]/L[C],1,L[C+1]/L[C+3]];var F=WC==null?1024:L[WC];
e.t50714=[F,F,F,F]}else{e.t50728=[.4,1,.6]}}else if(e.t271[0].startsWith("NIKON")){var W=v.makerNote,Wn=e.isLE?T.pl:T.Fm,Wq=0,Wa=0,Zg,W_=0;
if(W.t61){var WB=W.t61,Wt=[];for(var P=0;P<4;P++)Wt[P]=WB[P]/Math.pow(2,14-p);e.t50714=Wt}if(W.t3585){var Wy=W.t3585,P=0,O=22;
while(O<Wy.length&&P!=-4){var Wz=T.ok(Wy,O);O+=4;O+=14;P=T.ok(Wy,O)-4;O+=4;if(Wz==1990472198){if(Wy[O]!=0)throw"Flip"}if(Wz==1990472199){var WG=T.pl(Wy,O);
if(WG==0)e.yg=1;else if(WG==270)e.yg=8;else throw"e "+WG}O+=P}}if(W.t183){var WK=W.t183,Wd=[];for(var P=0;
P<6;P++)Wd.push(Wn(WK,16+P*2));Wq=Wd[0];Wa=Wd[1]}if(W.t3614){var WD=W.t3614;Wq=T.ok(WD,8);Wa=T.ok(WD,12)}if(Wq!=0){if(Wq<Wa){var W$=Wq;
Wq=Wa;Wa=W$}var t=e.width-Wq>>>1,Wx=e.height-Wa>>>1;e.t50829=[Wx,t,Wx+Wa,t+Wq]}if(W.t12){var WL=Z.raw.dZ(W.t12);
Zg=[1/WL[0],1,1/WL[1]]}else if(W.t151){var WY=Z.raw.ZVw(W,151),WA=WY[0],Wb=WY[1],WX=WY[2];if(WA=="0100"&&Wb>=80)throw"e";
else if(WA=="0103"&&Wb>=26){var fI=[];for(var P=0;P<4;P++)fI.push(Wn(WX,16+P*2));Zg=[fI[1]/fI[0],1,fI[3]/fI[2]]}else if(WA=="0204"&&Wb>=564||WA=="0205"&&Wb>=284){var O=WA=="0204"?6:14,fI=[];
for(var P=0;P<4;P++)fI.push(Wn(WX,O+P*2));Zg=[fI[1]/fI[0],1,fI[1]/fI[3]]}else throw"e"}else console.log("no white balance info");
if(x=="NIKON D1")Zg=[1,1,1];if(Zg)e.t50728=Zg;var Ww=W.t150?W.t150:W.t140;if(Ww){var vW=Ww[W_++],vL=Ww[W_++],WT;
if(vW==73||vL==88)W_+=2110;W_+=8;var vV=1<<p&32767,Wo=Wn(Ww,W_);W_+=2;var b=[];if(Wo>1)WT=Math.floor(vV/(Wo-1));
if(vW==68&&vL==32&&WT>0){for(P=0;P<Wo;P++){b[P*WT]=Wn(Ww,W_);W_+=2}for(P=0;P<vV;P++)b[P]=Math.floor((b[P-P%WT]*(WT-P%WT)+b[P-P%WT+WT]*(P%WT))/WT)}else if(vW!=70&&Wo<=16385){vV=Wo;
for(var P=0;P<Wo;P++)b[P]=Wn(Ww,W_+2*P);W_+=2*Wo}if(b.length!=0)e.t50712=new Uint16Array(b)}}else if(x.startsWith("FujiFilm")){}else alert("Unknown camera "+x)};
Z.raw.ZVJ=function(e,j,g,P){if(0==g)return;var p=new Uint32Array(128),v=new Uint8Array(p.buffer),x=127,A=0,f=0;
for(var x=0;x<4;x++)p[x]=P=(P*15625>>>0)*3125+1>>>0;p[3]=p[3]<<1|(p[0]^p[2])>>>31;for(var x=4;x<127;
x++)p[x]=(p[x-4]^p[x-2])<<1|(p[x-3]^p[x-1])>>>31;for(var x=0;x<127;x++)p[x]=T.o(v,x*4);for(;g>0;g--){p[x&127]=p[x+1&127]^p[x+1+64&127];
var S=p[x&127],F=e[A];F^=S;j[f]=F;A++;f++;x++}};Z.raw.ZVu=function(e,j){var g=T.ko(j,0,4),P=Z.raw.ZJZ;
for(var p=0;p<P.length;p++)if(P[p][0]==e&&g.startsWith(P[p][1])&&(P[p][2]==0||P[p][2]==j.length))return P[p];
throw"e"};Z.raw.ZVd=function(e){if(e.t29==null)return[];var j=Z.raw.Zud,g=Z.raw.Zua,P=e.t29[0],p=0,A=0;
for(var v=0;v<P.length;v++){var x=P.charCodeAt(v);p=p*10+(48<=x&&x<=57?x-48:x%10)}var f=e.t167[0];for(var v=0;
v<4;v++)A^=f>>>(v<<3)&255;var S=j[p&255],F=g[A&255];return[S,F,96]};Z.raw.ZVw=function(e,j){var g=e["t"+j],P=g.length,p=Z.raw.ZVu(j,g),v=T.ko(g,0,4),x,A=p[4];
if(A==null)x=g.slice(4);else{x=new Uint8Array(P-A);var f=Z.raw.ZVd(e),S=f[0],F=f[1],m=f[2];for(var R=0;
R<x.length;R++){F=F+S*m++&255;x[R]=g[A++]^F}}return[v,P,x]};Z.raw.ZJZ=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
Z.raw.Zud=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
Z.raw.Zua=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
Z.raw.ON={"canon eos 100d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos rebel sl1":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos kiss x7":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2048,15e3],"canon eos 200d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos rebel sl2":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos kiss x9":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2049,14338],"canon eos 300d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos digital rebel":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos kiss digital":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,126,4e3],"canon eos d30":[[9805,-2689,-1312,-5803,13064,3068,-2438,3075,8775],1,126,4095],"canon eos d60":[[6188,-1341,-890,-7168,14489,2937,-2640,3228,8483],1,127,4e3],"canon eos 10d":[[8197,-2e3,-1118,-6714,14335,2592,-2536,3178,8266],1,127,4e3],"canon eos 20d":[[6599,-537,-891,-8071,15783,2424,-1983,2234,7462],1,126,4095],"canon eos 30d":[[6257,-303,-1e3,-7880,15621,2396,-1714,1904,7046],1,127,3398],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos digital rebel xt":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos kiss digital n":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 350d digital":[[6018,-617,-965,-8645,15881,2975,-1530,1719,7642],1,255,4095],"canon eos 40d":[[6071,-747,-856,-7653,15365,2441,-2025,2553,7315],1,1021,13600],"canon eos 450d":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos digital rebel xsi":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss digital x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos kiss x2":[[5784,-262,-821,-7539,15064,2672,-1982,2681,7427],1,1020,14500],"canon eos 50d":[[4920,616,-593,-6493,13964,2784,-1774,3178,7005],3,1020,13653],"canon eos 60d":[[6719,-994,-925,-4408,12426,2211,-887,2129,6051],3,2026,14200],"canon eos 70d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2026,13653],"canon eos 80d":[[7457,-671,-937,-4849,12495,2643,-1213,2354,5492],1,512,11892],"canon eos 700d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos rebel t5i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos kiss x7i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2052,15e3],"canon eos 750d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos kiss x8i":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 800d":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos rebel t7i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos kiss x9i":[[6970,-512,-968,-4425,12161,2553,-739,1982,5601],1,2049,14338],"canon eos 760d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos rebel t6s":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 8000d":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2047,11765],"canon eos 77d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 9000d":[[7377,-742,-998,-4235,11981,2549,-673,1918,5538],1,2048,14338],"canon eos 500d":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos rebel t1i":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos kiss x3":[[4763,712,-646,-6821,14399,2640,-1921,3276,6561],1,1020,16e3],"canon eos 550d":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos rebel t2i":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos kiss x4":[[6941,-1164,-857,-3825,11597,2534,-416,1540,6039],0,2048,15831],"canon eos 600d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos rebel t3i":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos kiss x5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2026,13584],"canon eos 650d":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos rebel t4i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos kiss x6i":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos 5d":[[6347,-479,-972,-8297,15954,2480,-1968,2131,7649],1,127,3692],"canon eos 5d mark ii":[[4716,603,-830,-7798,15474,2480,-1496,1937,6651],3,1024,12995],"canon eos 5d mark iii":[[6722,-635,-963,-4287,12460,2028,-908,2162,5668],1,2060,16383],"canon eos 5d mark iv":[[6446,-366,-864,-4436,12204,2513,-952,2496,6348],1,2049,14448],"canon eos 5ds":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 5ds r":[[6250,-711,-808,-5153,12794,2636,-1249,2198,5610],1,2048,15181],"canon eos 6d":[[7034,-804,-1014,-4420,12564,2058,-851,1994,5758],1,2048,15e3],"canon eos 6d mark ii":[[6875,-970,-932,-4691,12459,2501,-874,1953,5809],1,2049,14558],"canon eos 7d":[[6844,-996,-856,-3876,11761,2396,-593,1772,6198],3,1025,8150],"canon eos 7d mark ii":[[7268,-1082,-969,-4186,11839,2663,-825,2029,5839],1,2047,13400],"canon eos 1000d":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos digital rebel xs":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos kiss digital f":[[6771,-1139,-977,-7818,15123,2928,-1244,1437,7533],1,255,3650],"canon eos 1100d":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos rebel t3":[[6444,-904,-893,-4563,12308,2535,-903,2016,6728],1,2036,15500],"canon eos 1200d":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos rebel t5":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos kiss x70":[[6461,-907,-882,-4300,12184,2378,-819,1944,5931],3,2046,12279],"canon eos 1300d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos rebel t6":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos kiss x80":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2048,15e3],"canon eos 2000d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos rebel t7":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 1500d":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],3,2048,15092],"canon eos 4000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos rebel t100":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 3000d":[[6939,-1016,-866,-4428,12473,2177,-1175,2178,6162],3,2051,15e3],"canon eos 400d":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos digital rebel xti":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos kiss digital x":[[7054,-1501,-990,-8156,15544,2812,-1278,1414,7796],1,255,3726],"canon eos m":[[6602,-841,-939,-4472,12458,2247,-975,2039,6148],1,2026,13584],"canon eos m2":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2026,13584],"canon eos m3":[[6362,-823,-847,-4426,12109,2616,-743,1857,5635],1,2048,16e3],"canon eos m5":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m6":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos m10":[[6400,-480,-888,-5294,13416,2047,-1296,2203,6137],1,2048,16e3],"canon eos m100":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon eos-1d":[[6806,-179,-1020,-8097,16415,1687,-3267,4236,7690],2,0,3588],"canon eos-1ds":[[4374,3631,-1743,-7520,15212,2472,-2892,3632,8161],2,0,3500],"canon eos d2000c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,96,4095],"canon eos-1d mark ii":[[6264,-582,-724,-8312,15948,2504,-1744,1919,8664],1,127,3700],"canon eos-1d mark ii n":[[6240,-466,-822,-8180,15825,2500,-1801,1938,8042],1,127,3700],"canon eos-1d mark iii":[[6291,-540,-976,-8350,16145,2311,-1714,1858,7326],1,1023,15100],"canon eos-1d mark iv":[[6014,-220,-795,-4109,12014,2361,-561,1824,5787],3,2e3,13e3],"canon eos-1ds mark ii":[[6517,-602,-867,-8180,15926,2378,-1618,1771,7633],3,126,4060],"canon eos-1ds mark iii":[[5859,-211,-930,-8255,16017,2353,-1732,1887,7448],1,1021,15100],"canon eos-1d x":[[6847,-614,-1014,-4669,12737,2139,-1197,2488,6846],1,2050,15100],"canon eos-1d x mark ii":[[7596,-978,-967,-4808,12571,2503,-1398,2567,5752],1,2048,14888],"canon powershot pro1":[[10062,-3522,-999,-7643,15117,2730,-765,817,7323],1,129,4095],"canon powershot g1":[[-4778,9467,2172,4743,-1141,4344,-5146,9908,6077,-1566,11051,557],0,31,1023],"canon powershot g2":[[9087,-2693,-1049,-6715,14382,2537,-2291,2819,7790],1,0,1023],"canon powershot g3":[[9212,-2781,-1073,-6573,14189,2605,-2300,2844,7664],1,0,4095],"canon powershot g3 x":[[9701,-3857,-921,-3149,11537,1817,-786,1817,5147],1,2047,16e3],"canon powershot g5":[[9757,-2872,-933,-5972,13861,2301,-1622,2328,7212],1,0,4095],"canon powershot g5 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g6":[[9877,-3775,-871,-7613,14807,3072,-1448,1305,7485],1,128,4095],"canon powershot g7 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,511,4e3],"canon powershot g7 x mark ii":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g1 x":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16383],"canon powershot g1 x mark ii":[[7378,-1255,-1043,-4088,12251,2048,-876,1946,5805],1,0,16e3],"canon powershot g1 x mark iii":[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,2048,16e3],"canon powershot g12":[[13244,-5501,-1248,-1508,9858,1935,-270,1083,4366],1,120,4095],"canon powershot g11":[[12177,-4817,-1069,-1612,9864,2049,-98,850,4471],1,120,4095],"canon powershot g10":[[11093,-3906,-1028,-5047,12492,2879,-1003,1750,5561],3,128,4095],"canon powershot g9":[[7368,-2141,-598,-5621,13254,2625,-1418,1696,5743],1,125,4095],"canon powershot g9 x":[[9602,-3823,-937,-2984,11495,1675,-407,1415,5049],1,2047,16e3],"canon powershot g9 x mark ii":[[10056,-4131,-944,-2576,11143,1625,-238,1294,5179],1,2048,16e3],"canon powershot g15":[[7474,-2301,-567,-4056,11456,2975,-222,716,4181],3,500,2800],"canon powershot g16":[[8020,-2687,-682,-3704,11879,2052,-965,1921,5556],1,0,4095],"canon powershot sx1 is":[[6578,-259,-502,-5974,13030,3309,-308,1058,4970],1,125,4095],"canon powershot s30":[[10566,-3652,-1129,-6552,14662,2006,-2197,2581,7670],1,31,1023],"canon powershot s40":[[8510,-2487,-940,-6869,14231,2900,-2318,2829,9013],1,0,1023],"canon powershot s45":[[8163,-2333,-955,-6682,14174,2751,-2077,2597,8041],1,129,4095],"canon powershot s50":[[8882,-2571,-863,-6348,14234,2288,-1516,2172,6569],1,129,4095],"canon powershot s60":[[8795,-2482,-797,-7804,15403,2573,-1422,1996,7082],1,129,4095],"canon powershot s70":[[9976,-3810,-832,-7115,14463,2906,-901,989,7889],1,129,4095],"canon powershot s90":[[12374,-5016,-1049,-1677,9902,2078,-83,852,4683],1,125,4095],"canon powershot s95":[[13440,-5896,-1279,-1236,9598,1931,-180,1001,4651],1,125,4095],"canon powershot s100":[[7968,-2565,-636,-2873,10697,2513,180,667,4211],3,125,4095],"canon powershot s110":[[8039,-2643,-654,-3783,11230,2930,-206,690,4194],3,500,3072],"canon powershot s120":[[6961,-1685,-695,-4625,12945,1836,-1114,2152,5518],1,0,4e3],"canon powershot sx50 hs":[[12432,-4753,-1247,-2110,10691,1629,-412,1623,4926],1,127,4095],"canon powershot sx60 hs":[[13161,-5451,-1344,-1989,10654,1531,-47,1271,4955],1,128,4e3],"nikon d100":[[5902,-933,-782,-8983,16719,2354,-1402,1455,6464],2,0,4095],"nikon d1":[[16772,-4726,-2141,-7611,15713,1972,-2846,3494,9521],0,0,4095],"nikon d1h":[[7577,-2166,-926,-7454,15592,1934,-2377,2808,8606],0,0,4095],"nikon d1x":[[7702,-2245,-975,-9114,17242,1875,-2679,3055,8521],0,0,4095],"nikon d200":[[8367,-2248,-763,-8758,16447,2422,-1527,1550,8053],2,0,3880],"nikon d2h":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2hs":[[5710,-901,-615,-8594,16617,2024,-2975,4120,6830],3,0,3880],"nikon d2x":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d2xs":[[10231,-2769,-1255,-8301,15900,2552,-797,680,7148],1,0,3880],"nikon d3":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,15892],"nikon d3s":[[8828,-2406,-694,-4874,12603,2541,-660,1509,7587],1,0,15520],"nikon d3x":[[7171,-1986,-648,-8085,15555,2718,-2170,2512,7457],1,0,15892],"nikon d300":[[9030,-1992,-715,-8465,16302,2255,-2689,3217,8069],1,0,15236],"nikon d300s":[[9030,-1992,-716,-8465,16302,2256,-2689,3217,8069],1,0,15236],"nikon d3000":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d3200":[[7013,-1408,-635,-5268,12902,2640,-1470,2801,7379],1,0,3880],"nikon d3300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3400":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3880],"nikon d3500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d4":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5":[[9200,-3522,-992,-5755,13803,2117,-753,1486,6338],1,400,15520],"nikon z 6":[[8210,-2534,-683,-5355,13338,2212,-1143,1929,6464],1,1008,15520],"nikon z 7":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,1008,15520],"nikon df":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,0,15520],"nikon d5100":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d3100":[[7911,-2167,-813,-5327,13150,2408,-1288,2483,7968],3,0,3880],"nikon d40":[[6992,-1668,-806,-8138,15748,2543,-874,850,7897],0,0,3880],"nikon d40x":[[8819,-2543,-911,-9025,16928,2151,-1329,1213,8449],3,0,3880],"nikon d50":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,400,15520],"nikon d5000":[[7309,-1403,-519,-8474,16008,2622,-2433,2826,8064],3,0,3767],"nikon d5200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d5300":[[6988,-1384,-714,-5631,13410,2447,-1485,2204,7318],1,150,3972],"nikon d5500":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d5600":[[8821,-2938,-785,-4178,12142,2287,-824,1651,6860],1,150,3972],"nikon d60":[[8736,-2458,-935,-9075,16894,2251,-1354,1242,8263],3,0,3880],"nikon d600":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d610":[[8178,-2245,-609,-4857,12394,2776,-1207,2086,7298],1,0,15520],"nikon d70":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d700":[[8139,-2171,-663,-8747,16541,2295,-1925,2008,8093],1,0,3972],"nikon d750":[[9020,-2890,-715,-4535,12436,2348,-934,1919,7086],1,150,3880],"nikon d7000":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon d7100":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,0,15892],"nikon d7200":[[8322,-3112,-1047,-6367,14342,2179,-988,1638,6394],1,600,15892],"nikon d7500":[[8813,-3210,-1036,-4703,12868,2021,-1054,1940,6129],1,100,3880],"nikon d70s":[[7732,-2422,-789,-8238,15884,2498,-859,783,7330],0,0,4095],"nikon d80":[[8629,-2410,-883,-9055,16940,2171,-1490,1363,8520],3,0,3880],"nikon d800":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d800e":[[7866,-2108,-555,-4869,12483,2681,-1176,2069,7501],1,0,15520],"nikon d810":[[9369,-3195,-791,-4488,12430,2301,-893,1796,6872],1,150,3880],"nikon d850":[[10405,-3755,-1270,-5461,13787,1793,-1040,2015,6785],1,100,3880],"nikon d4s":[[8598,-2848,-857,-5618,13606,2195,-1002,1773,7137],1,192,3880],"nikon d90":[[7309,-1403,-519,-8474,16008,2622,-2434,2826,8064],3,0,3767],"nikon 1 j1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 j2":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,4095],"nikon 1 j3":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 j4":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 j5":[[7520,-2518,-645,-3844,12102,1945,-913,2249,6835],1,200,3800],"nikon 1 s1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 s2":[[6612,-1342,-618,-3338,11055,2623,-174,1792,5075],1,200,4095],"nikon 1 v1":[[8994,-2667,-865,-4594,12324,2552,-699,1786,6260],1,0,3300],"nikon 1 v2":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon 1 v3":[[5958,-1559,-571,-4021,11453,2939,-634,1548,5087],1,200,4e3],"nikon 1 aw1":[[6588,-1305,-693,-3277,10987,2634,-355,2016,5106],1,0,4095],"nikon e5400":[[9349,-2987,-1001,-7919,15766,2266,-2098,2680,6839],0,0,4095],"nikon e5700":[[-5368,11478,2368,5537,-113,3148,-4969,10021,5782,778,9028,211],0,0,4095],"nikon coolpix p330":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p340":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,200,3800],"nikon coolpix a":[[8198,-2239,-724,-4871,12389,2798,-1043,2050,7181],1,0,15892],"nikon coolpix b700":[[14387,-6014,-1299,-1357,9975,1616,467,1047,4744],1,200,4e3],"nikon coolpix p6000":[[9698,-3367,-914,-4706,12584,2368,-837,968,5801],1,0,4095],"nikon coolpix p7000":[[11432,-3679,-1111,-3169,11239,2202,-791,1380,4455],1,0,4095],"nikon coolpix p7100":[[11053,-4269,-1024,-1976,10182,2088,-526,1263,4469],1,0,3800],"nikon coolpix p7700":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p7800":[[10321,-3920,-931,-2750,11146,1824,-442,1545,5539],1,3200,65e3],"nikon coolpix p1000":[[14294,-6116,-1333,-1628,10219,1637,-14,1158,5022],1,200,4095],"panasonic dmc-cm1":[[8770,-3194,-820,-2871,11281,1803,-513,1552,4434],1,142,4095],"panasonic dmc-fx150":[[9082,-2907,-925,-6119,13377,3058,-1797,2641,5609],0,15,3986],"panasonic dmc-fz28":[[10109,-3488,-993,-5412,12812,2916,-1305,2140,5543],0,15,3986],"panasonic dmc-fz150":[[11904,-4541,-1189,-2355,10899,1662,-296,1586,4289],3,145,3956],"panasonic dmc-fz200":[[8112,-2563,-740,-3730,11784,2197,-941,2075,4933],3,150,3956],"panasonic dmc-fz2000":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz2500":[[7386,-2443,-743,-3437,11864,1757,-608,1660,4766],3,142,2095],"panasonic dmc-fz300":[[8378,-2798,-769,-3068,11410,1877,-538,1792,4623],3,143,4095],"panasonic dmc-g1":[[8199,-2065,-1056,-8124,16156,2033,-2458,3022,7220],3,15,3986],"panasonic dmc-g2":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-g10":[[10113,-3400,-1114,-4765,12683,2317,-377,1437,6710],3,0,3900],"panasonic dmc-gh1":[[6299,-1466,-532,-6535,13852,2969,-2331,3112,5984],3,0,3986],"panasonic dmc-gh3":[[6559,-1752,-491,-3672,11407,2586,-962,1875,5130],3,155,3956],"panasonic dmc-gh4":[[7122,-2108,-512,-3155,11201,2231,-541,1423,5045],0,142,4095],"panasonic dmc-gf1":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,15,3986],"panasonic dmc-gf2":[[7888,-1902,-1011,-8106,16085,2099,-2353,2866,7330],3,150,3956],"panasonic dmc-gm1":[[6770,-1895,-744,-5232,13145,2303,-1664,2691,5703],0,143,3971],"panasonic dmc-gm5":[[8238,-3244,-679,-3921,11814,2384,-836,2022,5852],0,143,4095],"panasonic dmc-g3":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,143,3956],"panasonic dmc-g5":[[7798,-2562,-740,-3879,11584,2613,-1055,2248,5434],0,150,3956],"panasonic dmc-g6":[[8294,-2891,-651,-3869,11590,2595,-1183,2267,5352],0,142,3956],"panasonic dmc-g7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g70":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g8":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g80":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g81":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-g85":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gf3":[[9051,-2468,-1204,-5212,13276,2121,-1197,2510,6890],3,150,3956],"panasonic dmc-gf5":[[8228,-2945,-660,-3938,11792,2430,-1094,2278,5793],3,150,3956],"panasonic dmc-gf6":[[8130,-2801,-946,-3520,11289,2552,-1314,2511,5791],2,150,3956],"panasonic dmc-gf7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dmc-gh2":[[7780,-2410,-806,-3913,11724,2484,-1018,2390,5298],3,15,3800],"panasonic dmc-fz35":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz38":[[9938,-2780,-890,-4604,12393,2480,-1117,2304,4620],0,150,3986],"panasonic dmc-fz45":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz40":[[13639,-5535,-1371,-1698,9633,2430,316,1152,4108],3,150,3986],"panasonic dmc-fz70":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz72":[[11532,-4324,-1066,-2375,10847,1749,-564,1699,4351],1,120,3971],"panasonic dmc-fz100":[[16197,-6146,-1761,-2393,10765,1869,366,2238,5248],3,120,3986],"panasonic dmc-fz1000":[[7830,-2696,-763,-3325,11667,1866,-641,1712,4824],3,143,4095],"panasonic dmc-gx1":[[6763,-1919,-863,-3868,11515,2684,-1216,2387,5879],2,150,3956],"panasonic dmc-gx7":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,150,3956],"panasonic dmc-gx8":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],3,143,4095],"panasonic dmc-gx85":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx80":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-gx7mk2":[[7771,-3020,-629,-4029,11950,2345,-821,1977,6119],0,143,4095],"panasonic dmc-lf1":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,143,3971],"panasonic dmc-lx3":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx15":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx9":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"panasonic dmc-lx10":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,143,4095],"leica c (typ 112)":[[9379,-3267,-816,-3227,11560,1881,-926,1928,5340],1,146,3956],"leica digilux 2":[[11340,-4069,-1275,-7555,15266,2448,-2960,3426,7685],1,0,4095],"leica d-lux 3":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica v-lux 1":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-l10":[[8025,-1942,-1050,-7920,15904,2100,-2456,3005,7039],3,0,3986],"panasonic dmc-fz30":[[10976,-4029,-1141,-7918,15491,2600,-1670,2071,8246],1,0,3971],"panasonic dmc-fz50":[[7906,-2709,-594,-6231,13351,3220,-1922,2631,6537],0,0,3986],"panasonic dmc-fz8":[[8986,-2755,-802,-6341,13575,3077,-1476,2144,6379],1,0,3986],"panasonic dmc-fz18":[[9932,-3060,-935,-5809,13331,2753,-1267,2155,5575],0,0,3986],"panasonic dmc-l1":[[8054,-1885,-1025,-8349,16367,2040,-2805,3542,7629],3,0,3986],"panasonic dmc-lx2":[[8048,-2810,-623,-6450,13519,3272,-1700,2146,7049],0,0,3986],"leica d-lux 4":[[8128,-2668,-655,-6134,13307,3161,-1782,2568,6083],0,15,3971],"panasonic dmc-lx5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"leica d-lux 5":[[10909,-4295,-948,-1333,9306,2399,22,1738,4582],2,150,3986],"panasonic dmc-lx7":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux 6":[[10148,-3743,-991,-2837,11366,1659,-701,1893,4899],2,150,3971],"leica d-lux (typ 109)":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dmc-lx1":[[10704,-4187,-1230,-8314,15952,2501,-920,945,8927],1,0,3971],"panasonic dmc-lx100":[[8844,-3538,-768,-3709,11762,2200,-698,1792,5220],0,143,4095],"panasonic dc-lx100m2":[[8585,-3127,-833,-4005,12250,1953,-650,1494,4862],0,143,4095],"panasonic dmc-tz60":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz61":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-zs40":[[8607,-2822,-808,-3755,11930,2049,-820,2060,5224],1,145,3971],"panasonic dmc-tz71":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-zs50":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz70":[[8802,-3135,-789,-3151,11468,1904,-550,1745,4810],1,143,3971],"panasonic dmc-tz81":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-zs60":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,142,4095],"panasonic dmc-tz100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs100":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-zs110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz101":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tz110":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dmc-tx1":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-fz82":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz80":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dmc-fz85":[[8550,-2908,-842,-3195,11529,1881,-338,1603,4631],3,143,4095],"panasonic dc-gh5":[[7641,-2336,-605,-3218,11299,2187,-485,1338,5121],1,143,4095],"panasonic dc-gh5s":[[6929,-2355,-708,-4192,12534,1828,-1097,1989,5195],1,510,8e3],"panasonic dc-g9":[[7685,-2375,-634,-3687,11700,2249,-748,1546,5111],1,148,4095],"panasonic dc-gf9":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx800":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx850":[[7610,-2780,-576,-4614,12195,2733,-1375,2393,6490],0,143,4095],"panasonic dc-gx9":[[7564,-2263,-606,-3148,11239,2177,-540,1435,4853],0,143,4095],"panasonic dc-tz90":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-zs70":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz91":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz92":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-fz93":[[9052,-3117,-883,-3045,11346,1927,-205,1520,4730],3,139,4095],"panasonic dc-tz202":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"panasonic dc-tz200":[[7790,-2736,-755,-3452,11870,1769,-628,1647,4898],3,142,4095],"pentax k100d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,3950],"pentax k110d":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax k100d super":[[11095,-3157,-1324,-8377,15834,2720,-1108,947,11688],1,127,4095],"pentax *ist d":[[9651,-2059,-1189,-8881,16512,2487,-1460,1345,10687],1,128,4095],"pentax *ist dl":[[10829,-2838,-1115,-8339,15817,2696,-837,680,11939],1,128,4095],"pentax *ist dl2":[[10504,-2438,-1189,-8603,16207,2531,-1022,863,12242],1,127,3950],"pentax *ist ds":[[10371,-2333,-1206,-8688,16231,2602,-1230,1116,11282],1,128,3950],"pentax k10d":[[9566,-2863,-803,-7170,15172,2112,-818,803,9705],1,0,4095],"pentax k20d":[[9427,-2714,-868,-7493,16092,1373,-2199,3264,7180],0,0,4095],"pentax k200d":[[9186,-2678,-907,-8693,16517,2260,-1129,1094,8524],1,0,4095],"pentax k-s1":[[8512,-3211,-787,-4167,11966,2487,-638,1288,6054],1,32,4062],"pentax k-s2":[[8662,-3280,-798,-3928,11771,2444,-586,1232,6054],1,0,3839],"pentax k-70":[[8113,-2078,-1275,-4359,12953,1514,-1091,1955,6044],1,64,16319],"pentax k-1":[[8827,-2829,-1238,-3611,12203,1549,-897,1687,6291],1,64,16316],"pentax k-1 mark ii":[[8952,-2869,-1256,-3612,12204,1550,-934,1757,6549],1,64,16316],"pentax k-3":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15868],"pentax k-3 ii":[[7415,-2052,-721,-5186,12788,2682,-1446,2157,6773],1,1,15865],"pentax k-5":[[8713,-2833,-743,-4342,11900,2772,-722,1543,6247],0,512,16383],"pentax k-5 ii":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,16383],"pentax k-5 ii s":[[8170,-2725,-639,-4440,12017,2744,-771,1465,6599],0,512,15863],"pentax k-7":[[9142,-2947,-678,-8648,16967,1663,-2224,2898,8615],0,0,4095],"pentax k-m":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax k-x":[[8843,-2837,-625,-5025,12644,2668,-411,1234,7410],0,41,4095],"pentax k-r":[[9895,-3077,-850,-5304,13035,2521,-883,1768,6936],0,64,4e3],"pentax kp":[[8617,-3228,-1034,-4674,12821,2044,-803,1577,5728],1,128,16254],"pentax k2000":[[11057,-3604,-1155,-5152,13046,2329,-282,375,8104],1,0,4095],"pentax 645d":[[9814,-2716,-1439,-5049,13907,1166,-1830,3836,5706],0,0,15767],"pentax 645z":[[9551,-3012,-1235,-3685,12133,1721,-1019,1887,6544],1,1,16316],"samsung ex2f":[[10648,-3897,-1055,-2022,10573,1668,-492,1611,4742],1,0,4095],"samsung ex1":[[8898,-2498,-994,-3144,11328,2066,-760,1381,4576],1,0,16383],"samsung nx1":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung nx5":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx10":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx11":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx100":[[10332,-3234,-1168,-6111,14639,1520,-1352,2647,8331],0,0,4095],"samsung nx1000":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx1100":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx20":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx200":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx210":[[6933,-2268,-753,-4921,13387,1647,-803,1641,6096],2,0,4095],"samsung nx2000":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx30":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx300m":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],2,0,4095],"samsung nx3000":[[8060,-2933,-761,-4504,12890,1762,-630,1489,5227],2,0,4095],"samsung nx500":[[10686,-4042,-1052,-3595,13238,276,-464,1259,5931],2,1024,16100],"samsung ek-gn120":[[7557,-2522,-739,-4679,12949,1894,-840,1777,5311],3,0,4095],"samsung wb2000":[[12093,-3557,-1155,-1e3,9534,1733,-22,1787,4576],1,0,4095],"sony dsc-rx0":[[9396,-3507,-843,-2497,11111,1572,-343,1355,5089],1,800,16620],"sony dsc-rx10":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m2":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m3":[[6679,-1825,-745,-5047,13256,1953,-1580,2422,5183],1,800,16300],"sony dsc-rx10m4":[[7699,-2566,-629,-2967,11270,1928,-378,1286,4807],1,800,16380],"sony dsc-rx100":[[8651,-2754,-1057,-3464,12207,1373,-568,1398,4434],1,800,16620],"sony dsc-rx100m2":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m3":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m4":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5":[[6596,-2079,-562,-4782,13016,1933,-970,1581,5181],1,800,16300],"sony dsc-rx100m5a":[[11176,-4700,-965,-4004,12184,2032,-763,1726,5876],1,800,16300],"sony dsc-rx100m6":[[7325,-2321,-596,-3494,11674,2055,-668,1562,5031],1,800,16300],"sony dsc-rx1r":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,512,33192],"sony dsc-rx1rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony dslr-a100":[[9437,-2811,-774,-8405,16215,2290,-710,596,7181],2,0,4095],"sony dslr-a200":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a230":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a290":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a300":[[9847,-3091,-928,-8485,16345,2225,-715,595,7103],1,0,4095],"sony dslr-a330":[[9847,-3091,-929,-8485,16346,2225,-714,595,7103],1,0,4095],"sony dslr-a350":[[6038,-1484,-578,-9146,16746,2513,-875,746,7217],1,0,4095],"sony dslr-a380":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a390":[[6038,-1484,-579,-9145,16746,2512,-875,746,7218],1,0,4095],"sony dslr-a450":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],1,500,16e3],"sony dslr-a500":[[6046,-1127,-278,-5574,13076,2786,-691,1419,7625],0,500,16600],"sony dslr-a550":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,512,16372],"sony dslr-a560":[[4950,-580,-103,-5228,12542,3029,-709,1435,7371],0,476,16596],"sony dslr-a580":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],0,520,16596],"sony dslr-a700":[[5775,-805,-359,-8574,16295,2391,-1943,2341,7249],0,520,16383],"sony dslr-a850":[[5413,-1162,-365,-5665,13098,2866,-608,1179,8440],0,500,15e3],"sony dslr-a900":[[5209,-1072,-397,-8845,16120,2919,-1618,1803,8654],1,520,16383],"sony nex-3":[[6907,-1256,-645,-4940,12621,2320,-1710,2581,6230],1,520,16360],"sony nex-3n":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5":[[6807,-1350,-342,-4216,11649,2567,-1089,2001,6420],1,520,16383],"sony nex-5n":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-5r":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-5t":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,512,16300],"sony nex-6":[[6129,-1545,-418,-4930,12490,2743,-977,1693,6615],1,520,16596],"sony nex-7":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,512,16300],"sony nex-c3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony nex-f3":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16360],"sony ilce-3000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-3500":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-5100":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6000":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16300],"sony ilce-6300":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-6500":[[5973,-1695,-419,-3826,11797,2293,-639,1398,5789],1,512,16300],"sony ilce-7":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m2":[[5271,-712,-347,-6153,13653,2763,-1601,2366,7242],1,512,16300],"sony ilce-7m3":[[7374,-2389,-551,-5435,13162,2519,-1006,1795,6552],1,512,16300],"sony ilce-7r":[[4913,-541,-202,-6130,13513,2906,-1564,2151,7183],1,512,16300],"sony ilce-7rm2":[[6629,-1900,-483,-4618,12349,2550,-622,1381,6514],1,512,16300],"sony ilce-7rm3":[[6640,-1847,-503,-5238,13010,2474,-993,1673,6527],1,512,16383],"sony ilce-7s":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-7sm2":[[5838,-1430,-246,-3497,11477,2297,-748,1885,5778],1,512,16300],"sony ilce-9":[[6389,-1703,-378,-4562,12265,2587,-670,1489,6550],1,512,16383],"sony dsc-rx1":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16628],"sony slt-a33":[[6069,-1221,-366,-5221,12779,2734,-1024,2066,6834],1,520,16596],"sony slt-a35":[[5986,-1618,-415,-4557,11820,3120,-681,1404,6971],1,545,16596],"sony slt-a37":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16500],"sony slt-a55":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a55v":[[5932,-1492,-411,-4813,12285,2856,-741,1524,6739],1,520,16596],"sony slt-a57":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,512,16596],"sony slt-a58":[[5991,-1456,-455,-4764,12135,2980,-707,1425,6701],1,520,16596],"sony slt-a65":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a65v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony slt-a77v":[[5491,-1192,-363,-4951,12342,2948,-911,1722,7192],1,520,16596],"sony ilca-77m2":[[5991,-1732,-443,-4100,11989,2381,-704,1467,5992],1,512,16300],"sony ilca-68":[[6435,-1903,-536,-4722,12449,2550,-663,1363,6517],1,512,16300],"sony ilca-99m2":[[6660,-1918,-471,-4613,12398,2485,-649,1433,6447],1,512,16300],"sony slt-a99":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sony slt-a99v":[[6344,-1612,-462,-4863,12477,2681,-865,1786,6899],1,520,16596],"sinar hy6":[[16442,-2956,-2422,-2877,12128,750,-1136,6066,4559],1,0,0],"fujifilm finepix s6000fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s100fs":[[11521,-4355,-1065,-6524,13767,3058,-1466,1984,6045],3,512,16383],"fujifilm finepix s200exr":[[11401,-4498,-1312,-5088,12751,2613,-838,1568,5941],1,519,16250],"fujifilm finepix f600exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f700":[[10004,-3219,-1201,-7036,15047,2107,-1863,2565,7736],3,0,16383],"fujifilm finepix f770exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix f900exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix e550":[[11044,-3888,-1120,-7248,15168,2208,-1531,2277,8069],3,0,15875],"fujifilm is-1":[[21461,-10807,-1441,-2332,10599,1999,289,875,7703],3,0,15872],"fujifilm finepix s3pro":[[11807,-4612,-1294,-8927,16968,1988,-2120,2741,8006],3,0,15872],"fujifilm finepix s5pro":[[12300,-5110,-1304,-9117,17143,1998,-1947,2448,8100],3,0,15872],"fujifilm finepix s5600":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix e900":[[9183,-2526,-1078,-7461,15071,2574,-2022,2440,8639],3,0,15872],"fujifilm finepix s2pro":[[12492,-4690,-1402,-7033,15423,1647,-1507,2111,7697],3,128,4095],"fujifilm finepix s5000":[[8754,-2732,-1019,-7204,15069,2276,-1702,2334,6982],3,0,15872],"fujifilm finepix s5200":[[9636,-2804,-988,-7442,15040,2589,-1803,2311,8621],3,0,15872],"fujifilm finepix s5500":[[11940,-4431,-1255,-6766,14428,2542,-993,1165,7421],1,0,15872],"fujifilm finepix s6500fd":[[12628,-4887,-1401,-6861,14996,1962,-2198,2782,7091],3,0,15872],"fujifilm finepix s9500":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9000":[[10491,-3423,-1145,-7385,15027,2538,-1809,2275,8692],3,0,15872],"fujifilm finepix s9600":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix s9600fd":[[12343,-4515,-1285,-7165,14899,2435,-1895,2496,8800],3,0,15872],"fujifilm finepix hs10 hs11":[[12440,-3954,-1183,-1123,9674,1708,-83,1614,4086],0,50,3900],"fujifilm finepix hs20exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,256,3900],"fujifilm finepix hs30exr":[[13690,-5358,-1474,-3369,11600,1998,-132,1554,4395],1,258,3900],"fujifilm finepix hs50exr":[[12085,-4727,-953,-3257,11489,2002,-511,2046,4592],0,256,3900],"fujifilm finepix x100":[[12161,-4457,-1069,-5034,12874,2400,-795,1724,6904],0,254,4e3],"fujifilm finepix x10":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,256,4e3],"fujifilm x-s1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,260,4e3],"fujifilm gfx 50s":[[11756,-4754,-874,-3056,11045,2305,-381,1457,6006],1,65,16383],"fujifilm x-pro1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-pro2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x70":[[10450,-4329,-878,-3217,11105,2421,-752,1758,6519],1,1024,16383],"fujifilm xf1":[[13509,-6199,-1254,-4430,12733,1865,-331,1441,5022],0,257,4e3],"fujifilm x-e1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,255,4094],"fujifilm x20":[[11768,-4971,-1133,-4904,12927,2183,-480,1723,4605],3,257,4094],"fujifilm x30":[[12328,-5256,-1144,-4469,12927,1675,-87,1291,4351],3,257,4094],"fujifilm x100f":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x100s":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x100t":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-h1":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-m1":[[10413,-3996,-993,-3721,11640,2361,-733,1540,6011],2,256,4094],"fujifilm x-a1":[[11086,-4555,-839,-3512,11310,2517,-815,1341,5940],1,256,4094],"fujifilm x-a2":[[10763,-4560,-917,-3346,11311,2322,-475,1135,5843],1,256,4094],"fujifilm x-a3":[[12407,-5222,-1086,-2971,11116,2120,-294,1029,5284],1,1024,16383],"fujifilm x-a5":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"fujifilm xq1":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm xq2":[[9252,-2704,-1064,-5893,14265,1717,-1101,2341,4349],3,257,4094],"fujifilm x-e2":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-e3":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1023,16383],"fujifilm x-e2s":[[11562,-5118,-961,-3022,11007,2311,-525,1569,6097],1,1024,16383],"fujifilm x-t1":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t2":[[11434,-4948,-1210,-3746,12042,1903,-666,1479,5235],1,1024,16383],"fujifilm x-t3":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t10":[[8458,-2451,-855,-4597,12447,2407,-1475,2482,6526],1,1024,16383],"fujifilm x-t20":[[10592,-4262,-1008,-3514,11355,2465,-870,2025,6386],1,1024,16383],"fujifilm x-t30":[[16393,-7740,-1436,-4238,12131,2371,-633,1424,6553],2,1022,16383],"fujifilm x-t100":[[11673,-4760,-1041,-3988,12058,2166,-771,1417,5569],1,1024,16383],"minolta dimage a1":[[9274,-2547,-1167,-8220,16323,1943,-2273,2720,8340],1,0,3965],"minolta dimage 5":[[8983,-2942,-963,-6556,14476,2237,-2426,2887,8014],1,0,3965],"minolta dimage 7":[[9144,-2777,-998,-6676,14556,2281,-2470,3019,7744],1,0,3965],"minolta dimage 7i":[[10880,-3638,-1186,-6496,14313,2364,-2456,3092,7485],1,0,3965],"minolta dimage 7hi":[[11368,-3894,-1242,-6521,14358,2339,-2475,3056,7285],1,0,3965],"sony dsc-f828":[[7924,-1910,-777,-8226,15459,2998,-1517,2199,6818,-7242,11401,3481],0,495,16383],"sony dsc-hx99":[[13076,-5686,-1481,-4027,12851,1251,-167,725,4937],1,800,16300],"sony dsc-r1":[[8512,-2641,-694,-8042,15670,2526,-1821,2117,7414],2,511,16383],"mamiya zd":[[7645,2579,-1363,-8689,16717,2015,-3712,5941,5961],1,0,4e3],"leaf aptus 22":[[8236,1746,-1314,-8251,15953,2428,-3673,5786,5771],1,0,16191],"leaf credo 40":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 60":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf credo 80":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"leaf aptus-ii 5":[[1846,7955,-1222,-12994,19563,3596,-2035,3340,5136],2,0,15e3],"phase one p30":[[4516,-245,-37,-7020,14976,2173,-3206,4671,7087],2,0,16383],"phase one p65+":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,16383],"phase one iq140":[[8035,435,-962,-6001,13872,2320,-1159,3065,5434],1,0,65535],"phase one iq250":[[3984,0,0,0,1e4,0,0,0,7666],1,1024,65535],"kodak dcs pro slr/n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,4095],"kodak dcs pro 14n":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs pro 14nx":[[5494,2393,-232,-6427,13850,2846,-1876,3997,5445],2,0,3700],"kodak dcs460":[[10592,-2206,-967,-1944,11685,230,2206,670,1273],2,7,6664],"kodak dcs520c":[[24542,-10860,-3401,-1490,11370,-297,2858,-605,3225],2,176,4095],"kodak dcs560c":[[20482,-7172,-3125,-1033,10410,-285,2542,226,3136],2,208,4095],"kodak dcs760c":[[16623,-6309,-1411,-4344,13923,323,2285,274,2926],2,0,3500],"kodak p880":[[12805,-4662,-1376,-7480,15267,2360,-1626,2194,7904],0,0,4095],"kodak easyshare z980 digital camera":[[11313,-3559,-1101,-3893,11891,2257,-1214,2398,4908],1,0,4095],"kodak z1015 is":[[11265,-4286,-992,-4694,12343,2647,-1090,1523,5447],0,0,4095],"epson r-d1":[[6827,-1878,-732,-8429,16012,2564,-704,592,7145],1,63,4095],"hasselblad cfv-50":[[5656,-659,-346,-3923,12306,1791,-1602,3509,5442],1,256,65535],"hasselblad h3d":[[3857,452,-46,-6008,14477,1596,-2627,4481,5718],1,0,31456],"hasselblad h5d-40":[[6159,-1402,-177,-5439,12762,3007,-955,2200,7104],1,256,62914],"hasselblad h5d-50c":[[4932,-835,141,-4878,11868,3437,-1138,1961,7067],1,256,62914],"canon powershot a610":[[15591,-6402,-1592,-5365,13198,2168,-1300,1824,5075],1,0,1023,2672,1968],"canon powershot s3 is":[[14062,-5199,-1446,-4712,12470,2243,-1286,2028,4836],1,0,1023,2888,2136],"canon powershot a620":[[15265,-6193,-1558,-4125,12116,2010,-888,1639,5220],1,0,1023,3152,2340],"canon powershot a720 is":[[14573,-5482,-1546,-1266,9799,1468,-1040,1912,3810],3,0,1023,3336,2480],"canon powershot a630":[[14201,-5308,-1757,-6087,14472,1617,-2191,3105,5348],1,0,1023,3344,2484],"canon powershot a640":[[13124,-5329,-1390,-3602,11658,1944,-1612,2863,4885],1,0,1023,3736,2772],"canon powershot a650":[[9427,-3036,-959,-2581,10671,1911,-1039,1982,4430],1,0,1023,4104,3048],"canon powershot sx110 is":[[14134,-5576,-1527,-1991,10719,1273,-1158,1929,3581],1,0,4095,3720,2772],"gitup git2":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,3200,65535,4608,3456],"gitup git2p":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,4160,65535,4624,3488],"paralenz dive camera":[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],1,1024,16383,3840,2160],"sjcam sj6 legend":[[9489,-3814,-225,-6650,13742,3236,-627,797,7550],1,0,4095,4024,3036]};
Z.iu={};Z.iu.iu=function(e,j,g,P,p){if(P==null)P=3;if(p==null)p==!0;var v=e.W,x=e.j,A=1/v,f=v*x,S=Date.now(),F=!1,m=Z.iu.dB(g,v,x,255,128),R=Z.iu.dB(g,v,x,0,128),ZJ=0;
if(F)console.log("extract contours",Date.now()-S);S=Date.now();var M=function(vL,vV){var Wo=vL<<2,WT=vV<<2;
return j[Wo]+j[Wo+1]+j[Wo+2]-(j[WT]+j[WT+1]+j[WT+2])};m.sort(M);R.sort(M);var b=Z.V(f),s=Z.V(f),K=[],X=new Uint32Array(v*x);
X.fill(4294967295);for(var d=0;d<f;d++)if(g[d]==0)s[d]=255;else if(g[d]==255)b[d]=255;else{X[d]=K.length;
K.push(d)}var W=m.length,O=R.length,H=K.length;function Y(vL,vV,Wo,WT){var WH=vL.length,WS=new Array(WH*2);
for(var d=0;d<WH;d++){var n=vL[d],w=~~(n*WT),k=n-w*Wo,Ww=n<<2;WS[d*2]=k<<16|w;WS[d*2+1]=vV[Ww]<<16|vV[Ww+1]<<8|vV[Ww+2]}return WS}var y=Y(m,j,v,A),B=Y(R,j,v,A),c=Y(K,j,v,A);
if(F)console.log("Itemize",Date.now()-S,"Unknown:",H,W,O);S=Date.now();var $=Z.style.ne(b,v,x,!0),I=Z.style.ne(s,v,x,!0),r=new Array(H),i=new Array(H),U=new Array(H),N=new Array(H),C=new Array(H);
if(F)console.log("Dist transform",Date.now()-S);S=Date.now();var D=Z.iu.DO;for(var d=0;d<H;d++){var n=K[d],w=~~(n*A),k=n-w*v,h=$[n<<1],t=$[(n<<1)+1],a=Math.sqrt(h*h+t*t),_=I[n<<1],E=I[(n<<1)+1],WW=Math.sqrt(_*_+E*E);
r[d]=1/a;i[d]=1/WW;var Wx=Math.floor(Z.Y.Pj(n*17)*W),WU=Math.floor(Z.Y.Pj(n*19)*O);U[d]=Wx;N[d]=WU;C[d]=D(c[d*2],c[d*2+1],y[Wx*2],y[Wx*2+1],B[WU*2],B[WU*2+1],r[d],i[d],1e9)}var We=[-v-1,-v,-v+1,-1,1,v-1,v,v+1];
while(Math.floor(Math.max(W,O)*Math.pow(.5,ZJ))>1)ZJ++;for(var Wv=0;Wv<P;Wv++){var L=0;for(var d=0;d<H;
d++){var n=K[d],w=~~(n*A),k=n-w*v,J=r[d],WZ=i[d],WJ=c[d*2],Wu=c[d*2+1],WC=C[d],Wx=U[d],WU=N[d],WG=1;
if(w!=0&&k!=0&&k!=v-1&&w!=x-1)for(var Wn=0;Wn<8;Wn++){var WB=X[n+We[Wn]];if(WB==4294967295)continue;
var Wt=U[WB],Wy=N[WB];if(Wt==Wx&&Wy==WU)continue;var Wz=D(WJ,Wu,y[Wt*2],y[Wt*2+1],B[Wy*2],B[Wy*2+1],J,WZ,WC);
if(Wz<WC){WC=Wz;Wx=Wt;WU=Wy}}for(var Wq=0;Wq<ZJ;Wq++){var Wa=~~(W*WG),WK=~~(O*WG);WG*=.5;var Wd=Z.Y.Pj(n+Wv*17+Wq*31),WD=Z.Y.Pj(n+Wv*29+Wq*63),W$=Math.max(0,Wx-Wa),Zg=Math.min(Wx+Wa,W-1),WL=Math.max(0,WU-WK),WY=Math.min(WU+WK,O-1),Wt=W$+~~(Wd*(Zg-W$)),Wy=WL+~~(WD*(WY-WL)),Wz=D(WJ,Wu,y[Wt*2],y[Wt*2+1],B[Wy*2],B[Wy*2+1],J,WZ,WC);
if(Wz<WC){WC=Wz;Wx=Wt;WU=Wy}}C[d]=WC;U[d]=Wx;N[d]=WU;L+=WC}}if(F)console.log(L);if(F)console.log("iterations",Date.now()-S);
S=Date.now();var WA=g.slice(0);for(var d=0;d<H;d++){var Wb=Z.iu.alpha(c[d*2+1],y[U[d]*2+1],B[N[d]*2+1]);
WA[K[d]]=~~(.5+255*Wb)}WA=Z.ju.Zum(WA,j,new G(0,0,v,x),16,.01*.01);if(F)console.log("guided filter",Date.now()-S);
S=Date.now();if(p)for(var d=0;d<f;d++)if(g[d]==255||g[d]==0)WA[d]=g[d];var WX=j.slice(0);for(var d=0;
d<H;d++){var fI=K[d],Wx=m[U[d]],WC=C[d],Ww=fI<<2,W_=WA[fI],vW=(W_>=250?fI:Wx)<<2;WX[Ww]=j[vW];WX[Ww+1]=j[vW+1];
WX[Ww+2]=j[vW+2]}Z.sH(WA,WX,3);if(F)console.log(Date.now()-S);S=Date.now();return WX};Z.iu.DO=function(e,j,g,P,p,v,x,A,f){var S=e>>>16,F=e&65535,m=S-(g>>>16),R=F-(g&65535),M=S-(p>>>16),b=F-(p&65535),s=Math.sqrt(m*m+R*R)*x,K=Math.sqrt(M*M+b*b)*A;
if(s+K>=f)return 1e9;var X=Z.iu.ZuK(j,P,v);return X+s+K};Z.iu.ZuK=function(e,j,g){var P=e>>>16,p=e>>>8&255,v=e&255,x=j>>>16,A=j>>>8&255,f=j&255,S=g>>>16,F=g>>>8&255,m=g&255,R=Z.iu.alpha(e,j,g),M=P-(R*x+(1-R)*S),b=p-(R*A+(1-R)*F),s=v-(R*f+(1-R)*m);
return Math.sqrt(M*M+b*b+s*s)};Z.iu.alpha=function(e,j,g){var P=e>>>16,p=e>>>8&255,v=e&255,x=j>>>16,A=j>>>8&255,f=j&255,S=g>>>16,F=g>>>8&255,m=g&255,R=x-S,M=A-F,b=f-m,s=P-S,K=p-F,X=v-m,d=R*R+M*M+b*b,W=d==0?.5:(s*R+K*M+X*b)/d;
return Math.max(0,Math.min(1,W))};Z.iu.ZDr=function(e){};Z.iu.dB=function(e,j,g,P,p){var v=[],x=j-1,A=g-1;
for(var f=1;f<A;f++)for(var S=1;S<x;S++){var F=f*j+S;if(e[F]==P&&(e[F-j-1]==p||e[F-j]==p||e[F-j+1]==p||(e[F-1]==p||e[F+1]==p)||(e[F+j-1]==p||e[F+j]==p||e[F+j+1]==p)))v.push(F)}return v};
Z.ju={};Z.ju.ZDV=function(e,j,g,P,p){var v=g.W,x=g.j,A=v*x,f=Z.ju.Bf,S=Z.V(A*4),F;Z.XC(S,4294967295);
var m=g,R=e,M=j,b=P;Z.sH(e,S,0);F=Z.qA(S,g);F=Z.qA(F.C$,F.rect);m=F.rect;b=P>>>2;console.log(m,b);R=Z.V(m.h());
Z.bF(F.C$,R,0);Z.sH(j,S,0);F=Z.qA(S,g);F=Z.qA(F.C$,F.rect);M=Z.V(m.h());Z.bF(F.C$,M,0);var s=Z.ju.Zu$(R,M,m,b,p),K=s[0],X=s[1],d=new G(0,0,m.W*2,m.j*2);
K=f(K,m,d,!0);K=f(K,d,g,!0);X=f(X,m,d,!0);X=f(X,d,g,!0);var W=Z.V(A);for(var O=0;O<A;O++)W[O]=Math.max(0,Math.min(255,Math.floor(.5+(K[O]*j[O]+255*X[O]))));
return W};Z.ju.Bf=function(e,j,g,P){var p=g.W,v=g.j,x=j.W,A=j.j,f=Z.ju.TL,S=new Float32Array(p*v);for(var F=0;
F<A;F++){var m=(F+F)*p;for(var R=0;R<x;R++){if(!0||R==0||F==0||R==x-1||F==A-1)S[m]=S[m+1]=S[m+p]=S[m+p+1]=e[F*x+R];
else{S[m]=f(R+.25,F+.25,e,x,A);S[m+1]=f(R+.75,F+.25,e,x,A);S[m+p]=f(R+.25,F+.75,e,x,A);S[m+p+1]=f(R+.75,F+.75,e,x,A)}m+=2}}return S};
Z.ju.TL=function(e,j,g,P,p){e-=.499999;j-=.499999;var v=Math.floor(e),x=Math.floor(j),A=x*P+v,f=e-v,S=j-x,F=(1-S)*(1-f),m=(1-S)*f,R=S*(1-f),M=S*f;
if(g[A]==null||g[A+P+1]==null){console.log(e,j,P,p);throw"e"}return F*g[A+0]+m*g[A+1]+R*g[A+P+0]+M*g[A+P+1]};
Z.ju.Zu$=function(e,j,g,P,p){var v=g.W,x=g.j,A=v*x,f=Z.ju.ax,S=Z.ju.V,F=Z.blur.ZR,m=Z.ju.nA,j=f(j),e=f(e),R=S(A);
F(j,R,g,P);var M=S(A);F(e,M,g,P);var b=S(A);m(j,j,b);F(b,b,g,P);var s=S(A);m(j,e,s);F(s,s,g,P);var K=S(A),X=S(A);
for(var d=0;d<A;d++){var W=R[d],O=M[d],H=b[d]-W*W,Y=s[d]-W*O,y=Y/(H+p),B=O-y*W;K[d]=y;X[d]=B}var c=S(A);
F(K,c,g,P);var $=S(A);F(X,$,g,P);return[c,$]};Z.ju.Zum=function(e,j,g,P,p){var v=g.W,x=g.j,A=v*x,f=Z.ju.Bf,S=Date.now(),F=!1,m=g,R=e,M=j,b=P;
m=new G(0,0,v>>>2,x>>>2);b=P>>>2;R=Z.ju.ZCx(e,v,x);M=Z.ju.ZCz(j,v,x);if(F)console.log(Date.now()-S);
S=Date.now();var s=Z.ju.ZgJ(R,M,m,b,p),K=s[0],X=s[1],d=s[2],W=s[3];if(F)console.log(Date.now()-S);S=Date.now();
var O=Z.V(A);for(var H=0;H<x;H++)for(var Y=0;Y<v;Y++){var y=H*v+Y,B=(H>>>2)*(v>>>2)+(Y>>>2),c=y<<2,$=K[B]*j[c]+X[B]*j[c+1]+d[B]*j[c+2]+W[B]*255;
O[y]=Math.max(0,Math.min(255,~~(.5+$)))}if(F)console.log(Date.now()-S);S=Date.now();return O};Z.ju.ZCx=function(e,j,g){var P=j>>>2,p=g>>>2,v=Z.V(j*g);
for(var x=0;x<p;x++)for(var A=0;A<P;A++)v[x*P+A]=e[x*j+A<<2];return v};Z.ju.ZCz=function(e,j,g){var P=j>>>2,p=g>>>2,v=Z.V(j*g*4);
for(var x=0;x<p;x++)for(var A=0;A<P;A++){var f=x*P+A<<2,S=x*j+A<<4;v[f]=e[S];v[f+1]=e[S+1];v[f+2]=e[S+2];
v[f+3]=e[S+3]}return v};Z.ju.ZgJ=function(e,j,g,P,p){var v=g.W,x=g.j,A=v*x,f=Z.ju.ax,S=Z.ju.V,F=Z.blur.ZR,m=Z.ju.nA,e=f(e),R=new Z.il(v*x);
Z.Mi(j,R);var j=[f(R.k),f(R.z),f(R.e)],M=Z.ju.ZgS(e,j,g,P,p),b=S(A);F(e,b,g,P);var s=S(A);m(j[0],e,s);
F(s,s,g,P);var K=S(A);m(j[1],e,K);F(K,K,g,P);var X=S(A);m(j[2],e,X);F(X,X,g,P);var d=S(A),W=S(A),O=S(A),H=S(A);
for(var Y=0;Y<A;Y++){var y=b[Y],B=M.XO[Y],c=M.XA[Y],$=M.Xj[Y],I=s[Y]-B*y,r=K[Y]-c*y,i=X[Y]-$*y;d[Y]=M.ZIN[Y]*I+M.Xh[Y]*r+M.Xw[Y]*i;
W[Y]=M.Xh[Y]*I+M.Zsg[Y]*r+M.Xl[Y]*i;O[Y]=M.Xw[Y]*I+M.Xl[Y]*r+M.ZKn[Y]*i;H[Y]=y-d[Y]*B-W[Y]*c-O[Y]*$}F(d,d,g,P);
F(W,W,g,P);F(O,O,g,P);F(H,H,g,P);return[d,W,O,H]};Z.ju.ZgS=function(e,j,g,P,p){var v=g.W,x=g.j,A=v*x,f=Z.ju.V,S=Z.blur.ZR,F=Z.ju.nA,m={};
m.XO=f(A);S(j[0],m.XO,g,P);m.XA=f(A);S(j[1],m.XA,g,P);m.Xj=f(A);S(j[2],m.Xj,g,P);var R=f(A);F(j[0],j[0],R);
S(R,R,g,P);var M=f(A);F(j[0],j[1],M);S(M,M,g,P);var b=f(A);F(j[0],j[2],b);S(b,b,g,P);var s=f(A);F(j[1],j[1],s);
S(s,s,g,P);var K=f(A);F(j[1],j[2],K);S(K,K,g,P);var X=f(A);F(j[2],j[2],X);S(X,X,g,P);m.ZIN=R;m.Xh=M;
m.Xw=b;m.Zsg=s;m.Xl=K;m.ZKn=X;for(var d=0;d<A;d++){var W=m.XO[d],O=m.XA[d],H=m.Xj[d],Y=R[d]-W*W+p,y=M[d]-W*O,B=b[d]-W*H,c=s[d]-O*O+p,$=K[d]-O*H,I=X[d]-H*H+p,r=c*I-$*$,i=$*B-y*I,U=y*$-c*B,N=Y*I-B*B,C=B*y-Y*$,D=Y*c-y*y,n=r*Y+i*y+U*B,w=1/n;
m.ZIN[d]=r*w;m.Xh[d]=i*w;m.Xw[d]=U*w;m.Zsg[d]=N*w;m.Xl[d]=C*w;m.ZKn[d]=D*w}return m};Z.ju.V=function(e){return new Float32Array(e)};
Z.ju.ax=function(e){var j=e.length,g=new Float32Array(j);for(var P=0;P<j;P++)g[P]=e[P]*(1/255);return g};
Z.ju.nA=function(e,j,g){for(var P=0;P<e.length;P++)g[P]=e[P]*j[P]};Z.fL={};Z.fL.nj=function(e,j,g,P){var p=e[j]-g[P],v=e[j+1]-g[P+1],x=e[j+2]-g[P+2];
return Math.sqrt(p*p+v*v+x*x)*(1/441.7)};Z.fL.getSelection=function(e,j,g){var P=j*g,p=Z.V(P),v=!1,x=Math.round(g*.7),A=1,f=new Uint32Array(12),S=Z.V(12);
for(var F=0;F<x;F++)for(var m=0;m<j;m++){if(m<A||F<A||m>j-A-1||F>g-A-1){var R=F*j+m,M=R<<2,b=0;if(F<A)b=4;
else if(m>j-A-1)b=8;f[b]+=e[M];f[b+1]+=e[M+1];f[b+2]+=e[M+2];f[b+3]++;p[R]=255}}for(var R=0;R<12;R+=4)for(var s=0;
s<3;s++)S[R+s]=f[R+s]/f[R+3];var K=new Float32Array(P);for(var R=0;R<P;R++){var M=R*4,X=Z.fL.nj(e,M,S,0),d=Z.fL.nj(e,M,S,4),W=Z.fL.nj(e,M,S,8),O=Math.max(X,Math.max(d,W));
K[R]=X+d+W-O}Z.fL.nP(K);var H=Date.now(),Y=new Float32Array(P),y=[],B=Z.V(P);for(var R=0;R<3;R++){Z.bF(e,B,R);
var c=new Uint16Array(P);y.push(c);Z.fL.ZgA(B,p,j,g,c)}if(v)console.log("MBD",Date.now()-H);H=Date.now();
for(var R=0;R<P;R++)Y[R]=y[0][R]+y[1][R]+y[2][R];Z.fL.nP(Y);for(var R=0;R<P;R++)Y[R]+=.4*K[R];var $=j>>>1,x=g>>>1,I=1/Math.sqrt($*$+x*x);
for(var F=0;F<g;F++)for(var m=0;m<j;m++){var r=m-$,i=F-x,U=1-Math.sqrt(r*r+i*i)*I;Y[F*j+m]*=U}if(v)console.log("Centeredness",Date.now()-H);
H=Date.now();for(var R=0;R<P;R++)p[R]=Y[R]*255;var N=Math.round(j/120),C=Math.round(N*.8);if(v)console.log(N,C);
Z.Bz.CX(p,B,j,g,N,Z.Bz.Ch,[]);p.set(B);if(v)console.log("erosion",Date.now()-H);H=Date.now();for(var R=0;
R<P;R++)Y[R]=p[R];Z.fL.nP(Y);var D=Z.V(256);for(var R=0;R<256;R++)D[R]=256/(1+Math.exp(-20*(R/255-.5)));
for(var R=0;R<P;R++){var n=~~(Y[R]*255+.5);p[R]=D[n]}if(v)console.log("Simoid",Date.now()-H);H=Date.now();
return p};Z.fL.nP=function(e){var j=e.length,g=0;for(var P=0;P<j;P++)g=Math.max(g,e[P]);var p=1/g;for(var P=0;
P<j;P++)e[P]=e[P]*p};Z.fL.ZgA=function(e,j,g,P,p){var v=g*P,x=e.slice(0),A=e.slice(0);for(var f=0;f<v;
f++)p[f]=j[f]==255?0:65535;Z.fL.aU(e,A,x,p,g,P);Z.fL.ai(e,A,x,p,g,P);Z.fL.aU(e,A,x,p,g,P);Z.fL.ai(e,A,x,p,g,P);
return p};Z.fL.aU=function(e,j,g,P,p,v){for(var x=1;x<p;x++)Z.fL.Ta(x,-1,e,j,g,P);for(var A=1;A<v;A++){Z.fL.Ta(A*p,-p,e,j,g,P);
for(var x=1;x<p;x++){var f=A*p+x;Z.fL.Ta(f,-1,e,j,g,P);Z.fL.Ta(f,-p,e,j,g,P)}}};Z.fL.ai=function(e,j,g,P,p,v){for(var x=p-2;
x>=0;x--)Z.fL.Ta(p*v-p+x,1,e,j,g,P);for(var A=v-2;A>=0;A--){Z.fL.Ta(A*p+p-1,p,e,j,g,P);for(var x=p-2;
x>=0;x--){var f=A*p+x;Z.fL.Ta(f,1,e,j,g,P);Z.fL.Ta(f,p,e,j,g,P)}}};Z.fL.Ta=function(e,j,g,P,p,v){var x=e+j,A=g[e],f=P[x],S=p[x];
if(f<A)f=A;else if(A<S)S=A;var F=f-S;if(v[x]!=65535&&F<v[e]){v[e]=F;P[e]=f;p[e]=S}};Z.kI={};Z.kI.filter=function(e,j,g,P){var p=j.W,v=j.j,x=p*v,A=P[0],f=P[1],S=P[2],F=P[3],m=P[4],R=P[5],M=P[6],b=Date.now(),s=new Float32Array(p*v*4);
Z.kI.ZnP(e,p,v,s);var K=Math.ceil(A*Math.sqrt(-2*Math.log(.1))),X=new ArrayBuffer(x*4),d=new Float32Array(X),W=new Float32Array(x),O=new Float32Array(x);
for(var H=0;H<x;H++){var Y=H*4;d[H]=s[Y];W[H]=s[Y+1];O[H]=s[Y+2]}Z.blur.Rl(d,d,j,K*1/2.4,2);Z.blur.Rl(W,W,j,K*1/2.4,2);
Z.blur.Rl(O,O,j,K*1/2.4,2);for(var H=0;H<x;H++){var Y=H*4;s[Y]=d[H];s[Y+1]=W[H];s[Y+2]=O[H]}var y=new Uint8Array(X);
for(var H=0;H<x;H++){var Y=H*4,B=H*4,d=s[Y],W=s[Y+1],O=s[Y+2],c=Math.sqrt((d-O)*(d-O)+4*W*W),$=(d+O+c)*.5,I=(d+O-c)*.5,r=I-O,i=W,U=r*r+i*i;
if(U!=0){var N=Math.sqrt(U),C=1/N;r*=C;i*=C}y[B]=128+127*r;y[B+1]=128+127*i}var D=1.3*f+2,n=F*(2/10),w=e.slice();
if(l.Hf){var k=new Float32Array([1/p,1/v]),h=l.Gn(0,p,v);h.set(w);var t=l.Gn(1,p,v);t.set(y);l.pW(h,j);
if(m){h.qz(j);l.filter.XX({type:l.filter.N$,sv:k,ZEu:1/S,ZEg:n},h.Hj)}h.qz(j);l.filter.XX({type:l.filter.xo,X_:t.FL,sv:k,ZOh:D,ZO_:2},h.Hj);
if(m){h.qz(j);l.filter.XX({type:l.filter.Ns,sv:k,ZEz:new Float32Array(M),ZEs:R},h.Hj)}h.get(g)}else{if(m)Z.kI.nV(1/S,n,w,p,v);
Z.kI.xo(w,g,y,p,v,D);if(m)Z.kI.ZnZ(p,v,g,M,R)}var a=x*4;for(var H=3;H<a;H+=4)g[H]=e[H]};Z.kI.xo=function(e,j,g,P,p,v){var x=Math.ceil(2*v),A=-1/(2*v*v),f=[],S=1;
for(var F=0;F<x+20;F++)f[F]=Math.exp(F*F*A);var m=[0,0,0,0];for(var R=0;R<p;R++){for(var M=0;M<P;M++){var b=R*P+M,s=b*4,K=1,X=e[s],d=e[s+1],W=e[s+2],O=e[s+3],H=(g[s]-128)*(1/127),Y=(g[s+1]-128)*(1/127),y=H,B=Y,c=M==0?.51:.49,$=R==0?.51:.49;
for(var F=0;F<2;F++){var I=M+c,r=R+$,i=0;while(i<x){if(I<.5||P-.5<I||r<.5||p-.5<r)break;var U=~~I,N=~~r,C=N*P+U,D=C*4,n=(g[D]-128)*(1/127),w=(g[D+1]-128)*(1/127);
if(n*y+w*B<0){n=-n;w=-w}y=n;B=w;I+=S*n;r+=S*w;if(I<.5||P-.5<I||r<.5||p-.5<r)break;var k=~~I,h=~~r,t=h*P+k<<2;
i+=S;var a=f[~~i];Z.D.co(I,r,e,P,p,m);X+=m[0]*a;d+=m[1]*a;W+=m[2]*a;O+=m[3]*a;K+=a}y=-H;B=-Y}var _=1/K;
j[s]=~~(.5+X*_);j[s+1]=~~(.5+d*_);j[s+2]=~~(.5+W*_);j[s+3]=~~(.5+O*_)}}};Z.kI.ZnZ=function(e,j,g,P,p){for(var v=0;
v<j;v++)for(var x=0;x<e;x++){var A=v*e+x<<2,f=1+Z.kI.Zna(x,v,g,e,j,P)*p;g[A]=Math.max(0,Math.min(255,g[A]*f));
g[A+1]=Math.max(0,Math.min(255,g[A+1]*f));g[A+2]=Math.max(0,Math.min(255,g[A+2]*f))}};Z.kI.Zna=function(e,j,g,P,p,v){var x=g[(j*P+Math.max(0,e-1))*4+3],A=g[(j*P+Math.min(P-1,e+1))*4+3],f=g[(Math.max(0,j-1)*P+e)*4+3],S=g[(Math.min(p-1,j+1)*P+e)*4+3],F=.7,m=(A-x)*(1/255),R=.7,M=(S-f)*(1/255),b=-m*R,s=-F*M,K=F*R,X=Math.sqrt(b*b+s*s+K*K),d=1/X,W=b*d,O=s*d,H=K*d,Y=v[0]*W+v[1]*O+v[2]*H;
return Y};Z.kI.nV=function(e,j,g,P,p){function v(A,S,F){return Math.max(S,Math.min(F,A))}for(var x=0;
x<p;x++)for(var A=0;A<P;A++){var f=Z.kI.ZnK(A+.5,x+.5,e,j);g[(x*P+A)*4+3]=Math.max(0,Math.min(255,f*255))}};
Z.kI.ZnK=function(e,j,g,P){function p(B,c,$){return(1-$)*B+$*c}var v=(e+613)*g,x=(j+117)*g,A=~~v,f=~~x,S=v-A,F=x-f,m=Math.sin(11),R=Math.cos(A)*m,M=Math.cos(A+1)*m,b=Math.cos(f)*m,s=Math.cos(f+1)*m,K=Z.kI.hash(R,b),X=Z.kI.hash(M,b),d=Z.kI.hash(R,s),W=Z.kI.hash(M,s),O=p(K,X,S),H=p(d,W,S),Y=p(O,H,F);
Y=Y<.5?0:1;var y=Y+P*Z.kI.hash(Math.cos(v)*m,Math.cos(x)*m);return y*(1/3)};Z.kI.hash=function(e,j){var g=Math.sin(e*11.697096+j*73.32456)*12157.47691;
return g-Math.floor(g)};Z.kI.ZnP=function(e,j,g,P){var p=[-1,0,1,-2,0,2,-1,0,1],v=[-1,-2,-1,0,0,0,1,2,1],x=j-1,A=g-1,f=j*4;
for(var S=1;S<A;S++)for(var F=1;F<x;F++){var m=S*j+F,R=m*4,M=Z.kI.Td(e,R,f,p),b=Z.kI.Td(e,R,f,v),s=Z.kI.Td(e,R+1,f,p),K=Z.kI.Td(e,R+1,f,v),X=Z.kI.Td(e,R+2,f,p),d=Z.kI.Td(e,R+2,f,v);
P[R]=M*M+s*s+X*X;P[R+1]=M*b+s*K+X*d;P[R+2]=b*b+K*K+d*d}Z.kI.ZnY(P,j,g)};Z.kI.Td=function(e,j,g,P){return e[j-g-4]*P[0]+e[j-g]*P[1]+e[j-g+4]*P[2]+e[j-4]*P[3]+e[j]*P[4]+e[j+4]*P[5]+e[j+g-4]*P[6]+e[j+g]*P[7]+e[j+g+4]*P[8]};
Z.kI.ZnY=function(e,j,g){function P(f,S,F){var m=S*4,R=F*4;f[R]=f[m];f[R+1]=f[m+1];f[R+2]=f[m+2]}var p=j-1,v=g-1;
P(e,j+1,0);P(e,2*j-2,j-1);for(var x=1;x<p;x++)P(e,j+x,x);for(var A=1;A<v;A++){P(e,A*j+1,A*j);P(e,A*j+j-2,A*j+j-1)}for(var x=1;
x<p;x++)P(e,(g-2)*j+x,(g-1)*j+x);P(e,(A-2)*j+1,(A-1)*j);P(e,(A-1)*j-2,A*j-1)};Z.LH={};Z.LH.nk=function(e,j,g,P){var p=e[j*2],v=e[j*2+1],x=e[g*2],A=e[g*2+1],f=e[P*2],S=e[P*2+1];
return p*A+x*S+f*v-f*A-x*v-p*S};Z.LH.aO=function(e,j){var g=[],P=[],p=[],v={};for(var x=0;x<j.length;
x+=3){var A=~~(x*(1/3)),f=j[x+0],S=j[x+1],F=j[x+2],m=Z.LH.nk(e,f,S,F);if(m>0){var R=S;S=F;F=R}var M=v[F+"-"+S],b=v[S+"-"+f],s=v[f+"-"+F],K=[F,M,A,null],X=[S,b,A,K],d=[f,s,A,X];
K[3]=d;if(M)M[1]=K;if(b)b[1]=X;if(s)s[1]=d;v[F+"-"+f]=d;v[f+"-"+S]=X;v[S+"-"+F]=K;g[f]=X;p[x]=X;g[S]=K;
p[x+1]=K;g[F]=d;p[x+2]=d;P[A]=X}return{sJ:g,sO:P,af:p}};Z.LH.Zn_=function(e){var j=[],g=e.sO;for(var P=0;
P<g.length;P++){var p=g[P];j.push(p[0]);p=p[3];j.push(p[0]);p=p[3];j.push(p[0])}return j};Z.LH.Znm=function(e,j,g,P){var p=e[j*2],v=e[j*2+1],x=e[g*2],A=e[g*2+1],f=e[P*2],S=e[P*2+1],F=x-p,m=A-v,R=f-p,M=S-v,b=F*(p+x)+m*(v+A),s=R*(p+f)+M*(v+S),K=2*(F*(S-A)-m*(f-x));
if(Math.abs(K)<1e-5){var X=Math.min(p,x,f),d=Math.min(v,A,S),W=(Math.max(p,x,f)-X)*.5,O=(Math.max(v,A,S)-d)*.5;
return[X+W,d+O,W*W+O*O,1]}var H=(M*b-m*s)/K,Y=(F*s-R*b)/K,W=H-p,O=Y-v;return[H,Y,W*W+O*O,0]};Z.LH.Zdv=function(e,j,g){var P=g[1],p=g[3],v=p[3],x=P[3],A=x[3],f=g[2],S=P[2],F=g[0],m=P[0],R=p[0],M=x[0],b=Z.LH.Znm(e,m,M,R),s=e[F*2]-b[0],K=e[F*2+1]-b[1],X=s*s+K*K>b[2]&&b[3]==0&&Z.LH.nk(e,M,F,R)<0&&Z.LH.nk(e,R,m,M)<0;
if(X){g[0]=R;P[0]=M;g[3]=v;v[3]=x;x[3]=g;P[3]=A;A[3]=p;p[3]=P;p[2]=S;x[2]=f;j.sO[S]=A;j.sO[f]=v;j.sJ[m]=x;
j.sJ[F]=p}return X};Z.LH.CS=function(e,j,g){var P=e[j*2]-e[g*2],p=e[j*2+1]-e[g*2+1];return Math.sqrt(P*P+p*p)};
Z.LH.Zda=function(e,j,g){var P=g[1],p=g[3],v=p[3],x,A,f=g[2],S,F=g[0],m=v[0],R=p[0],M;if(P){x=P[3];A=x[3];
S=P[2];M=x[0]}var b=e.length>>>1;e[2*b]=(e[2*m]+e[2*F])*.5;e[2*b+1]=(e[2*m+1]+e[2*F+1])*.5;if(!0){var s=f,K=g,X=j.sO.length,d=[b,null,s,K],W=[R,d,X,v];
d[1]=W;var O=[b,null,X,W];p[3]=d;v[3]=O;v[2]=X;j.sO[s]=p;j.sO[X]=O;j.sJ[F]=p;j.sJ[R]=v;j.af.push(d,W,O)}if(P){var H=S,Y=P,y=X+1;
O[1]=Y,Y[1]=O;var B=[b,null,H,Y],c=[M,B,y,A];B[1]=c;var $=[b,K,y,c];K[1]=$;x[3]=B;A[3]=$;A[2]=y;j.sO[H]=x;
j.sO[y]=A;j.sJ[m]=x;j.sJ[M]=A;j.af.push(B,c,$)}j.sJ[b]=K};Z.LH.iv=function(e,j){var g=0;while(!0){var P=g;
for(var p=0;p<j.af.length;p++){var v=j.af[p];if(v[1]==null)continue;var x=Z.LH.Zdv(e,j,v);if(x){g++;
break}}if(P==g)break}return g!=0};Z.LH.ZdR=function(e,j,g,P){var p=0;for(var v=0;v<P;v++){var x=null,A=0;
for(var f=0;f<j.af.length;f++){var S=j.af[f],F=Z.LH.CS(e,S[0],S[3][3][0])*(S[1]?1:2);if(F>A){x=S;A=F}}if(A>g){Z.LH.Zda(e,j,x);
p++}}return p!=0};Z.LH.Zdk=function(e,j){var g=[],M=0;for(var P=0;P<e.length;P++)g.push(0);for(var P=0;
P<j.af.length;P++){var p=j.af[P],v=p[0],x=p[3][3][0],A=e[v*2],f=e[v*2+1],S=e[x*2],F=e[x*2+1],m=A-S,R=f-F;
g[v*2]+=-m;g[v*2+1]+=-R;g[x*2]+=m;g[x*2+1]+=R}for(var P=0;P<e.length;P+=2){var b=P>>>1,s=j.sJ[b],p=s,K=!0;
do{if(p[1]==null){K=!1;break}p=p[1][3]}while(p!=s);if(K){var X=.02;e[P]+=X*g[P];e[P+1]+=X*g[P+1];M+=X*(g[P]*g[P]+g[P+1]*g[P+1])}}return M};
Z.LH.Zd_=function(e,j,g){var P=Z.g.XI(e),p=Z.LH.aO(e,j);Z.LH.iv(e,p);for(var v=0;v<300;v++){var x=!1,A=!1;
x=Z.LH.ZdR(e,p,g,5);if(x)A=Z.LH.iv(e,p);var f=Z.LH.Zdk(e,p);if(!x&&!A&&f<1e-4){break}}return Z.LH.Zn_(p)};
Z.oz={};Z.oz.it=function(e){var j=e.lr,g=e.aT,P=e.La,p=e.Xm,v=e.VN,x=e.mF,A=e.Vp,f=Z.YG.kG,W,O,H=0;function S(J){var WZ=new Array(J);
for(var s=0;s<J;s++)WZ[s]=0;return WZ}var F=g.length>>>1,m=S(j.XQ*2),R=S(j.XQ),M=S(j.XQ),b=Date.now();
for(var s=0;s<e.SE.length;s++){var K=j.ZEK+s,X=j.LB*(x[s*2]+A[s*2]),d=j.LB*(x[s*2+1]+A[s*2+1]);m[K*2]=X;
m[K*2+1]=d;R[K]=X;M[K]=d}j.ZEl.nr(p,j.ZE_.kG(m),.01,W,O);for(var s=0;s<j.ZfN.af.length;s++){var Y=j.ZfN.af[s],y=Y[3][3][0],B=Y[0],c=Y[3][0],$=Y[1]?Y[1][3][0]:c;
if(Y[1]&&y>B)continue;var I=g[y*2],r=g[y*2+1],i=g[B*2],U=g[B*2+1],N=p[y*2],C=p[y*2+1],D=p[B*2],n=p[B*2+1],w=p[c*2],k=p[c*2+1],h=p[$*2],t=p[$*2+1],a=[N,C,D,n,w,k];
if(Y[1])a.push(h,t);var _=f(j.ZEm[H],a),E=_[0],WW=_[1],Wx=1/Math.sqrt(E*E+WW*WW);E*=Wx;WW*=Wx;var WU=i-I,We=U-r;
R[H]=E*WU+WW*We;M[H]=-WW*WU+E*We;H++}var Wv=new Array(F),L=new Array(F);for(var s=0;s<F;s++){Wv[s]=v[s*2];
L[s]=v[s*2+1]}j.ZWr.nr(Wv,j.ZWf.kG(R),.5);j.ZWr.nr(L,j.ZWf.kG(M),.5);for(var s=0;s<F;s++){v[s*2]=Wv[s];
v[s*2+1]=L[s]}};Z.oz.iL=function(e){var j=e.aT,g=e.La,P=e.SE,p=Z.YG.multiply,v=Date.now(),x=Z.LH.aO(j,g),A=j.length>>>1,f=0,s=0,WW=1e3;
for(var S=0;S<x.af.length;S++)f+=x.af[S][1]?.5:1;var F=f+P.length,m=[],R=new Z.Oa(F*2,A*2),M=new Z.Oa(F,A),b=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],K=[],X=[];
for(var S=0;S<x.af.length;S++){var d=x.af[S],W=d[3][3][0],O=d[0],H=d[3][0],Y=d[1]?d[1][3][0]:H;if(d[1]&&W>O)continue;
var y=j[W*2],B=j[W*2+1],c=j[O*2],$=j[O*2+1],I=j[H*2],r=j[H*2+1],i=j[Y*2],U=j[Y*2+1],N=[[y,B,1,0],[B,-y,0,1],[c,$,1,0],[$,-c,0,1],[I,r,1,0],[r,-I,0,1]];
if(d[1])N.push([i,U,1,0],[U,-i,0,1]);var C=Z.YG.eQ(N),D=p(linear.invert(p(C,N)),C);D.pop();D.pop();m.push(D);
var n=c-y,w=$-B,k=b[d[1]?1:0];k=Z.YG.ki(k,p([[n,w],[w,-n]],D));var h=[W*2,W*2+1,O*2,O*2+1,H*2,H*2+1,Y*2,Y*2+1],t=d[1]?8:6,a=[];
for(var _=0;_<t;_++)a.push([h[_],k[0][_],k[1][_]]);a.sort(function(J,WZ){return J[0]-WZ[0]});for(var E=0;
E<2;E++){for(var _=0;_<t;_++){K[_]=a[_][0];X[_]=a[_][1+E]}R.lB(X,K,t)}if(W<O)M.lB([-1,1],[W,O],2);else M.lB([1,-1],[O,W],2);
s++}for(var S=0;S<P.length;S++){var Wx=P[S];R.lB([WW],[Wx*2],1);R.lB([WW],[Wx*2+1],1);M.lB([WW],[Wx],1)}var WU=R.eQ(),We=WU.g_(WU),Wv=M.eQ(),L=Wv.g_(Wv);
return{ZEK:f,XQ:F,ZE_:WU,ZEl:We,ZWf:Wv,ZWr:L,ZfN:x,ZEm:m,LB:WW}};Z.oz.ZBU=function(e,j,g,P,p){var v=new G(0,0,j,g),x=Z.V(v.h());
Z.bF(e,x,3);Z.round(x,70);var A=Z.Ms(x,v),f=[.1,.065,.035][P]*Math.max(A.W,A.j),S=p+1,F=j+S*2,m=g+S*2,R=new G(-S,-S,F,m),M=Z.V(R.h());
Z.Oo(x,v,M,R);var b=M.slice(0);for(var s=0;s<p;s++){for(var K=1;K<m-1;K++){for(var X=1;X<F-1;X++){var d=K*F+X;
b[d]=M[d-F]|M[d-1]|M[d]|M[d+1]|M[d+F]}}var W=b;b=M;M=W}var O=fu.nF(M,F,m,Math.round(A.h()*5e-4)),H=fu.OK(O),Y=new WE(1,0,0,1,-S,-S);
for(var d=0;d<H.length;d++){var y=H[d];Z.g.K(y.path.u,Y,y.path.u);y.aT=Z.oz.ZBu(y.path);y.La=Z.g.ZGk(y.aT);
y.La=Z.LH.Zd_(y.aT,y.La,f)}return H};Z.oz.ZBu=function(e){var j=[],g=e.u,P=e.L.length-1,p=0,v=0;for(var x=0;
x<P;x++){var A=x*6,f=g[A+6]-g[A+0],S=g[A+7]-g[A+1],F=Math.ceil(Math.sqrt(f*f+S*S));for(var m=0;m<F;m++){var R=m/F,M=1-R,b=M*M*M*g[A+0]+3*M*M*R*g[A+2]+3*M*R*R*g[A+4]+R*R*R*g[A+6],s=M*M*M*g[A+1]+3*M*M*R*g[A+3]+3*M*R*R*g[A+5]+R*R*R*g[A+7];
j.push(b,s);p=b;v=s}}j=Z.g.gh(j,1);var K=[],X=j.length;for(var A=0;A<X;A+=2){var s=j.pop(),b=j.pop();
K.push(b,s)}return K};Z.oz.ZBE=function(e,j,g,P){function p(c,$,I,r,i){var U=i[c*2]-i[$*2],N=i[c*2+1]-i[$*2+1],D=Math.sqrt(U*U+N*N);
if(I[c].indexOf($)==-1){I[c].push($);r[c].push(D)}if(I[$].indexOf(c)==-1){I[$].push(c);r[$].push(D)}}var v=e.length>>>1,x=new Array(v);
if(g.length==0){x.fill(0);return x}var A=new Array(v),f=new Array(v);for(var S=0;S<v;S++){A[S]=[];f[S]=[]}for(var S=0;
S<j.length;S+=3){p(j[S],j[S+1],A,f,e);p(j[S],j[S+2],A,f,e);p(j[S+1],j[S+2],A,f,e)}var F=new Float64Array(v*2),m=new Uint32Array(v*2);
F.fill(1e9);var R=new Uint8Array(v);for(var M=0;M<g.length;M++){R.fill(0);var b=["---",[0,g[M]]];while(b.length!=1){var s=Z.cf.Zny(b),K=s[0],X=s[1];
if(R[X]==1)continue;var d=X<<1;if(K<F[d]){F[d+1]=F[d];m[d+1]=m[d];F[d]=K;m[d]=M}else if(K<F[d+1]){F[d+1]=K;
m[d+1]=M}R[X]=1;var W=A[X],O=f[X];for(var S=0;S<W.length;S++){var H=W[S];if(R[H]!=1){Z.cf.ZnV(b,[K+O[S],H])}}}}for(var S=0;
S<v;S++){var d=S<<1,Y=F[d],y=F[d+1],B=1/(Y+y);x[S]=(1-Y*B)*P[m[d]]+(1-y*B)*P[m[d+1]]}return x};Z.oz.ZDJ=function(e){var j={L:[],u:[]},g=[e];
while(g.length!=0){var P=g.pop(),p=P.jm;if(P.ZSu instanceof Array||P.ZSn instanceof Array){j.L.push("M","L","L","L","Z");
j.u.push(p[0],p[1],p[2],p[1],p[2],p[3],p[0],p[3])}else g.push(P.ZSu,P.ZSn)}return j};Z.oz.Mc=function(e,j,g,P,p,v,x){var A=g.W,f=g.j,S=Math.round(x.length/3),F=new Array(S);
for(var m=0;m<S;m++)F[m]=m;F.sort(function(M,b){return v[x[M*3]]-v[x[b*3]]});for(var m=0;m<S;m++){var R=F[m]*3;
Z.oz.ZBS(x[R]*2,x[R+1]*2,x[R+2]*2,P,p,e,j,A,f)}};Z.oz.ZBS=function(e,j,g,P,p,v,x,A,f){var S=Z.oz.iG,F=[e,j,g,1.2,1.2,1.2,0],m=[0,0,0,0],R=p[e],M=p[e+1],b=p[j],s=p[j+1],K=p[g],X=p[g+1],d=Math.max(0,Math.min(A-1,P[e])),W=Math.max(0,Math.min(A-1,P[j])),O=Math.max(0,Math.min(A-1,P[g])),H=Math.max(0,Math.min(f-1,P[e+1])),Y=Math.max(0,Math.min(f-1,P[j+1])),y=Math.max(0,Math.min(f-1,P[g+1])),B=b-R,c=s-M,$=K-R,I=X-M,r=1/(B*I-$*c+1e-9),i=Math.max(0,Math.floor(Math.min(R,b,K))),U=Math.min(A,Math.ceil(Math.max(R,b,K))),N=Math.max(0,Math.floor(Math.min(M,s,X))),C=Math.min(f,Math.ceil(Math.max(M,s,X)));
for(var D=N;D<C;D++)for(var n=i;n<U;n++){var w=n+.5-R,k=D+.5-M,h=(w*I-$*k)*r,t=(B*k-w*c)*r;if(h>=0&&t>=0&&h+t<=1){var a=1-h-t,_=d*a+W*h+O*t,E=H*a+Y*h+y*t;
Z.D.co(_,E,v,A,f,m);Z.oz.ZBk(m,x,D*A+n<<2)}}};Z.oz.ZBk=function(e,j,g){var P=j[g],p=j[g+1],v=j[g+2],x=j[g+3],A=1-e[3]*(1/255);
j[g]=~~(.5+e[0]+P*A);j[g+1]=~~(.5+e[1]+p*A);j[g+2]=~~(.5+e[2]+v*A);j[g+3]=~~(.5+e[3]+x*A)};Z.oz.iG=function(){var e=function(g,P,p,v){var x=v[0],A=v[1],f=v[2],S=g[x+0],F=g[x+1],m=g[A+0],R=g[A+1],M=g[f+0],b=g[f+1],s=m-S,K=R-F,X=M-S,d=b-F,W=P-S,O=p-F,H=s*d-X*K,Y=1/(H+1e-9),y=(W*d-X*O)*Y,B=(s*O-W*K)*Y;
if(y>=0&&B>=0&&y+B<=1){v[3]=1-y-B;v[4]=y;v[5]=B;return 1}return 0},j=function(g,P,p,v){var x=[0,0,0,0,0,0];
for(var A=0;A<P.length;A+=3){x[0]=P[A]*2;x[1]=P[A+1]*2;x[2]=P[A+2]*2;if(e(g,p,v,x)==1)return!0}return!1};
return{ZWd:e,ZSB:j}}();Z.Yh={};Z.Yh.ZBF=function(e,j,g,P,p){var v=Z.Yh.NZ(e.buffer,j,g).IO,x=Date.now(),A=new Uint32Array(v.length);
for(var f=0;f<v.length;f++)A[f]=v[f].Ug;var S=UPNG.quantize.getKDtree(new Uint8Array(A.buffer),P),F=[j,1,-j,-1,j+1,-j+1,-j-1,j-1,j+j,2,-j-j,-2,j+j-1,j+j+1,j+2,-j+2,-j-j+1,-j-j-1,-j-2,j-2,j+j+2,-j-j+2-j-j-2,j+j-2],m=new Uint8Array(j*g),R=e;
for(var M=0;M<g;M++)for(var b=0;b<j;b++){var f=M*j+b<<2,s=R[f]*(1/255),K=R[f+1]*(1/255),X=R[f+2]*(1/255),d=R[f+3]*(1/255),W=Z.Yh.OD(S,s,K,X,d,p);
if(W==null){var O=[],H=0;while(H<20){var Y=M*j+b+F[H]<<2,y=R[Y]*(1/255),B=R[Y+1]*(1/255),c=R[Y+2]*(1/255),$=R[Y+3]*(1/255),I=Z.Yh.OD(S,y,B,c,$,.005);
if(I!=null){if(O.indexOf(I)==-1){O.push(I);I.ad=1}else I.ad++}H++}O.sort(function(d,X){return X.ad-d.ad});
while(O.length!=0&&O[O.length-1].ad<3)O.pop();if(O.length==0)W=Z.Yh.OD(S,s,K,X,d,100);else if(O.length==1)W=O[0];
else if(O.length==2){var r=O[0],i=O[1],U=r.est.q,N=i.est.q,C=N[0]-U[0],D=N[1]-U[1],n=N[2]-U[2],w=N[3]-U[3],k=s-U[0],h=K-U[1],t=X-U[2],a=d-U[3],_=C*C+D*D+n*n+w*w,E=k*k+h*h+t*t+a*a,WW=(k*C+h*D+t*n+a*w)/_,Wx=E-WW*WW*_;
if(Wx<.5)W=WW<.5?r:i;else{W=Z.Yh.OD(S,s,K,X,d,100)}}else{var r=O[0],i=O[1],WU=O[2],U=r.est.q,N=i.est.q,We=WU.est.q,Wv=U[0]-We[0],L=U[1]-We[1],J=U[2]-We[2],WZ=U[3]-We[3],WJ=N[0]-We[0],Wu=N[1]-We[1],WC=N[2]-We[2],Wn=N[3]-We[3],WB=We[0]-s,Wt=We[1]-K,Wy=We[2]-X,Wz=We[3]-d,WG=Wv*Wv+L*L+J*J+WZ*WZ,Wq=Wv*WJ+L*Wu+J*WC+WZ*Wn,Wa=WB*Wv+Wt*L+Wy*J+Wz*WZ,WK=Wv*WJ+L*Wu+J*WC+WZ*Wn,Wd=WJ*WJ+Wu*Wu+WC*WC+Wn*Wn,WD=WB*WJ+Wt*Wu+Wy*WC+Wz*Wn,W$=1/(Wq*WK-WG*Wd),WW=(Wd*Wa-WD*Wq)*W$,Zg=(WD*WG-Wa*WK)*W$,WL=1-WW-Zg,WY=Math.max(WW,Zg,WL);
if(WY==WW)W=r;else if(WY==Zg)W=i;else W=WU}}m[f>>2]=W.ind}return{La:m,IO:S[1]}};Z.Yh.NZ=function(e,j,g){var P=[],p={},v=j-1,x=g-1,A=0,f=new Uint32Array(e),S=[-j-1,-j,-j+1,-1,1,j-1,j,j+1,j+j,2,-j-j,-2,j+j-1,j+j+1,j+2,-j+2,-j-j+1,-j-j-1,-j-2,j-2,j+j+2,-j-j+2-j-j-2,j+j-2];
for(var F=1;F<x;F++)for(var m=1;m<v;m++){var R=F*j+m,M=f[R],b=!0;for(var s=0;s<8;s++)b=b&&f[R+S[s]]==M;
if(b){A++;var K=p[M];if(K==null){p[M]=P.length;P.push({Ug:M,Am:1})}else P[K].Am++}}return{IO:P,ZSq:A}};
Z.Yh.OD=function(e,j,g,P,p,v){var x=UPNG.quantize.getNearest(e[0],j,g,P,p);return Z.Yh.ZBM(x,j,g,P,p)<v?x:null};
Z.Yh.ZBM=function(e,j,g,P,p){var v=e.est.q,x=j-v[0],A=g-v[1],f=P-v[2],S=p-v[3];return x*x+A*A+f*f+S*S};
Z.Yh.ZDu=function(e,j,g,P){var p=Z.Yh.Zyv(e,j,g,P),v=p.La,x=p.IO,A=p.ZSE,f=UPNG.quantize.getKDtree(new Uint8Array(A.buffer.slice(0)),200),S=[];
for(var F=0;F<x.length;F++){var m=x[F].s_,R=m[0],M=m[1],b=m[2],s=m[3];if(Math.min(R,M,b,s)<0)throw"e";
var K=UPNG.quantize.getNearest(f[0],R/255,M/255,b/255,s/255);S.push(f[1].indexOf(K))}for(var F=0;F<j*g;
F++)v[F]=S[v[F]];return{La:v,IO:f[1]}};Z.Yh.Zyv=function(e,j,g,P){var p=j*g,v=2*p,x=Z.Yh.Zyq(e,j,g),A=65535+1,f=new Uint32Array(A),m=0;
for(var S=0;S<v;S++)f[x[S]]++;var F=new Uint32Array(A);for(var S=0;S<A;S++){F[S]=m;m+=f[S]}var R=new Uint32Array(v);
for(var S=0;S<v;S++){var M=x[S];R[F[M]]=S;F[M]++}var b=new UnionFind(p),s=new Uint16Array(p),K=new Uint32Array(p);
for(var S=0;S<p;S++)K[S]=1;var X=p,d=1e5/(P*10);for(var W=0;W<v;W++){var O=R[W],H=x[O];if(H==65535)continue;
var S=O>>1,Y=S+((O&1)==0?1:j),y=b.find(S),B=b.find(Y),c=Math.min(s[y]+d/Math.sqrt(K[y]),s[B]+d/Math.sqrt(K[B]));
if(y!=B&&H<=c){b.link(S,Y);X--;var $=b.find(S);K[$]=K[y]+K[B];s[$]=H}}var I=[],r={},i=new Uint16Array(p);
for(var S=0;S<p;S++){var $=b.find(S),U=r[$];if(U==null){r[$]=U=I.length;I.push({Am:0,s_:[0,0,0,0]})}I[U].Am++;
for(var Y=0;Y<4;Y++)I[U].s_[Y]+=e[(S<<2)+Y];i[S]=U}var N=new Uint32Array(I.length);for(var S=0;S<I.length;
S++){var U=I[S];for(var Y=0;Y<4;Y++)U.s_[Y]=Math.round(U.s_[Y]/U.Am);N[S]=U.s_[3]<<24|U.s_[2]<<16|U.s_[1]<<8|U.s_[0]}return{La:i,IO:I,ZSE:N}};
Z.Yh.Zyq=function(e,j,g){var P=new Uint16Array(j*g*2);for(var p=0;p<g;p++)for(var v=0;v<j;v++){var x=p*j+v;
P[x+x]=v<j-1?Z.Yh.NU(e,x,x+1):65535;P[x+x+1]=p<g-1?Z.Yh.NU(e,x,x+j):65535}return P};Z.Yh.NU=function(e,j,g){var P=j<<2,p=g<<2,v=e[P],x=e[P+1],A=e[P+2],f=e[P+3],S=e[p],F=e[p+1],m=e[p+2],R=e[p+3],M=v-S,b=x-F,s=A-m,K=f-R;
return M*M+b*b+s*s+K*K>>2};Z.Yh.Ne=function(){function e(X,d,W,O,H,Y){var y=[],B=Y,c=Y,$=Y>>>2;for(var I=0;
I<H;I++)for(var r=0;r<O;r++){var i=~~((r+.5)*B),U=~~((I+.5)*c),N=1e9,C=Math.max(0,i-$),D=Math.min(d,i+$+1),n=Math.max(0,U-$),w=Math.min(W,U+$+1);
for(var k=n;k<w;k++)for(var h=C;h<D;h++){var t=j(X,d,h,k);if(t<N){i=h;U=k;N=t}}var a=(U*d+i)*4;y.push(X[a],X[a+1],X[a+2],i,U)}return y}function j(X,d,W,O){var H=(O*d+W)*4,Y=d*4,y=g(X,H-4,H)+g(X,H,H+4),B=g(X,H-Y,H)+g(X,H,H+Y);
return y+B}function g(X,d,W){var O=X[d]-X[W],H=X[d+1]-X[W+1],Y=X[d+2]-X[W+2];return O*O+H*H+Y*Y}var P=0,p=0;
function v(X,d,W,O){p++;if(O<P)P=O;X[O].push(d,W)}function x(X){p--;while(X[P].length==0)P++}function A(X,d,W){P=0;
p=0;var O=d*W,H=Math.round(Math.min(d,W)/50),N=0,C=16;if(H==0)H=1;var Y=30/H,y=Math.floor(d/H),B=Math.floor(W/H),c=y*B;
if(c>65535)throw c;var $=new Uint16Array(O);for(var I=0;I<O;I++)$[I]=65535;var r=e(X,d,W,y,B,H),i=[];
for(var I=0;I<1e3+W;I++)i.push([]);var U=[0,1,0,-1,-1,0,1,0],D=Math.min(B,5),n=new Uint32Array(c*6);
for(var w=0;w<B;w+=D){var k=Math.min(w+D+1,B);for(var h=w;h<k;h++)for(var t=0;t<y;t++){var I=h*y+t,a=I*5,_=r[a+4]<<16|r[a+3];
v(i,_,I,r[a+4]>>>C)}var E=Math.min(W,k*H);if(w+D>=B)E=W;while(p!=0){x(i);var WW=i[P].pop(),Wx=i[P].pop(),WU=Wx>>>16,We=Wx&65535,I=WU*d+We;
if($[I]==65535){var Wv=WW*6,L=I<<2;$[I]=WW;n[Wv]+=X[L];n[Wv+1]+=X[L+1];n[Wv+2]+=X[L+2];n[Wv+3]+=We;n[Wv+4]+=WU;
n[Wv+5]++;var J=WU>>>C;if(WU!=E-1&&$[I+d]==65535)v(i,WU+1<<16|We,WW,f(X,d,Y,We,WU+1,n,Wv)+J);if(WU!=0&&$[I-d]==65535)v(i,WU-1<<16|We,WW,f(X,d,Y,We,WU-1,n,Wv)+J);
if(We!=0&&$[I-1]==65535)v(i,WU<<16|We-1,WW,f(X,d,Y,We-1,WU,n,Wv)+J);if(We!=d-1&&$[I+1]==65535)v(i,WU<<16|We+1,WW,f(X,d,Y,We+1,WU,n,Wv)+J)}}if(E!=WU){var WZ=(w+D)*y;
n.fill(0,WZ*6,(WZ+y)*6);for(var WU=(w+D-2)*H;WU<E;WU++)for(var We=0;We<d;We++){var I=WU*d+We;if($[I]>=WZ){$[I]=65535}}}}return{La:$,EU:c,aa:n}}Z.Yh.nE=function(X,d,W,O,H){var Y=X.EU,y=d*W,B=X.aa,c=X.La,$=M(O,c,Y,y),I=new UnionFind(Y),n=0;
for(var r=1;r<W;r++)for(var i=1;i<d;i++){var U=r*d+i,N=c[U],C=0;if((C=c[U-1])!=N&&$[C]==$[N]&&S(B,0,N*6,C*6)<H)I.link(N,C);
if((C=c[U-d])!=N&&$[C]==$[N]&&S(B,0,N*6,C*6)<H)I.link(N,C)}var D=new Uint16Array(Y);D.fill(65535);var w=new Uint16Array(Y);
for(var U=0;U<Y;U++){var k=I.find(U);if(D[k]==65535)D[k]=n++;w[U]=D[k]}var h=new Uint16Array(y);for(var U=0;
U<y;U++)h[U]=w[c[U]];return{La:h,EU:n}};Z.Yh.ZWR=function(X,d,W,O){var H=Z.V(W),Y=d.length,y=0;for(var B=0;
B<Y&&y!=3;B++){var c=O[B];if(c==0||c==255){var $=d[B],I=2-(c>>>7);H[$]=y=H[$]|I}}return y!=3};function f(X,d,W,O,H,Y,y){var B=(H*d+O)*4,c=Y[y+5],$=1/c,I=X[B]*c-Y[y],r=X[B+1]*c-Y[y+1],i=X[B+2]*c-Y[y+2],U=O*c-Y[y+3],N=H*c-Y[y+4],C=Math.sqrt(I*I+r*r+i*i),D=Math.sqrt(U*U+N*N);
return~~((C+W*D)*$+.5)}function S(X,d,W,O){var H=1/X[W+5],Y=1/X[O+5],y=X[W]*H-X[O]*Y,B=X[W+1]*H-X[O+1]*Y,c=X[W+2]*H-X[O+2]*Y,$=X[W+3]*H-X[O+3]*Y,I=X[W+4]*H-X[O+4]*Y,r=Math.sqrt(y*y+B*B+c*c),i=Math.sqrt($*$+I*I);
return~~(r+d*i+.5)}function F(X,d,W){var O=Z.Qo(X,new G(0,0,d,W)),H=O.rect.W,Y=O.rect.j,y=A(O.C$,H,Y),B=y.La,c=Date.now(),$=new Uint16Array(d*W);
$.fill(65535);for(var I=0;I<Y;I++){for(var r=0;r<H;r++){var i=I*H+r,U=(I<<1)*d+(r<<1),N=B[i];if(B[i-H]!=N||B[i-1]!=N||B[i+1]!=N||B[i+H]!=N)N=65535;
$[U]=N;$[U+1]=N;$[U+d]=N;$[U+d+1]=N}}y.La=$;return y}function m(X,d){var W=0,O=X.length;while(W!=O&&X[W]!=d)W+=2;
return W==O?-1:W}function R(X,d){if(d==X.length-2){X.pop();X.pop()}else{X[d+1]=X.pop();X[d]=X.pop()}}Z.Yh.ZSS=function(X,d,W,O,H){var Y=new Uint32Array(H*4400),j=[];
for(var y=0;y<H;y++)j.push([]);for(var B=0;B<W;B++)for(var c=0;c<d;c++){var y=B*d+c,$=y<<2,I=O[y],r=0,i=X[$]>>>4,U=X[$+1]>>>4,N=X[$+2]>>>4;
Y[I*4400+(i<<8|U<<4|N)]++;Y[I*4400+4096]++;Y[I*4400+4100+(i<<4|U)]++;Y[I*4400+4360+i]++;if(c!=0&&(r=O[y-1])!=I&&m(j[I],r)==-1){j[I].push(r,0);
j[r].push(I,0)}if(B!=0&&(r=O[y-d])!=I&&m(j[I],r)==-1){j[I].push(r,0);j[r].push(I,0)}}for(var y=0;y<H;
y++){var N=j[y];for(var C=0;C<N.length;C+=2)N[C+1]=K(Y,y,N[C])}return[Y,j]};function M(X,d,W,O){var H=Z.V(W);
for(var Y=0;Y<O;Y++){var y=X[Y];if(y==0||y==255)H[d[Y]]=2-(y>>>7)}return H}Z.Yh.ZSI=function(X,d,W,O,H,Y,y){var B=d*W,c=y[0],j=y[1],$=new UnionFind(O),I=M(H,X,O,B),r=-1,U=!0,N=0;
for(var i=0;i<O;i++)if(I[i]==1){if(r==-1)r=i;else $.link(i,r)}if(r==-1){for(var i=0;i<B;i++)Y[i]=H[i]==255?255:0;
return}while(U){while(U){U=!1;for(var i=0;i<O;i++){if(I[i]==0){var C=b(j[i]);if(I[C]==1){I[i]=I[C];U=!0;
$.link(i,C)}}}}U=!0;N=0;while(U){U=!1;for(var i=0;i<O;i++){if(I[i]==0){var C=b(j[i]);if(I[C]==0){var D=i*4400,n=C*4400;
for(var w=0;w<4400;w+=2){c[D+w]+=c[n+w];c[D+w+1]+=c[n+w+1]}s(j,c,i,C);N++;I[C]=3;U=!0;$.link(i,C)}}}}U=N!=0}var k=$.find(r);
for(var i=0;i<O;i++)I[i]=$.find(i)==k?255:0;for(var i=0;i<B;i++){Y[i]=I[X[i]]}for(var i=0;i<B;i++){var C=H[i];
if(C==0||C==255)Y[i]=C}};function b(X){var d=0,W=0,O=X.length;for(var H=0;H<O;H+=2){var Y=X[H+1];if(Y>W){W=Y;
d=H}}return X[d]}function s(j,X,d,W){var O=j[d],H=j[W];R(O,m(O,W));R(H,m(H,d));for(var Y=0;Y<H.length;
Y+=2){var y=H[Y],B=j[y];R(B,m(B,W));if(m(B,d)==-1){B.push(d,0);O.push(y,0)}}for(var Y=0;Y<O.length;Y+=2){var y=O[Y],B=j[y],c=K(X,d,y);
O[Y+1]=c;B[m(B,d)+1]=c}}function K(X,d,W){var O=0,H=4096,Y=d*4400,y=W*4400;for(var B=0;B<16;B++){if(X[Y+4360+B]==0||X[y+4360+B]==0)continue;
for(var c=0;c<16;c++){var $=B<<4|c;if(X[Y+4100+$]==0||X[y+4100+$]==0)continue;var I=Y+($<<4),r=y+($<<4);
for(var i=0;i<16;i++)O+=Math.sqrt(X[I+i]*X[r+i])}}var U=O/Math.sqrt(X[Y+H]*X[y+H]);return~~(999.99999*U)}return A}();
var fu=function(){function e(){this.h=0;this.TO=0;this.tZ={};this.Vz=[];this.le=1e5;this.lJ=1e5;this.ld=-1;
this.lN=-1;this.color=0}function j(p){this.Vq=p;this.Ln=new Array(p);this.Ug=new Array(p*6);this.ZWO=0;
this.Hk=new Array(p*2);this.alpha=new Array(p);this.lD=new Array(p);this.lt=new Array(p)}function g(p,v,x,A){function f(X,d,p,v){return p[v*d+X]}function S(K){var B=p.length;
while(K<B&&p[K]==0)K++;return K<B?K:-1}function F(X,d,B){for(var K=2;K<5;K++){var c=0;for(var $=-K+1;
$<=K-1;$++){c+=f(X+$,d+K-1,p,v)==B?1:-1;c+=f(X+K-1,d+$-1,p,v)==B?1:-1;c+=f(X+$-1,d-K,p,v)==B?1:-1;c+=f(X-K,d+$,p,v)==B?1:-1}if(c>0)return 1;
else if(c<0)return 0}return 0}function m(B,b){var s=new e,X=B,d=b,c=0,$=1,I;s.color=p[b*v+B];s.sign=f(B,b,p,v)==s.color?"+":"-";
while(1){s.Vz.push(X,d);if(X>s.ld)s.ld=X;if(X<s.le)s.le=X;if(d>s.lN)s.lN=d;if(d<s.lJ)s.lJ=d;s.TO++;X+=c;
d+=$;s.h-=X*$;if(X==B&&d==b)break;var r=f(X+(c+$-1>>1),d+($-c-1>>1),p,v)==s.color,i=f(X+(c-$-1>>1),d+($+c-1>>1),p,v)==s.color;
if(i&&!r){if(A.aD=="right"||A.aD=="black"&&s.sign=="+"||A.aD=="white"&&s.sign=="-"||A.aD=="majority"&&F(X,d,s.color)||A.aD=="minority"&&!F(X,d,s.color)){I=c;
c=-$;$=I}else{I=c;c=$;$=-I}}else if(i){I=c;c=-$;$=I}else if(!r){I=c;c=$;$=-I}}return s}var R=0,M=[];
while(!0){var R=S(R);if(R==-1)break;var b=Math.floor(R/v),s=m(R-b*v,b);for(var K=0;K<s.Vz.length-2;K+=2){var X=s.Vz[K],d=s.Vz[K+1],W=d*v+X;
if(X==s.Vz[K+2]&&d+1==s.Vz[K+3]&&p[W]!=0)fu.fill(W,p,v,0)}if(s.h>A.ZIJ)M.push(s)}for(var K=0;K<M.length;
K++)M[K].parent=-1;var O=Date.now();for(var K=1;K<M.length;K++){var H=M[K];for(var Y=K-1;Y>=0;Y--){var y=M[Y];
if(H.le<y.le||H.ld>y.ld||H.lJ<y.lJ||H.lN>y.lN)continue;if(!fu.Zyz(y.Vz,H.Vz[0]+.5,H.Vz[1]+.5))continue;
H.parent=Y;break}}return M}function P(p,v){function x(c,$,I,r,i){this.x=c;this.y=$;this.JZ=I;this.JU=r;
this.JS=i}function A(c,$){return($+c)%$}function f(c,$,I,r){return c*r-I*$}function S(c,$,I,r){return c*I+$*r}function F(c,$,I){if(c<=I)return c<=$&&$<I;
else return c<=$||$<I}function m(c,$,I){var r=0;r+=$*c[0]*$;r+=$*c[1]*I;r+=$*c[2];r+=I*c[3]*$;r+=I*c[4]*I;
r+=I*c[5];r+=c[6]*$;r+=c[7]*I;r+=c[8];return r}function R(c,$,I){return $+c*(I-$)}function M(c,$,I,r){var i=Math.sign(I-c),U=-Math.sign(r-$);
return i*(I-c)-U*(r-$)}function b(c,$){return Math.sqrt(c*c+$*$)}function s(c,$,I,r,i){var U=1-c;return U*U*U*$+3*(U*U*c)*I+3*(c*c*U)*r+c*c*c*i}function K(c,$,I,r,i,U,N,C){var D=f(c,$,N,C),n=f(I,r,N,C),w=f(i,U,N,C),k=D-2*n+w,h=-2*D+2*n,t=D,a=h*h-4*k*t;
if(k==0||a<0)return-1;var _=Math.sqrt(a),E=(-h+_)/(2*k),WW=(-h-_)/(2*k);if(E>=0&&E<=1)return E;else if(WW>=0&&WW<=1)return WW;
else return-1}function X(B){var y,c,$;B.aq=B.Vz[0];B.ZWk=B.Vz[1];B.Xc=[];var I=B.Xc;I.push(new x(0,0,0,0,0));
for(y=0;y<B.TO;y++){c=B.Vz[y<<1]-B.aq;$=B.Vz[(y<<1)+1]-B.ZWk;I.push(new x(I[y].x+c,I[y].y+$,I[y].JZ+c*$,I[y].JU+c*c,I[y].JS+$*$))}}function d(B){var c=B.TO,$=B.Vz,I,r=new Array(c),i=new Array(c),U=new Array(4),N,C,D,n,w,k,h,t,a,_,E,y,WW,Wx,WU,We,Wv,L,J=0;
B.aF=new Array(c);for(y=c-1;y>=0;y--){if($[y<<1]!=$[J<<1]&&$[(y<<1)+1]!=$[(J<<1)+1])J=y+1;i[y]=J}for(y=c-1;
y>=0;y--){var WZ=A(y+1,c)<<1;U[0]=U[1]=U[2]=U[3]=0;I=(3+3*($[WZ]-$[y<<1])+($[WZ+1]-$[(y<<1)+1]))/2;U[I]++;
N=0;C=0;D=0;n=0;J=i[y];Wx=y;while(1){E=0;I=(3+3*Math.sign($[J*2]-$[Wx*2])+Math.sign($[J*2+1]-$[Wx*2+1]))/2;
U[I]++;if(U[0]&&U[1]&&U[2]&&U[3]){r[y]=Wx;E=1;break}a=$[J*2]-$[y*2];_=$[J*2+1]-$[y*2+1];if(f(N,C,a,_)<0||f(D,n,a,_)>0){break}if(Math.abs(a)<=1&&Math.abs(_)<=1){}else{w=a+(_>=0&&(_>0||a<0)?1:-1);
k=_+(a<=0&&(a<0||_<0)?1:-1);if(f(N,C,w,k)>=0){N=w;C=k}w=a+(_<=0&&(_<0||a<0)?1:-1);k=_+(a>=0&&(a>0||_<0)?1:-1);
if(f(D,n,w,k)<=0){D=w;n=k}}Wx=J;J=i[Wx];if(!F(J,y,Wx)){break}}if(E==0){h=Math.sign($[J*2]-$[Wx*2]);t=Math.sign($[J*2+1]-$[Wx*2+1]);
a=$[Wx*2]-$[y*2];_=$[Wx*2+1]-$[y*2+1];WU=f(N,C,a,_);We=f(N,C,h,t);Wv=f(D,n,a,_);L=f(D,n,h,t);WW=1e7;
if(We<0){WW=Math.floor(WU/-We)}if(L>0){WW=Math.min(WW,Math.floor(-Wv/L))}r[y]=A(Wx+WW,c)}}WW=r[c-1];
B.aF[c-1]=WW;for(y=c-2;y>=0;y--){if(F(y+1,r[y],WW)){WW=r[y]}B.aF[y]=WW}for(y=c-1;F(A(y+1,c),WW,B.aF[y]);
y--){B.aF[y]=WW}}function W(B){function c(B,y,$){var i=B.TO,a=B.Vz,_=B.Xc,E,WW,Wx,WU,We,r,Wv,L,t,J,WZ,WJ,Wu,WC,Wn=0;
if($>=i){$-=i;Wn=1}if(Wn==0){E=_[$+1].x-_[y].x;WW=_[$+1].y-_[y].y;WU=_[$+1].JU-_[y].JU;Wx=_[$+1].JZ-_[y].JZ;
We=_[$+1].JS-_[y].JS;r=$+1-y}else{E=_[$+1].x-_[y].x+_[i].x;WW=_[$+1].y-_[y].y+_[i].y;WU=_[$+1].JU-_[y].JU+_[i].JU;
Wx=_[$+1].JZ-_[y].JZ+_[i].JZ;We=_[$+1].JS-_[y].JS+_[i].JS;r=$+1-y+i}WZ=(a[y<<1]+a[$<<1])/2-a[0];WJ=(a[(y<<1)+1]+a[($<<1)+1])/2-a[1];
WC=a[$<<1]-a[y<<1];Wu=-(a[($<<1)+1]-a[(y<<1)+1]);Wv=(WU-2*E*WZ)/r+WZ*WZ;L=(Wx-E*WJ-WW*WZ)/r+WZ*WJ;t=(We-2*WW*WJ)/r+WJ*WJ;
J=Wu*Wu*Wv+2*Wu*WC*L+WC*WC*t;return Math.sqrt(J)}var y,$,I,r,i=B.TO,U=new Array(i+1),N=new Array(i+1),C=new Array(i),D=new Array(i+1),n=new Array(i+1),w=new Array(i+1),k,h,t;
for(y=0;y<i;y++){t=A(B.aF[A(y-1,i)]-1,i);if(t==y){t=A(y+1,i)}if(t<y){C[y]=i}else{C[y]=t}}$=1;for(y=0;
y<i;y++){while($<=C[y]){D[$]=y;$++}}y=0;for($=0;y<i;$++){n[$]=y;y=C[y]}n[$]=i;I=$;y=i;for($=I;$>0;$--){w[$]=y;
y=D[y]}w[0]=0;U[0]=0;for($=1;$<=I;$++){for(y=w[$];y<=n[$];y++){h=-1;for(r=n[$-1];r>=D[y];r--){k=c(B,r,y)+U[r];
if(h<0||k<h){N[y]=r;h=k}}U[y]=h}}B.KN=I;B.ZWF=new Array(I);for(y=i,$=I-1;y>0;$--){y=N[y];B.ZWF[$]=y}}function O(B){function c(B,y,k,C,D,WB){var r=B.TO,Wt=B.Xc,Wy=0,t;
while(k>=r){k-=r;Wy+=1}while(y>=r){y-=r;Wy-=1}while(k<0){k+=r;Wy-=1}while(y<0){y+=r;Wy+=1}var Wz=Wt[k+1].x-Wt[y].x+Wy*Wt[r].x,WG=Wt[k+1].y-Wt[y].y+Wy*Wt[r].y,Wq=Wt[k+1].JU-Wt[y].JU+Wy*Wt[r].JU,Wa=Wt[k+1].JZ-Wt[y].JZ+Wy*Wt[r].JZ,WK=Wt[k+1].JS-Wt[y].JS+Wy*Wt[r].JS,h=k+1-y+Wy*r;
C[WB]=Wz/h;C[WB+1]=WG/h;var Wd=(Wq-Wz*Wz/h)/h,WD=(Wa-Wz*WG/h)/h,W$=(WK-WG*WG/h)/h,Zg=(Wd+W$+Math.sqrt((Wd-W$)*(Wd-W$)+4*WD*WD))/2;
Wd-=Zg;W$-=Zg;if(Math.abs(Wd)>=Math.abs(W$)){t=Math.sqrt(Wd*Wd+WD*WD);if(t!=0){D[WB]=-WD/t;D[WB+1]=Wd/t}}else{t=Math.sqrt(W$*W$+WD*WD);
if(t!=0){D[WB]=-W$/t;D[WB+1]=WD/t}}if(t==0){D[WB]=D[WB+1]=0}}var $=B.KN,I=B.ZWF,r=B.TO,i=B.Vz,U=B.aq,N=B.ZWk,C=new Array($*2),D=new Array($*2),n=new Array($),w=new Array(3),y,k,h,t,WW,Wx,WU,We,Wv,L,J;
B.tZ=new j($);for(y=0;y<$;y++){k=I[A(y+1,$)];k=A(k-I[y],r)+I[y];C[y<<1]=0;C[(y<<1)+1]=0;D[y<<1]=0;D[(y<<1)+1]=0;
c(B,I[y],k,C,D,y<<1)}for(y=0;y<$;y++){n[y]=[0,0,0,0,0,0,0,0,0];var a=D[y<<1]*D[y<<1]+D[(y<<1)+1]*D[(y<<1)+1],_=1/a;
if(a!=0){w[0]=D[(y<<1)+1];w[1]=-D[y<<1];w[2]=-w[1]*C[(y<<1)+1]-w[0]*C[y<<1];for(t=0;t<3;t++){n[y][t*3+0]=w[t]*w[0]*_;
n[y][t*3+1]=w[t]*w[1]*_;n[y][t*3+2]=w[t]*w[2]*_}}}var E=[0,0,0,0,0,0,0,0,0];for(y=0;y<$;y++){E[0]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=0;
var WZ=i[I[y]<<1]-U,WJ=i[(I[y]<<1)+1]-N,Wu=0,WC=0;k=A(y-1,$);for(t=0;t<9;t+=3){E[t+0]=n[k][t+0]+n[y][t+0];
E[t+1]=n[k][t+1]+n[y][t+1];E[t+2]=n[k][t+2]+n[y][t+2]}while(1){var Wn=E[0]*E[4]-E[1]*E[3];if(Wn!=0){Wu=(-E[2]*E[4]+E[5]*E[0])/Wn;
WC=(E[2]*E[3]-E[5]*E[0])/Wn;break}if(E[0]>E[4]){w[0]=-E[1];w[1]=E[0]}else if(E[4]){w[0]=-E[4];w[1]=E[3]}else{w[0]=1;
w[1]=0}var a=w[0]*w[0]+w[1]*w[1],_=1/a;w[2]=-w[1]*WJ-w[0]*WZ;for(t=0;t<3;t++){E[t*3+0]+=w[t]*w[0]*_;
E[t*3+1]+=w[t]*w[1]*_;E[t*3+2]+=w[t]*w[2]*_}}WW=Math.abs(Wu-WZ);Wx=Math.abs(WC-WJ);if(WW<=.5&&Wx<=.5){B.tZ.Hk[y<<1]=Wu+U;
B.tZ.Hk[(y<<1)+1]=WC+N;continue}WU=m(E,WZ,WJ);Wv=WZ;L=WJ;if(E[0]!=0){for(J=0;J<2;J++){WC=WJ-.5+J;Wu=-(E[1]*WC+E[2])/E[0];
WW=Math.abs(Wu-WZ);We=m(E,Wu,WC);if(WW<=.5&&We<WU){WU=We;Wv=Wu;L=WC}}}if(E[4]!=0){for(J=0;J<2;J++){Wu=WZ-.5+J;
WC=-(E[3]*Wu+E[5])/E[4];Wx=Math.abs(WC-WJ);We=m(E,Wu,WC);if(Wx<=.5&&We<WU){WU=We;Wv=Wu;L=WC}}}for(t=0;
t<2;t++){for(h=0;h<2;h++){Wu=WZ-.5+t;WC=WJ-.5+h;We=m(E,Wu,WC);if(We<WU){WU=We;Wv=Wu;L=WC}}}B.tZ.Hk[y<<1]=Wv+U;
B.tZ.Hk[(y<<1)+1]=L+N}}function H(B){var c=B.tZ.Vq,$=B.tZ,y,I,r,i,U,N,C,D,n;for(y=0;y<c;y++){I=A(y+1,c);
r=A(y+2,c);var w=$.Hk[y<<1],k=$.Hk[(y<<1)+1],h=$.Hk[r<<1],t=$.Hk[(r<<1)+1],a=$.Hk[I<<1],_=$.Hk[(I<<1)+1],E=R(.5,h,a),WW=R(.5,t,_);
U=M(w,k,h,t);if(U!=0){i=f(a-w,_-k,h-w,t-k)/U;i=Math.abs(i);N=i>1?1-1/ i:0;N=N*(1/.75)}else{N=4/3}$.lD[I]=N;
var Wx=3*I<<1;if(N>=v.ZIB){$.Ln[I]=0;$.Ug[Wx+0]=$.Ug[Wx+1]=0;$.Ug[Wx+2]=a;$.Ug[Wx+3]=_;$.Ug[Wx+4]=E;
$.Ug[Wx+5]=WW}else{if(N<.55){N=.55}else if(N>1){N=1}var WU=.5+.5*N;$.Ln[I]=1;$.Ug[Wx]=R(WU,w,a);$.Ug[Wx+1]=R(WU,k,_);
$.Ug[Wx+2]=R(WU,h,a);$.Ug[Wx+3]=R(WU,t,_);$.Ug[Wx+4]=E;$.Ug[Wx+5]=WW}$.alpha[I]=N;$.lt[I]=.5}$.ZIz=1}function Y(B){function c(){this.iU=0;
this.Yx=0;this.YU=0;this.YW=0;this.Yu=0;this.kC=0;this.nd=0;this.alpha=0}function $(B,y,w,WL,WY,We,Wv){var r=B.tZ.Vq,WA=B.tZ.Ug,Wb=B.tZ.Hk;
if(y==w)return 1;var WX=y,a=A(y+1,r),fI=A(WX+1,r),Wq=Wb[y<<1],Wa=Wb[(y<<1)+1],Ww=Wb[a<<1],W_=Wb[(a<<1)+1],vW=We[fI];
if(vW==0)return 1;var vL=b(Wq-Ww,Wa-W_);for(WX=fI;WX!=w;WX=fI){var fI=A(WX+1,r),vV=A(WX+2,r),Wo=Wb[fI<<1],WT=Wb[(fI<<1)+1],WH=Wb[vV<<1],WS=Wb[(vV<<1)+1];
if(We[fI]!=vW)return 1;if(Math.sign(f(Ww-Wq,W_-Wa,WH-Wo,WS-WT))!=vW)return 1;if(S(Ww-Wq,W_-Wa,WH-Wo,WS-WT)<vL*b(Wo-WH,WT-WS)*-.999847695156)return 1}var ve=A(y,r)*3+2<<1,Zi=A(y+1,r)<<1,WQ=A(w,r)<<1,vZ=A(w,r)*3+2<<1,Wn=WA[ve],WB=WA[ve+1],fH=Wb[Zi],vg=Wb[Zi+1],vI=Wb[WQ],ZL=Wb[WQ+1],vu=WA[vZ],vS=WA[vZ+1],L=Wb[0],J=Wb[1];
ve=w*3+2<<1;var Zd=WA[ve],ZO=WA[ve+1],_=Wv[w]-Wv[y];_-=f(Zd-L,ZO-J,Zd-L,ZO-J)/2;if(y>=w){_+=Wv[r]}var vF=fH-Wn,ZE=vg-WB,ZZ=vI-Wn,Z$=ZL-WB,vd=vu-Wn,xd=vS-WB,xg=f(vF,ZE,ZZ,Z$),vU=f(vF,ZE,vd,xd),fZ=f(ZZ,Z$,vd,xd),VA=xg+fZ-vU;
if(vU==xg)return 1;var WU=fZ/(fZ-VA),Wx=vU/(vU-xg),vj=vU*WU/2;if(vj==0)return 1;var Zp=_/vj,E=2-Math.sqrt(4-Zp/.3);
WL.Yx=R(WU*E,Wn,fH);WL.YU=R(WU*E,WB,vg);WL.YW=R(Wx*E,vu,vI);WL.Yu=R(Wx*E,vS,ZL);WL.alpha=E;WL.kC=WU;
WL.nd=Wx;fH=WL.Yx;vg=WL.YU;vI=WL.YW;ZL=WL.Yu;WL.iU=0;for(WX=A(y+1,r);WX!=w;WX=fI){fI=A(WX+1,r);var vy=Wb[WX<<1],vX=Wb[(WX<<1)+1],Wo=Wb[fI<<1],WT=Wb[(fI<<1)+1];
WU=K(fH-Wn,vg-WB,vI-fH,ZL-vg,vu-vI,vS-ZL,Wo-vy,WT-vX);if(WU<-.5)return 1;var va=s(WU,Wn,fH,vI,vu),vq=s(WU,WB,vg,ZL,vS),vL=b(Wo-vy,WT-vX);
if(vL==0)return 1;var Zz=f(Wo-vy,WT-vX,va-vy,vq-vX)/vL;if(Math.abs(Zz)>WY)return 1;if(S(Wo-vy,WT-vX,va-vy,vq-vX)<0||S(vy-Wo,vX-WT,va-Wo,vq-WT)<0){return 1}WL.iU+=Zz*Zz}for(WX=y;
WX!=w;WX=fI){fI=A(WX+1,r);var ve=WX*3+2<<1,Zi=fI*3+2<<1,eE=WA[ve],eO=WA[ve+1],ZF=WA[Zi],xN=WA[Zi+1];
WU=K(fH-Wn,vg-WB,vI-fH,ZL-vg,vu-vI,vS-ZL,ZF-eE,xN-eO);if(WU<-.5)return 1;var va=s(WU,Wn,fH,vI,vu),vq=s(WU,WB,vg,ZL,vS),vL=b(ZF-eE,xN-eO);
if(vL==0)return 1;var Zz=f(ZF-eE,xN-eO,va-eE,vq-eO)/vL,vk=f(ZF-eE,xN-eO,Wb[fI<<1]-eE,Wb[(fI<<1)+1]-eO)/vL;
vk*=.75*B.tZ.alpha[fI];if(vk<0){Zz=-Zz;vk=-vk}if(Zz<vk-WY)return 1;if(Zz<vk){WL.iU+=(Zz-vk)*(Zz-vk)}}return 0}var I=B.tZ,r=I.Vq,i=I.Hk,U=new Array(r+1),N=new Array(r+1),C=new Array(r+1),D=new Array(r+1),n,y,w,k,h=new c,t,a,_,E,WW,Wx,WU,We=new Array(r),Wv=new Array(r+1);
for(y=0;y<r;y++){if(I.Ln[y]=="CURVE"){var L=i[A(y-1,r)<<1],J=i[(A(y-1,r)<<1)+1],WZ=i[y<<1],WJ=i[(y<<1)+1],Wu=i[A(y+1,r)<<1],WC=i[(A(y+1,r)<<1)+1];
We[y]=Math.sign(f(WZ-L,WJ-J,Wu-WZ,WC-WJ))}else{We[y]=0}}_=0;Wv[0]=0;var Wn=I.Hk[0],WB=I.Hk[1];for(y=0;
y<r;y++){a=A(y+1,r);if(I.Ln[a]=="CURVE"){E=I.alpha[a];var Wt=y*3+2<<1,Wy=a*3+2<<1,Wz=I.Ug[Wt],WG=I.Ug[Wt+1],Wq=i[a<<1],Wa=i[(a<<1)+1],WK=I.Ug[Wy],Wd=I.Ug[Wy+1];
_+=.3*E*(4-E)*f(Wq-Wz,Wa-WG,WK-Wz,Wd-WG)/2;_+=f(Wz-Wn,WG-WB,WK-Wn,Wd-WB)/2}Wv[y+1]=_}U[0]=-1;N[0]=0;
C[0]=0;for(w=1;w<=r;w++){U[w]=w-1;N[w]=N[w-1];C[w]=C[w-1]+1;for(y=w-2;y>=0;y--){k=$(B,y,A(w,r),h,v.ZIb,We,Wv);
if(k){break}if(C[w]>C[y]+1||C[w]==C[y]+1&&N[w]>N[y]+h.iU){U[w]=y;N[w]=N[y]+h.iU;C[w]=C[y]+1;D[w]=h;h=new c}}}n=C[r];
WW=new j(n);Wx=new Array(n);WU=new Array(n);w=r;for(y=n-1;y>=0;y--){var WD=A(w,r),W$=y*3+0<<1,Zg=WD*3+0<<1;
if(U[w]==w-1){WW.Ln[y]=I.Ln[WD];WW.Ug[W$]=I.Ug[Zg];WW.Ug[W$+1]=I.Ug[Zg+1];WW.Ug[W$+2]=I.Ug[Zg+2];WW.Ug[W$+3]=I.Ug[Zg+3];
WW.Ug[W$+4]=I.Ug[Zg+4];WW.Ug[W$+5]=I.Ug[Zg+5];WW.Hk[y<<1]=I.Hk[WD<<1];WW.Hk[(y<<1)+1]=I.Hk[(WD<<1)+1];
WW.alpha[y]=I.alpha[WD];WW.lD[y]=I.lD[WD];WW.lt[y]=I.lt[WD];Wx[y]=WU[y]=1}else{WW.Ln[y]="CURVE";WW.Ug[W$]=D[w].Yx;
WW.Ug[W$+1]=D[w].YU;WW.Ug[W$+2]=D[w].YW;WW.Ug[W$+3]=D[w].Yu;WW.Ug[W$+4]=I.Ug[Zg+4];WW.Ug[W$+5]=I.Ug[Zg+5];
WW.Hk[y<<1]=R(D[w].nd,I.Ug[Zg+4],i[WD<<1]);WW.Hk[(y<<1)+1]=R(D[w].nd,I.Ug[Zg+5],i[(WD<<1)+1]);WW.alpha[y]=D[w].alpha;
WW.lD[y]=D[w].alpha;Wx[y]=D[w].nd;WU[y]=D[w].kC}w=U[w]}for(y=0;y<n;y++){a=A(y+1,n);WW.lt[y]=Wx[y]/(Wx[y]+WU[a])}WW.ZIz=1;
B.tZ=WW}for(var y=0;y<p.length;y++){var B=p[y];X(B);d(B);W(B);O(B);H(B);if(v.ZIC)Y(B)}}return{ZSc:g,ZIr:P}}();
fu.nF=function(e,j,g,P){var p={aD:"minority",ZIJ:P,ZIC:!0,ZIB:1,ZIb:.2},v=fu.ZSc(e,j,g,p);fu.ZIr(v,p);
return v};fu.OK=function(e){var j=[];for(var g=0;g<e.length;g++){var P=e[g],p=P.tZ,v=["M"],x=[p.Ug[(p.Vq-1)*6+4],p.Ug[(p.Vq-1)*6+5]];
for(var A=0;A<p.Vq;A++){var f=A*6;if(p.Ln[A]==1){v.push("C");for(var S=0;S<6;S++)x.push(p.Ug[f+S])}else if(p.Ln[A]==0){v.push("L");
for(var S=2;S<4;S++)x.push(p.Ug[f+S])}}v.push("Z");j.push({parent:P.parent,color:P.color,path:{u:x,L:v}})}return j};
fu.ZDC=function(e,j,g,P,p){function v(s){function K(f){var b="C "+(s.Ug[f*3+0<<1]*j).toFixed(1)+" "+(s.Ug[(f*3+0<<1)+1]*j).toFixed(1)+",";
b+=(s.Ug[f*3+1<<1]*j).toFixed(1)+" "+(s.Ug[(f*3+1<<1)+1]*j).toFixed(1)+",";b+=(s.Ug[f*3+2<<1]*j).toFixed(1)+" "+(s.Ug[(f*3+2<<1)+1]*j).toFixed(1)+" ";
return b}function X(f){var O="L "+(s.Ug[f*3+1<<1]*j).toFixed(1)+" "+(s.Ug[(f*3+1<<1)+1]*j).toFixed(1)+" ";
O+=(s.Ug[f*3+2<<1]*j).toFixed(1)+" "+(s.Ug[(f*3+2<<1)+1]*j).toFixed(1)+" ";return O}var d=s.Vq,f,W="M"+(s.Ug[(d-1)*3+2<<1]*j).toFixed(1)+" "+(s.Ug[((d-1)*3+2<<1)+1]*j).toFixed(1)+" ";
for(f=0;f<d;f++){if(s.Ln[f]==1){W+=K(f)}else if(s.Ln[f]==0){W+=X(f)}}return W}var g=g*j,P=P*j,x=e.length,A=[];
for(var f=0;f<256;f++)A.push("rgb("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+")");
var S="<svg id=\"svg\" version=\"1.1\" width=\""+g+"\" height=\""+P+"\" xmlns=\"http://www.w3.org/2000/svg\">";
for(var f=0;f<x;f++){var F=p[e[f].color-1].ZvU.oj;if((F>>>24&255)==0)continue;S+="<path d=\"";var m=e[f].tZ;
S+=v(m);var R=F>>0&255,M=F>>8&255,b=F>>16&255,F="rgb("+R+","+M+","+b+")";S+="\" fill=\""+F+"\" fill-rule=\"evenodd\"/>"}S+="</svg>";
return S};fu.Zyz=function(e,j,g){var P=e.length>>1,p,v=e[2*P-3]-g,x=e[2*P-2]-j,A=e[2*P-1]-g,f=A>v,F=0;
for(var S=0;S<P;S++){p=x;v=A;x=e[2*S]-j;A=e[2*S+1]-g;if(v==A)continue;f=A>v}for(var S=0;S<P;S++){p=x;
v=A;x=e[2*S]-j;A=e[2*S+1]-g;if(v<0&&A<0)continue;if(v>0&&A>0)continue;if(p<0&&x<0)continue;if(v==A&&Math.min(p,x)<=0)return!0;
if(v==A)continue;var m=p+(x-p)*-v/(A-v);if(m==0)return!0;if(m>0)F++;if(v==0&&f&&A>v)F--;if(v==0&&!f&&A<v)F--;
f=A>v}return(F&1)==1};fu.fill=function(e,j,g,P){var p=j[e],v=[e],x=0;while(x<v.length){var A=v[x];x++;
j[A]=P;if(j[A-g]==p){v.push(A-g);j[A-g]=254}if(j[A-1]==p){v.push(A-1);j[A-1]=254}if(j[A+1]==p){v.push(A+1);
j[A+1]=254}if(j[A+g]==p){v.push(A+g);j[A+g]=254}}};var l={};l.Hf=!1;l.Nq=!1;l.zw=!1;l.O$=document.createElement("canvas");
l.kl=null;l.OT=null;l.DA=0;(function(){var e={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},j;
if(!j)j=l.O$.getContext("webgl",e);if(!j)j=l.O$.getContext("experimental-webgl",e);if(j){l.Hf=!0;l.Nq=!0;
l.kl=j;l.OT=j.createFramebuffer();j.bindFramebuffer(j.FRAMEBUFFER,l.OT);j.disable(j.BLEND);j.disable(j.DEPTH_TEST);
var g=j.createBuffer();j.bindBuffer(j.ARRAY_BUFFER,g);j.bufferData(j.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),j.STATIC_DRAW);
j.enableVertexAttribArray(0);j.vertexAttribPointer(0,2,j.FLOAT,!1,0,0)}}());l.ZDG=function(e){e=e.replace(/\s\s+/g," ");
e=e.replace(/; /g,";");e=e.replace(/} /g,"}");e=e.replace(/ }/g,"}");e=e.replace(/{ /g,"{");e=e.replace(/ {/g,"{");
e=e.replace(/= /g,"=");e=e.replace(/ =/g,"=");e=e.replace(/\| /g,"|");e=e.replace(/ \|/g,"|");return e};
l.ZyA=function(e){var j=l.kl;if(e>j.getParameter(j.MAX_TEXTURE_SIZE)){l.Hf=!1;alert("Disabling WebGL")}};
l.Gv=function(e,j){return new Float32Array([(e.x-j.x)/j.W,(e.y-j.y)/j.j,e.W/j.W,e.j/j.j])};l.Ur=function(){return this.O$};
l.pW=function(e,j){var g=l.kl;g.bindFramebuffer(g.FRAMEBUFFER,l.OT);g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,e.FL,0);
g.viewport(0,0,e.W,e.j);if(j){g.enable(g.SCISSOR_TEST);g.scissor(j.x,j.y,j.W,j.j)}else g.disable(g.SCISSOR_TEST)};
l.NL=function(e,j,g){if(g)throw"error";var P=l.kl;P.disable(P.SCISSOR_TEST);P.bindFramebuffer(P.FRAMEBUFFER,null);
P.viewport(0,0,e,j);if(g){P.enable(P.SCISSOR_TEST);P.scissor(g.x,g.y,Math.round(g.W),Math.round(g.j))}else P.disable(P.SCISSOR_TEST)};
l.clear=function(){var e=l.kl;e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT)};l.qp=function(e,j){if(j==null)j=0;
var g=(j>>>0&255)==0,P=(j>>>8&255)==0,p=(j>>>16&255)==0,v=(j>>>24&255)==0,x=(e>>>0&255)*(1/255),A=(e>>>8&255)*(1/255),f=(e>>>16&255)*(1/255),S=(e>>>24&255)*(1/255),F=l.kl;
F.colorMask(g,P,p,v);F.clearColor(x,A,f,S);F.clear(F.COLOR_BUFFER_BIT);F.colorMask(!0,!0,!0,!0)};l.ul=function(e,j,g,P,p){var v=j.zx(P);
if(p)v=v.zx(p);if(v.tE())return;var x=l.kl;l.pW(e);x.bindTexture(x.TEXTURE_2D,g.FL);x.copyTexSubImage2D(x.TEXTURE_2D,0,v.x-P.x,v.y-P.y,v.x-j.x,v.y-j.y,v.W,v.j)};
l.Gn=function(e,j,g){var P=l.NT[e];if(P==null||P.W!=j||P.j!=g){if(P)P.delete();P=new l.il(j,g)}l.NT[e]=P;
return P};l.NT=[];l.on=function(){this.YC=null;this.os=null};l.on.jQ=null;l.on.prototype.ii=function(e){if(this.os)return;
this.os={};var j=l.kl,g=this.YC,P=this.os;for(var p=0;p<e.length;p++){var v=e[p];P[v]=j.getUniformLocation(g,v)}};
l.on.prototype.GW=function(){};l.on.prototype.SB=function(e){var j=l.kl;for(var g=0;g<e.length;g+=2){j.uniform1i(e[g],g>>>1);
j.activeTexture(j["TEXTURE"+(g>>>1)]);j.bindTexture(j.TEXTURE_2D,e[g+1])}j.activeTexture(j.TEXTURE0)};
l.on.prototype.Jt=function(e,j){var g=l.kl,P=g.createShader(g.FRAGMENT_SHADER);g.shaderSource(P,e);g.compileShader(P);
if(!g.getShaderParameter(P,g.COMPILE_STATUS))console.log(g.getShaderInfoLog(P));var p=g.createShader(g.VERTEX_SHADER);
g.shaderSource(p,j);g.compileShader(p);if(!g.getShaderParameter(p,g.COMPILE_STATUS))console.log(g.getShaderInfoLog(p));
var v=g.createProgram();g.attachShader(v,p);g.attachShader(v,P);g.linkProgram(v);if(!g.getProgramParameter(v,g.LINK_STATUS))console.log("Could not initialise shaders");
this.YC=v};l.on.prototype.Gy=function(){if(l.on.jQ!=this){l.kl.useProgram(this.YC);l.on.jQ=this}};l.GN=function(e,j){l.DF++;
l.DA+=e*j;if(l.zw)console.log("GL.Channels instances: "+l.DF+", memory: "+l.DA);var g=l.kl;this.W=e;
this.j=j;this.FL=g.createTexture();this.Hj=null;this.OR(this.FL,e,j)};l.GN.prototype.OR=function(e,j,g){var P=l.kl;
P.bindTexture(P.TEXTURE_2D,e);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE);
P.texImage2D(P.TEXTURE_2D,0,P.ALPHA,j,g,0,P.ALPHA,P.UNSIGNED_BYTE,null)};l.GN.prototype.set=function(e){var j=l.kl;
j.bindTexture(j.TEXTURE_2D,this.FL);j.pixelStorei(j.UNPACK_ALIGNMENT,1);j.texImage2D(j.TEXTURE_2D,0,j.ALPHA,this.W,this.j,0,j.ALPHA,j.UNSIGNED_BYTE,e);
j.pixelStorei(j.UNPACK_ALIGNMENT,4)};l.GN.prototype.delete=function(){var e=l.kl;if(this.FL){e.deleteTexture(this.FL);
l.DF--;l.DA-=this.W*this.j}if(l.zw)if(l.zw)console.log("GL.Channels instances: "+l.DF+", memory: "+l.DA*4)};
l.DF=0;l.il=function(e,j,g){if(g==null)g=!1;l.DF++;l.DA+=e*j*4;if(l.zw)console.log("GL.Channels instances: "+l.DF+", memory: "+l.DA);
var P=l.kl;this.ZI_=g;this.W=e;this.j=j;this.FL=P.createTexture();this.Hj=null;this.OR(this.FL,e,j)};
l.il.prototype.set=function(e,j){var g=l.kl;g.disable(g.SCISSOR_TEST);g.bindTexture(g.TEXTURE_2D,this.FL);
if(e==null||e instanceof Uint8Array){var P=this.W*this.j;if(j==null||j.h()*10>P)g.texImage2D(g.TEXTURE_2D,0,g.RGBA,this.W,this.j,0,g.RGBA,g.UNSIGNED_BYTE,e);
else{var p=Z.V(j.h()*4);Z.Vy(e,new G(0,0,this.W,this.j),p,j);g.texSubImage2D(g.TEXTURE_2D,0,j.x,j.y,j.W,j.j,g.RGBA,g.UNSIGNED_BYTE,p)}}else g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,e)};
l.il.prototype.get=function(e){var j=l.kl;l.pW(this);j.readPixels(0,0,this.W,this.j,j.RGBA,j.UNSIGNED_BYTE,e)};
l.il.prototype.qz=function(e){if(e.tE())return;var j=l.kl;if(this.Hj==null){this.Hj=j.createTexture();
this.OR(this.Hj,this.W,this.j);l.DF++;l.DA+=this.W*this.j*4}j.bindFramebuffer(j.FRAMEBUFFER,l.OT);j.bindTexture(j.TEXTURE_2D,this.Hj);
if(e){var g=Math.max(e.x,0),P=Math.max(e.y,0);j.copyTexSubImage2D(j.TEXTURE_2D,0,g,P,g,P,e.W,e.j)}else j.copyTexImage2D(j.TEXTURE_2D,0,j.RGBA,0,0,this.W,this.j,0)};
l.il.prototype.OR=function(e,j,g){var P=l.kl;P.bindTexture(P.TEXTURE_2D,e);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.ZI_?P.LINEAR:P.NEAREST);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE);P.texImage2D(P.TEXTURE_2D,0,P.RGBA,j,g,0,P.RGBA,P.UNSIGNED_BYTE,null)};
l.il.prototype.delete=function(){var e=l.kl;if(this.FL){e.deleteTexture(this.FL);l.DF--;l.DA-=this.W*this.j*4}if(this.Hj){e.deleteTexture(this.Hj);
l.DF--;l.DA-=this.W*this.j*4}if(l.zw)if(l.zw)console.log("GL.Channels instances: "+l.DF+", memory: "+l.DA)};
l.il.prototype.clone=function(){var e=l.kl,j=new l.il(this.W,this.j);l.pW(this);e.bindTexture(e.TEXTURE_2D,j.FL);
e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.W,this.j,0);return j};l.sI={ZyX:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ZyY:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",no:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",Hq:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",NG:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Ht:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",CB:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",LR:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",Zag:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",HG:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",ZaI:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",qq:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",NH:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",vE:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",PW:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",P$:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",LY:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",yD:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",YV:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",sX:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn mi<0.0?0.0:(mi>1.0?1.0:mi);\t\t}"};
l.dh={jI:{},pP:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
l.dh.XX=function(e,j){var g=Wj.t$,P=[g.vx,g.tj,g.tP,g.tR,g.tF,g.tX,g.tY,g.R_].indexOf(e.type),p=l.dh.jI[e.type];
if(p==null)p=l.dh.jI[e.type]=new l.jI[P];p.Gy();p.GW(j,e);l.kl.drawArrays(l.kl.TRIANGLES,0,6)};l.jI=[];
l.jI[0]=function(){l.on.call(this);this.Yg={};var e="\t\t\tprecision mediump float;\t\t\t"+l.sI.CB+"\t\t\t"+l.sI.no+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[0].prototype=new l.on;l.jI[0].prototype.GW=function(e,j){var g={k:j.iy,z:j.Qd,e:j.Ea,Fl:Z.V(j.iy.length)},P=g.k.length;
if(this.Yg["m"+P]==null){this.Yg["m"+P]={ZHu:new l.il(P,1),C$:Z.V(P*4)}}var p=this.Yg["m"+P];Z.hT(g,p.C$,0);
var v=p.ZHu;v.set(p.C$);this.ii(["source","map","toGray","presLum"]);var x=l.kl,A=this.os;x.uniform1f(A.toGray,j.Ir?1:0);
x.uniform1f(A.presLum,j.IG?1:0);this.SB([A.source,e,A.map,v.FL])};l.jI[1]=function(){l.on.call(this);
this.ZeQ=new l.il(256,1);this.ZuF=Z.V(256*4);var e="\t\t\t\tprecision mediump float;\t\t\t\t"+l.sI.P$+"\t\t\t\t"+l.sI.vE+"\t\t\t\t"+l.sI.PW+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[1].prototype=new l.on;l.jI[1].prototype.GW=function(e,j){Z.hT({k:j.ZCj,z:j.YE,e:j.Zge,Fl:Z.V(256)},this.ZuF);
this.ZeQ.set(this.ZuF);this.ii(["source","map","cfa","cfb","colorize"]);var g=l.kl,P=this.os;g.uniform1f(P.cfa,j.Zgu);
g.uniform1f(P.cfb,j.Yd);g.uniform1i(P.colorize,j.ZgD);this.SB([P.source,e,P.map,this.ZeQ.FL])};l.jI[2]=function(){l.on.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+l.sI.P$+"\t\t\t"+l.sI.LY+"\t\t\t"+l.sI.yD+"\t\t\t"+l.sI.vE+"\t\t\t"+l.sI.PW+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 hsl = rgbToHsv(src.rgb); \t\t\t\tfloat h=hsl.r, s=hsl.g, l=hsl.b; \t\t\t\t\t\t\t\tfloat sk0 = 0.0, sk1 = 45.0/360.0; \t\t\t\tfloat skin = (h<sk1) ? cos((PI/2.0)*(h-sk1/2.0)/(sk1/2.0)) : 0.0; \t\t\t\t\t\t\t\ts = s + 0.2 * (1.0-0.4*skin) * vib * max(0.0, sin(s*PI)); \t\t\t\t\t\t\t\ts = s * (1.0 + sat); \t\t\t\t\t\t\t\ts = max(0.0, min(1.0, s));\t\t\t\tsrc.rgb = hsvToRgb(h,s,l);\t\t\t\tgl_FragColor = vec4(src.rgb,src.w); \t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[2].prototype=new l.on;l.jI[2].prototype.GW=function(e,j){this.ii(["source","vib","sat"]);
var g=l.kl,P=this.os;g.uniform1f(P.vib,j.im[0]/100);g.uniform1f(P.sat,j.im[1]/100);this.SB([P.source,e])};
l.jI[3]=function(){l.on.call(this);var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[3].prototype=new l.on;l.jI[3].prototype.GW=function(e,j){this.ii(["source","trf"]);
var g=l.kl,P=this.os;g.uniformMatrix4fv(P.trf,!1,new Float32Array(Z.qo.eQ(j.YG)));this.SB([P.source,e])};
l.jI[4]=function(){l.on.call(this);var e="\t\t\tprecision mediump float; \t\t\t"+l.sI.YV+"\t\t\t"+l.sI.P$+"\t\t\t"+l.sI.PW+"\t\t\t"+l.sI.vE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+scl*shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + scl*shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + scl*shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[4].prototype=new l.on;l.jI[4].prototype.GW=function(e,j){this.ii(["source","mnm","mxm","shift","lim"]);
var g=l.kl,P=this.os;g.uniform3fv(P.mnm,new Float32Array(j.VT));g.uniform3fv(P.mxm,new Float32Array(j.VH));
g.uniform3fv(P.shift,new Float32Array(j.shift));g.uniform1f(P.lim,j.Kq);this.SB([P.source,e])};l.jI[5]=function(){l.on.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+l.sI.no+"\t\t\t"+l.sI.Hq+"\t\t\t"+l.sI.NG+"\t\t\t"+l.sI.vE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[5].prototype=new l.on;l.jI[5].prototype.GW=function(e,j){this.ii(["source","cfs"]);
var g=l.kl,P=this.os;g.uniform3fv(P.cfs,j.TJ);this.SB([P.source,e])};l.jI[6]=function(){l.on.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+l.sI.P$+"\t\t\t"+l.sI.Hq+"\t\t\t"+l.sI.NG+"\t\t\t"+l.sI.vE+"\t\t\t"+l.sI.PW+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[6].prototype=new l.on;l.jI[6].prototype.GW=function(e,j){this.ii(["source","wght","prms"]);
var g=l.kl,P=this.os,p=[j.wm,j.ZgH,j.CB,j.Zgp,j.aq,j.Zgh];g.uniform1fv(P.wght,new Float32Array(j.Znx));
g.uniform1fv(P.prms,new Float32Array(p));this.SB([P.source,e])};l.jI[7]=function(){l.on.call(this);this.YB={};
var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tfloat iN = 1.0/N; \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Jt(e,l.dh.pP)};l.jI[7].prototype=new l.on;l.jI[7].prototype.GW=function(e,j){this.ii(["source","lut","N"]);
var g=l.kl,P=this.os,p=j.Am,v=j.Nr;if(this.YB["m"+p]==null)this.YB["m"+p]=new l.il(p,p*p);var x=this.YB["m"+p];
x.set(v);g.uniform1f(P.N,p);this.SB([P.source,e,P.lut,x.FL]);g.activeTexture(g.TEXTURE1);var A=g.LINEAR;
g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,A);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,A);
g.activeTexture(g.TEXTURE0)};l.filter={pc:{},pP:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",Ns:0,N$:1,xo:2,NO:3};
l.filter.XX=function(e,j){var g=l.filter,P=[g.Ns,g.N$,g.xo,g.NO].indexOf(e.type),p=l.filter.pc[e.type];
if(p==null)p=l.filter.pc[e.type]=new l.pc[P];p.Gy();p.GW(j,e);l.kl.drawArrays(l.kl.TRIANGLES,0,6)};l.pc=[0,0,0,0,0,0,0];
l.pc[3]=function(){l.on.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Jt(V.GX(e),V.GX(l.filter.pP))};l.pc[3].prototype=new l.on;l.pc[3].prototype.GW=function(e,j){this.ii("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var g=l.kl,P=this.os;g.uniform2fv(P.iwh,j.sv);g.uniform1f(P.tdep,j.ZHg);g.uniform1f(P.rrad,j.ZHE);g.uniform2fv(P.spec,j.ZHY);
g.uniform3fv(P.nois,j.ZHR);g.uniformMatrix4fv(P.poly0,!1,j.ZHh);g.uniformMatrix4fv(P.poly1,!1,j.ZHM);
this.SB([P.source,e])};l.pc[0]=function(){l.on.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Jt(V.GX(e),V.GX(l.filter.pP))};l.pc[0].prototype=new l.on;l.pc[0].prototype.GW=function(e,j){this.ii(["source","iwh","ld","shine"]);
var g=l.kl,P=this.os;g.uniform2fv(P.iwh,j.sv);g.uniform3fv(P.ld,j.ZEz);g.uniform1f(P.shine,j.ZEs);this.SB([P.source,e,P.tang,j.X_])};
l.pc[1]=function(){l.on.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Jt(V.GX(e),V.GX(l.filter.pP))};l.pc[1].prototype=new l.on;l.pc[1].prototype.GW=function(e,j){this.ii(["source","iwh","isc","bristle"]);
var g=l.kl,P=this.os;g.uniform2fv(P.iwh,j.sv);g.uniform1f(P.isc,j.ZEu);g.uniform1f(P.bristle,j.ZEg);
this.SB([P.source,e])};l.pc[2]=function(){l.on.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Jt(V.GX(e),V.GX(l.filter.pP))};l.pc[2].prototype=new l.on;l.pc[2].prototype.GW=function(e,j){this.ii(["source","tang","iwh","sigma","expo"]);
var g=l.kl,P=this.os;g.uniform2fv(P.iwh,j.sv);g.uniform1f(P.sigma,j.ZOh);g.uniform1f(P.expo,j.ZO_);this.SB([P.source,e,P.tang,j.X_]);
var p=g.LINEAR;g.activeTexture(g.TEXTURE0);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,p);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,p);
g.activeTexture(g.TEXTURE0)};l.Y={};l.Y.nb={};l.Y.nw=null;l.Y.nm=null;l.Y.dr=null;l.Y.Np=function(e,j,g,P,p,v,x,A){if(A==null)A=Wi.$a();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(e)==-1){x=x*A.fill;A.fill=1;A.style=!1}var f=e+(A.su?"1":"");
if(l.Y.nb[f]==null)l.Y.nb[f]=new l.Y.Tq(e,A.su!=null);var S=l.Y.nb[f],F=g.zx(p).zx(v);F.offset(-p.x,-p.y);
if(F.tE())return;var m=l.kl;l.pW(P,F);P.qz(F);S.Gy();S.GW(j.FL,P.Hj,l.Gv(g,p),x,A.fill,A.style?1:0,A.sV?1:0,A.su?new Float32Array(A.su):null);
m.drawArrays(m.TRIANGLES,0,6)};l.Y.Oh=function(e,j,g,P,p,v,x,A,f,S){if(l.Y.nw==null)l.Y.nw=new l.Y.UV(!0,!0);
if(l.Y.nm==null)l.Y.nm=new l.Y.UV(!0,!1);if(l.Y.dr==null)l.Y.dr=new l.Y.UV(!1,!0);var F=S?1:0,m=e?p?l.Y.nw:l.Y.nm:l.Y.dr,R=j?j.zx(P).zx(A):P.zx(A);
if(R.tE())return;R.offset(-P.x,-P.y);var M=l.kl;l.pW(g,R);g.qz(R);m.Gy();if(e==null)m.GW(null,g.Hj,p.FL,l.Gv(P,P),l.Gv(v,P),x/255,f,F);
else if(p)m.GW(e.FL,g.Hj,p.FL,l.Gv(j,P),l.Gv(v,P),x/255,f,F);else m.GW(e.FL,g.Hj,null,l.Gv(j,P),null,x/255,f,F);
M.drawArrays(M.TRIANGLES,0,6)};l.Y.ZDK=function(e,j,g){if(l.Y.ZnB==null)l.Y.ZnB=new l.Y.df;var P=l.Y.ZnB,p=new G(0,0,e.W,e.j),v=l.kl;
l.pW(j);j.qz(p);P.Gy();P.GW(p,e.FL,j.Hj,g.FL);v.drawArrays(v.TRIANGLES,0,6)};l.Y.Mh={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
l.Y.Tq=function(e,j){l.on.call(this);var g="\t\t\tprecision mediump float;\t\t\t"+l.sI.no+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(j?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+l.sI.Ht+"\t\t\t"+l.sI.CB+"\t\t\t"+l.sI.LR+"\t\t\t"+l.sI.ZyX+"\t\t\t"+l.sI.ZyY+"\t\t\t"+l.sI.Zag+"\t\t\t"+l.sI.HG+"\t\t\t"+l.sI.ZaI+"\t\t\t"+l.sI.qq+"\t\t\t"+l.sI.hash+"\t\t\t"+(j?l.sI.sX:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+l.Y.Mh[e]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",P="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(e=="diss")g+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else g+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(j?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Jt(g,P)};l.Y.Tq.prototype=new l.on;l.Y.Tq.prototype.GW=function(e,j,g,P,p,v,x,A){this.ii("srct alpha source target fill style keepBGA blIf".split(" "));
var f=l.kl,S=this.os;f.uniform4fv(S.srct,g);f.uniform1f(S.alpha,P);f.uniform1f(S.fill,p);f.uniform1f(S.style,v);
f.uniform1f(S.keepBGA,x);if(A)f.uniform4fv(S.blIf,A);this.SB([S.source,e,S.target,j])};l.Y.UV=function(e,j){l.on.call(this);
this.Zvj=e;this.Yy=j;var g="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+l.sI.NH+"\t\t\t"+l.sI.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(e?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(j?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(e?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tgl_FragColor =  vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t}",P="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Jt(g,P)};l.Y.UV.prototype=new l.on;l.Y.UV.prototype.GW=function(e,j,g,P,p,v,x,A){if(this.Yy)this.ii("srct wrct wcolor awg dissv source target weight".split(" "));
else this.ii(["srct","awg","dissv","source","target"]);var f=l.kl,S=this.os;f.uniform4fv(S.srct,P);if(this.Yy){f.uniform4fv(S.wrct,p);
f.uniform1f(S.wcolor,v)}f.uniform1f(S.awg,x);f.uniform1f(S.dissv,A);var F=[S.source,e,S.target,j];if(this.Yy)F.push(S.weight,g);
this.SB(F)};l.Y.df=function(){l.on.call(this);var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",j="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Jt(e,j)};l.Y.df.prototype=new l.on;l.Y.df.prototype.GW=function(e,j,g,P){this.ii(["rct","prev","next","alpha"]);
var p=l.kl,v=this.os;p.uniform4fv(v.rct,[0,0,1,1]);this.SB([v.prev,j,v.next,g,v.alpha,P])};function VK(){}VK.aW=function(e){var j=new Uint8Array(e),g=0,P={og:[],Zk:[],list:[]},p=T.JO(j,g);
g+=2;if(p<=2){return VK.Za$(j)}var v=T.JO(j,g);g+=2;var x=T.ko(j,g,8);g+=8;var A=T.o(j,g);g+=4;if(A>0)P.og=VK.Nj(j,g,A,v,p);
g+=A;var f=T.ko(j,g,8);g+=8;var S=T.o(j,g);g+=4;if(S>0)P.Zk=fz.Ow(j,g,S);g+=S;var F=T.ko(j,g,8);g+=8;
var m=T.o(j,g);g+=4;if(m>0){var R={};Za.Us(j,R,g+4);P.list=R.Brsh.v}g+=m;var M=P.list;for(var b=0;b<M.length;
b++){eC.kq.check(M[b].v)}return P};VK.Xb=function(e,j){e.v.Nm.v=j};VK.Za$=function(e){var j={og:[],Zk:[],list:[]},g=0,P=T.JO(e,g);
g+=2;var p=T.JO(e,g);g+=2;for(var v=0;v<p;v++){var x=T.JO(e,g);g+=2;var A=T.o(e,g);g+=4;var f=g;if(x==2){var S={};
j.og.push(S);var F=T.o(e,f);f+=4;var m=T.JO(e,f);f+=2;if(P==2){var R=T.AE(e,f);f+=4+R.length*2+2}S.id=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f";
f++;f+=8;S.B=T.mz(e,f);f+=16;var M=T.JO(e,f);f+=2;var b=e[f];f++;S.channel=vi.Uc(!1,M,e,S.B.W,S.B.j,f,b);
var s=eC.gE(S.id),K=s.Brsh.v;K.Dmtr.v.val=S.B.W;K.Spcn.v.val=m;j.list.push({t:"Objc",v:s})}g+=A}return j};
VK.Be=function(e){var j=new Zc,g=0,P=0;T.Mw(j,g,6);g+=2;T.Mw(j,g,2);g+=2;T.g$(j,g,"8BIMsamp");g+=8;g+=4;
P=g;g=VK.NX(j,g,e.og);T.kB(j,P-4,g-P);T.g$(j,g,"8BIMpatt");g+=8;g+=4;P=g;g=fz.pf(j,g,e.Zk);T.kB(j,P-4,g-P);
var p={classID:"null",Brsh:{t:"VlLs",v:e.list}};T.g$(j,g,"8BIMdesc");g+=8;g+=4;P=g;T.kB(j,g,16);g+=4;
g+=Za.GA(j,p,g);T.kB(j,P-4,g-P);return j.data.slice(0,g).buffer};VK.Nj=function(e,j,g,P,p){var v=T.o,x=T.mz,A=j+g,f=[];
while(j<A){var S={};f.push(S);var F=v(e,j);j+=4;var m=j,R=T.GQ(e,j);j+=R.length;S.id=R.kg;if(P==1){j+=9;
S.B=x(e,j);j+=16}else{j+=7;var M=v(e,j);j+=4;S.B=x(e,j);j+=16;var b=v(e,j);j+=4;j+=b*4;var s=v(e,j);
j+=4;var K=v(e,j);j+=4;var X=x(e,j);j+=16}var d=T.JO(e,j);j+=2;var W=e[j];j+=1;S.channel=vi.Uc(!1,d,e,S.B.W,S.B.j,j,W);
if(F%4!=0)F+=4-F%4;j=m+F}return f};VK.NX=function(e,j,g){var P=T.kB,p=T.ce;for(var v=0;v<g.length;v++){var x=g[v],A=j+4,S=56,m=1;
j+=4;T.Wn(e,j,x.id);j+=x.id.length+2;e.JF(j,1);e.data[j]=1;j+=3;P(e,j,3);j+=4;var f=j;j+=4;p(e,j,x.B);
j+=16;P(e,j,S);j+=4;j+=S*4;P(e,j-4,1);var F=j;j+=4;P(e,j,8);j+=4;p(e,j,x.B);j+=16;T.Mw(e,j,8);j+=2;e.JF(j,1);
e.data[j]=m;j++;e.JF(j,x.B.h()*2);j=vi.py(x.channel,e.data,x.B.W,x.B.j,j,m);e.JF(j,8);j+=8;var R=j-A;
P(e,A-4,R);P(e,f,R-49);P(e,F,R-305);if(R%4!=0)j+=4-R%4}return j};function Ze(){}Ze.aW=function(e){var j=new Uint8Array(e),g=[],P=0,p=T.JO(j,P);
P+=2;if(p!=4){throw"Unknown version of curves: "+p}var v=T.JO(j,P);P+=2;for(var x=0;x<v;x++){var A=Ze.NY(j,P);
P+=2+2*A.length;g.push(A)}if(P==j.length)return g;var f=T.ko(j,P,4);P+=4;var S=T.JO(j,P);P+=2;var F=T.JO(j,P);
P+=2;if(F!=0)throw"extra curves for channels";return g};Ze.UA=function(e,j,g){var P=j,p=[],v=e[j];j+=3;
var x=T.o(e,j);j+=4;for(var A=0;A<4;A++){var f=x>>>A&1;if(f){if(v==0){var S=Ze.NY(e,j);j+=2+2*S.length}else{var S=Ze.ZiR(e,j);
j+=256}p.push(S)}else p.push(v==0?[0,0,255,255]:Ze.Za_())}var F=ZW.WX("curv");for(var A=0;A<4;A++){if(v==0){var m=p[A],R=[];
for(var M=0;M<m.length;M+=2)R.push(Z.jM.oM(m[M],m[M+1],!0));Ze.ol(F,A,R)}else Ze.ol(F,A,p[A])}return F};
Ze.Za_=function(){var e=[];for(var j=0;j<256;j++)e.push(j);return e};Ze.ol=function(e,j,g){var P=eg.dx("CrvA",j);
if(g.length<256)P.Crv={t:"VlLs",v:g};else{P.Mpng={t:"VlLs",v:[]};for(var p=0;p<256;p++)P.Mpng.v[p]={t:"long",v:g[p]}}P={t:"Objc",v:P};
var v=e.Adjs.v,x=eg.qG(v,j);if(x==-1)v.push(P);else v[x]=P};Ze._v=function(e,j){var g=e.Adjs.v,P=eg.qG(g,j);
if(P==-1){if(g.length==0||g[0].v.Crv)return[Z.jM.oM(0,0,!0),Z.jM.oM(255,255,!0)];var p=[];for(var v=0;
v<256;v++)p.push(v);return p}var x=g[P].v,A=x.Crv;if(A)return A.v;var p=[];for(var v=0;v<256;v++)p.push(x.Mpng.v[v].v);
return p};Ze.NY=function(e,j){var g=[],P=T.JO(e,j);j+=2;for(var p=0;p<P;p++){var v=T.JO(e,j);j+=2;var x=T.JO(e,j);
j+=2;g.push(x,v)}return g};Ze.Zix=function(e,j,g){var P=g.length/2;T.Mw(e,j,P);j+=2;for(var p=0;p<P;
p++){T.Mw(e,j,g[p*2+1]);j+=2;T.Mw(e,j,g[p*2+0]);j+=2}};Ze.ZiR=function(e,j){var g=[];for(var P=0;P<256;
P++)g.push(e[j+P]);return g};Ze.ZNr=function(e,j,g){e.JF(j,256);for(var P=0;P<256;P++)e.data[j+P]=g[P]};
Ze.Uo=function(e,j,g){var P=[];for(var p=0;p<4;p++){var v=Ze._v(g,p);if(v.length==256)P.push(v);else{var x=[];
for(var A=0;A<v.length;A++)x.push(v[A].v.Hrzn.v,v[A].v.Vrtc.v);P.push(x)}}var f=j,S=P[0].length==256?1:0;
e.JF(j,3);e.data[j]=S;e.data[j+1]=0;e.data[j+2]=1;j+=3;T.kB(e,j,15);j+=4;for(var p=0;p<4;p++){var F=P[p];
if(S==0){Ze.Zix(e,j,F);j+=2+2*F.length}else{Ze.ZNr(e,j,F);j+=256}}return j-f};function Zq(){}Zq.UA=function(e,j,g){var P={},p=T.JO(e,j);
j+=2;P.lq=e[j]==1;j++;j++;P.iz=[T.Fm(e,j),T.Fm(e,j+2),T.Fm(e,j+4)];j+=6;P.iP=[T.Fm(e,j),T.Fm(e,j+2),T.Fm(e,j+4)];
j+=6;P.sk=[];for(var v=0;v<6;v++){var x={};x.IE=[T.Fm(e,j),T.Fm(e,j+2),T.Fm(e,j+4),T.Fm(e,j+6)];j+=8;
x.jL=[T.Fm(e,j),T.Fm(e,j+2),T.Fm(e,j+4)];j+=6;P.sk.push(x)}var A=ZW.WX("hue2"),f=P;if(A.Clrz==null)A.Clrz={t:"bool",v:!1};
A.Clrz.v=f.lq;for(var v=0;v<7;v++){var S=v==0?f.lq?f.iz:f.iP:f.sk[v-1];Zq.ol(A,v,S)}return A};Zq.ZNV=function(e){return{classID:"Hst2",H:{t:"long",v:e[0]},Strt:{t:"long",v:e[1]},Lght:{t:"long",v:e[2]}}};
Zq.qG=function(e,j){for(var g=0;g<e.length;g++){var P=e[g].v.LclR;if(j==0&&P==null||P!=null&&P.v==j)return g}return-1};
Zq.ol=function(e,j,g){var P=j==0?g:g.jL,p=Zq.ZNV(P);if(j!=0){var v=g.IE;p.LclR={t:"long",v:j},p.BgnR={t:"long",v:v[0]};
p.BgnS={t:"long",v:v[1]};p.EndS={t:"long",v:v[2]};p.EndR={t:"long",v:v[3]}}p={t:"Objc",v:p};var x=e.Adjs.v,A=Zq.qG(x,j);
if(A==-1)x.push(p);else x[A]=p};Zq._v=function(e,j){var g=e.Adjs.v,P=Zq.qG(g,j);if(P==-1){if(j==0)return[0,0,0];
else return[{IE:[315,345,15,45],jL:[0,0,0]},{IE:[15,45,75,105],jL:[0,0,0]},{IE:[75,105,135,165],jL:[0,0,0]},{IE:[135,165,195,225],jL:[0,0,0]},{IE:[195,225,255,285],jL:[0,0,0]},{IE:[255,285,315,345],jL:[0,0,0]}][j-1]}var p=g[P].v,v=[p.H.v,p.Strt.v,p.Lght.v];
if(j==0)return v;return{jL:v,IE:[p.BgnR.v,p.BgnS.v,p.EndS.v,p.EndR.v]}};Zq.Uo=function(e,j,g){var P={lq:g.Clrz.v,sk:[]};
P.iz=P.iP=Zq._v(g,0);for(var p=1;p<7;p++)P.sk.push(Zq._v(g,p));var v=2+2+12+6*14,x=e.data;e.JF(j,v);
T.FG(x,j,2);j+=2;x[j]=P.lq?1:0;j++;j++;T.Pg(x,j+0,P.iz[0]);T.Pg(x,j+2,P.iz[1]);T.Pg(x,j+4,P.iz[2]);j+=6;
T.Pg(x,j+0,P.iP[0]);T.Pg(x,j+2,P.iP[1]);T.Pg(x,j+4,P.iP[2]);j+=6;for(var p=0;p<6;p++){var A=P.sk[p].IE,f=P.sk[p].jL;
T.Pg(x,j+0,A[0]);T.Pg(x,j+2,A[1]);T.Pg(x,j+4,A[2]);T.Pg(x,j+6,A[3]);j+=8;T.Pg(x,j+0,f[0]);T.Pg(x,j+2,f[1]);
T.Pg(x,j+4,f[2]);j+=6}return v};function eg(){}eg.aW=function(e){var j=new Uint8Array(e),g=2,P=[];for(var p=0;
p<29;p++){var v=[];P.push(v);for(var x=0;x<5;x++)v.push(T.JO(j,g+p*10+x*2))}g+=29*10;if(g<j.length){var A=T.ko(j,g,4);
g+=4;var f=T.JO(j,g);g+=2;var S=T.JO(j,g);g+=2;var F=S-29;for(var p=0;p<F;p++){var v=[];P.push(v);for(var x=0;
x<5;x++)v.push(T.JO(j,g+p*10+x*2))}}var m=ZW.WX("levl");for(var p=0;p<4;p++)eg.ol(m,p,P[p]);return m};
eg.dx=function(e,j){var g=["Cmps","Rd","Grn","Bl"],P={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g[j]}}]};
return{classID:e,Chnl:P}};eg.qG=function(e,j){var g={Cmps:0,Rd:1,Grn:2,Bl:3};for(var P=0;P<e.length;
P++){var p=e[P].v,v=g[p.Chnl.v[0].v.enum];if(v==j)return P}return-1};eg.ol=function(e,j,g){var P=eg.dx("LvlA",j);
P.Inpt={t:"VlLs",v:[{t:"long",v:g[0]},{t:"long",v:g[1]}]};P.Otpt={t:"VlLs",v:[{t:"long",v:g[2]},{t:"long",v:g[3]}]};
P.Gmm={t:"doub",v:g[4]/100};P={t:"Objc",v:P};var p=e.Adjs.v,v=eg.qG(p,j);if(v==-1)p.push(P);else p[v]=P};
eg._v=function(e,j){var g=[0,255,0,255,100],P=e.Adjs.v,p=eg.qG(P,j);if(p==-1)return g;var v=P[p].v;if(v.Inpt){g[0]=v.Inpt.v[0].v;
g[1]=v.Inpt.v[1].v}if(v.Otpt){g[2]=v.Otpt.v[0].v;g[3]=v.Otpt.v[1].v}if(v.Gmm){g[4]=Math.round(v.Gmm.v*100)}return g};
eg.Be=function(e,j){var g=[],p=0;for(var P=0;P<4;P++)g.push(eg._v(j,P));while(g.length<29)g.push([0,255,0,255,100]);
e.JF(0,2+10*29);T.FG(e.data,p,2);p+=2;for(var P=0;P<29;P++){var v=g[P];for(var x=0;x<5;x++)T.FG(e.data,p+P*10+x*2,v[x])}p+=29*10;
if(g.length==29)return p;e.JF(p,8+10*(g.length-29));T.Lc(e.data,p,"Lvls");p+=4;T.FG(e.data,p,3);p+=2;
T.FG(e.data,p,g.length);p+=2;var A=g.length-29;for(var P=0;P<A;P++){var v=g[29+P];for(var x=0;x<5;x++)T.FG(e.data,p+P*10+x*2,v[x])}p+=10*A;
return p};function JC(){}JC.aW=function(e){var j=new Uint8Array(e),g=2,P={lL:[],OI:[]},p=T.ko(j,g,4);
g+=4;var v=T.JO(j,g);g+=2;var x=T.o(j,g);g+=4;P.lL=fz.Ow(j,g,x);g+=x;var A=T.o(j,g);g+=4;for(var f=0;
f<A;f++){var S=T.o(j,g);g+=4;var F=g,m={Il:{},hf:{}};P.OI.push(m);g+=4;g+=Za.Us(j,m.Il,g);g+=4;g+=Za.Us(j,m.hf,g);
g=F+S;var R=m.hf.blendOptions,M=m.hf.Lefx;if(R&&Object.keys(R.v).length>1){}if(M){if(M.v.masterFXSwitch==null)M.v.masterFXSwitch={t:"bool",v:!0};
UN.pd(M.v)}}return P};JC.Xb=function(e,j){e.Il.Nm.v=j};JC.Be=function(e){var j=new Zc,g=0;T.Mw(j,g,2);
g+=2;T.g$(j,g,"8BSL");g+=4;T.Mw(j,g,3);g+=2;var P=g;g+=4;g=fz.pf(j,g,e.lL);T.kB(j,P,g-P-4);var p=e.OI.length;
T.kB(j,g,p);g+=4;for(var v=0;v<p;v++){g+=4;var x=g,A=e.OI[v];T.kB(j,g,16);g+=4;g+=Za.GA(j,A.Il,g);var f=A.hf.Lefx;
if(f){A.hf.Lefx=JSON.parse(JSON.stringify(f));UN.dy(A.hf.Lefx.v)}T.kB(j,g,16);g+=4;g+=Za.GA(j,A.hf,g);
if(f)A.hf.Lefx=f;T.kB(j,x-4,g-x)}return j.data.slice(0,g).buffer};function UR(){}UR.UA=function(e,j,g){var P=T.JO(e,j);
j+=2;var p={};p.Ya=T.JO(e,j)==1;j+=2;p.Yj=[];for(var v=0;v<10;v++){var x=[];p.Yj.push(x);for(var A=0;
A<4;A++)x.push(T.Fm(e,j+A*2));j+=8}var f=ZW.WX("selc");f.Mthd.v.CrcM=p.Ya?"Absl":"Rltv";for(var v=1;
v<10;v++)UR.ol(f,v-1,p.Yj[v]);return f};UR.OM="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
UR.dx=function(e,j){var g=["Cmps","Rd","Grn","Bl"],P={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g[j]}}]};
return{classID:e,Chnl:P}};UR.qG=function(e,j){var g=UR.OM;for(var P=0;P<e.length;P++){var p=e[P].v,v=g.indexOf(p.Clrs.v.Clrs);
if(v==j)return P}return-1};UR.ol=function(e,j,g){var P=["Cyn","Mgnt","Ylw","Blck"],p={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:UR.OM[j]}}};
for(var v=0;v<4;v++)p[P[v]]={t:"UntF",v:{type:"#Prc",val:g[v]}};p={t:"Objc",v:p};var x=e.ClrC.v,A=UR.qG(x,j);
if(A==-1)x.push(p);else x[A]=p};UR._v=function(e,j){var g=[0,0,0,0],P=e.ClrC.v,p=UR.qG(P,j);if(p==-1)return g;
var v=["Cyn","Mgnt","Ylw","Blck"];for(var x=0;x<4;x++)if(P[p].v[v[x]])g[x]=P[p].v[v[x]].v.val;return g};
UR.Uo=function(e,j,g){var P={Ya:g.Mthd.v.CrcM=="Absl",Yj:[[0,0,0,0]]};for(var p=0;p<9;p++)P.Yj.push(UR._v(g,p));
e.JF(j,84);T.FG(e.data,j,1);j+=2;T.FG(e.data,j,P.Ya?1:0);j+=2;for(var p=0;p<10;p++){var v=P.Yj[p];for(var x=0;
x<4;x++)T.Pg(e.data,j+x*2,v[x]);j+=8}return 84};function eU(){}eU.WX=function(){return{jm:new G(0,0,50,50),Il:"",pV:"play",F:Z.f.vC.ME([.1,.1,.9,.5,.1,.9],0)}};
eU.aW=function(e){e=new Uint8Array(e);var j=0,g=[],P=Date.now(),p=T.ko(e,0,4);j+=4;var v=T.o(e,j);j+=4;
var x=T.o(e,j);j+=4;for(var A=0;A<x;A++){var f=T.AE(e,j);j+=f.length*2+4+2;if((f.length&1)==0)j+=2;var S=T.o(e,j);
j+=4;var F=T.o(e,j);j+=4;var m=j,R=T.GQ(e,m).kg;m+=R.length+1;var M=T.mz(e,m);m+=16;var b=eU.Ob(e,m,F-(m-j)),s=Z.f.Mq(b),K=Z.g.XI(s),X=1/K.W,d=1/K.j;
Z.f.Ly(b,new WE(X,0,0,d,-K.x*X,-K.y*d));g.push({pV:f,Il:R,F:b,jm:M});j+=F}return g};eU.Xb=function(e,j){e.pV=j};
eU.Be=function(e){var j=new Zc,g=0;T.g$(j,g,"cush");g+=4;T.kB(j,g,2);g+=4;T.kB(j,g,e.length);g+=4;for(var P=0;
P<e.length;P++){var p=e[P],v=p.pV+"\0";T.j$(j,g,v);g+=4+v.length*2;if((v.length&1)==1)g+=2;T.kB(j,g,1);
g+=4;g+=4;var x=g;T.Wn(j,g,p.Il);g+=p.Il.length+1;T.ce(j,g,p.jm);g+=16;j.JF(g,p.F.length*26);eU.dJ(j.data,g,p.F,1,1);
g+=p.F.length*26;var A=g-x;if((A&3)!=0)A+=4-(A&3);T.kB(j,x-4,A);g=x+A}return j.data.slice(0,g).buffer};
eU.Ob=function(e,j,g,P,p){if(P==null)P=1;if(p==null)p=1;var v=T.Fm,x=T.Zzw,A=[],f=Math.floor(g/26);for(var S=0;
S<f;S++){var F=j+S*26,m={},R=0;A.push(m);m.type=v(e,F);F+=2;if(m.type==6){R=24}if(m.type==8){m.all=v(e,F);
F+=2;R=22}if(m.type==0||m.type==3){m.length=v(e,F);F+=2;m.WF=v(e,F);F+=2;m.Tu=v(e,F);F+=2;m.sf=T.o(e,F);
F+=4;m.sW=T.o(e,F);F+=4;R=10}if(m.type==1||m.type==2||m.type==4||m.type==5){var M,b;b=x(e,F);F+=4;M=x(e,F);
F+=4;m.Li=new Uc(M*P,b*p);b=x(e,F);F+=4;M=x(e,F);F+=4;m.G=new Uc(M*P,b*p);b=x(e,F);F+=4;M=x(e,F);F+=4;
m.ap=new Uc(M*P,b*p);R=0}for(var s=0;s<R;s++)if(e[F+s]!=0){console.log("Unexpected non-zero byte!",m,s,e[F+s])}}return A};
eU.dJ=function(e,j,g,P,p){var v=T.Pg,x=T.tN,A=g.length;for(var f=0;f<A;f++){var S=j+f*26,F=g[f];v(e,S,F.type);
S+=2;if(F.type==6){}if(F.type==8)v(e,S,F.all);if(F.type==0||F.type==3){v(e,S,F.length);S+=2;v(e,S,F.WF);
S+=2;v(e,S,F.Tu);S+=2}if(F.type==1||F.type==2||F.type==4||F.type==5){x(e,S,F.Li.y/p);S+=4;x(e,S,F.Li.x/P);
S+=4;x(e,S,F.G.y/p);S+=4;x(e,S,F.G.x/P);S+=4;x(e,S,F.ap.y/p);S+=4;x(e,S,F.ap.x/P);S+=4}}};function eV(){}eV.aW=function(e){var j=new Uint8Array(e),g=[],P=0;
P=eV.NR(j,P,g);if(P+3<j.length){g=[];P=eV.NR(j,P,g)}return g};eV.NR=function(e,j,g){var P=T.JO,p=T.Fm,v=P(e,j);
j+=2;var x=P(e,j);j+=2;for(var A=0;A<x;A++){var f=eV.oQ(e,j);j+=10;if(v==2){f.YN=T.AE(e,j);j+=4+f.YN.length*2+2}g.push(f)}return j};
eV.oQ=function(e,j){var g=T.JO,P=T.Fm,p=g(e,j),M=null;j+=2;var v=g(e,j);j+=2;var x=g(e,j);j+=2;var A=g(e,j);
j+=2;var f=g(e,j);j+=2;var S=1/65535,F=255/65535,m=100/65535,R=255/1e4;if(p==0)M={k:v*F,z:x*F,e:A*F};
else if(p==1){M=Z.yD(v*S,x*S,A*S);M.k*=255;M.z*=255;M.e*=255}else if(p==2)M=Z.c.W_({classID:"CMYC",Cyn:{t:"doub",v:100-v*m},Mgnt:{t:"doub",v:100-x*m},Ylw:{t:"doub",v:100-A*m},Blck:{t:"doub",v:100-f*m}});
else if(p==7){var b=Z.QR(v/100,P(e,j-6)/100,P(e,j-4)/100);M=b}else if(p==8){M={k:255-v*R,z:255-x*R,e:255-A*R}}else throw"e "+p+", ";
return M};eV.Be=function(e){var j=new Zc,g=0,P=T.Mw;P(j,g,2);g+=2;P(j,g,e.length);g+=2;for(var p=0;p<e.length;
p++){var v=e[p];j.JF(g,10);eV.Uh(j.data,g,v);g+=10;var x=(v.YN?v.YN:"")+"\0";T.j$(j,g,x);g+=4+x.length*2}return j.data.slice(0,g).buffer};
eV.Xb=function(e,j){e.YN=j};eV.Uh=function(e,j,g){var P=65535/255,p=T.FG;p(e,j,0);p(e,j+2,Math.round(g.k*P));
p(e,j+4,Math.round(g.z*P));p(e,j+6,Math.round(g.e*P));p(e,j+8,0)};function UQ(){}UQ.aW=function(e){var j=new Uint8Array(e),g=4,P={};
P.de=T.AE(j,g);g+=4+P.de.length*2+2;P.exp=j[g++]==1;P.A=[];var p=T.o(j,g);g+=4;for(var v=0;v<p;v++){var x={};
P.A.push(x);x.VS=T.JO(j,g);g+=2;x.shift=j[g++]==1;x.Znj=j[g++]==1;x.color=T.JO(j,g);g+=2;x.de=T.AE(j,g);
g+=4+x.de.length*2+2;x.exp=j[g++]==1;x.A=[];var ZJ=T.o(j,g);g+=4;for(var A=0;A<ZJ;A++){var f={};x.A.push(f);
f.exp=j[g++]==1;f.p=j[g++]==1;f.Znh=j[g++]==1;f.Zdw=j[g++];var S=T.ko(j,g,4);g+=4;if(S=="TEXT"){f.Wi=UQ.Uw(j,g);
g+=4+f.Wi.length}else if(S=="long"){f.Wi=T.ko(j,g,4);g+=4}else throw"e";f.lT=UQ.Uw(j,g);g+=4+f.lT.length;
var F=T.UZ(j,g);g+=4;if(F==-1){f.HR={};var m=Za.Us(j,f.HR,g);g+=m}}}console.log(P);var R=new Uint8Array(UQ.Be(P));
for(var v=0;v<R.length;v++)if(R[v]!=j[v]){console.log(R.length,j.length);var M=4*(v>>>2)-16;console.log(T.pw(j,M,64));
console.log(T.pw(R,M,64));console.log(j.slice(M,M+64));console.log(R.slice(M,M+64));throw v}console.log(P);
return[P]};UQ.Uw=function(e,j){var g=T.o(e,j);return T.ko(e,j+4,g)};UQ.NF=function(e,j,g){T.kB(e,j,g.length);
T.g$(e,j+4,g)};UQ.Be=function(e){var j=new Zc,g=0;T.kB(j,g,16);g+=4;T.j$(j,g,e.de+"\0");g+=4+e.de.length*2+2;
j.JF(g,1);j.data[g++]=e.exp?1:0;var P=e.A.length;T.kB(j,g,P);g+=4;for(var p=0;p<P;p++){var v=e.A[p];
T.Mw(j,g,v.VS);g+=2;j.JF(g,2);j.data[g++]=v.shift?1:0;j.data[g++]=v.Znj?1:0;T.Mw(j,g,v.color);g+=2;T.j$(j,g,v.de+"\0");
g+=4+v.de.length*2+2;j.JF(g,1);j.data[g++]=v.exp?1:0;var ZJ=v.A.length;T.kB(j,g,ZJ);g+=4;for(var x=0;
x<ZJ;x++){var A=v.A[x];j.JF(g,4);j.data[g++]=A.exp?1:0;j.data[g++]=A.p?1:0;j.data[g++]=A.Znh?1:0;j.data[g++]=A.Zdw;
var f=A.Wi=="LqFy"||A.Wi=="Avrg"||A.Wi=="GEfc"||A.Wi=="PbPl";T.g$(j,g,f?"long":"TEXT");g+=4;if(!f){UQ.NF(j,g,A.Wi);
g+=4+A.Wi.length}else{T.g$(j,g,A.Wi);g+=4}UQ.NF(j,g,A.lT);g+=4+A.lT.length;T.Tx(j,g,A.HR?-1:0);g+=4;
if(A.HR){var S=Za.GA(j,A.HR,g);g+=S}}}return j.data.slice(0,g).buffer};function VC(){}VC.aW=function(e){var j=new Uint8Array(e),g=0,P=T.o(j,g),f;
g+=4;var p=T.ko(j,g,8);g+=8;var v=T.ok(j,g);g+=4;var x=T.ok(j,g);g+=4;var A=T.ok(j,g);g+=4;if(P==2){f=new Float32Array(e,32,e.byteLength-32>>>2)}else if(P==3||P==4){f=new Float32Array(x*A*2);
var S=0,F=0,m=!0;g=P==3?32:16+8+40;while(g<j.length){var R=T.ok(j,g);g+=4;if(m)F+=R;else{for(var M=0;
M<R;M++){f[S+F+M<<1]=T.BP(j,g);f[(S+F+M<<1)+1]=T.BP(j,g+4);g+=8}F+=R}m=!m;if(R!=0&&F==x){S+=x;F=0;m=!0;
if(S==x*A)break}}}else throw"unknown Mesh version: "+P;return{LB:x,GF:A,map:f}};VC.LE=function(e){var j=e.LB,g=e.GF,P=e.map,p=new Uint8Array(32+g*j*8+g*8),v=0,x=0;
T.Sz(p,v,3);v+=4;T.Lc(p,v,"yfqLhseM");v+=8;T.jj(p,v,2);v+=4;T.jj(p,v,j);v+=4;T.jj(p,v,g);v+=4;T.jj(p,v,0);
v+=4;T.jj(p,v,1);v+=4;for(var A=0;A<g;A++){T.jj(p,v,0);v+=4;T.jj(p,v,j);v+=4;for(var f=0;f<j;f++){T.BX(p,v,P[x]);
T.BX(p,v+4,P[x+1]);x+=2;v+=8}}return p.buffer};function ue(){}ue.aW=function(e){var j=new Uint8Array(e),g=0,P=T.ko(j,g,4);
g+=4;var p=T.JO(j,g);g+=2;var v=T.o(j,g);g+=4;var x=[];for(var A=0;A<v;A++){var f=T.o(j,g);g+=4;var S={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
x.push(S);var F=T.AE(j,g);S.Nm.v=F;g+=4+F.length*2+2;var m=T.JO(j,g);g+=2;var R=T.JO(j,g);g+=2;for(var M=0;
M<R;M++){var b=Z.jM.oM(0,0,!0);b.v.Vrtc.v=T.JO(j,g);g+=2;b.v.Hrzn.v=T.JO(j,g);g+=2;S.Crv.v.push(b)}if(f==1){}else if(f==2){for(var M=0;
M<R;M++){S.Crv.v[M].v.Cnty.v=j[g]==1;g+=1}}else throw"error";var s=T.o(j,g);g+=4;var K=T.o(j,g);g+=4}return x};
ue.Xb=function(e,j){e.Nm.v=j};ue.Be=function(e){var j=new Zc,g=0;T.g$(j,g,"8BFS");g+=4;T.Mw(j,g,1);g+=2;
T.kB(j,g,e.length);g+=4;for(var P=0;P<e.length;P++){T.kB(j,g,2);g+=4;var p=e[P];T.j$(j,g,p.Nm.v+"\0");
g+=4+p.Nm.v.length*2+2;T.Mw(j,g,2);g+=2;var v=p.Crv.v.length;T.Mw(j,g,v);g+=2;for(var x=0;x<v;x++){var A=p.Crv.v[x];
T.Mw(j,g,A.v.Vrtc.v);g+=2;T.Mw(j,g,A.v.Hrzn.v);g+=2}j.JF(g,v);for(var x=0;x<v;x++){j.data[g]=p.Crv.v[x].v.Cnty.v;
g++}T.kB(j,g,0);g+=4;T.kB(j,g,0);g+=4}return j.data.slice(0,g).buffer};function fz(){}fz.aW=function(e){var j=new Uint8Array(e),g=4,P=T.JO(j,g);
g+=2;var p=T.o(j,g);g+=4;var v=[];for(var x=0;x<p;x++){var A={};v.push(A);g=fz.No(j,g,A)}return v};fz.Xb=function(e,j){e.name=j};
fz.Be=function(e){var j=new Zc,g=0;T.g$(j,g,"8BPT");g+=4;T.Mw(j,g,1);g+=2;T.kB(j,g,e.length);g+=4;for(var P=0;
P<e.length;P++){g=fz.Nh(j,g,e[P])}return j.data.slice(0,g).buffer};fz.Ow=function(e,j,g){var P=j+g,p=[];
while(j<P){var v={},x=T.o(e,j);j+=4;var A=j;j=fz.No(e,j,v);if(!v.vf[1].tE())p.push(v);if(x%4!=0)x+=4-x%4;
j=A+x}return p};fz.pf=function(e,j,g){for(var P=0;P<g.length;P++){var p=g[P];j+=4;var v=j;j=fz.Nh(e,j,p);
var x=j-v;T.kB(e,v-4,x);if(x%4!=0)v+=4-x%4;j=v+x}return j};fz.No=function(e,j,g){var P=T.o(e,j);j+=4;
if(P!=1)alert("Unknown version of pattern");var p=T.o(e,j);j+=4;if(p!=1&&p!=2&&p!=3)console.log("Unsupported mode of pattern: "+p);
var v=T.JO(e,j);j+=2;var x=T.JO(e,j);j+=2;var A=new G(0,0,x,v);g.name=T.AE(e,j);j+=4+2*g.name.length+2;
var f=e[j];j++;g.id=T.ko(e,j,f);j+=g.id.length;var S=-1;if(p==2){S=j;j+=3*256+4}var F=new Z.il(x*v);
j=fz.ZNC(e,j,F);if(p==2){for(var m=0;m<F.k.length;m++){var R=3*F.k[m];F.k[m]=e[S+R+0];F.z[m]=e[S+R+1];
F.e[m]=e[S+R+2]}}var M=Z.V(A.h()*4);Z.hT(F,M);g.vf=[M,A];return j};fz.Nh=function(e,j,g){var P=g.vf[0],p=g.vf[1];
T.kB(e,j,1);j+=4;T.kB(e,j,3);j+=4;T.Mw(e,j,p.j);j+=2;T.Mw(e,j,p.W);j+=2;T.j$(e,j,g.name+"\0");j+=4+2*g.name.length+2;
T.YS(e,j,g.id.length);j++;T.g$(e,j,g.id);j+=g.id.length;var v=new Z.il(p.h());Z.Mi(P,v);j=fz.ZNn(e,j,v,p);
return j};fz.ZNC=function(e,j,g){var P=j,p={B:null,oJ:[],Zdc:null,iR:null},v=T.o(e,j);j+=4;var x=T.o(e,j);
j+=4;p.B=T.mz(e,j);j+=16;var A=T.o(e,j);j+=4;for(var f=0;f<A+2;f++){var S=T.o(e,j);j+=4;if(S==0)continue;
var F=T.o(e,j);j+=4;if(F==0)continue;var m=T.o(e,j);j+=4;var R=T.mz(e,j);j+=16;var M=T.JO(e,j);j+=2;
var b=e[j];j++;var s=vi.Uc(!1,m,e,R.W,R.j,j,b);if(f<A)p.oJ.push(s);if(f==A)p.Zdc=s;if(f==A+1)p.iR=s;
j+=F-23}if(!p.B.tE()){if(p.oJ[0])g.k=p.oJ[0];if(p.oJ[1])g.z=p.oJ[1];else g.z=Z.clone(p.oJ[0]);if(p.oJ[2])g.e=p.oJ[2];
else g.e=Z.clone(p.oJ[0]);if(p.iR)g.Fl=p.iR;else Z.set(g.Fl,255)}return j};fz.ZNn=function(e,j,g,P){var p=j,v={B:P,oJ:[g.k,g.z,g.e],Zdc:null,iR:g.Fl};
T.kB(e,j,3);j+=4;T.kB(e,j,0);j+=4;T.ce(e,j,P);j+=16;T.kB(e,j,24);j+=4;for(var x=0;x<24+2;x++){var A=j,f=x<3||x==25?1:0;
T.kB(e,j,f);j+=4;if(f==0)continue;T.kB(e,j,0);j+=4;T.kB(e,j,8);j+=4;T.ce(e,j,P);j+=16;T.Mw(e,j,8);j+=2;
T.YS(e,j,1,1);j++;var S=x<3?v.oJ[x]:v.iR;e.JF(j,P.h()+2);j=vi.py(S,e.data,P.W,P.j,j,1);T.kB(e,A+4,j-A-8)}T.kB(e,p+4,j-p-8);
return j};function xf(){}xf.aW=function(e){var j=new Uint8Array(e),g=0,P=T.ko(j,g,4);g+=4;var p=T.JO(j,g);
g+=2;var v=[];if(p<=3){var x=T.JO(j,g);g+=2;for(var A=0;A<x;A++){var f=j[g++],S=T.ko(j,g,f);g+=f;var F=xf.NM(j,g,S),m=F[0];
g=F[1];v.push(m);g+=6}}else{var F={},R=Za.Us(j,F,g+4),M=F.GrdL.v;for(var A=0;A<M.length;A++)v[A]=M[A].v.Grad.v}return v};
xf.Xb=function(e,j){e.Nm.v=j};xf.Be=function(e){var j=new Zc,g=0;T.g$(j,g,"8BGR");g+=4;T.Mw(j,g,5);g+=2;
T.kB(j,g,16);g+=4;var P={classID:"null",GrdL:{t:"VlLs",v:[]}},p=P.GrdL.v;for(var v=0;v<e.length;v++)p[v]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:e[v]}}};
g+=Za.GA(j,P,g);return j.data.slice(0,g).buffer};xf.NM=function(e,j,g){var P={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:g},Trns:{t:"VlLs",v:[]}},p=T.JO(e,j);
j+=2;if(p==0)throw"e";for(var v=0;v<p;v++){var x=T.o(e,j),A=T.o(e,j+4),f=eV.oQ(e,j+8),S={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:f.k},Grn:{t:"doub",v:f.z},Bl:{t:"doub",v:f.e}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:x},Mdpn:{t:"long",v:A}}};
P.Clrs.v.push(S);j+=20}var F=T.JO(e,j);j+=2;for(var v=0;v<F;v++){var x=T.o(e,j),A=T.o(e,j+4),m=T.JO(e,j+8),S={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*m/255)}},Lctn:{t:"long",v:x},Mdpn:{t:"long",v:A}}};
P.Trns.v.push(S);j+=10}return[P,j]};xf.ZNB=function(e,j,g){var P=g.Clrs.v.length;T.Mw(e,j,P);j+=2;for(var p=0;
p<P;p++){var v=g.Clrs.v[p];T.kB(e,j,v.v.Lctn.v);T.kB(e,j+4,v.v.Mdpn.v);T.Mw(e,j+8,0);var x=Z.c.Op(Z.c.W_(v.v.Clr.v)),A=[x.Rd.v,x.Grn.v,x.Bl.v,0];
for(var f=0;f<4;f++)T.Mw(e,j+10+f*2,Math.round(65535*(A[f]/255)));j+=20}var S=g.Trns.v.length;T.Mw(e,j,S);
j+=2;for(var p=0;p<S;p++){var v=g.Trns.v[p];T.kB(e,j,v.v.Lctn.v);T.kB(e,j+4,v.v.Mdpn.v);T.Mw(e,j+8,Math.round(255*v.v.Opct.v.val/100));
j+=10}return j};function Jo(){}Jo.aW=function(e){var j=new Uint8Array(e),g=[],P=[],p=[],v=0,x=T.ko(j,v,4);
v+=4;var A=T.o(j,v);v+=4;var f=T.o(j,v);v+=4;while(v<j.length){var S=T.ko(j,v,4);v+=4;var F=T.ko(j,v,4);
v+=4;var m=T.o(j,v);v+=4;if(F=="tppa"){P=fz.Ow(j,v,m);v+=m}else if(F=="tpbd"){p=VK.Nj(j,v,m,1,1);v+=m}else if(F=="tptp"){var R=T.o(j,v);
v+=4;for(var M=0;M<R;M++){var b=T.AE(j,v);v+=6+b.length*2;v+=4;var s={};v+=Za.Us(j,s,v);g.push([b,s])}while((v&3)!=0)v++}else{console.log(j.slice(v-8,v+64));
console.log(T.ko(j,v-8,64));throw F}}return{og:p,Zk:P,list:g}};Jo.Xb=function(e,j){e[0]=j};Jo.Be=function(e){var j=new Zc,g=0;
T.g$(j,g,"8BTP");g+=4;T.kB(j,g,3);g+=4;T.kB(j,g,1);g+=4;var P=[e.Zk,e.og,e.list];for(var p=0;p<3;p++){if(P[p].length==0)continue;
T.g$(j,g,"8BIM");g+=4;var v=["tppa","tpbd","tptp"][p];T.g$(j,g,v);g+=4;var x=g;g+=4;if(v=="tppa"){g=fz.pf(j,g,e.Zk)}else if(v=="tpbd"){g=VK.NX(j,g,e.og)}else if(v=="tptp"){T.kB(j,g,e.list.length);
g+=4;for(var A=0;A<e.list.length;A++){var f=e.list[A];T.j$(j,g,f[0]+"\0");g+=6+f[0].length*2;T.kB(j,g,16);
g+=4;g+=Za.GA(j,f[1],g)}}T.kB(j,x,g-x-4);while((g&3)!=0)g++;j.JF(g,0)}return j.data.slice(0,g).buffer};
function fW(){}fW.aW=function(e,j){var g=new Uint8Array(e),P;if(T.o(g,0)==g.length)P="icc";else if(g[0]=="<".charCodeAt(0))P="look";
else if(T.Ba(g,"LUT_3D_SIZE")!=-1)P="cube";else P="3DL";if(P!="icc"){var p=fW.ZNP(g,P),v=fW.ZNN(p[0],p[1]);
g=v}var x=[];for(var A=0;A<g.length;A++)x.push(g[A]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:j?j:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:x}}]};
fW.Be=function(e){var j=e[0],g=new Uint8Array(j.profile.v);return g.buffer};fW.Xb=function(e,j){e.Nm.v=j};
fW.ZNN=function(e,j){var g=new Zc,P=128;g.JF(0,128);var p=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var v=0;v<p.length;v++)g.data[v]=p[v];var x=["desc","A2B0"],A=x.length,f=128+4+A*12;T.kB(g,P,A);
P+=4;for(var S=0;S<A;S++){var F=x[S];T.g$(g,P,F);P+=4;T.kB(g,P,f);P+=4;var m=f;if(F=="desc"){T.g$(g,m,"mluc");
m+=4;m+=4;T.kB(g,m,1);m+=4;T.kB(g,m,12);m+=4;T.g$(g,m,"enUS");m+=4;var R="ICC by Photopea\0",M=R.length*2+2;
T.kB(g,m,M);m+=4;T.kB(g,m,28);m+=4;g.JF(m,M);for(var v=0;v<R.length;v++)g.data[m+v*2+1]=R.charCodeAt(v);
m+=M}if(F=="A2B0"){T.g$(g,m,"mAB ");m+=4;m+=4;g.JF(m,4);g.data[m]=3;g.data[m+1]=3;m+=4;g.JF(m,4*5);m+=4*3;
T.kB(g,m,m+8-f);m+=4;m+=4;g.JF(m,20);g.data[m]=e;g.data[m+1]=e;g.data[m+2]=e;m+=16;g.data[m]=2;m+=4;
var b=e*e*e*3;g.JF(m,b*2);for(var v=0;v<b;v++)T.FG(g.data,m+v*2,Math.max(0,Math.min(65535,Math.round(j[v]*65535))));
m+=b*2}var s=m-f;while((s&3)!=0)s++;T.kB(g,P,s);P+=4;f+=s}T.kB(g,0,f);return g.data.slice(0,f)};fW.ZNP=function(e,j){j="LUTFormat"+j.toUpperCase();
var g=[],P=0,p=T.vG(e,0,e.length),v="";for(var x=0;x<e.length&&v=="";x++){if(e[x]==10)v="\n";else if(e[x]==13){v="\r";
if(e[x+1]==10)v+="\n"}}if(j=="LUTFormatCUBE"){var A=p.split(v);for(var x=0;x<A.length;x++){if(A[x]==""||A[x][0]=="#")continue;
var f=A[x].split(" "),S=f[0];if(S=="LUT_3D_SIZE"){P=parseInt(f[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(S)!=-1)continue;
g.push(parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2]))}g=fW.Nb(P,g)}else if(j=="LUTFormat3DL"){var A=p.split(v),F=1/4095;
for(var x=0;x<A.length;x++){var m=A[x];if(m==""||m=="3DMESH"||m.startsWith("Mesh")||m[0]=="#")continue;
var f=m.split(" "),S=f[0];if(P==0){P=f.length;continue}g.push(parseFloat(f[0])*F,parseFloat(f[1])*F,parseFloat(f[2])*F)}}else if(j=="LUTFormatLOOK"){var R=new DOMParser,M=R.parseFromString(p,"text/xml"),b=M.getElementsByTagName("LUT")[0],s=b.children[0].textContent;
P=parseInt(JSON.parse(s));var K=b.children[1].textContent;K=K.replace(/"/g,"").replace(/\s/g,"");var X=3*P*P*P,d=X*4,W=new Uint8Array(d);for(var x=0;x<d;x++){var O=K.charCodeAt(x*2),H=K.charCodeAt(x*2+1),Y=O<58?O-48:O-55,y=H<58?H-48:H-55;W[x]=(Y<<4)+y}for(var x=0;x<X;x++)g.push(T.BP(W,x<<2));g=fW.Nb(P,g)}else throw j;return[P,g]};fW.Nb=function(e,j){var g=[],P=e*e*e;for(var p=0;p<P;p++)g.push(0,0,0);for(var v=0;v<e;v++)for(var x=0;x<e;x++)for(var A=0;A<e;A++){var p=3*(A+x*e+v*e*e),f=3*(v+x*e+A*e*e);g[f]=j[p];g[f+1]=j[p+1];g[f+2]=j[p+2]}return g};function Za(){}Za.Us=function(e,j,g,P,p){var v=g,x;if(p==null)p=0;var A=T.o(e,g);if(A==0){x="";g+=4}else{x=T.AE(e,g);g+=4+2*x.length+2}if(x!="")j.__name=x;j.classID=Za.TH(e,g);if(P)console.log("\t".repeat(p),"- reading descriptor",j.classID,g);g+=Za.Tk(e,g);var f=T.UZ(e,g);g+=4;for(var S=0;S<f;S++){var F=Za.TH(e,g);g+=Za.Tk(e,g);var m=Za.Nw(e,g,P,p);j[F]=m;g+=m.size;delete m.size}return g-v};Za.GA=function(e,j,g,P){var p=g,v=j.__name;if(v==null)v="";v+="\0";T.j$(e,g,v);g+=4+2*v.length;Za.Tw(e,g,j.classID);g+=Za.Tk(e.data,g);T.Tx(e,g,Object.keys(j).length-1-(j.__name==null?0:1));g+=4;for(var x in j){if(x=="classID")continue;if(x=="__name")continue;Za.Tw(e,g,x);g+=Za.Tk(e.data,g);g+=Za.Nl(e,g,j[x])}return g-p};Za.Nw=function(e,j,g,P){var p=j,v=T.ko(e,j,4);j+=4;var x={size:0,t:v,v:null};if(g)console.log("\t".repeat(P),"reading key",v,p);switch(v){case"obj ":case"VlLs":x.v=[];var A=T.o(e,j);j+=4;for(var f=0;f<A;f++){var S=Za.Nw(e,j,g,P+1);j+=S.size;delete S.size;x.v.push(S)}break;case"UntF":x.v={type:T.ko(e,j,4),val:T.aA(e,j+4)};j+=12;break;case"doub":x.v=T.aA(e,j);j+=8;break;case"bool":x.v=e[j]==1;j+=1;break;case"long":x.v=T.UZ(e,j);j+=4;break;case"comp":x.v=T.UZ(e,j+4);j+=8;break;case"Objc":x.v={};var F=Za.Us(e,x.v,j,g,P+1);j+=F;break;case"TEXT":var m=T.o(e,j);if(m==0){x.v="";j+=4}else{x.v=T.AE(e,j);j+=4+x.v.length*2+2}break;case"enum":var R=Za.TH(e,j);j+=Za.Tk(e,j);var M=Za.TH(e,j);j+=Za.Tk(e,j);x.v={};x.v[R]=M;break;case"tdta":var b=T.UZ(e,j);j+=4;x.v=[];for(var f=0;f<b;f++)x.v.push(e[j+f]);j+=b;break;case"ObAr":var s=T.o(e,j);j+=4;var K=T.AE(e,j);j+=4+2*K.length+2;if(K!="")throw K;var X=Za.TH(e,j);j+=4+Math.max(4,X.length);x.v={classID:X,arr:[]};var d=T.o(e,j);j+=4;for(var f=0;f<d;f++){var X=Za.TH(e,j);j+=4+Math.max(4,X.length);var R=T.ko(e,j,4);j+=4;var W=T.ko(e,j,4);j+=4;var O={id:X,type:R,uID:W,arr:[]};x.v.arr.push(O);var H=T.o(e,j,4);j+=4;for(var Y=0;Y<H;Y++){var y=T.aA(e,j);j+=8;O.arr.push(y)}}break;case"Pth ":var B=j,b=T.o(e,j);j+=4;var c=T.ko(e,j,4);j+=4;var $=T.ok(e,j);j+=4;var I=T.ZzU(e,j);j+=4+I.length*2;x.v={sig:c,pth:I};break;case"Clss":case"type":case"rele":var I=T.AE(e,j);j+=4+I.length*2+2;var r=Za.TH(e,j);j+=4+Math.max(4,r.length);x.v={classID:r};if(I!="")x.v.__name=I;if(v=="rele"){x.v.val=T.UZ(e,j);j+=4}break;case"prop":case"Enmr":case"indx":case"name":var i=Za.pg[v],I=T.AE(e,j);j+=4+I.length*2+2;if(I.length!=0){console.log(v,I);throw"e"}x.v={};for(var f=0;f<i.length;f++){var r=Za.TH(e,j);j+=4+Math.max(4,r.length);x.v[i[f]]=r}if(v=="name"){var I=T.AE(e,j);j+=4+I.length*2+2;x.v.val=I}if(v=="indx"){x.v.val=T.o(e,j);j+=4}break;case"alis":var b=T.o(e,j);j+=4;x.v=T.ko(e,j,b);j+=b;break;default:{console.log("unknown oskey: "+v+", "+p);throw"e";return x}}if(g){console.log("\t".repeat(P),x.v);console.log("\t".repeat(P),"======",j)}x.size=j-p;return x};Za.pg={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};Za.Nl=function(e,j,g){var P=j,p=g.t;g=g.v;T.g$(e,j,p);j+=4;switch(p){case"obj ":case"VlLs":T.Tx(e,j,g.length);j+=4;for(var v=0;v<g.length;v++){var x=Za.Nl(e,j,g[v]);j+=x}break;case"UntF":T.g$(e,j,g.type);T.wN(e,j+4,g.val);j+=12;break;case"doub":T.wN(e,j,g);j+=8;break;case"bool":T.YS(e,j,g?1:0,1);j+=1;break;case"long":T.Tx(e,j,g);j+=4;break;case"comp":T.Tx(e,j+4,g);j+=8;break;case"Objc":var x=Za.GA(e,g,j);j+=x;break;case"TEXT":T.j$(e,j,g+"\0");j+=4+g.length*2+2;break;case"enum":var A=Object.keys(g)[0],f=g[A];Za.Tw(e,j,A);j+=Za.Tk(e.data,j);Za.Tw(e,j,f);j+=Za.Tk(e.data,j);break;case"tdta":T.kB(e,j,g.length);j+=4;T.Et(e,j,g);j+=g.length;break;case"ObAr":T.kB(e,j,g.arr[0].arr.length);j+=4;T.j$(e,j,"\0");j+=6;Za.Tw(e,j,g.classID);j+=4+Math.max(4,g.classID.length);T.kB(e,j,g.arr.length);j+=4;for(var S=0;S<g.arr.length;S++){var F=g.arr[S];Za.Tw(e,j,F.id);j+=4+Math.max(4,F.id.length);T.g$(e,j,F.type);j+=4;T.g$(e,j,F.uID);j+=4;T.kB(e,j,F.arr.length);j+=4;for(var v=0;v<F.arr.length;v++){T.wN(e,j,F.arr[v]);j+=8}}break;case"Pth ":var m=g.pth.length*2+4+8;T.kB(e,j,m);j+=4;T.g$(e,j,g.sig);j+=4;T.zf(e,j,m);j+=4;T.Zzd(e,j,g.pth);j+=g.pth.length*2+4;break;case"Clss":case"type":case"rele":var R=g.__name;if(R==null)R="";T.j$(e,j,R+"\0");j+=4+R.length*2+2;var M=g.classID;Za.Tw(e,j,M);j+=4+Math.max(4,M.length);if(p=="rele"){T.Tx(e,j,g.val);j+=4}break;case"prop":case"Enmr":case"indx":case"name":var b=Za.pg[p];T.kB(e,j,1);j+=6;for(var S=0;S<b.length;S++){var M=g[b[S]];Za.Tw(e,j,M);j+=4+Math.max(4,M.length)}if(p=="name"){T.j$(e,j,g.val+"\0");j+=4+g.val.length*2+2}if(p=="indx"){T.kB(e,j,g.val);j+=4}break;case"alis":var m=g.length;T.kB(e,j,m);j+=4;T.g$(e,j,g);j+=m;break;default:console.log("unknown oskey: "+p);j=P;break}return j-P};Za.TH=function(e,j){var g=T.UZ(e,j);if(g>1e3)throw"e";if(g==0)g=4;return T.ko(e,j+4,g).trim()};Za.Tk=function(e,j){var g=T.UZ(e,j);return g==0?8:4+g};Za.Tw=function(e,j,g){var P="warp list Comp xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby flow trim then else".split(" "),p=4<g.length||P.indexOf(g)!=-1;T.Tx(e,j,p?g.length:0);T.g$(e,j+4,g);if(g.length<4&&!p){var v="";for(var x=g.length;x<4;x++)v+=" ";T.g$(e,j+4+g.length,v)}};Za.ZDU=function(e){var j={};for(var g in e){if(g=="classID")j[g]=e[g];else if(g=="__name")j[g]=e[g];else j[g]=Za.Nc(e[g])}return j};Za.Nc=function(e){if(e.kC=="Objc")return Za.ZDU(e.v);else if(e.kC=="VlLs"){var j=[];for(var g=0;g<e.v.length;g++)j.push(Za.Nc(e.v[g]));return j}else if(e.kC=="UntF")return e.v.val;else return e.v};function UN(){}UN.Dr=function(e,j,g,P,p,v){while(j<g){var x=T.ko(e,j,4);j+=4;if(x!="8BIM"&&x!="8B64"){console.log("layer information signature error! "+x,"PSB = "+p);alert("Error in PSD file: wrong signature.");return g}var A=T.ko(e,j,4);j+=4;var f=T.UZ(e,j);j+=4;if(p&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd".split(" ").indexOf(A)!=-1){f=f<<32|T.UZ(e,j);j+=4}if(p&&["pths"].indexOf(A)!=-1){f=f<<32|T.UZ(e,j);j+=4}var S=["lrFX","PlLd"];if(S.indexOf(A)!=-1){if(f%4!=0)f+=4-f%4;j+=f;continue}switch(A){case"iOpa":P[A]=e[j];break;case"brst":P[A]=[1,1,1];for(var F=0;F<f;F+=4)P[A][T.o(e,j+F)]=0;break;case"knko":P[A]=e[j];break;case"infx":P[A]=e[j];break;case"clbl":P[A]=e[j];break;case"lmgm":P[A]=e[j];break;case"vmgm":P[A]=e[j];break;case"lyid":P[A]=T.o(e,j);break;case"lsct":P[A]={type:T.o(e,j)};if(f>=12)P[A].T$=T.ko(e,j+8,4);break;case"lsdk":P.lsct={type:T.o(e,j)};break;case"lyvr":P[A]=T.o(e,j);break;case"lnsr":var m={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};P[A]=T.ko(e,j,4);break;case"lspf":P[A]=T.o(e,j);break;case"lclr":P[A]=T.JO(e,j);break;case"luni":P[A]=T.mQ(e,j);break;case"fxrp":P[A]=new Uc(T.aA(e,j),T.aA(e,j+8));break;case"artb":case"artd":P[A]={};Za.Us(e,P[A],j+4);break;case"SoCo":P[A]={};Za.Us(e,P[A],j+4);break;case"GdFl":P[A]={};Za.Us(e,P[A],j+4);UN.dO(P[A],A);break;case"PtFl":P[A]={};Za.Us(e,P[A],j+4);UN.dO(P[A],A);break;case"CgEd":var R=P.brit=ZW.WX("brit"),M={};Za.Us(e,M,j+4);R.Brgh.v=M.Brgh?M.Brgh.v:0;R.Cntr.v=M.Cntr?M.Cntr.v:0;R.useLegacy.v=M.useLegacy?M.useLegacy.v:0;break;case"brit":if(P.brit==null){var R=P.brit=ZW.WX("brit"),M={};R.Brgh.v=T.Fm(e,j);R.Cntr.v=T.Fm(e,j+2);R.useLegacy.v=!1}break;case"levl":var b=e.buffer.slice(j,j+f);P[A]=eg.aW(b);break;case"curv":P[A]=Ze.UA(e,j,f);break;case"expA":var s=T.JO(e,j),K=P[A]=ZW.WX("expA");K.Exps.v=T.QQ(e,j+2);K.Ofst.v=T.QQ(e,j+6);K.gammaCorrection.v=T.QQ(e,j+10);break;case"vibA":P[A]={};Za.Us(e,P[A],j+4);break;case"hue2":P[A]=Zq.UA(e,j,f);break;case"blnc":var K=P[A]=ZW.WX(A);K.PrsL.v=e[j+18]==1;var X=["ShdL","MdtL","HghL"];for(var F=0;F<3;F++)for(var d=0;d<3;d++)K[X[F]].v[d].v=T.Fm(e,j+F*6+d*2);break;case"blwh":var W={};Za.Us(e,W,j+4);var K=ZW.WX(A),O="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");for(var F=0;F<O.length;F++){K[O[F]]=W[O[F]];delete W[O[F]]}P[A]=K;break;case"phfl":var K=P[A]=ZW.WX(A),H=K.Clr.v,s=T.JO(e,j);if(s==3){var Y=[T.o(e,j+2),T.o(e,j+6),T.o(e,j+10)],y=32768,B=Z.Qj(Y[0]/y,Y[1]/y,Y[2]/y);H.Lmnc.v=B.Kd;H.A.v=B.Fl;H.B.v=B.e}if(s==2){var c=T.JO(e,j+2);if(c!=7)throw"e";H.Lmnc.v=T.Fm(e,j+4)/100;H.A.v=T.Fm(e,j+6)/100;H.B.v=T.Fm(e,j+8)/100}var $=j+2+(s==3?12:10);K.Dnst.v=T.o(e,$);$+=4;K.PrsL.v=e[$]==1;break;case"mixr":var I={Ke:T.JO(e,j+2)==1,r:[]};for(var F=0;F<20;F++)I.r.push(T.Fm(e,j+4+F*2));P[A]=Wj.Zxh(I);break;case"clrL":case"rplc":P[A]={};Za.Us(e,P[A],j+6);break;case"nvrt":P[A]={};break;case"post":P[A]=ZW.WX("post");P[A].Lvls.v=T.JO(e,j);break;case"thrs":P[A]=ZW.WX("thrs");P[A].Lvl.v=T.JO(e,j);break;case"grdm":var r={rev:e[j+2]==1,ZBx:e[j+3]==1},i=j+4,U=T.mQ(e,i);i+=4+U.length*2;var N=xf.NM(e,i,U),C=N[0];i=N[1];var D=T.JO(e,i);i+=2;C.Intr.v=T.JO(e,i);i+=2;var n=T.JO(e,i);i+=2;r.mode=T.JO(e,i);i+=2;r.nM=T.o(e,i);i+=4;r.Zyp=T.JO(e,i)==1;i+=2;r.ZyF=T.JO(e,i)==1;i+=2;r.ZaC=T.o(e,i);i+=4;r.ZaE=T.JO(e,i);i+=2;r.YL=[];for(var F=0;F<4;F++)r.YL.push(T.JO(e,i+F*2));i+=8;r.YT=[];for(var F=0;F<4;F++)r.YT.push(T.JO(e,i+F*2));i+=8;var w=T.JO(e,i);i+=2;var k=ZW.WX("grdm");k.Rvrs.v=r.rev;k.Grad.v=C;P[A]=k;break;case"selc":P[A]=UR.UA(e,j,f);break;case"vmsk":case"vsms":var h=P.vmsk=new u.nt,t=T.UZ(e,j+4),a=(t>>0&1)==1;h.Hm=(t>>1&1)==0;h.isEnabled=(t>>2&1)==0;h.F=eU.Ob(e,j+8,f-8,v.W,v.j);break;case"shmd":P[A]={};var _=T.o(e,j),$=j+4;for(var F=0;F<_;F++){var x=T.ko(e,$,4);$+=4;var E=T.ko(e,$,4);$+=4;$+=4;var WW=T.o(e,$);$+=4;if(E=="cust"||E=="cmls"||E=="extn"||E=="mlst"){var Wx=T.o(e,$);if(Wx!=16)$+=4;var W={};Za.Us(e,W,$+4,!1);P[A][E]=W;if(E=="cmls")ZI.tL.ZVt(P[A][E])}else{console.log("unknown shmd key: "+E+", size: "+WW)}$+=WW}break;case"shpa":var s=T.o(e,j),WU=T.o(e,j+4);if(WU!=0)console.log("some patterns present!");break;case"TySh":var We=P[A]={},s=T.JO(e,j);We.K=T.TU(e,j+2);var Wv=T.JO(e,j+2+48);We.ia={};var L=Za.Us(e,We.ia,j+56),J=Wf.ZgF();for(var WZ in J)if(We.ia[WZ]==null)We.ia[WZ]=J[WZ];We.pJ={};var WJ=Za.Us(e,We.pJ,j+56+L+6);We.GC=T.ZGe(e,j+56+L+6+WJ);We.xe=VM.aW(We.ia.EngineData.v);Wf.Zqk(We.xe.EngineDict.StyleRun.RunArray);if(We.xe.ResourceDict==null)We.xe.ResourceDict=JSON.parse(JSON.stringify(We.xe.DocumentResources));delete We.ia.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var Wu=T.o(e,j),WC=T.o(e,j+4);P.lmfx={};var L=Za.Us(e,P.lmfx,j+8);UN.pd(P.lmfx);break;case"FMsk":P[A]=T.EJ(e,j,f);break;case"Txt2":P[A]={};P[A].raw=T.EJ(e,j,f);P[A].YF=xj.aW(P[A].raw);break;case"Patt":P[A]=fz.Ow(e,j,f);break;case"SoLd":var Wn=T.ko(e,j,4),WB=T.o(e,j+4),Wt=T.o(e,j+8);P[A]={};var Wy=Za.Us(e,P[A],j+12);if(P[A].nonAffineTransform==null)P[A].nonAffineTransform=JSON.parse(JSON.stringify(P[A].Trnf));var Wz=P[A].filterFX;if(Wz){var WG=Wz.v.filterFXList.v;for(var F=0;F<WG.length;F++){var Wq=WG[F].v,Wa=Wq.filterID;if(Wa&&Wa.v==993)Wq.filterID.v=689;if(Wa&&Wa.v==1031)Wq.filterID.v=693;if(Wa&&Wa.v==902)Wq.filterID.v=898}}break;case"vstk":case"pths":var WB=T.o(e,j);P[A]={};var Wy=Za.Us(e,P[A],j+4);break;case"vscg":var E=T.ko(e,j,4),WB=T.o(e,j+4);P[E]={};var Wy=Za.Us(e,P[E],j+8);UN.dO(P[E],E);break;case"vogk":var WK=T.o(e,j),WB=T.o(e,j+4);P[A]={};var Wy=Za.Us(e,P[A],j+8);P[A]=P[A].keyDescriptorList.v;for(var F=0;F<P[A].length;F++){}break;case"lnk2":case"lnkD__":case"lnk3__":P[A]=[];var i=j;while(i<j+f){var Wd=new u.uN;P[A].push(Wd);var n=T.Qn(e,i);i+=8;var WD=i;Wd.type=T.ko(e,i,4);i+=4;if(Wd.type!="liFD"){alert("Unknown Linked Layer type: "+Wd.type);break;throw Wd.type}Wd.iw=T.o(e,i);i+=4;var W$=T.GQ(e,i);i+=1+W$.kg.length;Wd.Bv=W$.kg;Wd.ib=T.AE(e,i);i+=4+Wd.ib.length*2+2;Wd.Tm=T.ko(e,i,4);i+=4;Wd.Yo=T.ko(e,i,4);i+=4;var Zg=T.Qn(e,i);i+=8;Wd.open=e[i];i+=1;if(Wd.open!=0){var WL={},L=Za.Us(e,WL,i+4);if(L%4!=0)L+=4-L%4;console.log(WL);i+=L+4}Wd.open=0;Wd.raw=T.EJ(e,i,Zg);i=WD+n;if(n%4!=0)i+=4-n%4}break;case"FEid":var i=j;P[A]=[];var WY=i+f,s=T.o(e,i);i+=4;while(i<WY){i+=4;var n=T.o(e,i);i+=4;var N={};P[A].push(N);N.id=T.GQ(e,i).kg;i+=N.id.length+1;var s=T.o(e,i);i+=4;i+=4;var WA=T.o(e,i);i+=4;N.rect=T.mz(e,i);i+=16;var Wb=T.o(e,i);i+=4;var WX=T.o(e,i);i+=4;var fI=new Z.il(0);for(var F=0;F<WX+2;F++){var Ww=T.o(e,i);i+=4;if(Ww!=0){i+=4;var W_=T.o(e,i),vW=null;i+=4;if(F<3||F==25)vW=vi.dp(!0,Wb,e,N.rect.W,N.rect.j,i,W_);if(F==0)fI.k=vW;if(F==1)fI.z=vW;if(F==2)fI.e=vW;if(F==25)fI.Fl=vW;i+=W_}}N.buffer=Z.V(N.rect.h()*4);Z.hT(fI,N.buffer);Z.sL(N);var vL=e[i];i++;if(vL!=0){N._=new u.IP;N._.rect=T.mz(e,i);i+=16;i+=4;var vV=T.o(e,i);i+=4;N._.channel=vi.dp(!0,Wb,e,N._.rect.W,N._.rect.j,i,vV);N._.color=255;N._.Co();i+=vV}if(n%4!=0)i+=4-n%4}break;case"Lr16":vN.GS(v,e,j);break;default:console.log("unknown layer tag: "+A+", size: "+f);break}var Wo="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2".split(" ");if(Wo.indexOf(A)==-1)if(f%4!=0)console.log("size not multiple of 4!!!",A);if(A!="luni"&&A!="TySh"&&A!="tySh"&&A!="lfx2")if(f%4!=0)f+=4-f%4;j+=f}var WT=[];for(var F=0;F<WT.length;F++)delete P[WT[F]];return j};UN.DZ=function(e,j,g,P){for(var p in g)if(g[p]==null){alert("A bug occured (see console).");console.log("Please, report a bug, that \""+p+"\" tag was present with a null value.");
delete g[p]}for(var p in g){T.g$(e,j,"8BIM");j+=4;var v=j,x=0;T.g$(e,j,p);j+=4;T.Tx(e,j,0);j+=4;switch(p){case"iOpa":T.YS(e,j,g[p],1);
x=4;break;case"brst":x=0;for(var A=0;A<3;A++)if(g[p][A]==0){T.kB(e,j+x,A);x+=4}break;case"knko":T.YS(e,j,g[p],1);
x=4;break;case"infx":T.YS(e,j,g[p],1);x=4;break;case"clbl":T.YS(e,j,g[p],1);x=4;break;case"lmgm":T.YS(e,j,g[p],1);
x=4;break;case"vmgm":T.YS(e,j,g[p],1);x=4;break;case"lyid":T.kB(e,j,g[p]);x=4;break;case"lsct":T.kB(e,j,g[p].type);
x=4;if(g[p].T$){T.g$(e,j+4,"8BIM");T.g$(e,j+8,g[p].T$);x=12}break;case"lyvr":T.kB(e,j,g[p]);x=4;break;
case"lnsr":T.g$(e,j,g[p]);x=4;break;case"lspf":T.kB(e,j,g[p]);x=4;break;case"lclr":T.Mw(e,j,g[p]);x=8;
break;case"luni":T.j$(e,j,g[p]);x=4+2*g[p].length;break;case"fxrp":T.wN(e,j,g[p].x);T.wN(e,j+8,g[p].y);
x=16;break;case"artb":case"artd":T.kB(e,j,16);x=Za.GA(e,g[p],j+4)+4;break;case"SoCo":T.kB(e,j,16);x=Za.GA(e,g[p],j+4)+4;
break;case"GdFl":T.kB(e,j,16);x=Za.GA(e,g[p],j+4)+4;break;case"PtFl":T.kB(e,j,16);x=Za.GA(e,g[p],j+4)+4;
break;case"CgEd":var f={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},S=f,F=g[p];
S.Brgh.v=F.Brgh.v;S.Cntr.v=F.Cntr.v;S.useLegacy.v=F.useLegacy.v;T.kB(e,j,16);x=Za.GA(e,f,j+4)+4;break;
case"brit":e.JF(j,8);x=8;break;case"levl":var m=new Zc;x=eg.Be(m,g[p]);T.Et(e,j,m.data);break;case"curv":x=Ze.Uo(e,j,g[p]);
break;case"expA":x=14;e.JF(j,14);T.FG(e.data,j,1);T.zU(e.data,j+2,g[p].Exps.v);T.zU(e.data,j+6,g[p].Ofst.v);
T.zU(e.data,j+10,g[p].gammaCorrection.v);break;case"vibA":T.kB(e,j,16);x=Za.GA(e,g[p],j+4)+4;break;case"hue2":x=Zq.Uo(e,j,g[p]);
break;case"blnc":x=19;e.JF(j,x);var R=["ShdL","MdtL","HghL"];for(var A=0;A<3;A++){var M=g[p][R[A]].v;
for(var b=0;b<3;b++)M.push(T.Pg(e.data,j+A*6+b*2,M[b].v))}e.data[j+18]=g[p].PrsL.v?1:0;break;case"blwh":var f={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},s="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var A=0;A<s.length;A++){f[s[A]]=g[p][s[A]]}T.kB(e,j,16);x=Za.GA(e,f,j+4)+4;break;case"phfl":T.Mw(e,j,2);
var K=g[p].Clr.v;T.Mw(e,j+2,7);T.Mw(e,j+4,Math.round(K.Lmnc.v*100));T.Mw(e,j+6,Math.round(K.A.v*100));
T.Mw(e,j+8,Math.round(K.B.v*100));T.Mw(e,j+10,0);var X=j+2+10;e.JF(X,5);T.Sz(e.data,X,g[p].Dnst.v);X+=4;
e.data[X]=g[p].PrsL.v?1:0;X++;x=X-j;break;case"mixr":x=44;e.JF(j,x);var d=Wj.kf(g[p]);T.FG(e.data,j,1);
T.FG(e.data,j+2,d.Ke?1:0);for(var A=0;A<20;A++)T.Pg(e.data,j+4+A*2,d.r[A]);break;case"clrL":case"rplc":T.Mw(e,j,1);
T.kB(e,j+2,16);x=Za.GA(e,g[p],j+6)+6;break;case"nvrt":x=0;break;case"post":T.Mw(e,j,g[p].Lvls.v);x=2;
break;case"thrs":T.Mw(e,j,g[p].Lvl.v);x=2;break;case"grdm":var W={rev:g[p].Rvrs.v,ZBx:!1,mode:0,nM:867527939,Zyp:!1,ZyF:!0,ZaC:2048,ZaE:3,YL:[0,0,0,0],YT:[32768,32768,32768,32768]},O=g[p].Grad.v;
e.JF(j,4);T.FG(e.data,j,1);e.data[j+2]=W.rev?1:0;e.data[j+3]=W.ZBx?1:0;var H=j+4;T.j$(e,H,O.Nm.v);H+=4+O.Nm.v.length*2;
H=xf.ZNB(e,H,O);T.Mw(e,H,2);H+=2;T.Mw(e,H,O.Intr.v);H+=2;T.Mw(e,H,32);H+=2;T.Mw(e,H,W.mode);H+=2;T.kB(e,H,W.nM);
H+=4;T.Mw(e,H,W.Zyp?1:0);H+=2;T.Mw(e,H,W.ZyF?1:0);H+=2;T.kB(e,H,W.ZaC);H+=4;T.Mw(e,H,W.ZaE);H+=2;for(var A=0;
A<4;A++)T.Mw(e,H+A*2,W.YL[A]);H+=8;for(var A=0;A<4;A++)T.Mw(e,H+A*2,W.YT[A]);H+=8;H+=2;x=H-j;break;case"selc":x=UR.Uo(e,j,g[p]);
break;case"FMsk":T.Et(e,j,g[p]);x=g[p].length;break;case"Txt2":var Y=new Zc,y=xj.LE(g[p].YF,Y),B=Z.V(y,!0);
for(var A=0;A<y;A++)B[A]=Y.data[A];T.Et(e,j,B);x=B.length;break;case"vmsk":var c=g[p],$=0;T.kB(e,j,3);
if(!c.Hm)$+=1<<1;if(!c.isEnabled)$+=1<<2;T.kB(e,j+4,$);x=8;var I=c.F.length;e.JF(j+8,I*26);eU.dJ(e.data,j+8,c.F,P.W,P.j);
x+=I*26;break;case"shmd":T.kB(e,j,Object.keys(g[p]).length);var X=j+4;for(var r in g[p]){T.g$(e,X,"8BIM");
X+=4;T.g$(e,X,r);X+=4;T.kB(e,X,0);X+=4;T.kB(e,X,0);X+=4;T.kB(e,X,16);X+=4;var i=Za.GA(e,g[p][r],X);if(i%4!=0)i+=4-i%4;
T.kB(e,X-8,i+4);X+=i}x=X-j;break;case"TySh":var X=j;T.Ad(e,X,1);X+=2;var U=g[p],Y=new Zc;U.xe.DocumentResources=JSON.parse(JSON.stringify(U.xe.ResourceDict));
var y=VM.LE(U.xe,Y),B=Z.V(y,!0);for(var A=0;A<y;A++)B[A]=Y.data[A];U.ia.EngineData={t:"tdta",v:B};var N=U.xe.EngineDict.Editor.Text;
U.ia.Txt.v=N.substring(0,N.length-1);T.ZGx(e,X,U.K);X+=48;T.Ad(e,X,50);X+=2;T.kB(e,X,16);X+=4;X+=Za.GA(e,U.ia,X);
T.Ad(e,X,1);X+=2;T.kB(e,X,16);X+=4;X+=Za.GA(e,U.pJ,X);T.ZGE(e,X,U.GC);X+=16;x=X-j;break;case"lmfx":T.kB(e,j,0);
T.kB(e,j+4,16);var f=JSON.parse(JSON.stringify(g[p])),C=!1;UN.dy(f);for(var A=0;A<Wr.uM.length;A++)if(f[Wr.uM[A]]!=null)C=!0;
T.g$(e,v,C?"lmfx":"lfx2");x=Za.GA(e,f,j+8)+8;break;case"Patt":var X=fz.pf(e,j,g[p]);x=X-j;break;case"SoLd":T.g$(e,j,"soLD");
T.kB(e,j+4,4);T.kB(e,j+8,16);x=Za.GA(e,g[p],j+12)+12;break;case"vstk":case"pths":T.kB(e,j,16);x=Za.GA(e,g[p],j+4)+4;
break;case"vscg__":T.g$(e,j,g[p].key);T.kB(e,j+4,16);x=Za.GA(e,g[p].r,j+8)+8;break;case"vogk":T.kB(e,j,1);
T.kB(e,j+4,16);Z.uF.ZGU(g[p]);for(var A=0;A<g[p].length;A++){var D=g[p][A].v.keyOriginResolution;if(D)D.v=P.aY}var n={classID:"null",keyDescriptorList:{t:"VlLs",v:g[p]}};
x=Za.GA(e,n,j+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var H=j;for(var A=0;A<g[p].length;A++){var w=g[p][A],k=H;
T.Bt(e,H,0);H+=8;T.g$(e,H,w.type);H+=4;T.kB(e,H,w.iw);H+=4;e.JF(H,1);e.data[H]=w.Bv.length;H++;T.g$(e,H,w.Bv);
H+=w.Bv.length;T.j$(e,H,w.ib+"\0");H+=4+w.ib.length*2+2;T.g$(e,H,w.Tm);H+=4;T.g$(e,H,w.Yo);H+=4;T.Bt(e,H,w.raw.length);
H+=8;e.JF(H,1);e.data[H]=w.open;H++;T.Et(e,H,w.raw);H+=w.raw.length;T.kB(e,H,1);H+=4;H+=11;var h=H-k-8;
T.Bt(e,k,h);if(h%4!=0){e.JF(H,4-h%4);H+=4-h%4}}x=H-j;break;case"FEid":var H=j;T.kB(e,H,3);H+=4;for(var t=0;
t<g[p].length;t++){var a=g[p][t];H+=4;var _=H;H+=4;T.Wn(e,H,a.id);H+=a.id.length+1;T.kB(e,H,1);H+=4;
H+=4;var E=H;H+=4;T.ce(e,H,a.rect);H+=16;T.kB(e,H,8);H+=4;T.kB(e,H,24);H+=4;var WW=new Z.il(a.rect.h());
Z.Mi(a.buffer,WW);for(var A=0;A<24+2;A++){var Wx=null;if(A==0)Wx=WW.k;if(A==1)Wx=WW.z;if(A==2)Wx=WW.e;
if(A==25)Wx=WW.Fl;T.kB(e,H,Wx!=null?1:0);H+=4;if(Wx!=null){H+=4;var WU=H;H+=4;e.JF(H,a.rect.h()+2);H=vi.dP(Wx,e.data,a.rect.W,a.rect.j,H,3);
T.kB(e,WU,H-(WU+4))}}T.kB(e,E,H-(E+4));e.JF(H,1);e.data[H]=a._?1:0;H++;if(a._!=null){var We=a._.rect,Wv=a._.channel;
We=a.rect;Wv=Z.V(We.h());Z.set(Wv,a._.color);Z.Oo(a._.channel,a._.rect,Wv,We);T.ce(e,H,We);H+=16;H+=4;
var L=H;H+=4;e.JF(H,We.h()+2);H=vi.dP(Wv,e.data,We.W,We.j,H,3);T.kB(e,L,H-(L+4))}var h=H-(_+4);T.kB(e,_,h);
if(h%4!=0)H+=4-h%4}x=H-j;break;default:console.log("unknown layer tag: "+p+", size: "+x);j-=12;continue}var J=["Txt2","artd","extd","luni","pths"];
if(J.indexOf(p)==-1)if(x%4!=0)x+=4-x%4;T.Tx(e,j-4,x);if(p!="luni"&&p!="TySh")if(x%4!=0)x+=4-x%4;j+=x}return j};
UN.pd=function(e){for(var j=0;j<Wr.order.length;j++){var g=Wr.order[j],P=Wr.uM[j];if(e[P]==null)e[P]={t:"VlLs",v:[]};
if(e[g]!=null){e[P].v.push(e[g]);delete e[g]}var p=[];for(var v=0;v<e[P].v.length;v++){var x=e[P].v[v];
if(x.v.present==null||x.v.present.v==!0)p.push(x)}e[P].v=p}};UN.dy=function(e){for(var j=0;j<Wr.order.length;
j++){var g=Wr.order[j],P=Wr.uM[j],p=e[P].v.length;if(p==0){delete e[P];continue}if(p==1){e[g]=e[P].v[0];
delete e[P];continue}}};UN.dO=function(e,j){if(j=="GdFl"){if(e.Angl==null)e.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(e.Algn==null)e.Algn={v:!0,t:"bool"};if(e.Scl==null)e.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(e.Ofst==null)e.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(e.Rvrs==null)e.Rvrs={v:!1,t:"bool"};if(e.Dthr==null)e.Dthr={v:!1,t:"bool"}}if(j=="PtFl"){if(e.Algn==null)e.Algn={v:!0,t:"bool"};
if(e.Scl==null)e.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(e.phase==null)e.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};
UN.clone=function(e,j){var g={};if(e=="TySh"){g.K=j.K.clone();g.ia=JSON.parse(JSON.stringify(j.ia));
g.pJ=JSON.parse(JSON.stringify(j.pJ));g.GC=j.GC.clone();g.xe=JSON.parse(JSON.stringify(j.xe));if(j.add)g.add={vmsk:j.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(j.add.vogk))};
return g}else if(e=="fxrp")return j.clone();else if(e=="vmsk")return j.clone();else return JSON.parse(JSON.stringify(j))};
function ey(e,j){}ey.aW=function(e,j,g,P){P=ey.ZDe(e,j,g,P);return P};ey.LE=function(e,j,g,P,p){P=ey.ZDq(e,j,g,P,p);
return P};ey.ZDe=function(e,j,g,P){var p=P;e.rect=T.mz(g,P);P+=16;var v=T.JO(g,P);P+=2;e.Nx=[];var x=j.fM;
for(var A=0;A<v;A++){e.Nx[A]={id:T.Fm(g,P),length:(x?T.Qn:T.o)(g,P+2)};P+=x?10:6}var f=T.ko(g,P,4);P+=4;
if(f!="8BIM"){console.log("Invalid Blend mode signature: "+f);alert("Error in Photoshop file: wrong signature.");
throw"e"}e.T$=T.ko(g,P,4);P+=4;e.opacity=g[P];P+=1;e.qX=g[P]==1;P+=1;e.Oz=g[P];P+=1;if(g[P]!=0)console.log("error in filler!");
P+=1;var S=T.o(g,P);P+=4;var F=P;P=ey.ZDT(e,g,P);P=ey.ZDA(e,g,P);var m=T.GQ(g,P);e.name=m.kg;P+=m.length;
if(m.length%4!=0)P+=4-m.length%4;P=UN.Dr(g,P,F+S,e.add,x,j);if(e.YK){var R=e.YK;if(e.ou()){e.ou().Bh=R[0];
e.ou().FZ=R[1]}if(e.add.vmsk){e.add.vmsk.Bh=R[2];e.add.vmsk.FZ=R[3]}}if(e.add.lsct){if(e.add.lsct.T$)e.T$=e.add.lsct.T$;
e.add.lsct=e.add.lsct.type}return P};ey.ZDq=function(e,j,g,P,p){var v=P;T.ce(g,P,e.rect);P+=16;var x=e.ZCg();
T.Mw(g,P,x.length);P+=2;p.push(P);for(var A=0;A<x.length;A++){T.Ad(g,P,x[A]);T.kB(g,P+2,0);P+=6}T.g$(g,P,"8BIM");
P+=4;T.g$(g,P,e.T$);P+=4;T.YS(g,P,e.opacity,1);P+=1;T.YS(g,P,e.qX?1:0,1);P+=1;T.YS(g,P,e.Oz,1);P+=1;
T.YS(g,P,0,1);P+=1;var f=P;T.kB(g,P,0);P+=4;var S=P;P=ey.ZDE(e,g,P);P=ey.ZDw(e,g,P);var F=T.Wn(g,P,e.name.slice(0,255));
P+=F;if(F%4!=0)P+=4-F%4;if(e.add.lsct){e.add.lsct={type:e.add.lsct};if(e.T$=="pass"){e.add.lsct.T$="pass";
e.T$="norm"}}if(e.T$=="pass")e.add.lsct={type:e.add.lsct,T$:"pass"};if(e.add.brit)e.add.CgEd=e.add.brit;
P=UN.DZ(g,P,e.add,j);delete e.add.CgEd;if(e.add.lsct){if(e.add.lsct.T$)e.T$=e.add.lsct.T$;e.add.lsct=e.add.lsct.type}var m=P-S;
T.kB(g,f,m);return P};ey.ZDT=function(e,j,g){var P=T.o(j,g);g+=4;if(P==0)return g;var p=g;e._=new u.IP;
e._.rect=T.mz(j,g);g+=16;e._.color=j[g];g+=1;var v=ey.Dx(e._,j,g);g+=1;if(v){var x=!1,f=255,S=0,F=255,m=0;
for(var A=0;A<e.Nx.length;A++)if(e.Nx[A].id==-3)x=!0;if(x){e.kF=ey.Df(j,g);g+=18}var R=g,M=j[g];g++;
if(M>>0&1){f=j[g];g++}if(M>>1&1){S=T.aA(j,g);g+=8}if(M>>2&1){F=j[g];g++}if(M>>3&1){m=T.aA(j,g);g+=8}if((g-R&1)==1)g++;
e.YK=[f,S,F,m]}else{if(P==20)g+=2;else{e.kF=ey.Df(j,g);g+=18}}return p+P};ey.ZDE=function(e,j,g){T.kB(j,g,0);
g+=4;if(e._==null)return g;var P=g,p=!0;T.kB(j,g,0);T.ce(j,g,e._.rect);g+=16;T.YS(j,g,e._.color);g+=1;
ey.DU(e._,j,g,p);g+=1;if(p){if(e.kF){ey.ZDp(j,g,e.kF);g+=18}T.YS(j,g,15);g+=1;var v=e.ou(),x=e.add.vmsk;
T.YS(j,g,v?v.Bh:255);g+=1;T.wN(j,g,v?v.FZ:0);g+=8;T.YS(j,g,x?x.Bh:255);g+=1;T.wN(j,g,x?x.FZ:0);g+=8;
g++;T.kB(j,P-4,g-P)}return g};ey.Df=function(e,j){var g=new u.IP;ey.Dx(g,e,j);j+=1;g.color=e[j];j+=1;
g.rect=T.mz(e,j);j+=16;return g};ey.ZDp=function(e,j,g){ey.DU(g,e,j,!1);j+=1;T.YS(e,j,g.color);j+=1;
T.ce(e,j,g.rect);j+=16};ey.Dx=function(e,j,g){var P=j[g];e.Hm=(P>>0&1)==0;e.isEnabled=(P>>1&1)==0;e.Vs=(P>>3&1)==1;
return P>>4&1};ey.DU=function(e,j,g,P){var p=0;if(!e.Hm)p+=1<<0;if(!e.isEnabled)p+=1<<1;if(e.Vs)p+=1<<3;
if(P)p+=1<<4;T.YS(j,g,p)};ey.ZDA=function(e,j,g){var P=T.o(j,g);g+=4;if(P==0)return g;if(P!=5*8)console.log("unexpected Layer Blending Ranges content, size:",P);
for(var p=0;p<P;p++)e.xg[p]=j[g+p];return g+40};ey.ZDw=function(e,j,g){T.kB(j,g,e.xg.length);g+=4;j.JF(g,40);
for(var P=0;P<40;P++){j.data[g+P]=e.xg[P]}return g+40};function vi(){}vi.aW=function(e,j,g,P){P=vi.Ztq(j.fM,j.l$,j.Ng,e,g,P);
return P};vi.Be=function(e,j,g,P,p){g=vi.ZtH(e,j,g,P,p);return g};vi.Ztq=function(e,j,g,P,p,v){var x=P.Nx,A={},f=v;
for(var S=0;S<x.length;S++){var F=x[S],m=F.id,R=F.length,M;if(m==-3)M=P.kF.rect;else if(m==-2)M=P._.rect;
else M=P.rect;var b=vi.dp(e,j,p,M.W,M.j,v,R);v+=R;if(m==-3)P.kF.channel=b;else if(m==-2)P._.channel=b;
else A["c"+m]=b}var s=new Z.il(0);s.Fl=null;if(g==3){s.k=A.c0;s.z=A.c1;s.e=A.c2;s.Fl=A["c-1"]}else if(g==1){s.k=A.c0;
s.z=A.c0;s.e=A.c0;s.Fl=A["c-1"]}else if(g==4){var K=A.c0,X=A.c1,d=A.c2,W=A.c3,O=K.length,H=1/255;for(var S=0;
S<O;S++){var Y=K[S],y=X[S],B=d[S],c=W[S]*H;K[S]=Math.round(Y*c);X[S]=Math.round((.2*Y+.8*y)*c);d[S]=Math.round((.2*y+.8*B)*c)}s.k=K;
s.z=X;s.e=d;s.Fl=A["c-1"];console.log("converting from CMYK to RGB")}if(s.k==null)s.k=Z.V(0);if(s.Fl==null&&s.k!=null){s.Fl=Z.clone(s.k);
Z.set(s.Fl,255)}if(s.z==null)s.z=s.k.slice(0);if(s.e==null)s.e=s.k.slice(0);P.buffer=Z.V(Math.max(0,P.rect.h()*4));
Z.hT(s,P.buffer);return v};vi.ZtH=function(e,j,g,P,p){var v=e.ZCg(),x=new Z.il(e.rect.h());Z.Mi(e.buffer,x);
for(var A=0;A<v.length;A++){var f=v[A],S,F;if(f==-3)S=e.kF.rect;else if(f==-2)S=e._.rect;else S=e.rect;
if(f==-3)F=e.kF.channel;if(f==-2)F=e._.channel;if(f==-1)F=x.Fl;if(f==0)F=x.k;if(f==1)F=x.z;if(f==2)F=x.e;
j.JF(g,S.h()*3+4);var m=g;g=vi.dP(F,j.data,S.W,S.j,g,p[1]?3:1);var R=g-m;if(R%2!=0){R+=R%2;g++}T.Sz(j.data,P+A*6+2,R)}return g};
vi.dp=function(e,j,g,P,p,v,x){var A=T.JO(g,v);v+=2;return vi.Uc(e,j,g,P,p,v,A,x-2)};vi.dP=function(e,j,g,P,p,v){T.Pg(j,p,v);
p+=2;p=vi.py(e,j,g,P,p,v);return p};vi.Uc=function(e,j,g,P,p,v,x,A){var f,S=P*p*(j>>>3),F=S&3,m=S+(F==0?0:4-F);
if(x>3){console.log("unknown compression: "+x,P,p,P*p,A);x=0}if(x==0){if(v+m<=g.length)f=g.slice(v,v+m);
else{f=Z.V(S);for(var R=0;R<S;R++)f[R]=g[v+R]}v+=S}else if(x==1){f=Z.V(S);var M=e?4:2,b=vi.DW(g,f,P,p,v,v+M*p,M);
v+=M*p+b}else if(x==2||x==3){var s=new Uint8Array(g.buffer,v+2,A-6),K=pako.inflateRaw(s);if(x==3){if(j==8)for(var X=0;
X<p;X++){var d=X*P+1,W=d+P-1,O=K[d-1];for(var H=d;H<W;H++){O+=K[H];K[H]=O&255}}else for(var X=0;X<p;
X++){var d=X*P+1,W=d+P-1,O=K[2*d-2]<<8|K[2*d-1];for(var H=d;H<W;H++){var Y=H<<1;O+=K[Y]<<8|K[Y+1];K[Y]=O>>>8;
K[Y+1]=O&255}}}if(K.length==m)f=K;else{f=Z.V(m);for(var R=0;R<K.length;R++)f[R]=K[R]}}if(j==16){var y=Z.V(P*p);
for(var R=0;R<S;R+=2)y[R>>>1]=f[R];f=y}return f};vi.py=function(e,j,g,P,p,v){var x=g*P;if(v==0)for(var A=0;
A<x;A++)j[p++]=e[A];else if(v==1){var f=vi.Dv(e,j,g,P,p,p+2*P);p+=2*P+f}else if(v==2||v==3){if(v==3){var S=new Uint8Array(e.length);
for(var F=0;F<P;F++){var m=F*g+1,R=m+g-1,M=e[m-1];S[m-1]=M;for(var b=m;b<R;b++){S[b]=e[b]+(256-M)&255;
M=e[b]}}e=S}j[p]=120;j[p+1]=156;p+=2;var s=pako.deflateRaw(e,{ZeO:4});T.Tz(j,p,s);p+=s.length+4}else console.log("Unknown compression: "+v);
return p};vi.DW=function(e,j,g,P,p,v,x){var A=v,f=P|0;if(x==2)for(var S=0;S<f;S++){var F=T.JO(e,p+(S<<1));
vi.dX(e,v,F,j,S*g,g);v+=F}else for(var S=0;S<f;S++){var F=T.o(e,p+(S<<2));vi.dX(e,v,F,j,S*g,g);v+=F}return v-A};
vi.Dv=function(e,j,g,P,p,v){var x=v;for(var A=0;A<P;A++){var f=vi.ZtY(e,A*g,g,j,v);T.FG(j,p+A*2,f);v+=f}return v-x};
vi.ZtY=function(e,j,g,P,p){var v,x,A,f,S,F,m;f=j+g;for(A=j,x=p;g>0;A=v,g-=F){m=g<128?g:128;if(A<=f-3&&e[A+1]==e[A+0]&&e[A+2]==e[A+0]){for(v=A+3;
v<A+m&&e[v]==e[A+0];)++v;F=v-A;P[x++]=1+256-F;P[x++]=e[A+0]}else{for(v=A;v<A+m;)if(v<=f-3&&e[v+1]==e[v+0]&&e[v+2]==e[v+0])break;
else++v;F=v-A;P[x++]=F-1;for(var R=0;R<F;R++)P[x+R]=e[A+R];x+=F}}return x-p};vi.dX=function(e,j,g,P,p,v){for(var x=0;
x<g;){var A=e[j++];if(A>=128){var f=e[j++],S=p+(257-A);while(p+1<S){P[p++]=P[p++]=f}if(p<S)P[p++]=f;
x+=2}else{for(var F=0;F<=A;F++)P[p+F]=e[j+F];j+=A+1;p+=A+1;x+=1+1+A}}};function vN(){}vN.aW=function(e,j){j.fM=!1;
j.l$=8;var g=new Uint8Array(e),P=0,p=0,E,J=0,Wn=!1,WB=!0,Wt=!1,Wy=0;p=vN.BV(j,g,P);P=p;p=vN.Zqy(j,g,P);
P=p;p=vN.Zqi(j,g,P);P=p;p=vN.ZqD(j,g,P);P=p;p=vN.ZLX(j,g,P);P=p;if(j.T.length==0){var v=j.Rz();v.tG("Background");
j.T.push(v);v.buffer=Z.clone(j.buffer);v.rect=new G(0,0,j.W,j.j)}if(j.Sw.r1005){j.aY=T.Zzi(j.Sw.r1005,0)}if(j.Sw.r1026){var g=j.Sw.r1026;
for(var x=0;x<g.length;x+=2){var p=j.T[x>>>1];if(p)p.fw=T.JO(g,x)}}if(j.Sw.r1032){var g=j.Sw.r1032,A=T.o(g,12);
for(var x=0;x<A;x++){var f=g[16+x*5+4],S=T.UZ(g,16+x*5)/32;j.TY[f].push(S)}}delete j.Sw.r1036;delete j.Sw.r1039;
if(j.Sw.r1050){var F=T.o,m=j.Sw.r1050,R=T.o(m,0);if(R==6){var M=4,b=T.mz(m,M);M+=16;var s=T.mQ(m,M);
M+=4+s.length*2;var K=F(m,M);M+=4;var X=j.iZ;for(var x=0;x<K;x++){var d=o.bR.ZeS(),O;X.push(d);d=d.v;
d.sliceID.v=F(m,M);M+=4;d.groupID.v=F(m,M);M+=4;var W=F(m,M);M+=4;if(W==1){O=F(m,M);M+=4}var s=T.mQ(m,M);
M+=4+s.length*2;var H=F(m,M);M+=4;var Y=[F(m,M),F(m,M+4),F(m,M+8),F(m,M+12)];M+=16;o.bR.Zu(X,X.length-1,Y);
var y=d.url.v=T.mQ(m,M);M+=4+y.length*2;var B=d.null.v=T.mQ(m,M);M+=4+B.length*2;var c=d.Msge.v=T.mQ(m,M);
M+=4+c.length*2;var $=d.altTag.v=T.mQ(m,M);M+=4+$.length*2;d.cellTextIsHTML.v=m[M]==1;M++;var I=d.cellText.v=T.mQ(m,M);
M+=4+I.length*2;var r=F(m,M);M+=4;var i=F(m,M);M+=4;var U=m.slice(M,M+4);M+=4;if(W!=2)X.pop()}}else if(R==8){var N={};
Za.Us(m,N,8,!1);var m=j.iZ=N.slices.v;for(var x=0;x<m.length;x++){if(m[x].v.origin.v.ESliceOrigin!="userGenerated"){m.splice(x,1);
x--}}}}if(j.Sw.r1058){var C=j.Sw.r1058,D=UTIF.decode(C.buffer,{parseMN:!1,debug:!1});Uk.Oi(D[0],j.fn);
delete j.Sw.r1058}if(j.Sw.r1060){var n=T.vG(j.Sw.r1060);Uk.Zns(n,j.fn);delete j.Sw.r1060}if(j.Sw.r1065){var g=j.Sw.r1065;
j.TF={};Za.Us(g,j.TF,4,!1)}if(j.Sw.r1069){var g=j.Sw.r1069,w=[];for(var x=2;x<g.length;x+=4){var O=T.o(g,x);
for(var k=0;k<j.T.length;k++){var p=j.T[k];if(p.add.lyid==O&&p.add.lsct!=3)w.push(k)}}j.b=w}if(j.Sw.r1025){var h=j.Sw.r1025;
delete j.Sw.r1025;var t=eU.Ob(h,0,h.length,j.W,j.j),a=new u.nt;a.F=t;j.Bd[0]=ZT.Uq("Working Path",{vmsk:a})}var _=j.add.pths;
delete j.add.pths;var WW=j.Sw.r3000;if(WW){E={};Za.Us(WW,E,4,!1);delete j.Sw.r3000}for(var Wx=0;Wx<=997;
Wx++){var WU="r"+(2e3+Wx),h=j.Sw[WU];if(h==null)break;var t=eU.Ob(h,0,h.length,j.W,j.j),We=_?_.pathList.v[Wx].v.pathUnicodeName.v:"Path "+Wx,Wv=E?E.keyRootDescriptorList.v[Wx].v.keyDescriptorList.v:u.Vd(t),a=new u.nt;
a.F=t;j.Bd[Wx+1]=ZT.Uq(We,{vmsk:a,vogk:Wv});delete j.Sw[WU]}delete j.fM;var L=new G(0,0,j.W,j.j),WZ=j.add.Txt2,WJ=WZ;
if(WJ){WJ=WJ.YF;if(WJ._DocumentResources==null)WJ=v_.ZTk(WJ)}if(WZ&&WZ.YF._DocumentResources!=null){var Wu="_Type _FrameMatrix _TextOnPathTRange _PathData _FirstBaselineAlignment _LineOrientation _RowGutter _ColumnGutter".split(" "),WC=WZ.YF._DocumentResources._TextFrameSet._Resources;
for(var x=0;x<WC.length;x++){}}for(var x=0;x<j.T.length;x++){var p=j.T[x],Wz=p.add.lsct,WG=p.add.vmsk,Wq=p.ou();
if(Wz==vC.EN)Wy++;else if(Wz==vC.x_||Wz==vC.TC)Wy--;if(p.name==""){p.name="Layer "+(x+1);Wt=!0}if(Wt&&p.CQ()&&p.T$=="norm")p.T$="pass";
if(p.f$()&&p.EK(j)._){var Wa=p.EK(j);Wa._.isEnabled=p.add.SoLd.filterFX.v.filterMaskEnable.v}if(WG&&p.dz()){var WK=Wr.hg.default;
if(p.add.vstk==null)p.add.vstk=JSON.parse(JSON.stringify(WK));else{var Wd="strokeStyleLineDashSet";if(p.add.vstk[Wd]==null)p.add.vstk[Wd]=JSON.parse(JSON.stringify(WK[Wd]))}}if(WG&&(p.add.vogk==null||Z.f.iI(WG.F)!=p.add.vogk.length))p.Vd();
if(Wq==null&&p._!=null){if(p._.Vs==!1){p._.Vs=!0;p.kF=p._.clone()}else{WG.kF=p._;WG.jA=!1;p._.FZ=WG.FZ;
p._.Bh=WG.Bh}}if(Wq!=null&&WG!=null&&(Wq.FZ+WG.FZ!=0||Wq.Bh+WG.Bh!=2*255))p.d$(j);var WD=p.add.artb;
if(WD&&WD.artboardBackgroundType==null)WD.artboardBackgroundType={t:"long",v:1};if(WD&&Wy!=0)delete p.add.artb;
var W$=p.add.vstk;if(p.dz()&&(p.rect.tE()||WG&&WG.FZ!=0||W$&&!W$.fillEnabled.v&&(!W$.strokeEnabled.v||W$.strokeStyleLineWidth.v.val==0)))p.kn(j);
if(p.add.TySh){Wn=!0;if(!p.rect.tE())WB=!1}if(p.add.TySh&&WJ){var Zg=p.add.TySh.xe,WL=Wf.JQ(Zg),WY=Zg.EngineDict.ParagraphRun.RunArray,WA=WJ._DocumentObjects._TextObjects;
if(WA.length<=J){console.log("Txt2 incomplete");continue}WA=WA[J]._Model._ParagraphRun._RunArray;if(WA==null)WA=[];
var Wb=Math.min(WA.length,WY.length);for(var k=0;k<Wb;k++){var WX=WY[k].ParagraphSheet.Properties,fI=WJ._DocumentResources._ParagraphSheetSet._Resources,Ww=WA[k]._RunData._ParagraphSheet;
if(typeof Ww=="string")Ww=fI[parseInt(Ww.slice(1))]._Resource;var W_=Ww._Parent==null?Ww:fI[parseInt(Ww._Parent.slice(1))]._Resource,vW=Ww._Features._ParagraphDirection;
if(vW==null)vW=W_._Features._ParagraphDirection;if(vW)WX._Direction=parseInt(vW.slice(1))}var vL=WJ._DocumentResources,vV=vL._TextFrameSet._Resources,Wo=vV[J]._Resource,WT=Wo._Data,WH=new WE(1,0,0,1,0,0);
if(Wo._0){var WS=parseFloat(Wo._0[0].slice(1)),ve=parseFloat(Wo._0[1].slice(1));WH.translate(WS,ve)}if(WL){WH.translate(WL[0],WL[1]);
Wf.kJ(Zg,[0,0,WL[2]-WL[0],WL[3]-WL[1]])}else{if(Wo._Bezier&&Wo._Bezier._Points){var t=Wo._Bezier._Points,WS=parseFloat(t[0].slice(1)),ve=parseFloat(t[1].slice(1));
if(WS!=0||ve!=0){WH.translate(WS,ve)}}}if(Wo._Data&&Wo._Data._FrameMatrix){var Zi=Wo._Data._FrameMatrix;
Zi=Zi.map(function(fH){return parseFloat(fH.slice(1))});WH.concat(new WE(Zi[0],Zi[1],Zi[2],Zi[3],Zi[4],Zi[5]))}WH.concat(p.add.TySh.K);
p.add.TySh.K=WH;J++;var H=WT._Type?parseInt(WT._Type.slice(1)):0;if(H==2||H==1&&WT._PathData._Spacing=="i-3"){var WQ=function(fH){return parseFloat(fH.slice(1))},t=Wo._Bezier._Points.map(WQ);
if(WL)Z.g.K(t,new WE(1,0,0,1,-WL[0],-WL[1]),t);var vZ=WT._PathData._Reversed;Zg.Curve={Points:t,TextOnPathTRange:WT._TextOnPathTRange.map(WQ),Reversed:vZ==null?!1:vZ};
p.add.TySh.add={vmsk:new u.nt,vogk:null};Wf.cw(p.add.TySh)}}}ZI.tL.DK(j,!0)};vN.LE=function(e,j,g){ZI.tL.YD(e);
ZI.tL.DK(e,!1);var P=[],p=[],v=[],x=[],A=[],$=16,Wx=0;for(var f=0;f<e.T.length;f++){var S=e.T[f];if(S.f$()&&S.EK(e)._){S.add.SoLd.filterFX.v.filterMaskEnable.v=S.EK(e)._.isEnabled}if(S.add.SoLd){p.push(S.add.SoLd.Idnt.v);
v.push(S.add.SoLd.placed.v)}if(S.add.TySh){var F=S.add.TySh.xe,m=Wf.FN(F);S.add.TySh.ia.TextIndex={t:"long",v:P.length};
P.push(F);if(m==2)Wf.gP(S.add.TySh)}if(S.add.PtFl)x.push(S.add.PtFl.Ptrn.v.Idnt.v);if(S.add.lmfx){for(var R=0;
R<Wr.uM.length;R++){var M=S.add.lmfx[Wr.uM[R]].v;for(var b=0;b<M.length;b++)if(M[b].v.Ptrn)x.push(M[b].v.Ptrn.v.Idnt.v)}}var s=S.add.vstk;
if(s&&s.strokeStyleContent.v.classID=="patternLayer"){x.push(s.strokeStyleContent.v.Ptrn.v.Idnt.v)}if(S.dz()){A[f]=[S.rect,S.buffer];
S.rect=new G;S.buffer=Z.V(0)}}if(P.length>0){var K=e.add.Txt2?e.add.Txt2.YF:null;e.add.Txt2={};e.add.Txt2.YF=vB.ZLO(P,null,K)}var X=e.add.lnk2;
if(X){var d=e.add.lnk2=[];for(var f=0;f<X.length;f++)if(p.indexOf(X[f].Bv)!=-1)d.push(X[f]);if(d.length==0)delete e.add.lnk2}var W=e.add.FEid;
if(W){var O=e.add.FEid=[];for(var f=0;f<W.length;f++)if(v.indexOf(W[f].id)!=-1)O.push(W[f]);if(O.length==0)delete e.add.FEid}var H=e.add.Patt;
if(H){var Y=e.add.Patt=[];for(var f=0;f<H.length;f++)if(x.indexOf(H[f].id)!=-1)Y.push(H[f])}e.Sw.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
T.DI(e.Sw.r1005,0,e.aY);T.DI(e.Sw.r1005,8,e.aY);if(e.iE()){e.Sw.r1022=new Uint8Array([0,3+e.xr.length-1,0])}else delete e.Sw.r1022;
e.Sw.r1026=new Uint8Array(e.T.length*2);for(var f=0;f<e.T.length;f++)T.FG(e.Sw.r1026,f*2,e.T[f].fw);
var y=e.TY,B=y[0].length+y[1].length,c=e.Sw.r1032=Z.V(16+5*B,!0);T.Sz(c,0,1);T.Sz(c,4,576);T.Sz(c,8,576);
T.Sz(c,12,B);for(var f=0;f<2;f++)for(var b=0;b<y[f].length;b++){T.kU(c,$,Math.round(y[f][b]*32));c[$+4]=f;
$+=5}delete e.Sw.r1045;delete e.Sw.r1006;delete e.Sw.r1077;var I=new Zc;$=0;var r=new Uint8Array(4+(1+e.xr.length)*13);
r[3]=1;r[6]=r[7]=255;r[15]=100;r[16]=1;for(var f=0;f<1+e.xr.length;f++){var i=e.xr[f-(f==0?0:1)],U=(f==0?"Transparency":i.name)+"\0";
T.j$(I,$,U);$+=4+U.length*2;if(f!=0){var N=4+f*13;eV.Uh(r,N,i.xI);r[N+11]=i.Nn;r[N+12]=i.Gm}}e.Sw.r1045=I.data.slice(0,$);
e.Sw.r1077=r;for(var f=0;f<e.iZ.length;f++)e.iZ[e.iZ.length-f-1].v.sliceID.v=2+f*3;var C={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:e.iZ}},I=new Zc;
T.kB(I,0,8);T.kB(I,4,16);var D=Za.GA(I,C,8);e.Sw.r1050=I.data.slice(0,D+8);var I=new Zc;T.kB(I,0,16);
var D=Za.GA(I,e.TF,4);e.Sw.r1065=I.data.slice(0,D+4);var n=e.b;c=e.Sw.r1069=Z.V(2+n.length*4,!0);T.FG(c,0,n.length);
for(var f=0;f<n.length;f++)T.Sz(c,2+4*f,e.T[n[f]].add.lyid);delete e.Sw.r1058;delete e.Sw.r1060;if(Object.keys(e.fn).length!=0){var w=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
Uk.EZ(e.fn,w[0],g[0]&&g[1]);e.Sw.r1058=new Uint8Array(UTIF.encode(w));var k=Uk.ZdT(e.fn);e.Sw.r1060=T.WJ(k)}var h=[],t=[];
for(var f=0;f<e.Bd.length;f++){var a=e.Bd[f],_=a.add.vmsk.F;if(f==0&&_.length==2)continue;var E=Z.V(_.length*26);
eU.dJ(E,0,_,e.W,e.j);var WW=f==0?1025:2e3+f-1;e.Sw["r"+WW]=E;if(f!=0){h.push({t:"Objc",v:{classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:a.name}}});
t.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:a.add.vogk}}})}}if(h.length!=0){e.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:h}};
t={classID:"null",keyRootDescriptorList:{t:"VlLs",v:t}};var I=new Zc;T.kB(I,0,16);var D=Za.GA(I,t,4);
e.Sw.r3000=I.data.slice(0,D+4)}else{delete e.add.pths;delete e.Sw.r3000}Wx=vN.ZqU(e,j,Wx);Wx=vN.Zqa(e,j,Wx);
Wx=vN.ZqN(e,j,Wx);Wx=vN.Zqt(e,j,Wx,g);Wx=vN.ZLk(e,j,Wx,g[0]);var WU=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016];
for(var f=0;f<WU.length;f++)delete e.Sw["r"+WU[f]];for(var f=0;f<e.T.length;f++){var S=e.T[f];if(S.dz()){S.rect=A[f][0];
S.buffer=A[f][1]}}if(X)e.add.lnk2=X;if(W)e.add.FEid=W;if(H)e.add.Patt=H;ZI.tL.DK(e,!0);return Wx};vN.BV=function(e,j,g){var P=T.ko(j,g,4);
g+=4;if(P!="8BPS")alert("invalid header signature: "+P);var p=T.JO(j,g);g+=2;e.fM=p==2;if(p!=1&&p!=2)alert("invalid version: "+p);
g+=6;e.Nd=T.JO(j,g);g+=2;e.j=T.UZ(j,g);g+=4;e.W=T.UZ(j,g);g+=4;e.l$=T.JO(j,g);g+=2;e.Ng=T.JO(j,g);g+=2;
return g};vN.ZqU=function(e,j,g){j.JF(0,64);T.Lc(j.data,g,"8BPS");g+=4;T.FG(j.data,g,1);g+=2;T.Sz(j.data,g,0);
g+=4;T.FG(j.data,g,0);g+=2;T.FG(j.data,g,4+e.xr.length);g+=2;T.kU(j.data,g,e.j);g+=4;T.kU(j.data,g,e.W);
g+=4;T.FG(j.data,g,8);g+=2;T.FG(j.data,g,3);g+=2;return g};vN.Zqy=function(e,j,g){var P=T.UZ(j,g);g+=4;
if(P!=0)e.lj=j.slice(g,g+P);g+=P;return g};vN.Zqa=function(e,j,g){T.Tx(j,g,0);g+=4;return g};vN.Zqi=function(e,j,g){var P=T.o(j,g),p=0;
g+=4;var v=[];while(p<P){var x=T.ko(j,g+p,4);p+=4;var A=T.JO(j,g+p);p+=2;var f=T.GQ(j,g+p);p+=f.length;
if(x!="8BIM"){v.push(A);console.log("Unknown Image Resources signature: "+x+", ID: "+A)}var S=T.o(j,g+p);
p+=4;if(e.Sw["r"+A]!=null)console.log("--- two resources with same ID");e.Sw["r"+A]=T.EJ(j,g+p,S);p+=S+(S&1)}for(var F=0;
F<v.length;F++)delete e.Sw["r"+v[F]];return g+P};vN.ZqN=function(e,j,g){var P=g,x=0;g+=4;var p=[];for(var v in e.Sw){p.push(parseInt(v.slice(1)))}p.sort(function(R,M){return R-M});
for(var A=0;A<p.length;A++){T.g$(j,g+x,"8BIM");x+=4;var f=p[A];T.Mw(j,g+x,f);x+=2;var S=T.Wn(j,g+x,"");
x+=S;var F=e.Sw["r"+f],m=F.length;T.kB(j,g+x,m);x+=4;T.Et(j,g+x,F);x+=m;if(m%2==1)x++}T.kB(j,P,x);return g+x};
vN.ZqD=function(e,j,g){var P=g,p,v=e.fM?8:4;if(e.fM)p=T.Qn(j,g);else p=T.o(j,g);g+=v;if(p==0)return P+v;
g=vN.Zqq(e,j,g);g=vN.Zqm(e,j,g);g=UN.Dr(j,g,P+v+p,e.add,e.fM,e);return P+v+p};vN.Zqt=function(e,j,g,P){var p=g;
T.kB(j,g,0);g+=4;g=vN.ZqL(e,j,g,P);g=vN.ZLu(e,j,g);g=UN.DZ(j,g,e.add,e);T.kB(j,p,g-p-4);return g};vN.Zqq=function(e,j,g){var P,p=e.fM?8:4;
if(e.fM)P=T.Qn(j,g);else P=T.o(j,g);g+=p;if(P!=0)vN.GS(e,j,g);return g+P};vN.GS=function(e,j,g){var P=T.Fm(j,g);
g+=2;var p=Math.abs(P);for(var v=0;v<p;v++){var x=new u;g=ey.aW(x,e,j,g);e.T[v]=x}var A=new G(0,0,e.W,e.j);
for(var v=0;v<p;v++){var f=e.T[v];g=vi.aW(f,e,j,g);var S=f.rect.h(),F=f.rect.zx(A),m=F.h()/S;if(S>2e3*3e3&&m<.5){var R=Z.V(F.h()*4);
Z.Vy(f.buffer,f.rect,R,F);f.buffer=R;f.rect=F;alert("Removing hidden parts of layers")}}};vN.ZqL=function(e,j,g,P){var p=g;
T.kB(j,g,0);g+=4;var v=e.T.length;T.Mw(j,g,-v);g+=2;var x=[];for(var A=0;A<v;A++)g=ey.LE(e.T[A],e,j,g,x);
for(var A=0;A<v;A++)g=vi.Be(e.T[A],j,g,x[A],P);var f=g-p-4;if(f%2!=0)f++;T.kB(j,p,f);return p+f+4};vN.Zqm=function(e,j,g){var P=T.o(j,g);
g+=4;g+=P;return g};vN.ZLu=function(e,j,g){var P=T.kB(j,g,0);g+=4;return g};vN.ZLX=function(e,j,g){var P=e.Ng,p="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),v=[1,1,1,3,4,1,1,3],x,s;
if(P!=3){if(P==1||P==2||P==4)alert("Project will be converted from "+p[P]+" to "+p[3]+" mode.");else{alert("Color mode "+p[P]+" is not supported yet :(")}}if(e.Sw.r1045){x=[];
var A=e.Sw.r1045,f=0;while(f<A.length){var S=T.AE(A,f);x.push(S);f+=4+2+S.length*2}}var F=v[P]+(x==null||x[0]=="Transparency"?1:0),m=e.W,R=e.j,M=m*R,b=T.JO(j,g);
g+=2;e.buffer=Z.V(M*4);Z.XC(e.buffer,4278190080);var K=g;for(var X=0;X<e.Nd;X++){if(b==0){s=vi.Uc(e.fM,e.l$,j,m,R,g,b);
g+=M*(e.l$>>>3)}else if(b==1){s=Z.V(M);var d=e.fM?4:2;if(X==0)g+=e.Nd*R*d;g+=vi.DW(j,s,m,R,K+X*R*d,g,d)}else{console.log("unknown compression of image data: ",b);
return}if(X<F){Z.sH(s,e.buffer,X);if(e.Nd==1&&X==0){Z.sH(s,e.buffer,1);Z.sH(s,e.buffer,2)}}else{var W=new u.IP,O=X-F,H=X-v[e.Ng];
W.name=x?x[H]:"Alpha";if(W.name=="Quick Mask"){W.IN=!0;e.HO.push(O)}W.rect=new G(0,0,m,R);W.channel=s;
W.color=0;W.Co();e.xr[O]=W;if(e.Sw.r1077){var A=e.Sw.r1077.slice(4+H*13);W.xI=eV.oQ(A,0);W.Nn=A[11];
W.Gm=A[12];if(W.Gm==2)W.IN=!0}}}e.Nd=4;if(e.Ng==2)for(var Y=0;Y<M;Y++){var y=Y*4,B=e.buffer[y];e.buffer[y]=e.lj[0+B];
e.buffer[y+1]=e.lj[256+B];e.buffer[y+2]=e.lj[512+B]}return g};vN.ZLk=function(e,j,g,P){var p=1,v=16,x=e.W,A=e.j,S,F;
T.Mw(j,g,p);g+=2;var f=x*A;if(!P){F=new Z.il(x*A);Z.Mi(e.buffer,F);var m=F.k,R=F.z,M=F.e,b=F.Fl;for(var s=0;
s<f;s++){var K=b[s]*(1/255);m[s]=~~(m[s]*K+255*(1-K));R[s]=~~(R[s]*K+255*(1-K));M[s]=~~(M[s]*K+255*(1-K))}}else S=Z.V(f);
var X=[S,S,S,S];if(!P)X=[F.k,F.z,F.e,F.Fl];for(var s=0;s<e.xr.length;s++){X.push(e.xr[s].Eb(new G(0,0,e.W,e.j)))}var d=g;
for(var W=0;W<X.length;W++){j.JF(g,x*A+4);S=X[W];if(p==0||p==2||p==3)g=vi.py(S,j.data,x,A,g,p);else{if(W==0)g+=X.length*A*2;
var O=g;g+=vi.Dv(S,j.data,x,A,d+W*A*2,g)}}return g};function VM(){}VM.aW=function(e){var j={};VM.pi(e,j,0,0);
return j};VM.LE=function(e,j){var g=0;g=VM.pL(e,j,g,0);return g};VM.pi=function(e,j,g,P){while(e[g]!="<".charCodeAt(0))g++;
g+=2;while(!0){if(e[g]=="/".charCodeAt(0)){g++;var p=T.indexOf(e," ".charCodeAt(0),g,g+50),v=T.indexOf(e,"\n".charCodeAt(0),g,g+50);
if(v==-1)v=Infinity;if(p==-1)p=Infinity;var x=Math.min(v,p),A=T.ko(e,g,x-g),f=VM.Wr(e,x+1,P+1,A);j[A]=f.r;
g=x+1;g+=f.size}else if(e[g]==">".charCodeAt(0)){g+=2;break}else{var S=e[g];if(S==10||S==9||S==32)g++;
else{console.log("unknown byte: "+S+", char: "+String.fromCharCode(S),g);g++}}}return g};VM.pL=function(e,j,g,P){T.g$(j,g,"<<\n");
g+=3;var p=VM.ZLl;for(var v in e){T.YS(j,g,"\t".charCodeAt(0),P+1);g+=P+1;T.g$(j,g,"/"+v);g+=1+v.length;
if(p(e[v])||e[v]instanceof Array){T.g$(j,g," ");g++}else{T.g$(j,g,"\n");g++;T.YS(j,g,"\t".charCodeAt(0),P+1);
g+=P+1}g=VM.Wf(e[v],j,g,P+1);T.g$(j,g,"\n");g++}T.YS(j,g,"\t".charCodeAt(0),P);g+=P;T.g$(j,g,">>");g+=2;
return g};VM.Wr=function(e,j,g,P){var p=j,v={size:0,r:0};while(!0){while(e[j]==" ".charCodeAt(0)||e[j]=="\t".charCodeAt(0)||e[j]=="\n".charCodeAt(0))j++;
if(e[j]=="<".charCodeAt(0)){v.r={};j=VM.pi(e,v.r,j,g+1);break}else if(e[j]=="(".charCodeAt(0)){j+=3;
var x=j;while(!0){if(e[x-1]!="\\".charCodeAt(0)&&e[x]==")".charCodeAt(0)&&(e[x+1]=="\n".charCodeAt(0)||e[x+1]==" ".charCodeAt(0)))break;
else x++}v.r=T.Du(e,j,x);j=x+2;break}else if(e[j]=="[".charCodeAt(0)){j++;v.r=[];while(e[j]==" ".charCodeAt(0)||e[j]=="\t".charCodeAt(0)||e[j]=="\n".charCodeAt(0))j++;
while(e[j]!="]".charCodeAt(0)){var A=VM.Wr(e,j,g+1,P);v.r.push(A.r);j+=A.size;while(e[j]==" ".charCodeAt(0)||e[j]=="\t".charCodeAt(0)||e[j]=="\n".charCodeAt(0))j++}j++;
break}else{var f=T.indexOf(e," ".charCodeAt(0),j,j+50),S=T.indexOf(e,"\n".charCodeAt(0),j,j+50);if(S==-1)S=Infinity;
if(f==-1)f=Infinity;var F=T.ko(e,j,Math.min(f,S)-j).trim(),m=parseFloat(F);if(!isNaN(m)){v.r=parseFloat(F);
j=Math.min(f,S)+1;break}else if(F=="true"||F=="false"){v.r=F=="true";j=Math.min(f,S)+1;break}else if(F=="null"||F=="NaN"){v.r=0;
j=Math.min(f,S)+1;break}else{console.log("unknown identifier: "+F);throw"e"}j=Math.min(f,S)+1}}v.size=j-p;
return v};VM.Wf=function(e,j,g,P){if(e instanceof Array){var p=e.length==0||typeof e[0]=="number";if(p){T.g$(j,g,"[ ");
g+=2;for(var v=0;v<e.length;v++){var x=e[v]+" ";T.g$(j,g,x);g+=x.length}T.g$(j,g,"]");g+=1}else{T.g$(j,g,"[\n");
g+=2;for(var v=0;v<e.length;v++){T.YS(j,g,"\t".charCodeAt(0),P);g+=P;g=VM.Wf(e[v],j,g,P);T.g$(j,g,"\n");
g++}T.YS(j,g,"\t".charCodeAt(0),P);g+=P;T.g$(j,g,"]");g+=1}}else if(e instanceof Object){g=VM.pL(e,j,g,P)}else if(typeof e=="string"){T.g$(j,g,"(");
g++;T.YS(j,g,254);g++;T.YS(j,g,255);g++;g=T.DC(j,g,e);T.g$(j,g,")");g+=1}else{var x=e+"";T.g$(j,g,x);
g+=x.length}return g};VM.ZLl=function(e){var j=typeof e;return j=="string"||j=="number"||j=="boolean"};
function xj(){}xj.aW=function(e){var j={};xj.De(e,j,0,0);return j};xj.LE=function(e,j){var g=0;T.g$(j,g," ");
g++;g=xj.DV(e,j,g,0);g--;j.JF(g,2);j.data[g]=j.data[g+1]=0;g+=2;return g};xj.pi=function(e,j,g,P){while(e[g]!="<".charCodeAt(0)){g++;
console.log("\u0161ipka")}g+=2;g=xj.De(e,j,g,P);return g};xj.pL=function(e,j,g,P){T.g$(j,g,"<< ");g+=3;
g=xj.DV(e,j,g,P);T.g$(j,g,">>");g+=2;return g};xj.GI=function(e){return e==9||e==10||e==32};xj.De=function(e,j,g,P){while(!0){while(xj.GI(e[g])||e[g]==0)g++;
if(g>=e.length)break;if(e[g]=="/".charCodeAt(0)){g++;var p=g;while(!xj.GI(e[p]))p++;var v=T.ko(e,g,p-g);
g=p+1;var x=xj.Wr(e,g,P,v);j["_"+v]=x.r;g+=x.size}else if(e[g]==">".charCodeAt(0)){g+=2;break}else{var A=e[g];
console.log(T.ko(e,g,g+100));console.log("unknown byte: "+A+", char: "+String.fromCharCode(A)+", offset: "+g);
g++;throw"e";return-1}}return g};xj.DV=function(e,j,g,P){for(var p in e){var v=p.substring(1,p.length);
T.g$(j,g,"/"+v);g+=1+v.length;T.g$(j,g," ");g++;g=xj.Wf(e[p],j,g,P+1);T.g$(j,g," ");g++}return g};xj.Wr=function(e,j,g,P){var p=j,v={type:"",size:0,r:0};
while(xj.GI(e[j]))j++;if(e[j]=="<".charCodeAt(0)){v.type="Object";v.r={};j=xj.pi(e,v.r,j,g+1)}else if(e[j]=="(".charCodeAt(0)){v.type="String";
j++;if(e[j]==")".charCodeAt(0)){v.r="s";j++}else{j+=2;var x=j,ZJ=0;while(!0){if(e[x]==")".charCodeAt(0)&&e[x-1]!="\\".charCodeAt(0))break;
else x+=1}v.r="s"+T.Du(e,j,x);j=x+2}}else if(e[j]=="[".charCodeAt(0)){j++;v.r=[];v.type="Array";while(xj.GI(e[j]))j++;
while(e[j]!="]".charCodeAt(0)){var A=xj.Wr(e,j,g+1,P);if(A==-1)return-1;v.r.push(A.r);j+=A.size;delete A.size;
while(xj.GI(e[j]))j++}j++}else{var f=j;while(!xj.GI(e[f]))f++;var S=T.ko(e,j,f-j),F=parseFloat(S);if(!isNaN(F)&&S.indexOf(".")!=-1){v.type="Float";
var m=parseFloat(S);v.r="f"+m}else if(!isNaN(F)&&S.indexOf(".")==-1){v.type="Integer";v.r="i"+parseInt(S)}else if(S=="true"||S=="false"){v.type="Boolean";
v.r=S=="true"}else if(S.charAt(0)=="/"){v.type="BString";v.r=S}else{console.log("unknown value",JSON.stringify(S));
throw"e"}j=f+1}v.size=j-p;return v};xj.ZL_=function(e){if(e==Math.round(e))return e+".0";var j=e.toFixed(5);
if(0<e&&e<1)j=j.substring(1,j.length);if(-1<e&&e<0)j="-"+j.substring(2,j.length);return j};xj.Wf=function(e,j,g,P){var p=typeof e=="string"?e.charAt(0):"";
if(e instanceof Array){T.g$(j,g,"[ ");g+=2;for(var v=0;v<e.length;v++){g=xj.Wf(e[v],j,g,P);T.g$(j,g," ");
g++}T.g$(j,g,"]");g+=1}else if(e instanceof Object){g=xj.pL(e,j,g,P)}else if(p=="s"){T.g$(j,g,"(");g++;
T.YS(j,g,254);g++;T.YS(j,g,255);g++;g=T.DC(j,g,e.substring(1));T.g$(j,g,")");g++}else if(p=="/"){T.g$(j,g,e);
g+=e.length}else if(p=="f"){var x=parseFloat(e.substring(1)),A=xj.ZL_(x);T.g$(j,g,A);g+=A.length}else if(p=="i"){T.g$(j,g,e.substring(1));
g+=e.length-1}else{var A=e+"";T.g$(j,g,A);g+=A.length}return g};function Uc(e,j){if(!e)e=0;if(!j)j=0;
this.x=e;this.y=j}Uc.prototype.add=function(e){return new Uc(this.x+e.x,this.y+e.y)};Uc.prototype.clone=function(){return new Uc(this.x,this.y)};
Uc.prototype.Tc=function(e){this.x=e.x;this.y=e.y};Uc.prototype.iJ=function(e){return this.x==e.x&&this.y==e.y};
Uc.prototype.normalize=function(e){var j=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=e/j;this.y*=e/j};
Uc.prototype.offset=function(e,j){this.x+=e;this.y+=j};Uc.prototype.Ve=function(e,j){this.x=e;this.y=j};
Uc.prototype.ki=function(e){return new Uc(this.x-e.x,this.y-e.y)};Uc.zG=function(e,j){return Uc.ZTD(e.x,e.y,j.x,j.y)};
Uc.gR=function(e,j,g){return new Uc(e.x+g*(j.x-e.x),e.y+g*(j.y-e.y))};Uc.ZTW=function(e,j){return new Uc(e*Math.cos(j),e*Math.sin(j))};
Uc.ZTD=function(e,j,g,P){return Math.sqrt((g-e)*(g-e)+(P-j)*(P-j))};Uc.Bn={};Uc.bW={};Uc.Bn.create=function(){var e=new Float32Array(4);
return e};Uc.bW.create=function(e){var j=new Float32Array(16);j[0]=j[5]=j[10]=j[15]=1;if(e)Uc.bW.set(e,j);
return j};Uc.Bn.add=function(e,j,g){g[0]=e[0]+j[0];g[1]=e[1]+j[1];g[2]=e[2]+j[2];g[3]=e[3]+j[3]};Uc.Bn.set=function(e,j){j[0]=e[0];
j[1]=e[1];j[2]=e[2];j[3]=e[3]};Uc.bW.set=function(e,j){j[0]=e[0];j[1]=e[1];j[2]=e[2];j[3]=e[3];j[4]=e[4];
j[5]=e[5];j[6]=e[6];j[7]=e[7];j[8]=e[8];j[9]=e[9];j[10]=e[10];j[11]=e[11];j[12]=e[12];j[13]=e[13];j[14]=e[14];
j[15]=e[15]};Uc.bW.multiply=function(e,j,g){var P=e[0],p=e[1],v=e[2],x=e[3],A=e[4],f=e[5],S=e[6],F=e[7],m=e[8],R=e[9],M=e[10],b=e[11],s=e[12],K=e[13],X=e[14],d=e[15],W=j[0],O=j[1],H=j[2],Y=j[3];
g[0]=W*P+O*A+H*m+Y*s;g[1]=W*p+O*f+H*R+Y*K;g[2]=W*v+O*S+H*M+Y*X;g[3]=W*x+O*F+H*b+Y*d;W=j[4];O=j[5];H=j[6];
Y=j[7];g[4]=W*P+O*A+H*m+Y*s;g[5]=W*p+O*f+H*R+Y*K;g[6]=W*v+O*S+H*M+Y*X;g[7]=W*x+O*F+H*b+Y*d;W=j[8];O=j[9];
H=j[10];Y=j[11];g[8]=W*P+O*A+H*m+Y*s;g[9]=W*p+O*f+H*R+Y*K;g[10]=W*v+O*S+H*M+Y*X;g[11]=W*x+O*F+H*b+Y*d;
W=j[12];O=j[13];H=j[14];Y=j[15];g[12]=W*P+O*A+H*m+Y*s;g[13]=W*p+O*f+H*R+Y*K;g[14]=W*v+O*S+H*M+Y*X;g[15]=W*x+O*F+H*b+Y*d;
return g};Uc.bW.inverse=function(e,j){var g=e[0],P=e[1],p=e[2],v=e[3],x=e[4],A=e[5],f=e[6],S=e[7],F=e[8],m=e[9],R=e[10],M=e[11],b=e[12],s=e[13],K=e[14],X=e[15],d=g*A-P*x,W=g*f-p*x,O=g*S-v*x,H=P*f-p*A,Y=P*S-v*A,y=p*S-v*f,B=F*s-m*b,c=F*K-R*b,$=F*X-M*b,I=m*K-R*s,r=m*X-M*s,i=R*X-M*K,U=d*i-W*r+O*I+H*$-Y*c+y*B;
if(!U){return null}U=1/U;j[0]=(A*i-f*r+S*I)*U;j[1]=(p*r-P*i-v*I)*U;j[2]=(s*y-K*Y+X*H)*U;j[3]=(R*Y-m*y-M*H)*U;
j[4]=(f*$-x*i-S*c)*U;j[5]=(g*i-p*$+v*c)*U;j[6]=(K*O-b*y-X*W)*U;j[7]=(F*y-R*O+M*W)*U;j[8]=(x*r-A*$+S*B)*U;
j[9]=(P*$-g*r-v*B)*U;j[10]=(b*Y-s*O+X*d)*U;j[11]=(m*O-F*Y-M*d)*U;j[12]=(A*c-x*I-f*B)*U;j[13]=(g*I-P*c+p*B)*U;
j[14]=(s*W-b*H-K*d)*U;j[15]=(F*H-m*W+R*d)*U;return j};Uc.bW.ZDP=function(e,j,g){var P=j[0],p=j[1];g[0]=P*e[0]+p*e[4]+e[12];
g[1]=P*e[1]+p*e[5]+e[13]};Uc.bW.Ztf=function(e,j,g){var P=j[0],p=j[1],v=j[2],x=j[3];g[0]=e[0]*P+e[4]*p+e[8]*v+e[12]*x;
g[1]=e[1]*P+e[5]*p+e[9]*v+e[13]*x;g[2]=e[2]*P+e[6]*p+e[10]*v+e[14]*x;g[3]=e[3]*P+e[7]*p+e[11]*v+e[15]*x};
function WE(e,j,g,P,p,v){if(typeof e==="undefined"){e=1;j=0;g=0;P=1;p=0;v=0}this.Fl=e;this.e=j;this.Ug=g;
this.LC=P;this.vR=p;this.LV=v}WE.prototype.em=function(){return Math.sqrt(Math.abs(this.Fl*this.LC-this.e*this.Ug))};
WE.prototype.DJ=function(){var e=this,j=function(g){return Math.abs(g)<1e-9?0:g};e.Fl=j(e.Fl);e.e=j(e.e);
e.Ug=j(e.Ug);e.LC=j(e.LC);e.vR=j(e.vR);e.LV=j(e.LV)};WE.prototype.vy=function(e){return new Uc(e.x*this.Fl+e.y*this.Ug+this.vR,e.x*this.e+e.y*this.LC+this.LV)};
WE.prototype.translate=function(e,j){this.vR+=e;this.LV+=j};WE.prototype.rotate=function(e){var j=new WE(Math.cos(e),-Math.sin(e),Math.sin(e),Math.cos(e),0,0);
this.concat(j)};WE.prototype.scale=function(e,j){var g=new WE(e,0,0,j,0,0);this.concat(g)};WE.prototype.concat=function(e){this.Tc(new WE(this.Fl*e.Fl+this.e*e.Ug,this.Fl*e.e+this.e*e.LC,this.Ug*e.Fl+this.LC*e.Ug,this.Ug*e.e+this.LC*e.LC,this.vR*e.Fl+this.LV*e.Ug+e.vR,this.vR*e.e+this.LV*e.LC+e.LV))};
WE.prototype.OF=function(){var e=this.Fl*this.LC-this.e*this.Ug;this.Tc(new WE(this.LC/e,-this.e/e,-this.Ug/e,this.Fl/e,(this.Ug*this.LV-this.LC*this.vR)/e,(this.e*this.vR-this.Fl*this.LV)/e))};
WE.prototype.clone=function(){return new WE(this.Fl,this.e,this.Ug,this.LC,this.vR,this.LV)};WE.prototype.Tc=function(e){this.Fl=e.Fl;
this.e=e.e;this.Ug=e.Ug;this.LC=e.LC;this.vR=e.vR;this.LV=e.LV};function T(){}T.pA=function(e){var j="";
for(var g=3;g>=0;g--)j+=String.fromCharCode(e>>g*8&255);return j};T.ZTt=function(e){var j=0;for(var g=e.length-1;
g>=0;g--)j|=e.charCodeAt(g)<<(3-g)*8;return j};T.indexOf=function(e,j,g,P){if(g==null)g=0;if(P==null)P=e.length;
P=Math.min(P,e.length);for(var p=g;p<P;p++)if(e[p]==j)return p;return-1};T.Ba=function(e,j,g){if(g==null)g=0;
if(typeof j=="string"){var P=[];for(var p=0;p<j.length;p++)P.push(j.charCodeAt(p));j=P}for(var p=g;p<e.length;
p++){var v=!0;for(var x=0;x<j.length;x++)if(j[x]!=e[p+x]){v=!1;break}if(v)return p}return-1};T.Du=function(e,j,g){var P=[],v="";
while(j<g){var p=e[j++];if(p=="\\".charCodeAt(0))P.push(e[j++]);else P.push(p)}for(var x=0;x<P.length;
x+=2)v+=String.fromCharCode(P[x]<<8|P[x+1]);return v};T.ZTT=function(e,j,g){var P=new Uint8Array(2);
for(var p=0;p<g.length;p++){T.FG(P,0,g.charCodeAt(p));if(P[0]==")".charCodeAt(0)||P[0]=="(".charCodeAt(0)||P[0]=="\\".charCodeAt(0)){e[j]="\\".charCodeAt(0);
j++}e[j]=P[0];j++;if(P[1]==")".charCodeAt(0)||P[1]=="(".charCodeAt(0)||P[1]=="\\".charCodeAt(0)){e[j]="\\".charCodeAt(0);
j++}e[j]=P[1];j++}return j};T.DC=function(e,j,g){e.JF(j,4*g.length);return T.ZTT(e.data,j,g)};T.Dg=function(e,j,g){var P="";
for(var p=0;p<g;p++){var v=e[j++]|e[j++]<<8;P+=String.fromCharCode(v)}return P};T.Bi=function(e,j,g){var P="";
for(var p=0;p<g;p++){var v=e[j++]<<8|e[j++];P+=String.fromCharCode(v)}return P};T.ZTG=function(e,j,g){for(var P=0;
P<g.length;P++){var p=g.charCodeAt(P);T.GP(e,j+2*P,p)}};T.Dn=function(e,j,g){for(var P=0;P<g.length;
P++){var p=g.charCodeAt(P);T.FG(e,j+2*P,p)}};T.ZtS=function(e,j,g){e.JF(j,2*g.length);T.Dn(e.data,j,g)};
T.ZTE=function(e,j,g){var P=[],p=0,v=0;g+=j;while(j<g){p=e[j++];if((p&128)==0)v=p;else if((p&224)==192){v=(p&31)<<6;
p=e[j++];v|=p&63}else if((p&240)==224){v=(p&15)<<12;p=e[j++];v|=(p&63)<<6;p=e[j++];v|=p&63}else if((p&248)==240){v=(p&7)<<18;
p=e[j++];v|=(p&63)<<12;p=e[j++];v|=(p&63)<<6;p=e[j++];v|=p&63}else throw"e";P.push(v)}return P};T.Dd=window.TextDecoder?new window.TextDecoder("utf8"):null;
T.vG=function(e,j,g){if(j==null)j=0;if(g==null)g=e.length;if(T.Dd&&j==0&&g==e.length)return T.Dd.decode(e);
var P=T.ZTE(e,j,g),p=P.length;for(var v=0;v<p;v++)P[v]=String.fromCharCode(P[v]);return P.join("")};
T.Dy=window.TextEncoder?new window.TextEncoder("utf8"):null;T.WJ=function(e){if(T.Dy)return T.Dy.encode(e);
var j=new Uint8Array(e.length*4),g=T.bu(e,j,0);return j.slice(0,g)};T.bu=function(e,j,g){var P=e.length,p=0;
for(var v=0;v<P;v++){var x=e.charCodeAt(v);if((x&4294967295-(1<<7)+1)==0){j[g+p]=x;p++}else if((x&4294967295-(1<<11)+1)==0){j[g+p]=192|x>>6;
j[g+p+1]=128|x>>0&63;p+=2}else if((x&4294967295-(1<<16)+1)==0){j[g+p]=224|x>>12;j[g+p+1]=128|x>>6&63;
j[g+p+2]=128|x>>0&63;p+=3}else if((x&4294967295-(1<<21)+1)==0){j[g+p]=240|x>>18;j[g+p+1]=128|x>>12&63;
j[g+p+2]=128|x>>6&63;j[g+p+3]=128|x>>0&63;p+=4}else throw"e"}return p};T.BN=function(e,j){var g=T.o(e,j),P=T.vG(e,j+4,g-1);
return{nd:P,Ls:4+g}};T.ZzU=function(e,j){var g=T.ok(e,j),P=T.Dg(e,j+4,g);return P};T.mQ=function(e,j){var g=T.o(e,j),P=T.Bi(e,j+4,g);
return P};T.AE=function(e,j){var g=T.o(e,j),P=T.Bi(e,j+4,g-1);return P};T.Zze=function(e,j,g){T.jj(e,j,g.length);
j+=4;T.ZTG(e,j,g)};T.ZzC=function(e,j,g){T.Sz(e,j,g.length);j+=4;T.Dn(e,j,g)};T.j$=function(e,j,g){e.JF(j,4+2*g.length);
T.ZzC(e.data,j,g)};T.Zzd=function(e,j,g){e.JF(j,4+2*g.length);T.Zze(e.data,j,g)};T.pw=function(e,j,g){var P=[];
for(var p=0;p<g;p++)P.push(String.fromCharCode(e[j+p]));return P};T.ZtR=function(e,j,g){var P=!1,p=e.length-g.length;
for(var v=j;v<p;v++){for(var x=0;x<g.length;x++){if(e[v+x]!=g.charCodeAt(x))break;if(x==g.length-1)return v}}};
T.ko=function(e,j,g){var P="";for(var p=0;p<g;p++)P+=String.fromCharCode(e[j+p]);return P};T.Lc=function(e,j,g){for(var P=0;
P<g.length;P++)e[j+P]=g.charCodeAt(P)};T.g$=function(e,j,g){e.JF(j,g.length);T.Lc(e.data,j,g)};T.ZzB=function(e,j,g){var P="";
for(var p=0;p<g;p++){var v=e[j+p];if(v<10)P+="  ";else if(v<100)P+=" ";P+=v+", "}return P};T.JO=function(e,j){return e[j]<<8|e[j+1]};
T.FG=function(e,j,g){e[j]=g>>8&255;e[j+1]=g&255};T.Mw=function(e,j,g){e.JF(j,4);T.FG(e.data,j,g)};T.Zzi=function(e,j){var g=T.JO(e,j),P=T.JO(e,j+2);
return g+P*(1/65536)};T.DI=function(e,j,g){var P=Math.floor(g),p=Math.floor((g-P)*65536);T.FG(e,j,P);
T.FG(e,j+2,p)};T.zr=function(e,j){return e[j+1]<<8|e[j]};T.GP=function(e,j,g){e[j+1]=g>>8&255;e[j]=g&255};
T.Gb=function(e,j,g){e.JF(j,4);T.GP(e.data,j,g)};T.Fm=function(e,j){T.At[0]=e[j+1];T.At[1]=e[j];return T.BR[0]};
T.pl=function(e,j){T.At[0]=e[j];T.At[1]=e[j+1];return T.BR[0]};T.Pg=T.FG;T.Ad=T.Mw;T.UZ=function(e,j){T.kp[0]=e[j+3];
T.kp[1]=e[j+2];T.kp[2]=e[j+1];T.kp[3]=e[j];return T.wE[0]};T.kU=function(e,j,g){T.wE[0]=g;e[j+3]=T.kp[0];
e[j+2]=T.kp[1];e[j+1]=T.kp[2];e[j+0]=T.kp[3]};T.Tx=function(e,j,g){e.JF(j,4);T.kU(e.data,j,g)};T.AB=function(e,j,g,P){g[P+0]=e[j+0];
g[P+1]=e[j+1];g[P+2]=e[j+2];g[P+3]=e[j+3]};T.ok=function(e,j){T.AB(e,j,T.kp,0);return T.Ih[0]};T.jj=function(e,j,g){T.Ih[0]=g;
T.AB(T.kp,0,e,j)};T.zf=function(e,j,g){e.JF(j,4);T.jj(e.data,j,g)};T.ti=function(e,j){T.AB(e,j,T.kp,0);
return T.wE[0]};T.Zzz=function(e,j,g){T.wE[0]=g;T.AB(T.kp,0,e,j)};T.Ztl=function(e,j,g){e.JF(j,4);T.Zzz(e.data,j,g)};
T.o=function(e,j){var g=e[j]*(256*256*256)+(e[j+1]<<16|e[j+2]<<8|e[j+3]);return g};T.Sz=function(e,j,g){e[j]=g>>24&255;
e[j+1]=g>>16&255;e[j+2]=g>>8&255;e[j+3]=g>>0&255};T.kB=function(e,j,g){e.JF(j,4);T.Sz(e.data,j,g)};T.Qn=function(e,j){return T.o(e,j)<<32|T.o(e,j+4)};
T.Zzj=function(e,j,g){T.Sz(e,j,g>>16>>16);T.Sz(e,j+4,g&4294967295)};T.Bt=function(e,j,g){e.JF(j,8);T.Zzj(e.data,j,g)};
T.aA=function(e,j){var g=new Uint8Array(8);for(var P=0;P<8;P++)g[P]=e[j+7-P];var p=new Float64Array(g.buffer);
return p[0]};T.ZzY=function(e,j){var g=new Uint8Array(8);for(var P=0;P<8;P++)g[P]=e[j+P];var p=new Float64Array(g.buffer);
return p[0]};T.wv=function(e,j,g){var P=new Float64Array(1);P[0]=g;var p=new Uint8Array(P.buffer);for(var v=0;
v<4;v++){var x=p[v];p[v]=p[7-v];p[7-v]=x}for(var v=0;v<8;v++)e[j+v]=p[v]};T.wN=function(e,j,g){e.JF(j,8);
T.wv(e.data,j,g)};T.QQ=function(e,j){T.kp[0]=e[j+3];T.kp[1]=e[j+2];T.kp[2]=e[j+1];T.kp[3]=e[j+0];return T.Aq[0]};
T.BP=function(e,j){T.kp[0]=e[j+0];T.kp[1]=e[j+1];T.kp[2]=e[j+2];T.kp[3]=e[j+3];return T.Aq[0]};T.zU=function(e,j,g){T.Aq[0]=g;
e[j+0]=T.kp[3];e[j+1]=T.kp[2];e[j+2]=T.kp[1];e[j+3]=T.kp[0]};T.Zqx=function(e,j,g){e.JF(j,4);T.zU(e.data,j,g)};
T.BX=function(e,j,g){T.Aq[0]=g;e[j+0]=T.kp[0];e[j+1]=T.kp[1];e[j+2]=T.kp[2];e[j+3]=T.kp[3]};T.Zq_=function(e,j,g){e.JF(j,4);
T.BX(e.data,j,g)};T.Zzw=function(e,j){var g=T.UZ(e,j),P=g*(1/(1<<24));return P};T.tN=function(e,j,g){var P=Math.floor(g*(1<<24));
T.kU(e,j,P)};T.ZLZ=function(e,j,g){e.JF(j,4);T.tN(e.data,j,g)};T.GQ=function(e,j){var g=e[j],P=T.ko(e,j+1,g);
g+=1-g%2;return{kg:P,length:g+1}};T.Zzc=function(e,j,g){var P=g.length;e[j]=P;T.Lc(e,j+1,g);if(P%2==0){e[j+1+P]=0;
++P}return P+1};T.Wn=function(e,j,g){e.JF(j,g.length+2);return T.Zzc(e.data,j,g)};T.TU=function(e,j){var g=new WE;
g.Fl=T.aA(e,j+0*8);g.e=T.aA(e,j+1*8);g.Ug=T.aA(e,j+2*8);g.LC=T.aA(e,j+3*8);g.vR=T.aA(e,j+4*8);g.LV=T.aA(e,j+5*8);
return g};T.Gc=function(e,j,g){T.wv(e,j+0*8,g.Fl);T.wv(e,j+1*8,g.e);T.wv(e,j+2*8,g.Ug);T.wv(e,j+3*8,g.LC);
T.wv(e,j+4*8,g.vR);T.wv(e,j+5*8,g.LV)};T.ZGx=function(e,j,g){e.JF(j,48);T.Gc(e.data,j,g)};T.ZGe=function(e,j){var g=T.QQ(e,j),P=T.QQ(e,j+4),p=T.QQ(e,j+8),v=T.QQ(e,j+12);
return new G(g,P,p-g,v-P)};T.ZGV=function(e,j,g){T.zU(e,j,g.x);T.zU(e,j+4,g.y);T.zU(e,j+8,g.x+g.W);T.zU(e,j+12,g.y+g.j)};
T.ZGE=function(e,j,g){e.JF(j,16);T.ZGV(e.data,j,g)};T.mz=function(e,j){var g=T.UZ(e,j),P=T.UZ(e,j+4),p=T.UZ(e,j+8),v=T.UZ(e,j+12);
return new G(P,g,v-P,p-g)};T.qk=function(e,j,g){T.kU(e,j,g.y);T.kU(e,j+4,g.x);T.kU(e,j+8,g.y+g.j);T.kU(e,j+12,g.x+g.W)};
T.ce=function(e,j,g){e.JF(j,16);T.qk(e.data,j,g)};T.EJ=function(e,j,g){var P=new Uint8Array(g);for(var p=0;
p<g;p++)P[p]=e[j+p];return P};T.Tz=function(e,j,g){e.set(g,j)};T.Et=function(e,j,g){e.JF(j,g.length);
T.Tz(e.data,j,g)};T.ZGS=function(e,j,g,P){if(!P)P=1;for(var p=0;p<P;p++)e[j+p]=g};T.YS=function(e,j,g,P){if(!P)P=1;
e.JF(j,P);T.ZGS(e.data,j,g,P)};T.BR=new Int16Array(1);T.At=new Uint8Array(T.BR.buffer);T.wE=new Int32Array(1);
T.Ih=new Uint32Array(T.wE.buffer);T.kp=new Uint8Array(T.wE.buffer);T.Aq=new Float32Array(T.wE.buffer);
function G(e,j,g,P){if(!e)e=0;if(!j)j=0;if(!g)g=0;if(!P)P=0;this.x=e;this.y=j;this.W=g;this.j=P}G.prototype.h=function(){return this.W*this.j};
G.prototype.clone=function(){return new G(this.x,this.y,this.W,this.j)};G.prototype.contains=function(e,j){return e>=this.x&&e<=this.x+this.W&&(j>=this.y&&j<=this.y+this.j)};
G.prototype.uC=function(e){return this.contains(e.x,e.y)};G.prototype.pY=function(e){return this.x<=e.x&&this.y<=e.y&&e.x+e.W<=this.x+this.W&&e.y+e.j<=this.y+this.j};
G.prototype.Tc=function(e){this.x=e.x;this.y=e.y;this.W=e.W;this.j=e.j};G.prototype.iJ=function(e){return this.x==e.x&&this.y==e.y&&this.W==e.W&&this.j==e.j};
G.prototype.F_=function(e,j){this.x-=e;this.y-=j;this.W+=2*e;this.j+=2*j};G.prototype.ZLg=function(e){this.F_(e.x,e.y)};
G.prototype.zx=function(e){var j=Math.max(this.x,e.x),g=Math.max(this.y,e.y),P=Math.min(this.x+this.W,e.x+e.W),p=Math.min(this.y+this.j,e.y+e.j);
if(P<j||p<g)return new G;else return new G(j,g,P-j,p-g)};G.prototype.cV=function(e){if(e.y+e.j<this.y||e.x>this.x+this.W||e.y>this.y+this.j||e.x+e.W<this.x)return!1;
return!0};G.prototype.tE=function(){return this.W<=0||this.j<=0};G.prototype.offset=function(e,j){this.x+=e;
this.y+=j};G.prototype.sD=function(e){this.offset(e.x,e.y)};G.prototype.ZLn=function(){this.x=this.y=this.W=this.j=0};
G.prototype.Ve=function(e,j,g,P){this.x=e;this.y=j;this.W=g;this.j=P};G.prototype.Gd=function(e){if(this.tE())return e.clone();
if(e.tE())return this.clone();var j=this.clone();j.ZGF(e);return j};G.Kf=new Float32Array(2);G.prototype.ZGF=function(e){if(e.tE())return;
if(this.tE()){this.Tc(e);return}this.AL(e.x,e.y);this.AL(e.x+e.W,e.y+e.j)};G.prototype.AL=function(e,j){var g=Math.min(this.x,e),P=Math.min(this.y,j);
this.W=Math.max(this.x+this.W,e)-g;this.j=Math.max(this.y+this.j,j)-P;this.x=g;this.y=P};G.prototype.ZLm=function(e,j,g,P){if(this.W==0&&this.j==0)this.ZEx(e,j);
else this.AL(e,j);this.AL(g,P)};G.prototype.ZEx=function(e,j){this.x=e;this.y=j;this.W=this.j=0};function vE(){}vE.aW=function(e,j){var g=new Uint8Array(e),P=0,p=T.ko(g,P,9),A=4,f=100;
P+=9;var v=T.ko(g,P,4);P+=4;P++;j.W=T.o(g,P);P+=4;j.j=T.o(g,P);P+=4;var x=T.o(g,P);P+=4;if(x!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(v)==-1){f=T.o(g,P);P+=4;if(parseInt(v.slice(1))>=7){f=f}else alert("Unknown XCF version: "+v);
A=8}var S={};P=vE.BF(g,P,S);var F=[];P=vE.Bk(g,P,F,A);var m=[];P=vE.Bk(g,P,m,A);j.VA=0;for(var R=0;R<F.length;
R++)vE.ZEJ(g,F[R],j,S,A,f);while(j.VA>0){j.T.push(j.Rt());j.VA--}j.T.reverse();delete j.VA;j.buffer=Z.V(j.W*j.j*4);
if(j.T.length==0)console.log("No layers!!!");for(var R=0;R<m.length;R++){var M=vE.KO(g,m[R],S,A,f);if(M.DY[fs.ZSt])j.Z={channel:M.kk,rect:new G(0,0,j.W,j.j)}}};
vE.ZEJ=function(e,j,g,P,p,v){var x=g.Rz(),A=T.o(e,j),m=0;j+=4;var f=T.o(e,j);j+=4;x.rect=new G(0,0,A,f);
var S=T.o(e,j);j+=4;var F=T.BN(e,j);j+=F.Ls;x.tG(F.nd);var R={};j=vE.BF(e,j,R);if(R[fs.Kk]){var M=R[fs.Kk];
m=M.length/4-1}if(R[fs.Bc]){x.rect.x=T.UZ(R[fs.Bc],0);x.rect.y=T.UZ(R[fs.Bc],4)}if(R[fs.KA]){x.opacity=T.o(R[fs.KA],0)}if(R[fs.ZSO]){x.add.lsct=vC.x_;
x.rect=new G(0,0,0,0);x.buffer=Z.V(0);x.Oz=24}if(R[fs.Kj]){var b=T.o(R[fs.Kj],0);x.T$=fs.ZSh[b];if(x.CQ()&&x.T$=="norm")x.T$="pass"}if(R[fs.KY]){if(T.o(R[fs.KY],0)==0)x.Oz+=2}if(R[fs.KF]){var s=T.o(R[fs.KF],0);
x.add.lsct=s&1==1?vC.x_:vC.TC}if(R[fs.yv]){var K=R[fs.yv];for(var X in K){var d=K[X];if(X=="gimp-text-layer"){var W=vE.ZEC(d),O=W.text,H=W.font,Y=W.color,y=W["font-size"];
if(O==null&&W.markup){var B=new DOMParser,c=B.parseFromString(W.markup,"image/svg+xml");while(c.firstChild!=null&&c.firstChild.tagName!=null){c=c.firstChild;
var $=c.getAttribute("font"),I=c.getAttribute("foreground"),r=c.getAttribute("size");if($!=null)H=$;
if(I!=null){I=CSS.oQ(I);Y=[1,I.k/255,I.z/255,I.e/255]}if(r!=null){y=""+parseFloat(r)/245}}O=c.textContent}x.add.lnsr="rend";
x.add.TySh=Wf.Ik(0,0);x.add.TySh.GC=new G(0,0,100,100);x.add.TySh.K=new WE(1,0,0,1,x.rect.x,x.rect.y);
var i=x.add.TySh.xe;Wf.hX(i,0,O);var U=Wf.vD(i,0,0),N=W.justify,C=W["line-spacing"];if(Y)U.kw.FillColor={Type:1,Values:[1,parseFloat(Y[1]),parseFloat(Y[2]),parseFloat(Y[3])]};
if(y){y=Math.round(parseFloat(y));U.kw.FontSize=y;x.add.TySh.K.LV+=Math.min(17,y*.17)}if(C){C=Math.round(parseFloat(C)+U.kw.FontSize*1.2);
U.kw.Leading=C;U.kw.AutoLeading=!1}if(N)U.eJ.Justification=["left","right","center","fill"].indexOf(N);
if(H&&H!="Sans-serif"){var D=H.toLowerCase(),n="bold italic semi extra regular condensed light".split(" "),w=D.length;
for(var k=0;k<n.length;k++){var h=D.indexOf(n[k]);if(h!=-1&&h<w&&D[h-1]==" ")w=h}if(w!=D.length)H=H.slice(0,w-1).split(" ").join("")+"-"+H.slice(w).split(" ").join("");
Wf.JJ(U,H)}Wf.MM(i,0,O.length,U);var t=W["box-width"],a=W["box-height"],_=t?parseFloat(t):x.rect.W,E=a?parseFloat(a):x.rect.j;
Wf.oc(i,1);Wf.kJ(i,[0,0,Math.ceil(_),Math.ceil(E)])}else console.log("Unknown property "+X)}}while(g.VA>m){g.T.push(g.Rt());
g.VA--}g.VA=m;if(x.add.lsct==vC.x_||x.add.lsct==vC.TC)g.VA++;var WW=p==4?T.o:T.Qn;if(x.EI()){x.buffer=Z.V(x.rect.h()*4);
var Wx=new Z.il(x.rect.h()),WU=WW(e,j);j+=p;var We=WW(e,j);j+=p;vE.Kp(e,WU,Wx,P,p,v);Z.hT(Wx,x.buffer);
if(We!=0){x._=new u.IP;x._.color=0;x._.rect=x.rect.clone();x._.channel=vE.KO(e,We,P,p,v).kk;if(R[fs.KR])x._.isEnabled=T.o(R[fs.KR],0)==1}}g.T.push(x)};
vE.ZEC=function(e){var j="("+T.vG(e,0,e.length-1)+")",g=[],P={};vE.so(j,1,g);vE.ZET(g,P);return P};vE.ZET=function(e,j){for(var g=0;
g<e.length;g++){var P=e[g],p=P[0];if(P.length==2)j[p]=P[1];else j[p]=P.slice(1)}};vE.so=function(e,j,g){while(!0){if(j>=e.length)throw"e";
var P=e.charAt(j);j++;if(P=="("){var p=[];j=vE.so(e,j,p);g.push(p)}else if(P==" "||P=="\n"||P=="\r"){}else if(P==")")return j;
else if(P=="\""){var v=j;while(!0){var x=e[j];j++;if(x=="\"")break;if(x=="\\")j++}g.push(JSON.parse(e.slice(v-1,j)))}else{var v=j-1;
while(e[j]!=" "&&e[j]!=")")j++;g.push(e.slice(v,j))}}};vE.KO=function(e,j,g,P,p){var v=T.o(e,j);j+=4;
var x=T.o(e,j);j+=4;var A=T.BN(e,j);j+=A.Ls;var f={};j=vE.BF(e,j,f);var S=new Z.il(v*x),F=P==4?T.o:T.Qn,m=F(e,j);
j+=P;vE.Kp(e,m,S,g,P,p);return{kk:S.k,DY:f}};vE.Kp=function(e,j,g,P,p,v){var x=T.o(e,j);j+=4;var A=T.o(e,j);
j+=4;var f=T.o(e,j);j+=4;var S=p==4?T.o:T.Qn,F=S(e,j);j+=p;vE.ZEI(e,F,g,P,f,p,v)};vE.ZEI=function(e,j,g,P,p,v,x){var A=T.o(e,j),F=0,d=0;
j+=4;var f=T.o(e,j);j+=4;var S=new G(0,0,A,f);if(x==100)F=1;else if(x==150)F=1;else if(x==600)F=4;else alert("unsupported bit depth "+x);
var m=p/F,F=Math.round(p/m),R=[];j=vE.Bk(e,j,R,v);var M=new Z.il(64*64*F),b=new G,s=P[fs.ZSK][0],K=[M.k,M.z,M.e,M.Fl];
if(m==3)Z.set(M.Fl,255);var X=Date.now();for(var W=0;W<f;W+=64)for(var O=0;O<A;O+=64){var H=Math.min(A-O,64),Y=Math.min(f-W,64),y=H*Y;
b.Ve(O,W,H,Y);vE.ZEp(e,R[d++],y*F,s,m,K);if(x==600){var B=vE.ZE$(),c=new Uint32Array(1),$=new Float32Array(c.buffer);
for(var I=0;I<m;I++){var r=K[I];for(var i=0;i<y;i++){c[0]=r[i]<<24|r[y+i]<<16|r[(y<<1)+i]<<8|r[(y<<1)+y+i]<<0;
var U=$[0];if(U<0)U=0;else if(U>1)U=1;r[i]=B[~~(.5+U*1e3)]}}}Z.ul(M,b,g,S)}};vE.ZE$=function(){var e=vE.ZHm;
if(e!=null)return e;e=vE.ZHm=new Uint8Array(1001);for(var j=0;j<1001;j++)e[j]=~~(.49+255*Z.uP(j*.001));
return e};vE.ZEp=function(e,j,g,P,p,v){if(P==1){for(var x=0;x<p;x++){var A=v[x],f=0;while(f<g){var S=e[j];
j++;if(S<127){var F=e[j];j++;S++;for(var m=0;m<S;m++)A[f+m]=F}else if(S==127){var R=e[j];j++;var M=e[j];
j++;var F=e[j];j++;S=R<<8|M;for(var m=0;m<S;m++)A[f+m]=F}else if(S==128){var R=e[j];j++;var M=e[j];j++;
S=R<<8|M;for(var m=0;m<S;m++)A[f+m]=e[j+m];j+=S}else{S=256-S;for(var m=0;m<S;m++)A[f+m]=e[j+m];j+=S}f+=S}}}else if(P==2){var b=pako.inflate(e.slice(j)),s=Math.round(b.length/g);
for(var m=0;m<g;m++){var K=m*s;v[0][m]=b[K];v[1][m]=b[K+1];v[2][m]=b[K+2];v[3][m]=s==3?255:b[K+3]}}else alert("Unknown compression "+P)};
vE.Bk=function(e,j,g,P){var p=P==4?T.o:T.Qn;while(!0){var v=p(e,j);j+=P;if(v==0)break;else g.push(v)}return j};
vE.BF=function(e,j,g){while(!0){var P=T.o(e,j);j+=4;var p=T.o(e,j);j+=4;if(P==fs.ZSN)break;else if(P==fs.yv)g[P]=vE.ZSC(e,j,j+p);
else g[P]=T.EJ(e,j,p);j+=p}return j};vE.ZSC=function(e,j,g){var P={};while(j<g){var p=T.BN(e,j);j+=p.Ls;
var v=T.o(e,j);j+=4;if(v!=1)console.log("unknown flags",v);var x=T.o(e,j);j+=4;P[p.nd]=T.EJ(e,j,x);j+=x}return P};
var fs={ZSN:0,ZTg:1,ZTB:2,ZTi:3,ZSt:4,ZTI:5,KA:6,Kj:7,KY:8,ZT$:9,ZTO:10,KR:11,ZTo:12,ZTl:13,ZT_:14,Bc:15,Zzm:16,ZSK:17,ZGv:18,ZGJ:19,ZGu:20,yv:21,ZGG:22,ZEn:23,ZEQ:24,ZSe:25,ZSF:26,ZSo:27,ZIx:28,ZSO:29,Kk:30,KF:31,ZIU:32,ZIn:33,ZIy:34,ZIt:35,ZIq:36,ZIF:37,ZIh:38,ZIm:0,ZIQ:1,ZIc:2,ZHr:3,ZHZ:1,ZHv:2,ZHi:0,ZHD:1,ZHq:1};
fs.ZSh="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
function vv(){}vv.aW=function(e,j){var g=vv,P=Uo.parse(e),v=0;if(P.pages.length>1)console.log(P.pages.length,"pages");
var p=[],x=new G;for(var A=0;A<P.pages.length;A++){var f=P.pages[A],S=f.layers,F=g.XI(S,A),R=!1;if(F.h()>8e3*8e3||F.W>3e4||F.j>3e4){g.Ko(S,!0);
var m=g.XI(S,A);if(m.h()>=F.h())g.Ko(S,!1)}F=g.XI(S,A);for(var M=0;M<S.length;M++){var b=S[M];if(g.zW(b)=="artboard")R=!0}if(!R){console.log("no artboard");
var s={};for(var K in f)s[K]=f[K];s._class="group";f.layers=[s]}p.push(F.clone());if(F.tE())continue;
F.x=0;F.y=v;v+=F.j+200;x=x.Gd(F)}var X={};if(P.foreignSymbols)for(var d=0;d<P.foreignSymbols.length;
d++){var W=P.foreignSymbols[d].symbolMaster;X[W.symbolID]={lF:W}}g.Kh(P.pages,X,j);for(var O in X){var b=X[O].lF,H=g.pM(b.layers)}var Y=vv.ye(x,8192*8192);
j.Vo=!0;j.W=Math.round(x.W/Y);j.j=Math.round(x.j/Y);j.buffer=Z.V(j.W*j.j*4);j.gU(P.pages[0].layers.length);
j.uB={};j.l_=[];v=0;for(var A=0;A<P.pages.length;A++){var y=P.pages[A],F=p[A],B=new WE(Y,0,0,Y,F.x,F.y-v);
g.yV(y.layers,j,B,P,X,{},[]);v+=F.j+200}delete j.uB;delete j.l_;if(Y!=1)alert("File scaled down "+Y+"x");
j.Zay()};vv.ZHT=0;vv.zW=function(e){return e._class?e._class:e.$class};vv.ye=function(e,j){var g=1;while(Math.round(e.W/g)*Math.round(e.j/g)>j)g++;
if(g!=1&&!window.confirm("Your image is quite large ("+e.W+" x "+e.j+" px).\n"+"Press OK to scale it down "+g+"x, or Cancel to keep the size."))g=1;
return g};vv.XI=function(e,j){var g=[],P=vv;for(var p=0;p<e.length;p++){var v=e[p],x=P.mz(v.frame);if(j==0||P.zW(v)=="artboard")g.push(x)}return Z.rect.$p(g)};
vv.Ko=function(e,j){var g=[],P=vv;for(var p=0;p<e.length;p++){var v=e[p],x=P.mz(v.frame);x.W+=150;x.j+=150;
g.push(x)}var A=Z.rect.$p(g);Z.rect.ZEH(g,j);var f=Z.rect.$p(g);if(f.h()*1.5<A.h()||A.W>3e4&&f.W<=3e4||A.j>3e4&&f.j<=3e4){alert("Re-arranging artboards");
for(var p=0;p<e.length;p++){var S=g[p],v=e[p],F=v.frame;F.x=S.x;F.y=S.y}}};vv.Kh=function(e,j,g){var P=vv;
for(var p=0;p<e.length;p++){var v=e[p],x=P.zW(v);if(["page","artboard","group"].indexOf(x)!=-1)P.Kh(v.layers,j,g);
else if(x=="symbolMaster")j[v.symbolID]={lF:v}}};vv.pM=function(e){var j=vv;for(var g=0;g<e.length;g++){var P=e[g],p=j.zW(P),v=null;
if(["page","artboard","group"].indexOf(p)!=-1)v=j.pM(P.layers);if(p=="symbolMaster"||p=="symbolInstance")v=P;
if(v!=null)return v}return null};vv.yV=function(e,j,g,P,p,v,x){var A=vv,f=[];for(var S=0;S<e.length;
S++){var F=e[S],m=F.frame?A.mz(F.frame):null,R=F.style,d="",B=null,c=!1;if(R==null){console.log("no styles")}var M=A.Ri(F,g),b=A.zW(F),s=b=="shapeGroup"||b=="shapePath"||b=="rectangle"||b=="oval"||b=="triangle",K=["page","artboard","group"].indexOf(b)!=-1;
if(b=="shapeGroup"){for(var X=0;X<F.layers.length;X++)if(A.zW(F.layers[X])=="shapeGroup")K=!0}var W=F.exportOptions;
if(W){var O=W.exportFormats;if(O==null)O=W.sizes;if(b!="artboard"&&(O&&O.length!=0)){var H=O[0].scale}}var Y=j.Rz();
Y.Pd(F.isVisible);var y=F.name;if(!(typeof y=="string"))y=b;Y.tG(d+y.slice(0,250));if(R!=null)B=A.ZIK(P,j,R,m,M,Y.getName(),s||b=="artboard"||K);
if(b=="rectangle"&&R&&R.fills&&R.fills[0]){var $=R.fills[0];if($.fillType==4&&$.patternFillType>1&&$.image!=null)c=!0}if(F.shouldBreakMaskChain){while(f.length!=0)A.Ps(f.pop(),j)}if(K){Y.add.lsct=F.layerListExpandedType==2?vC.x_:vC.TC;
Y.T$="pass";Y.Oz=24;Y.Pd(F.isVisible);j.T.push(j.Rt());if(b=="artboard"){var I=m.clone(),r=M.em();I.x=-Math.floor(M.vR/r);
I.y=-Math.floor(M.LV/r);I.W=Math.floor(I.W/r);I.j=Math.floor(I.j/r);Y.fl(I);var i=F.backgroundColor;
Y.add.artb.Clr={t:"Objc",v:Z.c.Op({k:255*i.red,z:255*i.green,e:255*i.blue})};Y.add.artb.artboardBackgroundType={t:"long",v:4}}A.yV(F.layers,j,M,P,p,v,x)}else if(s&&!c){Y.add.vmsk=new u.nt;
Y.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));Y.add.vstk.strokeEnabled.v=!1;Y.add.vogk=[];var U=B!=null&&B.frameFXMulti.v.length==1,N=R?R.fills:null,C=R?A.AV(P,N,m,M,Y.getName(),j,A.yJ(x,F.do_objectID+"_image")):[];
if(C.length==0){if(U)Y.add.vstk.fillEnabled.v=!1;else Y.add.iOpa=0;Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.c.Op({k:0,z:0,e:0})}}}else{var D=C[0],n=null,w=null;
if(D.type=="SoFi"){n="SoCo";w=Wr.VP}if(D.type=="GrFl"){n="GdFl";w=Wr.PV}if(D.type=="patternFill"){n="PtFl";
w=Wr.PM}if(n!=null){Y.add[n]={classID:"null"};for(var X=0;X<w.length;X++){var k=w[X];Y.add[n][k]=D.r.v[k]}var h=D.r.v.Opct.v.val;
if(U&&h==0)Y.add.vstk.fillEnabled.v=!1;else Y.add.iOpa=Math.round(255*h/100)}}Y.Oz|=16;Y.add.vmsk.F=A.Tn(F.layers?F.layers:[F],F.layers?M:g,Y.add.vogk);
var t=R?R.blur:null;if(t&&t.isEnabled&&t.type<=1)Y.add.vmsk.FZ=t.radius;if(Y.add.vmsk.F.length==2){console.log("shape with no content:",Y.getName())}if(U){var a=B.frameFXMulti.v[0].v,_=Y.add.vstk,E=R.borders[0];
B.frameFXMulti.v=[];Wi.Zee(a,_);var WW=R.borderOptions,Wx=R.miterLimit;if(WW){var WU=WW.dashPattern;
_.strokeStyleLineCapType.v.strokeStyleLineCapType=Wr.hg.SH[WW.lineCapStyle];_.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wr.hg.join[WW.lineJoinStyle];
if(WU)_.strokeStyleLineDashSet.v=Wi.ha(WU,1/a.Sz.v.val);if(Wx!=null)_.strokeStyleMiterLimit.v=Wx}}Y.d$(j)}else if(b=="bitmap"||c){var We=c?R.fills[0]:null,Wv=c?We.image.bdata:F.image.bdata,L=j.UF(Wv,Y.getName(),0,0);
L.Oz=Y.Oz;Y=L;var t=R.blur,J=R.colorControls;if(t||J){Y.add.SoLd.filterFX=ZW.kx();j.US({id:Y.add.SoLd.placed.v,rect:new G,buffer:Z.V(1),_:new u.IP});
var N=Y.add.SoLd.filterFX.v.filterFXList.v;if(t){var WZ=ZW.HL("GsnB",{});WZ.v.enab.v=t.isEnabled;WZ.v.Fltr.v.Rds.v.val=t.radius;
N.push(WZ)}if(J){var WJ=J.brightness,Wu=J.contrast,WC=J.hue,Wn=J.saturation;if(WC!=0||Wn!=1){var WZ=ZW.HL("hue2",{});
WZ.v.enab.v=J.isEnabled;Zq.ol(WZ.v.Fltr.v,0,[Math.round(WC*180/Math.PI),Math.round((Wn-1)*100),0]);N.push(WZ)}if(WJ!=0||Wu!=1){var WZ=ZW.HL("brit",{});
WZ.v.enab.v=J.isEnabled;Wu=Wu-1;if(Wu>0)Wu/=2;var WB=WZ.v.Fltr.v;WB.Brgh.v=Math.round(WJ*255);WB.Cntr.v=Math.round(Wu*255);
WB.useLegacy.v=!0;N.push(WZ)}}}if(c){var Wt=We.patternFillType;if(Wt==3){var Wy=Y.rect.W/Y.rect.j,Wz=m.W/m.j;
if(Wy<Wz){M.translate(-(m.W*(1-Wy/Wz))/2,0);M.scale(Wz/Wy,1)}else{M.translate(0,-(m.j*(1-Wz/Wy))/2);
M.scale(1,Wy/Wz)}}}m.x=m.y=0;var WG=Z.g.B$(m).u;M.OF();Z.g.K(WG,M,WG);Y.add.SoLd.Trnf=o.t.Pn(WG);Y.add.SoLd.nonAffineTransform=o.t.Pn(WG);
Y.yM(j,!1)}else if(b=="text"){if(F.attributedString==null)continue;var Wq=M.clone(),Wa,WK,WL=0;Wq.OF();
Wq.Fl=Wq.LC=Math.min(Wq.Fl,Wq.LC);Y.add.lnsr="rend";Y.add.TySh=Wf.Ik(0,0);Y.add.TySh.GC=new G(0,0,m.W,m.j);
Y.add.TySh.K=Wq;var Wd=F.attributedString;if(Wd.archivedAttributedString)Wd=Wd.archivedAttributedString;
var WD=Wd.NSString;if(WD==null)WD=Wd.string;if(WD==null)WD="";if(WD["NS.string"])WD=WD["NS.string"];
if(v[F.do_objectID]!=null)WD=v[F.do_objectID];var W$=A.yJ(x,F.do_objectID+"_stringValue");if(W$)WD=W$.value;
if(Wd.attributes!=null){Wa=[];WK=[];var Zg=Wd.attributes;for(var X=0;X<Zg.length;X++){Wa.push(Zg[X].length,X);
WK.push(Zg[X].attributes)}}else if(Wd.NSAttributeInfo==null){Wa=[WD.length,0];WK=[Wd.NSAttributes]}else{Wa=Wd.NSAttributeInfo["NS.data"];
WK=Wd.NSAttributes;Wa=vv.ZSm(Wa,WK)}for(var X=0;X<Wa.length;X+=2)WL+=Wa[X];if(WL!=WD.length){while(WL>WD.length){Wa[Wa.length-2]--;
WL--;if(Wa[Wa.length-2]==0){Wa.pop();Wa.pop()}}Wa[Wa.length-2]+=WD.length-WL}WD=WD.replace(/\u2028/g,"\n");
WD=WD.replace(/\u2029/g,"\n");WD=WD.replace(/\r/g,"\n");var WY=Y.add.TySh.xe;Wf.hX(WY,0,WD);if(WD!=""){var WA=F.textBehaviour,Wb=R.textStyle,WX=Wb?Wb.verticalAlignment:0,fI=A.ZIi(WY,Wa,WK,WD),r=Wq.em(),Ww=Wf.vD(WY,0,1),vL=0;
if(Ww.kw.Font){var W_=Ww.mp[Ww.kw.Font].Name;if(W_=="FontAwesome"||W_=="Ionicons")fI*=.87}var vW=Ww.kw.AutoLeading?0:Ww.kw.Leading*.6,vV=Math.max(fI,vW)*r,Wo=m.W,WT=m.j;
if(WA==0){Wf.oc(WY,0);var WH=Wf.gp(Ww.eJ);if(WH==1)vL=Wo*r;if(WH==2)vL=Wo*r*.5;if(WX==0)vV*=1;else vV*=.9}else{Wf.oc(WY,1);
Wf.kJ(WY,[0,0,Math.round(Wo),Math.round(WT)]);if(WA==2&&WX==0)vV=vV*.2;else if(WA==2&&WX==1){vV=r*.5*(WT-Ww.kw.FontSize)}else if(WA==1&&WX==0)vV=vV*.2;
else vV=vV*.35}Y.add.TySh.K.translate(vL,vV)}}else if(b=="symbolInstance"||b=="symbolMaster"){var WS=F.symbolID;
if(v[F.do_objectID])WS=v[F.do_objectID].symbolID;var ve=A.yJ(x,F.do_objectID+"_symbolID");if(ve)WS=ve.value;
if(WS=="")continue;var Zi={};for(var k in v)Zi[k]=v[k];if(F.overrides)for(var k in F.overrides)Zi[k]=F.overrides[k];
var WQ=x.slice(0);if(F.overrideValues)WQ=WQ.concat(F.overrideValues);var vZ=p[WS];if(vZ==null){console.log("Unknown master master",F.symbolID);
continue}var fH=vv.mz(vZ.lF.frame),vg=fH.W/m.W,vI=fH.j/m.j,ZL=M.clone();ZL.scale(vg,vI);Y.add.lsct=vC.TC;
Y.T$="pass";Y.Oz=24;Y.Pd(F.isVisible);j.T.push(j.Rt());var vu=vZ.lF;if(j.l_.indexOf(vu)==-1){j.l_.push(vu);
A.yV(vu.layers,j,ZL,P,p,Zi,WQ);j.l_.pop()}}else if(b=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+b,F);continue}if(R&&R.contextSettings){var vS=R.contextSettings,Zd=vS.blendMode;
if(Zd<A.WN.length){Y.T$=WF.jS[WF.LN.indexOf(A.WN[Zd])];if(K&&Y.T$=="norm")Y.T$="pass"}Y.opacity=Math.round(Y.opacity*vS.opacity)}if(B!=null){Y.add.lmfx=B}j.T.push(Y);
if(F.hasClippingMask&&e.length>1){f.push(Y);j.T.push(j.Rt())}}while(f.length!=0)A.Ps(f.pop(),j)};vv.yJ=function(e,j){for(var g=0;
g<e.length;g++)if(e[g].overrideName.startsWith(j))return e[g]};vv.ZSm=function(e,j){var g=0,P=[];while(g+1<e.length){var p=e[g];
g++;if(p>127){p+=128*(e[g]-1);g++;if(e[g-1]>127){p+=128*(e[g]-1);g++}}var v=e[g];g++;P.push(p,v)}return P};
vv.ZIi=function(e,j,g,P){var p=vv,v=0,m=0,R=0;for(var x=0;x<P.length;x++){var A=P.charCodeAt(x),f=1473<=A&&A<=1479||1488<=A&&A<=1514||1520<=A&&A<=1524,S=1569<=A&&A<=1594||1600<=A&&A<=1749;
if(f||S)v++}var F=v>P.length/2;for(var x=0;x<j.length;x+=2){var M=j[x],Y=14,y="DejaVuSans";if(M==0)continue;
var b=j[x+1],s=g[b],K=Wf.vD(e,m,m+M-1),X=s.NSColor;if(X==null){var X=s.MSAttributedStringColorDictionaryAttribute;
if(X==null)X=s.MSAttributedStringColorAttribute;if(X==null)X="0 0 0";else X=[X.red,X.green,X.blue].join(" ")}else if(p.zW(X)=="MSArchivedColor")X=X.dr+" "+X.dg+" "+X.db;
else if(X.NSRGB){X=X.NSRGB;X=T.ko(X,0,X.length-1)}else if(X.NSCMYK){X=X.NSCMYK;X=T.ko(X,0,X.length-1);
X=X.split(" ").map(parseFloat);var d=1-X[0],W=1-X[1],O=1-X[2],H=1-X[3];X=d*H+" "+W*H+" "+O*H}else if(X.NSWhite){X="1 1 1"}X=X.split(" ");
K.kw.FillColor={Type:1,Values:[1,parseFloat(X[0]),parseFloat(X[1]),parseFloat(X[2])]};var B=s.MSAttributedStringFontAttribute;
if(s.NSFont){Y=s.NSFont.NSSize;y=s.NSFont.NSName}else if(B){if(B.attributes){B=B.attributes;Y=B.size;
y=B.name}else{var c=B.NSFontDescriptorAttributes;if(c==null)c=B.UIFontDescriptorAttributes;B=c;Y=B.NSFontSizeAttribute;
y=B.NSFontNameAttribute}if(y==null)y="DejaVuSans"}var R=Math.max(R,Y);K.kw.FontSize=Math.round(Y);Wf.JJ(K,y);
var $=s.NSKern;if($==null)$=s.kerning;if($!=null)K.kw.Tracking=Math.round(1e3*$/Y);if(s.NSUnderline!=null)K.kw.Underline=s.NSUnderline>0;
if(s.NSStrikethrough!=null)K.kw.Strikethrough=s.NSStrikethrough>0;if(s.MSAttributedStringTextTransformAttribute==1)K.kw.FontCaps=2;
var I=s.NSParagraphStyle;if(I==null)I=s.paragraphStyle;if(I){var r=I.paragraphSpacing;if(r!=null){K.eJ.SpaceAfter=r}var i=I.NSAlignment;
if(i==null)i=I.alignment;if(i!=null){var U=0;if(!1){}else if(i==1)U=1;else if(i==2)U=2;else if(i==4)U=0;
else{U=i;console.log("unknown align",i)}if(F&&U<2)U=1-U;K.eJ.Justification=U}var N=I.NSMinLineHeight;
if(N==null)N=I.minimumLineHeight;if(N!=null){K.kw.AutoLeading=!1;K.kw.Leading=N}}K.eJ._Direction=F?1:0;
Wf.MM(e,m,m+M,K);m+=M}return R};vv.ZIK=function(e,j,g,P,p,v,x){var A=vv,f=JSON.parse(Wr.default),F=!1;
for(var S=0;S<Wr.order.length;S++)f[Wr.uM[S]]={t:"VlLs",v:[]};var m=g.fills,R=A.AV(e,m,P,p,v,j);for(var M=0;
M<2;M++){var b=g[["shadows","innerShadows"][M]];if(b==null)continue;var s=["DrSh","IrSh"][M],K=Wr.uM[Wr.order.indexOf(s)];
for(var S=0;S<b.length;S++){var X=b[S];if(!X.isEnabled)continue;if(X.contextSettings.opacity==0||X.color.alpha==0)continue;
var d=JSON.parse(Wr.ea[Wr.order.indexOf(s)]);f[K].v.unshift({t:"Objc",v:d});F=!0;d.Clr.v=A.oQ(X.color);
d.blur.v.val=Math.round(X.blurRadius/p.em());var W=p.clone();W.vR=W.LV=0;W.OF();var O=W.vy(new Uc(X.offsetX,X.offsetY)),H=Math.sqrt(O.x*O.x+O.y*O.y);
d.Dstn.v.val=Math.round(H);d.lagl.v.val=Math.round(Math.atan2(O.y,-O.x)*(180/Math.PI));if(d.layerConceals)d.layerConceals.v=R.length!=0;
A.yC(X,d)}}var Y=g.borders;if(Y!=null&&(R.length==0||g.blur==null||!g.blur.isEnabled))for(var S=0;S<Y.length;
S++){var y=Y[S];if(!y.isEnabled)continue;var d=JSON.parse(Wr.ea[Wr.order.indexOf("FrFX")]),K=Wr.uM[Wr.order.indexOf("FrFX")];
f[K].v.unshift({t:"Objc",v:d});F=!0;d.Clr.v=A.oQ(y.color);if(y.fillType!=0&&y.gradient){var B=A.WH(y.gradient,P,p,v),c=["Type","Angl","Ofst","Scl"];
for(var S=0;S<c.length;S++)d[c[S]]=B[c[S]];d.Grad.v=B.Grad.v;d.PntT.v.FrFl="GrFl"}d.Sz.v.val=y.thickness/p.em();
d.Styl.v.FStl=["CtrF","InsF","OutF"][y.position];A.yC(y,d)}for(var S=x?1:0;S<R.length;S++){var $=R[S],K=Wr.uM[Wr.order.indexOf($.type)];
f[K].v.unshift($.r);F=!0}return F?f:null};vv.AV=function(e,j,g,P,p,v,x){if(j==null)return[];var A=vv,f=[];
for(var S=0;S<j.length;S++)if(j[S].isEnabled)f.push(j[S]);j=f;var F=[];for(var S=0;S<j.length;S++){var m=j[S],R=null,M=null;
if(m.fillType==0){R="SoFi";var b=JSON.parse(Wr.ea[Wr.order.indexOf("SoFi")]);M={t:"Objc",v:b};M.v.Clr.v=A.oQ(m.color)}else if(m.fillType==1){R="GrFl";
M={t:"Objc",v:A.WH(m.gradient,g,P,p)}}else if(m.fillType==4&&m.image!=null){var s=m.image;if(x)s=x.value;
var K=Wg.uK(s.bdata.buffer);if(K!=null&&K!="pdf"&&K!="eps"){var X,y=0,B=0,c=0;if(v.uB[s.key])X=v.uB[s.key];
else{var d=Wg.Hr(K).vn(s.bdata)[0],W=d.Fa.clone();X={};X.id=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f";X.name="someImage";
X.vf=[new Uint8Array(d.data),W];v.SN(X);v.uB[s.key]=X}var O=X.vf[1],b=JSON.parse(Wr.ea[Wr.order.indexOf("patternFill")]);
R="patternFill";M={t:"Objc",v:b};var H=m.patternFillType,Y=m.patternTileScale;b.Algn.v=!0;b.Ptrn.v.Idnt.v=X.id;
if(H==0){y=Y*O.W/Math.min(O.W,O.j);B=-P.vR;c=-P.LV}else{y=Math.max(g.W/O.W,g.j/O.j);B=-P.vR-(O.W*y-g.W)/2;
c=-P.LV-(O.j*y-g.j)/2}b.Scl.v.val=100*y*(1/P.em());b.phase.v.Hrzn.v=Math.round(B/P.em());b.phase.v.Vrtc.v=Math.round(c/P.em())}}else if(m.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",m.fillType);
if(R!=null){A.yC(m,M.v);F.push({type:R,r:M})}}return F};vv.ZHH=function(e){var j=vv,g=new G(0,0,1,1);
e=e.slice(0);while(!0){var P=!1;for(var p=0;p<e.length-1;p++){var v=e[p],x=e[p+1],A=null,f=v.contextSettings;
if(v.fillType==0&&(f==null||f.opacity==1&&f.blendMode==0)&&v.color.alpha==1){var S="norm",F=1,f=x.contextSettings;
if(f){F=f.opacity;S=WF.TG(j.WN[f.blendMode])}if(x.fillType==0){A=JSON.parse(JSON.stringify(x));j.Py(A.color,v.color,A.color,g,S,F)}if(x.fillType==1){A=JSON.parse(JSON.stringify(x));
var m=A.gradient.stops;for(var R=0;R<m.length;R++)j.Py(m[R].color,v.color,m[R].color,g,S,F)}if(A!=null&&A.contextSettings){var f=A.contextSettings;
f.opacity=1;f.blendMode=0}}if(A!=null){e.splice(p,0,A);P=!0;break}}if(!P||e.length<2)break}return e};
vv.Py=function(e,j,g,P,p,v){var x=vv,A=Z.V(4);x.PH(e,A);var f=Z.V(4);x.PH(j,f);Z.Y.$Q(p,A,P,f,P,P,v);
x.ZI$(f,g)};vv.PH=function(e,j){j[0]=255*e.red;j[1]=255*e.green;j[2]=255*e.blue;j[3]=255*e.alpha};vv.ZI$=function(e,j){j.red=e[0]/255;
j.green=e[1]/255;j.blue=e[2]/255;j.alpha=e[3]/255};vv.Ps=function(e,j){e=e.clone();e.Oz=24;e.tG("Mask by "+e.getName());
j.T.push(e);e.add.lsct=vC.x_;e.add.lyid=j.oe();delete e.add.lmfx;delete e.add.SoCo;delete e.add.GdFl;
delete e.add.PtFl;delete e.add.iOpa;if(e.add.vmsk)e.add.vmsk.jA=!0;e.d$(j);if((e.Oz&16)==16)e.Oz-=16;
if((e.Oz&2)==2)e.Oz-=2;e.T$="pass";e.opacity=255};vv.WN="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
vv.WH=function(e,j,g,P){g=g.clone();g.OF();g.vR=g.LV=0;var p=g.em(),R=0,M=0;g.scale(1/p,1/p);var v=vv,x=JSON.parse(Wr.ea[Wr.order.indexOf("GrFl")]),A=x.Grad.v;
A.Intr.v=0;if(e==null)return x;var f=e.gradientType,S=v.cu(e.from),F=v.cu(e.to);S.offset(-.5,-.5);F.offset(-.5,-.5);
S=g.vy(S);F=g.vy(F);var m=Math.atan2(-(F.y-S.y),F.x-S.x);x.Type.v.GrdT=["Lnr","Rdl","Angl"][f];x.Scl.v.val=100*Uc.zG(S,F);
if(f==0){x.Angl.v.val=180/Math.PI*m;x.Scl.v.val=100*Uc.zG(S,F);R=(S.x+F.x)/2;M=(S.y+F.y)/2}if(f==1){x.Scl.v.val=200*Uc.zG(S,F);
R=S.x;M=S.y}if(f==2){x.Angl.v.val=180/Math.PI*(m-Math.PI/2)}var b=x.Ofst.v;b.Hrzn.v.val=R*100;b.Vrtc.v.val=M*100;
var s=[];for(var K=0;K<e.stops.length;K++){var X=e.stops[K],d=X.color;s.push([X.position,d?[d.red,d.green,d.blue]:[0,0,0],d.alpha])}Z.c.fU(s,A);
return x};vv.yC=function(e,j){var g=vv,P=1,p=e.contextSettings;if(p!=null){j.Md.v.BlnM=g.WN[p.blendMode];
P*=p.opacity}else j.Md.v.BlnM=g.WN[0];j.enab.v=e.isEnabled;if(j.uglg!=null)j.uglg.v=!1;if(e.color!=null)P*=e.color.alpha;
j.Opct.v.val=Math.round(P*100)};vv.oQ=function(e){return Z.c.Op(e?{k:e.red*255,z:e.green*255,e:e.blue*255}:{k:0,z:0,e:0})};
vv.Tn=function(e,j,g){var P=vv,p=[{type:6},{type:8,all:0}];for(var v=0;v<e.length;v++){var x=e[v],A=x.booleanOperation,f=0,S=x._class,s=!1;
if(S=="group"||S=="text"||S=="symbolInstance"||S=="slice"){console.log(S+" inside ShapeGroup");continue}if(A==-1)f=0;
else if(A==0)f=1;else if(A==1)f=2;else if(A==2)f=3;else if(A==3)f=0;if(v==0)f=1;var F=vv.mz(x.frame),m=P.Ri(x,j),R=x.path?x.path:x,M=[{type:0,length:0,WF:f,Tu:2,sf:0,sW:0}],b=R.points;
for(var K=0;K<b.length;K++){var X=b[K],d=P.cu(X.curveTo),W=P.cu(X.point),O=P.cu(X.curveFrom);s=s||X.hasCurveFrom&&!O.iJ(W)||X.hasCurveTo&&!d.iJ(W)}var H=[];
if(!s){var Y=[],y=b.length;if(y==0)continue;for(var K=0;K<y;K++){H[K]=b[K].cornerRadius;var X=P.cu(b[K].point);
Y.push(X.x,X.y)}m.scale(1/F.W,1/F.j);m.OF();Z.g.K(Y,m,Y);var B=Z.f.$c(Y,H);M=M.concat(B);M[0].length=M.length-1}else{var c=b.length;
M[0].length=c;for(var K=0;K<c;K++){var X=b[K],$=X.curveMode,I=P.cu(X.point);M[1+K]={type:$==2||$==4?1:2,Li:X.hasCurveTo?P.cu(X.curveTo):I.clone(),G:I,ap:X.hasCurveFrom?P.cu(X.curveFrom):I.clone()}}m.scale(1/F.W,1/F.j);
m.OF();Z.f.Ly(M,m);var H=[];for(var K=0;K<c;K++){var X=b[K],$=X.curveMode,r=X.cornerRadius;if($==1&&r!=0)H.push(r);
else H.push(0)}}if(!R.isClosed)for(var K=0;K<M.length;K++)M[K].type+=3;p=p.concat(M);var i=Z.uF.vK(),U=P.zW(x);
if(m.e==0&&m.Ug==0){var N=m.vR,C=m.LV,D=N+m.Fl,n=C+m.LC,w=[N,C,D,n];if(U=="rectangle"&&H.length==4)i=Z.uF.uv(2,w,H);
if(U=="oval")i=Z.uF.uv(5,w)}g.push(i)}return p};vv.Ri=function(e,j){var g=j.clone(),P=e.frame?vv.mz(e.frame):null;
if(P)g.translate(-P.x-P.W/2,-P.y-P.j/2);if(e.isFlippedHorizontal)g.scale(-1,1);if(e.isFlippedVertical)g.scale(1,-1);
g.rotate(-e.rotation*(Math.PI/180));if(P)g.translate(P.W/2,P.j/2);return g};vv.cu=function(e){e=e.slice(1,e.length-1).split(",");
return new Uc(parseFloat(e[0]),parseFloat(e[1]))};vv.mz=function(e){return new G(e.x,e.y,e.width,e.height)};
vv.qk=function(e){return{_class:"rect",constrainProportions:!1,x:e.x,y:e.y,width:e.W,height:e.j}};function Jn(){}Jn.aW=function(e,j){var g=Date.now(),P=Jn,p=UZIP.parse(e),v=JSON.parse(T.vG(p.manifest)),x=JSON.parse(T.vG(p["resources/graphics/graphicContent.agc"])).resources,A=[],f=v.children;
for(var S=0;S<f.length;S++){var F=f[S];if(F.name=="artwork"){var m=F.children;for(var R=0;R<m.length;
R++)if(m[R]["uxdesign#bounds"]){var M=m[R],b=JSON.parse(T.vG(p["artwork/"+M.path+"/graphics/graphicContent.agc"]));
if(b.children.length!=1)throw"e";M._node=b.children[0];A.push(M)}}}var s=[],K=new G;for(var S=0;S<A.length;
S++){var M=A[S],X=vv.mz(M["uxdesign#bounds"]);s.push(X);K=K.Gd(X)}var d=vv.ye(K,8192*8192);j.Vo=!0;j.W=Math.round(K.W/d);
j.j=Math.round(K.j/d);j.buffer=Z.V(j.W*j.j*4);j.gU(A.length);var W=new WE(d,0,0,d,K.x,K.y);j.uB={};for(var S=0;
S<A.length;S++){var M=A[S],X=vv.mz(M["uxdesign#bounds"]),O=M._node,H=W.clone(),Y=X.clone(),y=H.em();
H.translate(-X.x,-X.y);Y.x=-Math.floor(H.vR/y);Y.y=-Math.floor(H.LV/y);Y.W=Math.floor(Y.W/y);Y.j=Math.floor(Y.j/y);
H.translate(X.x,X.y);Jn.zs(O,j,H,x,p,Y);var B=j.T[j.T.length-1];B.tG(M.name);B.fl(Y);if(S!=A.length-1)B.add.lsct=vC.TC}delete j.uB};
Jn.TU=function(e){if(e==null)return new WE;return new WE(e.a,e.b,e.c,e.d,e.tx,e.ty)};Jn.zs=function(e,j,g,P,p,v){var x=Jn,A=e.type,f=e[A],S=e.style,F=x.TU(e.transform),b,s="none",K,X="none",d,W;
F.OF();var m=g.clone();m.concat(F);var R=j.Rz(),M=e.name;R.tG(M?M.slice(0,250):"Layer");if(e.visible!=null)R.Pd(e.visible);
if(S){b=S.stroke;s=b?b.type:"none";K=S.fill;X=K?K.type:"none";d=S.filters;W=S.clipPath;if(W&&P.clipPaths[W.ref])W=P.clipPaths[W.ref].children;
else W=null;if(S.opacity)R.opacity=Math.round(255*S.opacity);if(X=="solid"&&K.color.alpha)R.opacity=Math.round(R.opacity*K.color.alpha);
if(d){R.add.lmfx=x.ZIO(d);for(var O=0;O<d.length;O++)if(d[O].type=="uxdesign#blur"){var H=d[O],Y=H.params,y=Y.brightnessAmount;
if(y==null)y=0;y=Math.abs(y/100);if((H.visible==null||H.visible==!0)&&Y.backgroundEffect)R.opacity=Math.round(R.opacity*(y+(1-y)*Y.fillOpacity))}}if(X=="pattern"&&K.pattern.meta.ux.uid=="")X="none"}if(W==null&&e.meta&&e.meta.ux&&e.meta.ux.clipPathResources)W=e.meta.ux.clipPathResources.children;
if(A=="artboard"||A=="group"){if(W){var B=W[0],c=B.shape,$=c!=null&&c.type=="rect"&&c.width*c.height>1e6;
if(B.type!="text"&&!$){var F=x.TU(B.transform);F.OF();var I=m.clone();I.concat(F);R.add.vmsk=new u.nt;
R.add.vmsk.F=x.Tn(c);I=I.clone();I.OF();Z.f.Ly(R.add.vmsk.F,I);R.d$(j)}else if(!$)alert("Clipping by text has been ignored")}R.add.lsct=vC.x_;
R.T$="pass";R.Oz=24;if(e.visible!=null)R.Pd(e.visible);j.T.push(j.Rt());var r=f.children,i=K;if(i)i=i.color;
if(i)i=i.value;if(K&&(X!="solid"||i.r!=255||i.g!=255||i.b!=255)){var U=j.Rz();U.tG("BACKGROUND");U.Oz|=16;
U.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));U.add.vmsk=new u.nt;U.add.vmsk.F=x.Tn({type:"rect",x:v.x,y:v.y,width:v.W,height:v.j});
x.Wp(K,X,m,v,v,U,j,P,p);U.d$(j);j.T.push(U)}for(var O=0;O<r.length;O++){Jn.zs(r[O],j,m,P,p,v)}}else if(A=="shape"&&e.shape.type=="rect"&&(e.shape.r==null||e.shape.r==0)&&X=="pattern"&&Math.abs(e.shape.width/e.shape.height-K.pattern.width/K.pattern.height)<.01){var N=K.pattern,C=N.meta.ux,D=C.uid,n=p["resources/"+D];
if(n==null){console.log(N);return}var w=j.UF(n,R.getName(),0,0);w.Oz=R.Oz;w.opacity=R.opacity;R=w;var k=Z.g.B$(new G(0,0,N.width,N.height)).u,h=new WE;
h.scale(N.width/e.shape.width,N.height/e.shape.height);if(C.offsetX)h.translate(-C.offsetX*N.width,0);
if(C.offsetY)h.translate(0,-C.offsetY*N.height);m.concat(h);m.OF();Z.g.K(k,m,k);R.add.SoLd.Trnf=o.t.Pn(k);
R.add.SoLd.nonAffineTransform=o.t.Pn(k);R.yM(j,!1)}else if(A=="shape"){R.Oz|=16;R.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));
R.add.vmsk=new u.nt;R.add.vmsk.F=x.Tn(f);var t=Z.f.Gx(R.add.vmsk.F,null),I=m.clone();I.OF();Z.f.Ly(R.add.vmsk.F,I);
var a=Z.f.Gx(R.add.vmsk.F,null);if(s=="none"){}else{var _=b.color.value,E,WW;E="SoFi";var Wx=JSON.parse(Wr.ea[Wr.order.indexOf("SoFi")]);
WW={t:"Objc",v:Wx};WW.v.Clr.v=Z.c.Op({k:_.r,z:_.g,e:_.b});var WU=b.align,We=b.cap;if(WU==null)WU="center";
var Wv=R.add.vstk;Wv.strokeEnabled.v=!0;Wv.strokeStyleLineWidth.v.val=b.width;if(WU)Wv.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wr.hg.IS[["inside","center","outside"].indexOf(WU)];
if(We)Wv.strokeStyleLineCapType.v.strokeStyleLineCapType=Wr.hg.SH[["butt","round","square"].indexOf(We)];
var L=["SoFi","GrFl","patternFill"].indexOf(E),J=[Wr.VP,Wr.PV,Wr.PM][L];Wv.strokeStyleContent.v={classID:Wr.hg.dE[0]};
var WZ=Wv.strokeStyleContent.v={classID:Wr.hg.dE[L]};for(var O=0;O<J.length;O++)WZ[J[O]]=WW.v[J[O]]}if(d)for(var O=0;
O<d.length;O++)if(d[O].type=="uxdesign#blur"&&d[O].visible){var WJ=d[O];R.add.vmsk.FZ=WJ.params.blurAmount}x.Wp(K,X,m,t,a,R,j,P,p);
R.d$(j)}else if(A=="text"&&e.text){var Wu=e.text,WC=Wu.frame,Wn=S.font,WB=S.textAttributes,F=m.clone(),Wa=0;
F.OF();R.add.lnsr="rend";R.add.TySh=Wf.Ik(0,0);R.add.TySh.GC=new G(0,0,100,100);R.add.TySh.K=F;var Wt=R.add.TySh.xe,Wy=Wu.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
Wf.hX(Wt,0,Wy);if(Wy!=""){var Wz=Wf.vD(Wt,0,1),WG=Wn.postscriptName;if(WG==null)WG=Wn.family;Wf.JJ(Wz,WG);
Wz.kw.FontSize=Math.round(Wn.size);if(K){var _=K.color.value;Wz.kw.FillColor={Type:1,Values:[1,_.r/255,_.g/255,_.b/255]}}if(WB){if(WB.paragraphAlign)Wz.eJ.Justification=["left","right","center"].indexOf(WB.paragraphAlign);
if(WB.letterSpacing)Wz.kw.Tracking=Math.round(WB.letterSpacing);if(WB.lineHeight){Wz.kw.AutoLeading=!1;
Wz.kw.Leading=Math.round(WB.lineHeight)}}Wf.MM(Wt,0,Wy.length,Wz)}var Wq=e.meta.ux.rangedStyles;if(Wq)for(var O=0;
O<Wq.length;O++){var f=Wq[O],WK=Math.min(f.length,Wy.length-Wa),Wz=Wf.vD(Wt,Wa,Wa+WK),WG=f.postscriptName;
if(WG==null)WG=f.family;if(WG!=null)Wf.JJ(Wz,WG);var Wd=f.textScript,WD=f.underline,W$=f.fontSize,H=f.fill,Zg=f.textTransform;
if(Wd&&Wd!="none")Wz.kw.FontBaseline=Wd=="superscript"?1:2;if(WD!=null)Wz.kw.Underline=WD;if(W$!=null)Wz.kw.FontSize=Math.round(W$);
if(Zg!=null)Wz.kw.FontCaps=Zg=="uppercase"?2:0;if(H!=null){var WL=H.value;Wz.kw.FillColor={Type:1,Values:[1,(WL>>>16&255)/255,(WL>>>8&255)/255,(WL>>>0&255)/255]}}Wf.MM(Wt,Wa,Wa+WK,Wz);
Wa+=WK}if(WC.type=="area"){Wf.oc(Wt,1);Wf.kJ(Wt,[0,0,WC.width,WC.height])}}else console.log(A,e);j.T.push(R)};
Jn.Tn=function(e){var j=e.type,g=[{type:6},{type:8,all:0}];if(j=="rect"){var P=e.r,p=e.x,v=e.y,x=e.width,A=e.height;
if(P==null)g=Z.f.vC.Rect(p,v,x,A,0);else g=g.concat([{type:0,WF:1,length:8,sf:0,sW:0,Tu:1}]).concat(Z.f.$c([p,v,p+x,v,p+x,v+A,p,v+A],P,!1))}else if(j=="circle"){var P=e.r;
g=Z.f.vC.Po(e.cx-P,e.cy-P,2*P,2*P)}else if(j=="ellipse"){var f=e.rx,S=e.ry;g=Z.f.vC.Po(e.cx-f,e.cy-S,2*f,2*S)}else if(j=="path"||j=="compound"){var F=Typr.U.SVGToPath(e.path);
g=Z.g.br({L:F.cmds,u:F.crds},!1)}else if(j=="line"){var m=e.x1,R=e.x2,M=e.y1,b=e.y2;g=g.concat([{type:0,WF:1,length:2,sf:0,sW:0,Tu:1}]).concat(Z.f.$c([m,M,R,b],0,!0))}else if(j=="polygon"){var s=e.points,K=[];
for(var X=0;X<s.length;X++)K.push(s[X].x,s[X].y);g=g.concat(Z.f.vC.ME(K,0,!1).slice(2))}else console.log(j,e);
return g};Jn.ZIO=function(e){var j=JSON.parse(Wr.default);for(var g=0;g<Wr.order.length;g++)j[Wr.uM[g]]={t:"VlLs",v:[]};
for(var g=0;g<e.length;g++){var P=e[g],p=P.type,v=P.params,x=P.visible;if(p=="dropShadow"){var A=Wr.uM[Wr.order.indexOf("DrSh")],f=JSON.parse(Wr.ea[Wr.order.indexOf("DrSh")]);
j[A].v.unshift({t:"Objc",v:f});var S=v.dropShadows;if(S.length!=1)throw"e";var F=S[g],m=F.color,R=m.value,M=F.dx,b=F.dy;
f.Clr.v=Z.c.Op({k:R.r,z:R.g,e:R.b});f.Opct.v.val=Math.round((m.alpha!=null?m.alpha:1)*100);f.uglg.v=!1;
f.enab.v=x!=null?x:!0;f.lagl.v.val=Math.round(180/Math.PI*Math.atan2(b,-M));f.Dstn.v.val=Math.round(Math.sqrt(M*M+b*b));
f.blur.v.val=Math.round(F.r*2.3)}}return j};Jn.Wp=function(e,j,g,P,p,v,x,A,f){var S=Jn;if(j=="none"){v.add.vstk.fillEnabled.v=!1;
v.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.c.Op({k:0,z:0,e:0})}}}else{var F,m,R;if(j=="solid"){var M=e.color.value;
F="SoCo";m=Wr.VP;var b=JSON.parse(Wr.ea[Wr.order.indexOf("SoFi")]);R={t:"Objc",v:b};R.v.Clr.v=Z.c.Op({k:M.r,z:M.g,e:M.b})}else if(j=="gradient"){F="GdFl";
m=Wr.PV;var b=JSON.parse(Wr.ea[Wr.order.indexOf("GrFl")]),s=b.Grad.v,O,H,Y;s.Intr.v=0;var K=e[j],X=K.ref?A.gradients[K.ref]:K.meta.ux.gradientResources,d=["linear","radial"].indexOf(X.type),W=X.stops;
b.Type.v.GrdT=["Lnr","Rdl","Angl"][d];if(d==0){var O=new Uc(K.x1,K.y1),H=new Uc(K.x2,K.y2);O.x=H.x+.5*(O.x-H.x);
O.y=H.y+.5*(O.y-H.y)}else{var O=new Uc(K.cx,K.cy),H=new Uc(K.cx+K.r,K.cy)}Y=p;if(K.units=="objectBoundingBox"){var y=new WE(P.W,0,0,P.j,P.x,P.y);
O=y.vy(O);H=y.vy(H)}var y=S.TU(K.transform);O=y.vy(O);H=y.vy(H);y=g.clone();y.OF();O=y.vy(O);H=y.vy(H);
Z.c.KL(O,H,Y,b);var B=[];for(var c=0;c<W.length;c++){var $=W[c],I=$.color,M=I.value,r=I.alpha;if(r==null)r=1;
B.push([$.offset,[M.r/255,M.g/255,M.b/255],r])}Z.c.fU(B,s);R={t:"Objc",v:b}}else if(j=="pattern"){F="PtFl";
m=Wr.PM;var b=JSON.parse(Wr.ea[Wr.order.indexOf("patternFill")]),n,a=1,_=0,E=0,WW=1;R={t:"Objc",v:b};
var i=e[j],U=i.meta.ux,N=U.uid,C=f["resources/"+N].buffer,D=Wg.uK(C);if(x.uB[N])n=x.uB[N];else{var w=new G(0,0,i.width,i.height),k;
if(w.tE()){w=new G(0,0,1,1);k=new ArrayBuffer(4)}else{var h=Wg.Hr(D);if(h.px){var t=new ZT;h.vn(C,t);
k=t.Gj().buffer}else k=h.vn(C)[0].data}n={};n.id=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f";n.name="someImage";
n.vf=[new Uint8Array(k),w];x.SN(n);x.uB[N]=n}var w=n.vf[1];b.Algn.v=!0;b.Ptrn.v.Idnt.v=n.id;if(U.scaleBehavior=="cover"){a=WW*Math.max(p.W/w.W,p.j/w.j);
var Wx=a;if(U.scale!=null)a*=U.scale;_=p.x-(w.W*a-p.W)/2;E=p.y-(w.j*a-p.j)/2;if(U.offsetX!=null)_+=U.offsetX*w.W*Wx;
if(U.offsetY!=null)E+=U.offsetY*w.j*Wx}else if(U.scaleBehavior=="fill"){a=WW*Math.min(p.W,p.j)/Math.max(w.W,w.j);
_=p.x-(w.W*a-p.W)/2;E=p.y-(w.j*a-p.j)/2}else throw"Unknown scale behaviour";b.Scl.v.val=100*a;b.phase.v.Hrzn.v=Math.round(_);
b.phase.v.Vrtc.v=Math.round(E)}else console.log(j);if(F!=null){v.add[F]={classID:"null"};for(var c=0;
c<m.length;c++){var WU=m[c];v.add[F][WU]=R.v[WU]}}}};function WR(){}WR.aW=function(e,j){e=new Uint8Array(e);
var g=T.vG(e,0,e.length),P=new DOMParser,p=P.parseFromString(g,"image/svg+xml"),v=p.getElementsByTagName("style")[0];
if(v)v=Typr.U.SVG.cssMap(v.textContent);else v={};var x=p.firstChild;while(x.tagName!="svg")x=x.nextSibling;
var A=new G(0,0,100,100),f=x.getAttribute("viewBox"),S=x.getAttribute("width"),F=x.getAttribute("height");
if(f){var m=WR.Rb(f);A.x=m[0];A.y=m[1];A.W=m[2];A.j=m[3]}else if(S!=null||F!=null){A.W=S!=null?parseFloat(S):parseFloat(F);
A.j=F!=null?parseFloat(F):parseFloat(S)}A=Z.g.FD(A);j.Vo=!0;j.W=A.W;j.j=A.j;j.buffer=Z.V(A.h()*4);var R=new WE(1,0,0,1,-A.x,-A.y),M={hf:WR.AO(x),ZaQ:v};
WR.GS(p,x.children,j,R,M,new WE,0);if(j.T.length==0){var b=j.Rz();b.tG("Layer");j.T.push(b)}};WR.Rb=function(e){var j=" ";
if(e.indexOf(",")!=-1)j=",";return e.split(j).map(parseFloat)};WR.GS=function(e,j,g,P,p,v,x){var A=WR,f=["display","opacity","fill-opacity"];
for(var S=0;S<j.length;S++){var F=j[S],m=F.tagName,R=F.getAttribute("id"),M=A.AO(F,p.ZaQ),s=13,O=1,y="clip-path",B=null;
for(var b in p.hf)if(f.indexOf(b)==-1&&M[b]==null)M[b]=p.hf[b];if(M["font-size"])s=A.yd(M["font-size"],s);
if(F.getAttribute("dx"))P.vR+=A.yd(F.getAttribute("dx"),s);if(F.getAttribute("dy"))P.LV+=A.yd(F.getAttribute("dy"),s);
var K=A.AK(F);K.concat(P);var X=F.getAttribute("visibility"),d=M.display,W=g.Rz();if(X=="hidden"||d=="none")W.Pd(!1);
W.tG(R!=null?R.split(":::")[0]:"Layer");if(M.opacity)O*=parseFloat(M.opacity);if(M["fill-opacity"]){var H=parseFloat(M["fill-opacity"]);
if(H!=0)O*=H}W.opacity=Math.round(255*O);if(M["mix-blend-mode"]){var Y=WF.ZxF.indexOf(M["mix-blend-mode"]);
if(Y!=-1)W.T$=WF.jS[Y]}if(F.getAttribute(y)==null)y="mask";if(F.getAttribute(y)!=null){var c=F.getAttribute(y);
c=c.slice(4,c.length-1);var $=e.getElementById(c.slice(1));if($){var I=$.children;B=g.Rz();B.tG("Clip-Path"+(R?": "+R:""));
B.add.lsct=x<2?vC.x_:vC.TC;B.T$="pass";B.Oz=24;var r=B.add.vmsk=new u.nt;g.T.push(g.Rt());var i=[];if($.getAttribute(y)){var c=$.getAttribute(y);
c=c.slice(4,c.length-1);i=e.getElementById(c.slice(1)).children}for(var U=0;U<I.length;U++){var N=A.AK(I[U]);
N.concat(K);var C=A.Tn(e,I[U],!1).slice(2);Z.f.Ly(C,N);r.F=r.F.concat(C)}for(var U=0;U<i.length;U++){var N=A.AK(I[U]);
N.concat(K);var C=A.Tn(e,i[U],!1).slice(2);for(var D=0;D<C.length;D++)if(C[U].WF!=null)C[U].WF=3;Z.f.Ly(C,N);
r.F=r.F.concat(C)}B.Vd();B.d$();x++}}if(m=="g"||m=="a"||m=="svg"||m=="switch"||(m=="text"||m=="textPath")&&F.children.length>0){if(m=="text")v=A.lU(F,v);
var n=F.getAttribute("viewBox"),w=F.getAttribute("width"),k=F.getAttribute("height");if(n&&w&&k){var h=WR.Rb(n),t=A.lU(F),a=new WE;
a.translate(-h[0],-h[1]);a.scale(parseFloat(w)/h[2],parseFloat(k)/h[3]);a.translate(t.vR,t.LV);a.concat(K);
K=a}var _=F.children.length,E=p.hf;p.hf=M;var WW=m!="text"&&m!="textPath"||_>1;if(WW){var Wx=W.Je();
W.add.lsct=x<2&&Wx&&(R==null||!R.endsWith(":::"))?vC.x_:vC.TC;W.T$="pass";W.Oz=24;W.Pd(Wx);g.T.push(g.Rt())}A.GS(e,F.children,g,K,p,v,x+1);
if(WW)g.T.push(W);p.hf=E}else if(m=="use"){var a=A.lU(F);a.concat(K);var WU=A.Aj(F),We=e.getElementById(WU.slice(1)),E=p.hf;
p.hf=M;A.GS(e,[We],g,a,p,v,x+1);p.hf=E}else if(m=="path"||m=="rect"||m=="circle"||m=="ellipse"||m=="polygon"||m=="polyline"||m=="line"){W.Oz|=16;
W.add.vmsk=new u.nt;W.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));W.add.vstk.strokeEnabled.v=!1;
var Wv=W.add.vstk,r=W.add.vmsk;r.F=A.Tn(e,F,M["fill-rule"]=="evenodd");Z.f.Ly(r.F,K);var L=Z.f.Gx(r.F),J=M.stroke,WZ=M["stroke-width"],WJ=M["stroke-dasharray"],Wu=M.fill,WC=M["stroke-linejoin"],Wn=M["stroke-linecap"],WB=M["paint-order"];
if(J==null||J=="none"||J=="null"){}else{var Wt=A.kS(e,J,K,L),Wy=["SoFi","GrFl","patternFill"].indexOf(Wt.type),Wz=[Wr.VP,Wr.PV,Wr.PM][Wy],WG=Wv.strokeStyleContent.v={classID:Wr.hg.dE[Wy]},Wq=1;
for(var U=0;U<Wz.length;U++)WG[Wz[U]]=Wt.r.v[Wz[U]];WZ=WZ?parseFloat(WZ):1;if(WB&&WB.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){Wq=2;
WZ/=2}Wv.strokeEnabled.v=!0;if(WC)Wv.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wr.hg.join[["miter","round","bevel"].indexOf(WC)];
if(Wn)Wv.strokeStyleLineCapType.v.strokeStyleLineCapType=Wr.hg.SH[["butt","round","square"].indexOf(Wn)];
Wv.strokeStyleLineWidth.v.val=WZ*o.t.em(K);Wv.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wr.hg.IS[Wq];
Wv.strokeStyleOpacity.v.val=100*(M["stroke-opacity"]?parseFloat(M["stroke-opacity"]):1);if(WJ!=null&&WJ!="none")Wv.strokeStyleLineDashSet.v=Wi.ha(WJ.split(",").map(parseFloat),1/WZ)}if(Wu=="none"||M["fill-opacity"]&&parseFloat(M["fill-opacity"])==0){W.add.vstk.fillEnabled.v=!1;
W.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.c.Op({k:0,z:0,e:0})}}}else{var Wt=A.kS(e,Wu,K,L),Wa=null,WK=null;
if(Wt.type=="SoFi"){Wa="SoCo";WK=Wr.VP}if(Wt.type=="GrFl"){Wa="GdFl";WK=Wr.PV}if(Wt.type=="patternFill"){Wa="PtFl";
WK=Wr.PM}if(Wa!=null){W.add[Wa]={classID:"null"};for(var U=0;U<WK.length;U++){var b=WK[U];W.add[Wa][b]=Wt.r.v[b]}}}if(M.filter&&M.filter!="none"){var Wd=M.filter;
Wd=Wd.slice(5,Wd.length-1);var WD=e.getElementById(Wd).children[0];if(WD.tagName=="feGaussianBlur"){W.add.vmsk.FZ=parseFloat(WD.getAttribute("stdDeviation"))*o.t.em(K)}}W.Vd();
W.d$(g);g.T.push(W)}else if((m=="text"||m=="tspan")&&F.textContent!=""){v=A.lU(F,v);var a=v.clone();
a.concat(K);if(F.children.length>0){var W$=A.AO(F.children[0],p.ZaQ);for(var b in W$)if(f.indexOf(b)==-1)M[b]=W$[b]}var Zg=M["xml:space"],WL=F.textContent;
if(Zg=="preserve")WL=WL.replace(/\t/g," ").replace(/\n/g," ");if(R==null)W.tG(WL);W.add.lnsr="rend";
W.add.TySh=Wf.Ik(0,0);W.add.TySh.GC=new G(0,0,100,100);W.add.TySh.K=a.clone();var WY=W.add.TySh.xe;Wf.hX(WY,0,WL);
var Wu=M.fill,WA=M["font-weight"],Wb=M["font-family"],WX=M["text-decoration"],J=M.stroke,WZ=M["stroke-width"];
if(M["dominant-baseline"]=="text-before-edge")W.add.TySh.K.translate(0,s);var fI=Wf.vD(WY,0,1);if(Wu&&Wu!="none"){var Ww=CSS.oQ(Wu);
fI.kw.FillColor={Type:1,Values:[1,Ww.k/255,Ww.z/255,Ww.e/255]}}if(WX=="underline")fI.kw.Underline=!0;
fI.kw.FontSize=Math.round(s);Wf.JJ(fI,"LiberationSans");if(WA=="bold")Wf.JJ(fI,"LiberationSans-Bold");
if(Wb){var W_=Wb+":"+(WA?WA:"normal"),vW={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(vW[W_])Wf.JJ(fI,vW[W_]);else Wf.JJ(fI,Wb)}if(M["text-anchor"])fI.eJ.Justification=["start","end","middle"].indexOf(M["text-anchor"]);
Wf.MM(WY,0,WL.length,fI);if(J==null||J=="none"){}else{var vL=JSON.parse(Wr.ea[Wr.order.indexOf("FrFX")]);
vL.Clr.v=Z.c.Op(CSS.oQ(J));vL.Sz.v.val=Math.round(parseFloat(WZ)*o.t.em(a));var vV=JSON.parse(Wr.default);
for(var U=0;U<Wr.order.length;U++)vV[Wr.uM[U]]={t:"VlLs",v:[]};vV.frameFXMulti.v.push({t:"Objc",v:vL});
W.add.lmfx=vV}g.T.push(W)}else if(m=="image"){var WU=A.Aj(F);if(WU.slice(0,4)=="data"){var Wo=Wg.QT(WU),WT=Wo,WH=g.UF(WT,W.getName(),0,0);
WH.Oz=W.Oz;W=WH;var WS=W.rect.clone();WS.x=WS.y=0;var ve=F.getAttribute("width"),Zi=F.getAttribute("height");
if(ve)WS.W=parseFloat(ve);if(Zi)WS.j=parseFloat(Zi);var WQ=A.lU(F);WQ.concat(K);var vZ=Z.g.B$(WS).u;
Z.g.K(vZ,WQ,vZ);W.add.SoLd.Trnf=o.t.Pn(vZ);W.add.SoLd.nonAffineTransform=o.t.Pn(vZ);W.yM(g,!1);g.T.push(W)}}else console.log("unknown tag: "+m,F.children.length,F.textContent.length);
if(B!=null){g.T.push(B);x--}}};WR.Tn=function(e,j,g){var P=WR,p=[{type:6},{type:8,all:0}],v=j.tagName;
if(v=="use"){var x=P.Aj(j),A=e.getElementById(x.slice(1)),f=new WE;if(A.tagName!="rect")f=P.lU(A);f.concat(P.AK(A));
p=P.Tn(e,A,g);Z.f.Ly(p,f)}else if(v=="path"){var S=j.getAttribute("d");if(S==null)return p;var F=Typr.U.SVGToPath(S);
p=Z.g.br({u:F.crds,L:F.cmds},g)}else if(v=="rect"){var m=j.getAttribute("rx"),R=P.lU(j);p=Z.f.vC.Rect(R.vR,R.LV,parseFloat(j.getAttribute("width")),parseFloat(j.getAttribute("height")),m?parseFloat(m):0)}else if(v=="circle"||v=="ellipse"){var M=[0,0,0,0],b=["cx","cy","rx","ry","r"];
for(var s=0;s<5;s++){var K=j.getAttribute(b[s]);if(K){K=parseFloat(K);if(s<4)M[s]=K;else M[2]=M[3]=K}}p=Z.f.vC.Po(M[0]-M[2],M[1]-M[3],2*M[2],2*M[3])}else if(v=="polygon"||v=="polyline"||v=="line"){var X;
if(v=="line")X=[j.getAttribute("x1"),j.getAttribute("y1"),j.getAttribute("x2"),j.getAttribute("y2")].map(parseFloat);
else X=j.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
p=Z.f.vC.ME(X,0,v!="polygon")}return p};WR.yd=function(e,j){if(e.charAt(e.length-1)=="m")return j*parseFloat(e.slice(0,e.length-2));
else return parseFloat(e)};WR.kS=function(e,j,g,P){var p,v,x=WR,A=JSON.parse(Wr.ea[Wr.order.indexOf("SoFi")]),f=j!=null?j.indexOf("("):-1;
if(f!=-1){var S=j.indexOf(")"),F=j.slice(0,f).trim(),m=j.slice(f+1,S).trim();if(m.charAt(0)=="'")m=m.slice(1,m.length-1);
if(F=="url"){if(m.charAt(0)=="#"){var R=e.getElementById(m.slice(1));if(R&&R.tagName.toLowerCase().endsWith("gradient")){var M=x.WH(e,R,g,P);
p="GrFl";v={t:"Objc",v:M}}else{p="SoFi";v={t:"Objc",v:A}}}else console.log("unknown url",m)}else if(F=="rgb"){p="SoFi";
v={t:"Objc",v:A};v.v.Clr.v=Z.c.Op(CSS.oQ(j))}else console.log("unknown fill",j)}else{p="SoFi";v={t:"Objc",v:A};
v.v.Clr.v=Z.c.Op(CSS.oQ(j))}return{type:p,r:v}};WR.AK=function(e){var j=new WE,g=e.getAttribute("transform");
if(g)j=WR.yB(g);var P=e.getAttribute("style");if(P!=null){var p={};WR.Ap(p,P,["transform"]);P=p.transform;
if(P)j.concat(WR.yB(P))}return j};WR.lU=function(e,j){var g=new WE,P=e.getAttribute("x"),p=e.getAttribute("y");
if(P)g.vR=parseFloat(P);else if(j)g.vR=j.vR;if(p)g.LV=parseFloat(p);else if(j)g.LV=j.LV;return g};WR.yB=function(e){var j=Typr.U.SVG.readTrnf(e);
return new WE(j[0],j[1],j[2],j[3],j[4],j[5])};WR.AO=function(e,j){var g={},P="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var p=0;p<P.length;p++){var v=e.getAttribute(P[p]);if(v!=null&&v!="inherit")g[P[p]]=v}var x=e.getAttribute("class");
if(j!=null&&x!=null&&j["."+x]!=null)WR.Ap(g,j["."+x],P);var A=e.getAttribute("id");if(j!=null&&A!=null&&j["#"+A]!=null)WR.Ap(g,j["#"+A],P);
var f=e.getAttribute("style");if(f!=null)WR.Ap(g,f,P);return g};WR.Ap=function(e,j,g){j=j.trim().split(";");
for(var P=0;P<j.length;P++){var p=j[P].split(":"),v=p[0]?p[0].trim():"",x=p[1]?p[1].trim():"";for(var A=0;
A<g.length;A++)if(v==g[A]&&x!="inherit")e[g[A]]=x}};WR.Aj=function(e){var j=e.getAttribute("xlink:href");
if(j==null)j=e.getAttribute("href");return j};WR.WH=function(e,j,g,P){var p=WR,v=new WE,x=j.getAttribute("gradientTransform");
if(x)v=p.yB(x);v.concat(g);var A=JSON.parse(Wr.ea[Wr.order.indexOf("GrFl")]),f=A.Grad.v;f.Intr.v=0;var S=j.tagName,F=new Uc(0,0),m=new Uc(P.W,0);
if(S=="linearGradient"){A.Type.v.GrdT="Lnr";if(j.getAttribute("x1"))F.x=parseFloat(j.getAttribute("x1"));
if(j.getAttribute("y1"))F.y=parseFloat(j.getAttribute("y1"));if(j.getAttribute("x2"))m.x=parseFloat(j.getAttribute("x2"));
if(j.getAttribute("y2"))m.y=parseFloat(j.getAttribute("y2"));F.x=m.x+.5*(F.x-m.x);F.y=m.y+.5*(F.y-m.y)}if(S=="radialGradient"){A.Type.v.GrdT="Rdl";
if(j.getAttribute("cx"))F.x=parseFloat(j.getAttribute("cx"));if(j.getAttribute("cy"))F.y=parseFloat(j.getAttribute("cy"));
m.Ve(F.x,F.y);if(j.getAttribute("r"))m.x+=parseFloat(j.getAttribute("r"))}if(j.getAttribute("gradientUnits")=="userSpaceOnUse"){F=v.vy(F);
m=v.vy(m)}else{F.x=P.x+F.x*P.W;F.y=P.y+F.y*P.j;m.x=P.x+m.x*P.W;m.y=P.y+m.y*P.j}Z.c.KL(F,m,P,A);var R=j.children;
if(R.length==0){var M=p.Aj(j);if(M==null)throw"gradient has no stops";var b=e.getElementById(M.slice(1));
if(b==null){console.log(M.slice(1));throw"e"}var s=p.WH(e,b,v,P);A.Grad=s.Grad}else{var K=[];for(var X=0;
X<R.length;X++){var d=R[X],W=p.AO(d),O=W["stop-color"],H=W["stop-opacity"],Y=d.getAttribute("offset");
if(O==null)O="#000000";if(H==null)H="1";var y=Y?parseFloat(Y):0;O=CSS.oQ(O);K.push([y,[O.k/255,O.z/255,O.e/255],parseFloat(H)])}Z.c.fU(K,f)}return A};
WR.Be=function(e,j,g){var P=[],p=WR;p.kj=j.ZzH?"\t":"";var v=j.ZGj,x=j.ZGP;P.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+e.W+" "+e.j+"\" width=\""+v+"\" height=\""+x+"\">");
var A={Hz:[],A:[],_W:0,YO:0,Yp:0,YR:{},Yk:{},YM:0,OI:{},_K:{},_m:0,Fz:[]};WR.Fw(e,A,e.root.children,1,j,g);
if(A.Hz.length!=0){P.push(p.gQ(1)+"<defs>");P=P.concat(A.Hz);P.push(p.gQ(1)+"</defs>")}P.push(p.gQ(1)+"<style>");
P.push(p.gQ(2)+"tspan { white-space:pre }");for(var f in A.OI)P.push(p.gQ(2)+"."+f+" { "+A.OI[f]+" } ");
P.push(p.gQ(1)+"</style>");P=P.concat(A.A);P.push("</svg>");P=P.join(j.ZzH?"\n":"");var S=Z.V(Math.round(P.length*1.5)),F=T.bu(P,S,0);
if(p.xH){console.log(p.xH);var m="SVGParser.gen.db = [\n";for(var R=0;R<p.xH.length;R++){var M=p.xH[R];
m+="{\n\tnam: \""+M.Ky+"\",\n\tpts: [\n";for(var b=0;b<M.sG.length;b++){var s=M.sG[b];m+="\t\t[\""+s[0]+"\", { cmds: "+JSON.stringify(s[1].L)+", crds:"+JSON.stringify(s[1].u)+" } ]"+(b==M.sG.length-1?"":",")+"\n"}m+="\t]\n}"+(R==p.xH.length-1?"":",")+"\n"}m+="]\n";
console.log(m)}return S.buffer.slice(0,F)};WR.kj="";WR.gQ=function(e){var j="";for(var g=0;g<e;g++)j+=WR.kj;
return j};WR.ac=function(e){return""+parseFloat(e.toFixed(3))};WR.Fw=function(e,j,g,P,p,v){var x=WR;
for(var A=0;A<g.length;A++){var f=g[A].$,S=f.add.lsct,F=f.add.vmsk,m=f.add.vstk,R=f.add.TySh,M=[];if(!p.hidden&&!f.Je())continue;
var b=f.opacity/255,s=f.add.iOpa?f.add.iOpa/255:1;if(b!=1)M.push("opacity: "+x.ac(b));if(s!=1)M.push("fill-opacity: "+x.ac(s));
if(f.T$!="norm"){var K=WF.ZxF[WF.jS.indexOf(f.T$)];if(K!=null)M.push("mix-blend-mode: "+K)}if(!f.Je())M.push("display: none");
var X=[],d=[],W=f.getName(),O=W.indexOf(" .");if(O!=-1){d.push(W.slice(O+2));W=W.slice(0,O)}if(p.names)X.push("id=\""+x.kg(W)+"\"");
var H=f.add.lmfx;if(H)H=H.solidFillMulti.v[0];if(H)H=H.v;if(H&&!H.enab.v)H=null;if(f.CQ()){if(x.xH&&f.getName().split("-").length==3){x.xH.push({Ky:f.getName(),TO:0,sG:[]})}if(F||f.add.artb){var Y;
if(F)Y=Z.f.eb(F.F).XH;else{var y=f.EX(),B=Z.g.B$(y);Y=Typr.U.pathToSVG({crds:B.u,cmds:B.L},2)}j.Yp++;
X.push("clip-path=\"url(#cp"+j.Yp+")\"");j.Hz.push(x.gQ(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+j.Yp+"\">");
j.Hz.push(x.gQ(3)+"<path d=\""+Y+"\" />");j.Hz.push(x.gQ(2)+"</clipPath>")}if(M.length!=0)X.push("style=\""+M.join(";")+"\"");
j.A.push(x.gQ(P)+"<g "+x.lS(X,d)+">");x.Fw(e,j,g[A].children,P+1,p,v);j.A.push(x.gQ(P)+"</g>")}else if(f.dz()&&F==null){var c=new G(0,0,e.W,e.j);
x.oX(M,f.add,j,c);if(M.length!=0)X.push("style=\""+M.join(";")+"\"");j.A.push(x.gQ(P)+"<rect width=\""+e.W+"\" height=\""+e.j+"\" "+x.lS(X,d)+" />")}else if(F){var c=Z.f.Gx(F.F),Y=Z.f.eb(F.F);
if(Y.YI!=0){X.push("fill-rule=\"evenodd\"")}var $=Y.XH;x.oX(M,f.add,j,c);if(M.length!=0){var I=M.join(";"),r=j._K[I];
if(r==null){r="shp"+j._m;j._m++;j._K[I]=r;j.OI[r]=I}d.push(r)}j.A.push(x.gQ(P)+"<path "+x.lS(X,d)+" d=\""+$+"\" />");
if(x.xH&&x.xH[x.xH.length-1]){var i=Z.g.bg(F.F);i.u=i.u.map(Math.round);var U=x.xH[x.xH.length-1];U.TO+=JSON.stringify(i).length;
U.sG.push([M[0].split("#").pop(),i])}}else if(R&&p.ZGT){var N=R.xe,C=new vf(N,v);if(H)X.push("fill=\""+CSS.HZ(H.Clr.v)+"\"");
var D=vs.hQ(C,R),n=Z.g.gX(D);for(var w in n){if(H==null)X.push("fill=\""+w+"\"");var B=n[w],$=Typr.U.pathToSVG({crds:B.u,cmds:B.L},2);
j.A.push(x.gQ(P)+"<path "+x.lS(X,d)+" d=\""+$+"\" />");if(H==null)X.pop()}}else if(R&&!p.ZGz){var N=R.xe,k=R.K.clone(),Wv=0,L=0;
if(Wf.FN(N)==1){var h=Wf.vD(N,0,0).eJ.Justification,t=0,a=Wf.JQ(N)[2];if(h==2)t=a/2;if(h==1)t=a;k.translate(t,0)}M.push("transform: "+x.Gc(k));
var _=Wf.UW(N),E=N.EngineDict.ParagraphRun,WW=E.RunArray,Wx=E.RunLengthArray;if(M.length!=0)X.push("style=\""+M.join(";")+"\"");
j.A.push(x.gQ(P)+"<text "+x.lS(X,d)+" >");var WU=f.add.lmfx;if(WU)WU=WU.frameFXMulti.v[0];if(WU)WU=WU.v;
var We=H?CSS.HZ(H.Clr.v):null;for(var J=0;J<WW.length;J++){var WZ=[],WJ=Wx[J],Wu=_.slice(Wv,Wv+WJ-1),WC=Wf.vD(N,Wv,Wv),Wn=WC.mp[WC.kw.Font].Name;
if(j.Fz.indexOf(Wn)==-1)j.Fz.push(Wn);CSS.ZUy(WZ,WC,R.K,!0,p.Fz,We);if(WU){M.push("stroke: "+CSS.HZ(WU.Clr.v));
M.push("stroke-width: "+WU.Sz.v.val)}var WB=WC.kw.FontSize*1.12;if(J==0)WB=Wf.FN(N)==0?0:WC.kw.FontSize;
L+=WB;if(Wu!=""){var I=WZ.join(";"),r=j._K[I],Wy="";if(r==null){r="txt"+j._m;j._m++;j._K[I]=r;j.OI[r]=I}var Wt=WC.kw.Tracking;
if(Wt!=null&&Wt!=0){Wt=Math.round(Wt*WC.kw.FontSize/1e3);Wy=" dx=\"0";for(var Wz=1;Wz<Wu.length;Wz++)Wy+=" "+Wt;
Wy+="\" "}j.A.push(x.gQ(P+1)+"<tspan x=\"0\" y=\""+x.ac(L)+"\" class=\""+r+"\""+Wy+">"+x.kg(Wu)+"</tspan>")}Wv+=WJ}j.A.push(x.gQ(P)+"</text>")}else if(f.add.SoLd){var WG=f.add.SoLd,Wq=WG.Idnt.v,Wa=0,WK=WG.Crop?WG.Crop.v:null;
if(j.Yk[Wq]!=null)Wa=j.Yk[Wq];else{j.YM++;Wa=j.YM;j.Yk[Wq]=j.YM;var Wd=e.om(Wq,WK),Zg="";if(Wd==null)return;
var WD=Wd.YA,W$=Wg.uK(Wd.raw.buffer);if(W$=="pdf"){var WL=new ZT("h");Wg.PDF.vn(Wd.raw.buffer,WL);WL.Ub();
WL.hx();WL.H();WL.Nf();if(WG.Crop&&WG.Crop.v==1){o.oo.vH(WL,WL.root.SQ(WL,!0))}var WY=Wg.SVG.si(WL,WL.W,WL.j,null,{Fz:v});
Zg="data:image/svg+xml;base64,"+Wg.Hg(WY)}else if(W$=="jpg"||W$=="png"||W$=="gif"||W$=="svg"){var WA={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
Zg="data:"+WA[W$]+";base64,"+Wg.Hg(Wd.raw.buffer)}else{Zg=Wg.Zt(WD[0].buffer,WD[1].W,WD[1].j)}j.Hz.push(x.gQ(2)+"<image width=\""+WD[1].W+"\" height=\""+WD[1].j+"\" id=\"img"+Wa+"\" href=\""+Zg+"\"/>")}var Wb=Z.D.cK(WG);
if(M.length!=0)X.push("style=\""+M.join(";")+"\"");var WX=x.lS(X,d);j.A.push(x.gQ(P)+"<use "+WX+" href=\"#img"+Wa+"\" transform=\""+x.Gc(Wb)+"\"/>")}else if(!f.rect.tE()&&(p.ZGa||R)){if(M.length!=0)X.push("style=\""+M.join(";")+"\"");
var WX=x.lS(X,d),fI=f.buffer;if(H)fI=Wi.ZyI(fI,H,f.rect);var Ww=f.rect;j.YM++;var Zg=Wg.Zt(fI.buffer,Ww.W,Ww.j,"png",null,!0);
j.Hz.push(x.gQ(2)+"<image width=\""+f.rect.W+"\" height=\""+f.rect.j+"\" id=\"img"+j.YM+"\" href=\""+Zg+"\"/>");
j.A.push(x.gQ(P)+"<use "+WX+" href=\"#img"+j.YM+"\" x=\""+Ww.x+"\" y=\""+Ww.y+"\" />")}}};WR.lS=function(e,j){if(j.length!=0)e.push("class=\""+j.join(" ")+"\"");
return e.join(" ")};WR.kg=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
WR.Gc=function(e){var j=[e.Fl,e.e,e.Ug,e.LC,e.vR,e.LV].map(WR.ac);return"matrix("+j.join(",")+")"};WR.oX=function(e,j,g,P){var p=WR,v=j.vstk,x=j.vmsk,A=j.lmfx;
if(x&&x.FZ!=0){var f=p.ac(x.FZ);if(g.YR[f]==null){g.YO++;g.YR[f]=g.YO;g.Hz.push(p.gQ(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"flt"+g.YO+"\"> <feGaussianBlur stdDeviation=\""+f+"\" /> </filter>")}e.push("filter: url(#flt"+g.YR[f]+")")}var S=Wi.qw(A,j),F=S[0],m=S[1];
if(v&&!v.fillEnabled.v)e.push("fill: none");else if(F){var R=CSS.HZ(F.Clr.v);e.push("fill: "+R)}else if(m){p.AP(m,g,P);
e.push("fill: url(#grd"+g._W+")")}if(v==null||!v.strokeEnabled.v)v=Wi.LU(A);if(v&&v.strokeEnabled.v){var M=v.strokeStyleContent.v,b=M.classID;
if(b=="solidColorLayer")e.push("stroke: "+CSS.HZ(M.Clr.v));else{p.AP(M,g,P);e.push("stroke: url(#grd"+g._W+")")}var s=Wr.hg.SH.indexOf(v.strokeStyleLineCapType.v.strokeStyleLineCapType),K=Wr.hg.join.indexOf(v.strokeStyleLineJoinType.v.strokeStyleLineJoinType),X=v.strokeStyleOpacity.v.val/100,d=v.strokeStyleLineWidth.v.val,W=Wr.hg.IS.indexOf(v.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(W==2){d*=2;e.push("paint-order:stroke fill markers")}var O=v.strokeStyleLineDashSet.v,H=[];for(var Y=0;
Y<O.length;Y++)H.push(Math.round(O[Y].v.val*d));if(s!=0)e.push("stroke-linecap:"+["butt","round","square"][s]);
if(K!=0)e.push("stroke-linejoin:"+["miter","round","bevel"][K]);if(X!=1)e.push("stroke-opacity:"+p.ac(X));
if(d!=1)e.push("stroke-width: "+p.ac(d));if(H.length!=0)e.push("stroke-dasharray: "+H.join(","))}};WR.AP=function(e,j,g){j._W++;
var P=WR,p=e.Grad.v,v=p.Clrs.v.slice(0),x=p.Trns.v.slice(0),A=e.Ofst.v,f=e.Type.v.GrdT=="Rdl"?1:0,S=(f==1?"radial":"linear")+"Gradient",F=Z.c.C_(e,g);
if(f==0){F[0].x=F[1].x+2*(F[0].x-F[1].x);F[0].y=F[1].y+2*(F[0].y-F[1].y)}var m=P.gQ(2)+"<"+S+" id=\"grd"+j._W+"\" gradientUnits=\"userSpaceOnUse\" ";
if(f==0)j.Hz.push(m+" x1=\""+P.ac(F[0].x)+"\" y1=\""+P.ac(F[0].y)+"\" x2=\""+P.ac(F[1].x)+"\" y2=\""+P.ac(F[1].y)+"\">");
if(f==1)j.Hz.push(m+" cx=\""+P.ac(F[0].x)+"\" cy=\""+P.ac(F[0].y)+"\" r=\""+P.ac(Uc.zG(F[0],F[1]))+"\">");
var R=e.Rvrs.v;if(R){v.reverse();x.reverse()}for(var M=0;M<v.length;M++){var b=v[M].v,s=M<x.length?x[M].v.Opct.v.val/100:1,s=s==1?"":"stop-opacity=\""+P.ac(s)+"\"",K=b.Lctn.v/4096;
if(R)K=1-K;j.Hz.push(P.gQ(3)+"<stop offset=\""+P.ac(K)+"\" stop-color=\""+CSS.HZ(b.Clr.v)+"\" "+s+" />")}j.Hz.push(P.gQ(2)+"</"+S+">")};
WR.vC=function(e,j,g,P,p){var v=[],x=WR.vC,A=!1,f={LB:e,GF:j,mU:[!0,!0,!0],NE:!1,nM:g,Ziv:0};f.EW=Math.round(Math.max(e,j)*(.02+x.sE(f)*.03));
f.NS=x.ZIw(f);f.pn=x.ZIR(f.NS,(x.sE(f)<.5?-1:1)*(.2+x.sE(f)*.3));if(x.sE(f)<.5){var S=f.NS;f.NS=f.pn;
f.pn=S}f.ZHc=x.sE(f)<.4&&x.ZIk(f.pn,{k:1,z:1,e:1})>.3;f.ZsZ=x.sE(f)<.5?0:1;v.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+e+" "+j+"\" width=\""+e+"\" height=\""+j+"\">");
f.Yb=P[Math.floor(x.ya(f)*P.length)];f.Y_=P[Math.floor(x.ya(f)*P.length)];v.push("<style>");v.push("@font-face {  font-family: "+f.Yb[2]+";  src: url(rsrc/fonts/"+f.Yb[5]+");  }");
v.push("@font-face {  font-family: "+f.Y_[2]+";  src: url(rsrc/fonts/"+f.Y_[5]+");  }");v.push("</style>");
var F=[0,0,e,j],m=F;if(p==null)v.push("<path style=\"fill: "+x.c$(f.NS)+"\" d=\""+x.Rect(F[0],F[1],F[2]-F[0],F[3]-F[1])+"\" id=\"Background\" />");
else{f.NE=!0;x.Me(f,F,v,p)}if(x.sE(f)<.25&&!f.NE){f.mU[0]=f.mU[2]=!1;x.ZIp(F,f,v);m=F}else if(x.sE(f)<.25||f.NE)m=F;
else{var R=.52+x.sE(f)*.2;if(x.sE(f)<.5)R=1-R;var M=F.slice(0),b=F.slice(0);if(x.sE(f)<.5)M[2]=b[0]=Math.round(R*e);
else M[3]=b[1]=Math.round(R*j);if(x.sE(f)<.5){var S=M;M=b;b=S}m=M;x.ZIj(f,b,v,p)}x.ZIA(f,m,v);v.push("</svg>");
v=v.join("\n");var s=Z.V(Math.round(v.length*1.5)),K=T.bu(v,s,0);return[s.buffer.slice(0,K),f.WE]};WR.vC.ZIp=function(e,j,g){var P=WR.vC,p=e[2]-e[0],v=e[3]-e[1];
if(P.sE(j)<.5){g.push("<path id=\"Border\" style=\"fill: "+P.c$(j.pn)+"\" d=\""+P.ZIY(e[0],e[1],e[2]-e[0],e[3]-e[1],j.EW)+"\" />")}else if(P.sE(j)<-.4){P.ZIP(j,e,g)}else{var x=P.sE(j)<.5?0:1,A=(x==0?v:p)/4,f=P.yy(j,x,e,g,A,!0),f=P.yy(j,x+2,e,g,A,!0,f)}};
WR.vC.ZIA=function(e,j,g){var P=WR.vC,p="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.".split("-"),v=2*Math.floor(P.sE(e)*p.length/2),x=j[2]-j[0],A=j[3]-j[1],S=0,m=0;
e.Mh=(e.LB+x)*.5*(.04+P.sE(e)*.05);e.Mh=Math.min(e.Mh,A*.4,x*.12);e.Mh=Math.round(e.Mh);var f=Math.min(e.Mh*p[v].length*(.35+.3*P.sE(e)),x*.9),F=(j[1]+j[3])/2,R=Z.CB(e.NS)<.85?{k:1,z:1,e:1}:{k:.1,z:.1,e:.1};
if(P.sE(e)<.25&&e.mU[0]){m=0;S=j[0]+e.EW}else if(P.sE(e)<.33&&e.mU[2]){m=2;S=j[2]-e.EW}else{m=1;S=(j[0]+j[2])/2}var M=R.k==1?"0,0,0":"255,255,255",b=e.NE&&P.sE(e)<1;
if(b){var s=j[0],K=x,X=F-e.Mh*1.1,d=e.Mh*2.2,W=.7;if(m==1&&P.sE(e)<.5){s=X=.2*Math.min(x,A);K=x-2*X;
d=A-X-X}else if(P.sE(e)<.7){s=X=0;K=x;d=A;W=.25}g.push("<path id=\"Strip\" style=\"fill: rgb("+M+"); opacity: "+W+"\" d=\""+P.Rect(s,X,K,d)+"\" />")}if(P.sE(e)<.4){var O=e.Mh*.07;
O*=1.5+P.sE(e)*1;if(m==-1&&x/A<3&&!b){g.push("<path id=\"Bar-bottom\" style=\"fill: "+P.c$(R)+"\" d=\""+P.Rect(S-f/2,F+e.Mh*1.1-O/2,f,O)+"\" />");
g.push("<path id=\"Bar-top\"    style=\"fill: "+P.c$(R)+"\" d=\""+P.Rect(S-f/2,F-e.Mh*1.1-O/2,f,O)+"\" />")}if(m!=1){g.push("<path id=\"Bar\" style=\"fill: "+P.c$(R)+"\" d=\""+P.Rect(S-O/2,F-e.Mh*.8,O,e.Mh*.8*2)+"\" />");
S+=(m==0?1:-1)*e.Mh/3}}var H=e.Mh*.4;g.push(P.mI(p[v+1],S,F+H*1.6,H,R,m,e.Y_));g.push(P.mI(p[v],S,F+e.Mh*.04,e.Mh,R,m,e.Yb))};
WR.vC.ZIj=function(e,j,g,P){var p=j[2]-j[0],v=j[3]-j[1],x=Math.max(p,v),A=Math.min(p,v),f=WR.vC;if(x/A<5&&!e.NE&&!1){f.Me(e,j,g,P)}else if(f.sE(e)<0)g.push("<path style=\"fill: "+f.c$(e.pn)+"\" d=\""+f.Rect(j[0],j[1],p,v)+"\" />");
else{var S=0;if(j[3]!=e.GF)S=0;if(j[2]!=e.LB)S=3;if(j[0]!=0)S=1;if(j[1]!=0)S=2;var F=S+2&3;if(x/A<3){var m=f.ZIX(F),R=m[Math.round(f.sE(e)*(m.length-1))],M=R.Ky.slice(0,4),b=M.indexOf(1);
R=JSON.parse(JSON.stringify(R));var s=-1;if(M!="0000"){var K=new WE;if(R.Ky[5]=="0"){if(b==3&&S==1){s=1;
K.scale(-1,1)}else s=b}else{var X=F;while(X==F)X=Math.floor(f.sE(e)*4)&3;K.rotate((-b+X)*Math.PI/2)}f.K(R,K)}var d=f.XI(R),W=p-2*e.EW,O=v-2*e.EW;
if(s!=-1){if((s&1)==0)O-=e.EW;else W-=e.EW}var H=Math.min(W/d.W,O/d.j),Y=new WE;Y.translate(-d.x,-d.y);
Y.scale(H,H);var y=(p-d.W*H)/2,B=(v-d.j*H)/2;if(s!=-1){if(s==3)y=0;if(s==0)B=0;if(s==1)y=p-d.W*H;if(s==2)B=v-d.j*H}Y.translate(j[0]+y,j[1]+B);
f.yQ(e,R,Y,e.pn,g)}else{f.yy(e,S,j,g,1e9)}}};WR.vC.Me=function(e,j,g,P){var p=j[2]-j[0],v=j[3]-j[1],x=Math.max(p,v),A=Math.min(p,v),f=WR.vC,S=f.ya(e),F,m,R,M=P[0]instanceof ArrayBuffer;
if(M){F="data:image/jpg;base64,"+Wc.jZ(P[0]);m=P[1];R=P[2]}else{var b=Math.floor(S*P.length),s=P[b];
e.WE=s;F=s.webformatURL;m=s.webformatWidth;R=s.webformatHeight}var K=j[0],X=j[1],d=p,W=v;if(p/v>m/R){W=d*R/m;
X=X-(W-v)/2}else{d=W*m/R;K=K-(d-p)/2}if(M){g.push("<defs>");g.push("<image width=\""+m+"\" height=\""+R+"\" id=\"Background\" href=\""+F+"\" />");
g.push("</defs>");var O=d/m;g.push("<use href=\"#Background\" transform=\""+WR.Gc(new WE(O,0,0,O,K,X))+"\" />")}else{var H="cp"+Math.random();
g.push("<clipPath id=\""+H+"\">");g.push("<path style=\"fill: "+f.c$(e.pn)+"\" d=\""+f.Rect(j[0],j[1],p,v)+"\" />");
g.push("</clipPath>");g.push("<image  clip-path=\"url(#"+H+")\" xlink:href=\""+F+"\" x=\""+K+"\" y=\""+X+"\" width=\""+d+"\" height=\""+W+"\" />")}};
WR.vC.mI=function(e,j,g,P,p,v,x){var A=WR.vC;return"<text x=\""+j+"\" y=\""+g+"\" style=\"fill:"+A.c$(p)+"; font-size:"+P+"px; text-anchor:"+["start","middle","end"][v]+"; font-family:"+x[2]+";\"><tspan>"+e+"</tspan></text>"};
WR.vC.yQ=function(e,j,g,P,p){var v=WR.vC,x=[];for(var A=0;A<j.sG.length;A++){x.push(P);if(e.ZHc){P=(A&1)==e.ZsZ?{k:1,z:1,e:1}:x[0]}}p.push("<g id=\""+j.Ky.split("-")[2]+":::\" style=\"transform: "+WR.Gc(g)+";\" >");
for(var A=0;A<j.sG.length;A++){var f=j.sG[A];P=x.pop();p.push("<path style=\"fill: "+(P?v.c$(P):"#"+f[0])+"\" d=\""+Typr.U.pathToSVG({crds:f[1].u,cmds:f[1].L})+"\" />")}p.push("</g>")};
WR.vC.ZIP=function(e,j,g){var P=WR.vC,p=WR.vC.cj,v=[];for(var x=0;x<p.length;x++){var A=p[x],f=A.Ky.slice(0,4);
if(f!="1001")continue;v.push(A)}var A=v[Math.floor(P.sE(e)*v.length)];if(P.sE(e)<.5)P.K(A,new WE(0,1,1,0,0,0));
var S=j[3]-j[1],F=j[2]-j[0],m=P.XI(A),R=.7*Math.min(F,S,.5*Math.max(F,S))/Math.max(m.W,m.j),M=new WE;
M.scale(R,R);if(P.sE(e)<.5){M.scale(1,-1);M.translate(0,S)}P.yQ(e,A,M,e.pn,g);M.rotate(Math.PI);M.translate(F,S);
P.yQ(e,A,M,e.pn,g)};WR.vC.ZIX=function(e){var j=WR.vC.cj,g=[];for(var P=0;P<j.length;P++){var p=j[P],v=p.Ky.slice(0,4);
if(v=="0000"){g.push(p);continue}if(["1000","0100","0010","0001"].indexOf(v)==-1)continue;var x=v.indexOf("1");
if(p.Ky[5]=="0"&&e==x&&x!=3)continue;g.push(p)}return g};WR.vC.yy=function(e,j,g,P,p,v,x){var A=WR.vC.cj,f=WR.vC,S=[],W,O;
for(var F=0;F<A.length;F++){var m=A[F],R=m.Ky.slice(0,4);if(["1110","1101","1011","0111"].indexOf(R)==-1)continue;
var M=R.indexOf("0")+2&3;if(m.Ky[5]=="0")if(v==!0||j!=M&&!(j==1&&M==3))continue;S.push(m)}var b=x!=null?x:Math.floor(f.sE(e)*S.length),m=S[b],m=JSON.parse(JSON.stringify(m)),R=m.Ky.slice(0,4),M=R.indexOf("0")+2&3;
if(M==3&&j==1)Z.K(m,new WE(1,0,0,-1,0,1e3));var s=new WE;s.translate(-500,-500);s.rotate(-M*Math.PI/2);
s.translate(500,500);f.K(m,s);var K=g[3]-g[1],X=g[2]-g[0],d=f.XI(m);if(d.y<0){d.j+=d.y;d.y=0}if(d.y>0){d.j+=d.y;
d.y=0}if((j&1)==0){O=K;W=X}else{W=K;O=X}var H=Math.min(Math.min(.5+.5*f.sE(e))*Math.min(X,K),p)/d.j,Y=Math.ceil(W/(1e3*H)),y=new WE,B=new WE;
B.scale(H,H);if(j==0||j==2){B.translate(-(X/2),-(K/2));B.rotate(-j*Math.PI/2);B.translate(X/2+g[0],K/2+g[1])}else{B.rotate(Math.PI/2);
B.scale(1,-1);B.translate(g[0],g[1]);if(j==1){B.scale(-1,1);B.translate(X,0)}}P.push("<g id=\"Border-"+["top","right","bottom","left"][j]+":::\">");
for(var F=0;F<Y;F++){var c=y.clone();c.concat(B);f.yQ(e,m,c,e.pn,P);y.translate(1e3-2,0)}P.push("</g>");
return b};WR.vC.Rect=function(e,j,g,P){return Typr.U.pathToSVG({crds:[e,j,e+g,j,e+g,j+P,e,j+P],cmds:["M","L","L","L","Z"]})};
WR.vC.ZIY=function(e,j,g,P,p){var v=[e,j,e+g,j,e+g,j+P,e,j+P];e+=p;j+=p;g-=2*p;P-=2*p;v.push(e,j,e,j+P,e+g,j+P,e+g,j);
return Typr.U.pathToSVG({crds:v,cmds:"M L L L Z M L L L Z".split(" ")})};WR.vC.ZIR=function(e,j){var g=Z.vE(e.k,e.z,e.e);
g.Ls=Math.max(.1,Math.min(.9,g.Ls+j));return Z.PW(g.GF,g.nd,g.Ls)};WR.vC.ZHs=function(e,j){var g=Z.vE(e.k,e.z,e.e);
g.GF+=j;return Z.PW(g.GF,g.nd,g.Ls)};WR.vC.ZsW=function(e){var j=Z.vE(e.k,e.z,e.e);j.Ls=1-j.Ls;return Z.PW(j.GF,j.nd,j.Ls)};
WR.vC.ZIk=function(e,j){var g=e.k-j.k,P=e.z-j.z,p=e.e-j.e;return Math.sqrt(g*g+P*P+p*p)};WR.vC.ZIw=function(e){var j=WR.vC;
return{k:j.sE(e),z:j.sE(e),e:j.sE(e)}};WR.vC.c$=function(e){return CSS.Uh({k:e.k*255,z:e.z*255,e:e.e*255})};
WR.vC.XI=function(e){var j=e.sG,g=new G;for(var P=0;P<j.length;P++)g=g.Gd(Z.g.XI(j[P][1].u));return g};
WR.vC.K=function(e,j){var g=e.sG;for(var P=0;P<g.length;P++)Z.g.K(g[P][1].u,j,g[P][1].u)};WR.vC.sE=function(e){e.Ziv++;
var j=e.Ziv&3;if(j==0)e.nM=WR.vC.yo(e.nM);var g=e.nM>>>8*j&255;return g*(.99999999/255)};WR.vC.ya=function(e){var j=WR.vC.yo(e.nM);
e.nM=WR.vC.yo(j);return j*(1/4294967295)};WR.vC.yo=function(e){e=(e^61^e>>>16)>>>0;e=e+(e<<3)>>>0;e=(e^e>>>4)>>>0;
e=e*668265261>>>0;e=(e^e>>>15)>>>0;return e};WR.vC.cj=[{Ky:"0001-0-bird",sG:[["4b3c34",{L:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),u:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{L:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),u:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{L:"M C C C C C C C C C C C C L Z".split(" "),u:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{Ky:"0001-0-bird2",sG:[["ff7f2a",{L:"M L L L Z M L L L Z".split(" "),u:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{L:"M C C C C C C C C C C C L Z".split(" "),u:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{L:"M C C C C C C L Z M C C Z".split(" "),u:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{L:"M L L L Z M L L L Z".split(" "),u:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{L:"M L C C C C C C C C L Z".split(" "),u:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{L:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),u:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{Ky:"0000-1-flower",sG:[["7a59a2",{L:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),u:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{Ky:"0000-1-flower",sG:[["d13777",{L:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),u:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{Ky:"0000-1-flower",sG:[["ffac42",{L:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),u:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{Ky:"0000-1-flower",sG:[["d04040",{L:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),u:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{Ky:"0000-1-flower",sG:[["ec7272",{L:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),u:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{L:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),u:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{Ky:"0000-0-hearts",sG:[["d17070",{L:"M C C C C C C C C C L Z".split(" "),u:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{L:"M C C C C C C C C C L Z".split(" "),u:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{L:"M C C C C C C C C C L Z".split(" "),u:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{Ky:"0000-0-anchor",sG:[["2a3b66",{L:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),u:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{Ky:"0000-1-leaf",sG:[["fbb600",{L:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),u:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{Ky:"0000-1-acorn",sG:[["a05a2c",{L:"M C C C C C C C L Z".split(" "),u:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{L:"M C C C C C C C C C C C Z".split(" "),u:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{Ky:"0000-0-skull",sG:[["808080",{L:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),u:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{Ky:"0000-0-ghost",sG:[["e6e6e6",{L:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),u:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{L:"M C C C C Z M C C C C Z".split(" "),u:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{Ky:"1001-1-rose",sG:[["9e1460",{L:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),u:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{L:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),u:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{Ky:"1001-1-curls",sG:[["53a7ab",{L:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),u:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{L:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),u:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{Ky:"0111-0-pines",sG:[["e9e9e9",{L:"M C C C C C C C C L L L Z".split(" "),u:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{L:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),u:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{Ky:"0111-0-flowers",sG:[["8cae40",{L:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),u:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{L:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),u:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{Ky:"1101-1-confetti",sG:[["e789ff",{L:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),u:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{L:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),u:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{Ky:"1101-1-branch",sG:[["7f500b",{L:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),u:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{L:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),u:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{Ky:"1101-1-sticks",sG:[["ec7272",{L:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),u:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{L:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),u:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{Ky:"1101-1-dots",sG:[["ec7272",{L:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),u:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{L:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),u:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{L:["M","C","C","Z"],u:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{Ky:"1101-1-strips",sG:[["ffc88c",{L:"M L L L L Z M L L L L Z M L L L L Z".split(" "),u:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{L:"M L L L L Z M L L L L Z M L L L L Z".split(" "),u:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{L:["M","C","C","Z"],u:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{Ky:"1101-1-circs",sG:[["ec7272",{L:"M C C C C Z M C C C C Z".split(" "),u:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{L:"M C C C C Z M C C C C Z".split(" "),u:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{L:["M","C","C","Z"],u:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{Ky:"1101-1-squares",sG:[["014ea7",{L:"M L L L L Z M L L L L Z".split(" "),u:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{L:"M L L L L Z M L L L L Z".split(" "),u:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{L:["M","C","C","Z"],u:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{Ky:"1101-0-christmas",sG:[["014ea7",{L:"M C C C C Z M C C C C Z M L L L L Z".split(" "),u:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{L:"M C C C C Z M C C C C Z M L L L L Z".split(" "),u:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var Uo={};Uo.parse=function(e){var j=new Uint8Array(e),g=null;if(j[0]==80&&j[1]==75){var P=Date.now(),p=UZIP.parse(j.buffer),g=p["document.json"];
g=JSON.parse(T.vG(g,0,g.length));Uo.yT(g,p)}else{var v=vr.parse(e);g=Uo.ZZP(v[2][0][1])}return g};Uo.yT=function(e,j){var g=typeof e;
if(g=="string"||g=="number"||g=="boolean")return e;if(e instanceof Array){for(var P=0;P<e.length;P++)e[P]=Uo.yT(e[P],j);
return e}var p=e._class;if(p==null)return e;if(p=="MSJSONFileReference"){var v=e._ref;if(!1){}else if(j[v+".json"]!=null){var x=j[v+".json"],A=x.length;
for(var P=0;P<A;P++)if(x[P]==11||x[P]==3)x[P]=32;var f=T.vG(x,0,A);e=JSON.parse(f)}else if(j[v+".png"]!=null)return{key:v.split("/").pop(),bdata:j[v+".png"]};
else if(j[v+".jpg"]!=null)return{key:v.split("/").pop(),bdata:j[v+".jpg"]};else if(j[v+".pdf"]!=null)return{key:v.split("/").pop(),bdata:j[v+".pdf"]};
else if(j[v]!=null)return{key:v.split("/").pop(),bdata:j[v]};else{console.log(e,j);return}}else if(p=="MSAttributedString"){var f=atob(e.archivedAttributedString._archive),S=f.length-1,F=new Uint8Array(S);
for(var P=0;P<S;P++)F[P]=f.charCodeAt(P);e.archivedAttributedString=Uo.ZZP(F)}for(var m in e)e[m]=Uo.yT(e[m],j);
return e};Uo.Zft=function(e,j,g,P){if(e instanceof Uint8Array)return null;if(P.indexOf(e)!=-1)return null;
P.push(e);if(e==j)return g;for(var p in e){g.push(p);var v=Uo.Zft(e[p],j,g,P);if(v){console.log(e,v);
throw"e"}g.pop()}};Uo.ZZP=function(e){var j=eY.parse(e,0),g=j.$objects,P=new Uint8Array(g.length),p=Uo.zK(g,P,j.$top.root);
for(var v=0;v<g.length;v++)if(P[v]==0&&v!=0){console.log(v,g[v]);Uo.Zft(p,v,[],[])}for(var v=0;v<g.length;
v++){var x=g[v];if(x._class&&(x._class=="bitmap"||x._class=="fill"&&x.fillType==4&&(x.image||x.imageSHA))){var A=x.image,f=x.imageSHA,S=null,F=null;
if(A=="$null")A=null;if(f=="$null")f=null;if(A&&A.data){F=A.sha1["NS.bytes"];F=btoa(T.ko(F,0,F.length));
S=A.data instanceof Uint8Array?A.data:A.data["NS.bytes"]}else if(A==null&&f==null){var m=Wg.PNG.si([[Z.V(4).buffer]],1,1);
S=new Uint8Array(m)}else{var R=(p.assets?p.assets.imageCollection:p.images).images;if(f)F=f instanceof Uint8Array?f:f["NS.bytes"];
else F=A.sha1["NS.bytes"];F=btoa(T.ko(F,0,F.length));var S=R[F].data;if(S["NS.bytes"])S=S["NS.bytes"]}S=new Uint8Array(S.buffer.slice(S.byteOffset,S.byteOffset+S.length));
delete x.imageSHA;x.image={key:F,bdata:S}}}return p};Uo.ZHO=function(e){return e.slice(0,11)=="MSImmutable"?"MS"+e.slice(11):e};
Uo.zK=function(e,j,g){var P=e[g];if(j[g]==1){return P}j[g]=1;if(typeof P=="string")return P;if(typeof P=="number")return P;
if(typeof P=="boolean")return P;if(P instanceof Array)return P;if(P instanceof Uint8Array){return P}if(e[P.$class]==null){if(P.$class==null&&P["NS.data"]!=null)return P;
console.log(g,P);throw"e"}var p=e[P.$class],v=Uo.ZHO(p.$classname);j[P.$class]=1;P.$class=v;if(Uo.Zgl[v]){delete P.$class;
P._class=Uo.Zgl[v]}var x=Uo.zK;if(v=="NSMutableArray"||v=="NSArray"){var A=[];if(P["NS.objects"]!=null)for(var f=0;
f<P["NS.objects"].length;f++)A.push(x(e,j,P["NS.objects"][f]));else for(var f=0;P["NS.object."+f]!=null;
f++)A.push(x(e,j,P["NS.object."+f]));e[g]=A;return A}if(v=="NSDictionary"||v=="NSMutableDictionary"){var S={$class:v};
if(P["NS.keys"]!=null)for(var f=0;f<P["NS.keys"].length;f++){var F=x(e,j,P["NS.keys"][f]);if(F instanceof Uint8Array)F=btoa(Uo.E$.ko(F,0,F.length));
else if(typeof F!="string"&&typeof F!="number")F=btoa(Uo.E$.ko(F["NS.bytes"],0,F["NS.bytes"].length));
S[F]=x(e,j,P["NS.objects"][f])}else for(var f=0;P["NS.key."+f]!=null;f++){var F=x(e,j,P["NS.key."+f]);
if(F instanceof Uint8Array)F=btoa(Uo.E$.ko(F,0,F.length));else if(typeof F!="string"&&typeof F!="number")F=btoa(Uo.E$.ko(F["NS.bytes"],0,F["NS.bytes"].length));
S[F]=x(e,j,P["NS.object."+f])}for(var m in P)delete P[m];for(var m in S)P[m]=S[m];return P}if(v=="NSURL")return{$class:v,base:x(e,j,P["NS.base"]),relative:x(e,j,P["NS.relative"])};
if(Uo.ZHp.indexOf(v)!=-1){e[g]=x(e,j,P.array_do);return e[g]}if(P.do_objectID!=null)P.do_objectID=x(e,j,P.do_objectID);
if(Uo.ZHj.indexOf(v)!=-1)return P;var R=Uo.ZHk[v];if(R==null){console.log(e,P);throw"unknown class "+v}for(var f=0;
f<R.length;f++)if(P[R[f]]!=null)P[R[f]]=x(e,j,P[R[f]]);if(v=="MSTextLayer"){var M=P,b,s,K,X;if(M.attributedString)b=M.attributedString.archivedAttributedString;
else b=M.storage;X=b.NSString;if(typeof X!="string")X=T.vG(X["NS.bytes"],0,X["NS.bytes"].length);if(b.NSAttributeInfo)s=b.NSAttributeInfo["NS.bytes"];
else{var d=X.length,W=[];while(d>0){var O=Math.min(100,d);W.push(O,0);d-=O}s=new Uint8Array(W)}K=b.NSAttributes instanceof Array?b.NSAttributes:[b.NSAttributes];
var H={$class:"NSAttributedString",NSString:X,NSAttributes:K};M.attributedString={_class:"MSAttributedString",archivedAttributedString:H};
H.NSAttributeInfo={$class:"NSMutableData","NS.data":s};delete M.storage}return P};Uo.E$={JO:function(e,j){return e[j+1]<<8|e[j]},o:function(e,j){return e[j+3]<<24|e[j+2]<<16|e[j+1]<<8|e[j]},ko:function(e,j,g){var P="";
for(var p=0;p<g;p++)P+=String.fromCharCode(e[j+p]);return P}};Uo.Zgl={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
Uo.ZHp=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
Uo.ZHj="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
Uo.ZHk={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var eY={};eY.parse=function(e,j){var g=T.ko(e,j,8);j+=8;var P=eY.parse.Zsr(e,e.length-31),p=[];if(P.RJ==1){var j=e.length-31-P.RJ*P.Rd;
for(var v=0;v<P.Rd;v++)p.push(e[j+v])}else if(P.RJ==2){var j=e.length-31-P.RJ*P.Rd;for(var v=0;v<P.Rd;
v++)p.push(T.JO(e,j+v*2))}else if(P.RJ==4){var j=e.length-31-P.RJ*P.Rd;for(var v=0;v<P.Rd;v++)p.push(T.o(e,j+v*4))}else{throw"e"}var x=eY.parse.zK(e,p,P.root,P);
return x};eY.parse.zK=function(e,j,g,P){var p=eY.E$,v=P.Zsf,x=v==4?p.o:v==2?p.JO:p.ZsJ,A=eY.parse,f=j[g],S=e[f],F=S>>4,m=S&15,M=null;
f+=1;if([4,5,6,10,12,13].indexOf(F)!=-1&&m==15){var R=A.UZ(e,f);f+=R.TO;m=R.r}if(!1){}else if(F==0)M=m==8?!1:m==9?!0:null;
else if(F==1)M=A.UZ(e,f-1).r;else if(F==2)M=1<<m==4?T.QQ(e,f):T.aA(e,f);else if(F==3)M=T.aA(e,f);else if(F==4)M=new Uint8Array(e.buffer,f,m);
else if(F==5)M=T.ko(e,f,m);else if(F==6)M=T.Bi(e,f,m);else if(F==8){M=0;for(var b=0;b<m+1;b++)M=M<<8|e[f+b]}else if(F==10){M=[];
for(var b=0;b<m;b++)M.push(A.zK(e,j,x(e,f+v*b),P))}else if(F==12){M=[];for(var b=0;b<m;b++)M.push(A.zK(e,j,x(e,f+v*b),P))}else if(F==13){M={};
for(var b=0;b<m;b++){var s=A.zK(e,j,x(e,f+v*b),P),K=A.zK(e,j,x(e,f+v*(m+b)),P);M[s]=K}}else throw"unknown mask "+F;
return M};eY.parse.UZ=function(e,j){var g=1<<(e[j]&15),P=0;for(var p=0;p<g;p++)P=P<<8|e[j+1+p];return{r:P,TO:g+1}};
eY.parse.Zsr=function(e,j){var g={};j+=6;g.RJ=e[j];j++;g.Zsf=e[j];j++;j+=4;g.Rd=T.o(e,j);j+=4;j+=4;g.root=T.o(e,j);
j+=4;j+=4;g.ZVG=T.o(e,j);j+=4;return g};eY.E$={ZsJ:function(e,j){return e[j]},JO:function(e,j){return e[j]<<8|e[j+1]},o:function(e,j){return e[j]<<24|e[j+1]<<16|e[j+2]<<8|e[j+3]},ko:function(e,j,g){var P="";
for(var p=0;p<g;p++)P+=String.fromCharCode(e[j+p]);return P}};var vr={parse:function(e){var j=new Uint8Array(e),g=vr.BV(j),P=[],p=new Uint8Array(j.length),v=[];
P.push(v);vr.yE(j,g,1,p,v);for(var x=0;x<v.length;x++){var A=[];P.push(A);vr.yE(j,g,v[x][3],p,A);v[x][3]=x+1}return P},yE:function(e,j,g,P,p){g--;
var v=g*j.Vh+(g==0?100:0),x=e[v],A=vr.JO(e,v+1);if(A!=0)throw"free block in a page";var f=vr.JO(e,v+3),S=vr.JO(e,v+5);
if(S==0)S=65536;var F=e[v+7],m=vr.JO(e,v+8);if(x==2||x==5)v+=4;else m=0;for(var R=0;R<f;R++){var M=g*j.Vh+vr.JO(e,v+8+2*R),b=-1,s=0,K=0,X=0;
if(x==2||x==5){b=vr.o(e,M);M+=4}if(x==2||x==10||x==13){s=vr.AF(e,M);M+=s.TO}if(x==5||x==13){K=vr.AF(e,M);
M+=K.TO}if(x==5){vr.yE(e,j,b,P,p);continue}var d=j.Vh-(g==0?100:0),W=s.Sq,O=x==13?d-35:Math.floor((d-12)*64/255)-23,H=Math.floor((d-12)*32/255)-23,Y=H+(W-H)%(d-4);
if(W<=O){vr.Ue(e,M,P,0,W)}else{var y=Y<=O?Y:H,B=0;vr.Ue(e,M,P,0,y);B+=y;X=vr.o(e,M+y);while(X!=0){var c=(X-1)*j.Vh;
X=vr.o(e,c);var $=Math.min(j.Vh-4,W-B);vr.Ue(e,c+4,P,B,$);B+=$}}p.push(vr.Zsu(P,W))}},Zsu:function(e,j){var g=0,P=vr.AF(e,g);
g+=P.TO;var p=[],v=[];while(g<P.Sq){var x=vr.AF(e,g);g+=x.TO;p.push(x.Sq)}if(g!=P.Sq)throw"e";for(var A=0;
A<p.length;A++){var x=p[A];if(!1){}else if(x==0)v.push(null);else if(x==1){v.push(vr.ZsK(e,g));g+=1}else if(x==2){v.push(vr.Fm(e,g));
g+=2}else if(x==3){v.push(vr.ZsS(e,g));g+=3}else if(x==4){v.push(vr.UZ(e,g));g+=4}else if(x==7){v.push(vr.ZsX(e,g));
g+=16}else if(x==8)v.push(0);else if(x==9)v.push(1);else if(x>=12&&(x&1)==0){var f=x-13>>1,S=new Uint8Array(f);
vr.Ue(e,g,S,0,f);v.push(S);g+=f}else if(x>=13&&(x&1)==1){var f=x-12>>1;v.push(vr.vG(e,g,f));g+=f}else throw"unknonw type "+x}return v},BV:function(e){if(!(e[18]==1&&e[19]==1&&e[20]==0&&e[21]==64&&e[22]==32&&e[23]==32))throw"unexpected SQL3 header";
var j={YQ:vr.ko(e,0,15),Vh:vr.JO(e,16),ZVI:vr.o(e,24),size:vr.o(e,28),ZVH:vr.o(e,32),ZVs:vr.o(e,36),ZVK:vr.o(e,40),ZV$:vr.o(e,44),ZVO:vr.o(e,48),ZVp:vr.o(e,52),ZNa:vr.o(e,56),ZVj:vr.o(e,60),ZVP:vr.o(e,64)!=0,ZVX:vr.o(e,68),ZVY:vr.o(e,92),ZVR:vr.o(e,96)};
if(j.Vh==1)j.Vh=65536;if(j.ZNa!=1)throw"unsupported text encoding "+j.ZNa;return j},Zsd:function(e,j){return e[j]<<16|e[j+1]<<8|e[j+2]},ZsS:function(e,j){var g=vr.Zsd(e,j),P=g&8388608;
return P?-(16777215-g+1):g},ZsK:function(e,j){vr.z$[0]=e[j];return vr.Zsk[0]},UZ:function(e,j){var g=vr.z$;
for(var P=0;P<4;P++)g[P]=e[j+3-P];return vr.Zso[0]},Fm:function(e,j){var g=vr.z$;g[0]=e[j+1];g[1]=e[j];
return vr.ZsF[0]},JO:function(e,j){return e[j]<<8|e[j+1]},o:function(e,j){return e[j]<<24|e[j+1]<<16|e[j+2]<<8|e[j+3]},ZsX:function(e,j){var g=vr.z$;
for(var P=0;P<8;P++)g[P]=e[j+7-P];return vr.ZKf[0]},AF:function(e,j){var g=j,P=0;while(!0){var p=e[j];
j++;P=P*128+(p&127);if(p<128)break}return{Sq:P,TO:j-g}},ko:function(e,j,g){var P="";for(var p=0;p<g;
p++)P+=String.fromCharCode(e[j+p]);return P},vG:function(e,j,g){var P="";for(var p=0;p<g;p++)P+="%"+vr.ZsR(e[j+p].toString(16));
return decodeURIComponent(P)},Ue:function(e,j,g,P,p){if(e[j+p-1]==null||g[P+p-1]==null){console.log(j,P,p);
throw"e"}for(var v=0;v<p;v++)g[P+v]=e[j+v]},ZsR:function(e){return e.length<2?"0"+e:e}};vr.z$=new Uint8Array(8);
vr.Zsk=new Int8Array(vr.z$.buffer);vr.ZsF=new Int16Array(vr.z$.buffer);vr.Zso=new Int32Array(vr.z$.buffer);
vr.ZKf=new Float64Array(vr.z$.buffer);function vJ(e,j,g){this.Lg=e;this.K$=j;this.Zsx=g;this.Vw=new Uc(0,0);
this.$C=-1;this.$N=0;this.mV=0;this.NI=new G;this.NK=[];this.Rr=null;this.ZNt=null;this.RZ=null;this.RN=null;
this.mC=null;this.ZNX=null}vJ.prototype.StartPage=function(e,j,g,P){var p=this.K$,v=p.em(),x=1;while((g-e)*(P-j)*v*v/(x*x)>8e3*8e3)x++;
p.scale(1/x,1/x);this.ZNt=[e,j,g,P];var x=p.em();e=Math.round(e*x);j=Math.round(j*x);g=Math.round(g*x);
P=Math.round(P*x);var A=this.Lg,f=this.RZ;if(f==null){p.vR=-e}else{var S=f[2]-f[0]+30,F=Math.round(g-e)+30;
if(this.Vw.x+S+F>8192){p.vR=-e;this.Vw.x=0;this.Vw.y+=this.mV+120;this.mV=0}else{p.vR+=S;this.Vw.x+=S}}p.LV=this.Vw.y+(this.Zsx?P:-j);
this.mV=Math.max(this.mV,Math.round(P-j));this.RZ=[e,j,g,P];A.T.push(A.Rt())};vJ.prototype.Zfq=function(){var e=this.Lg,j=e.T[e.T.length-1];
return j};vJ.prototype.ZfD=function(){var e=JSON.parse(JSON.stringify(Wr.hg.default));e.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
e.strokeEnabled.v=!1;e.fillEnabled.v=!1;return e};vJ.prototype.ZxR=function(){var e=this.Lg,j=e.Rz();
j.tG("Path "+e.T.length);this.Lg.T.push(j);j.Oz|=16;j.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.c.Op({k:0,z:0,e:0})}};
j.add.vmsk=new u.nt;j.add.vstk=this.ZfD();return j};vJ.prototype.yS=function(e){var j={u:e.crds,L:e.cmds},g=Z.g.br(j,!1);
Z.f.Ly(g,this.K$);return g};vJ.ZZk=function(e,j){for(var g=0;g<e.length;g++)if(e[g].WF!=null)e[g].WF=j};
vJ.ZKW=function(e){return Math.sqrt(Math.abs(e[0]*e[3]-e[1]*e[2]))};vJ.Ep=function(e){return Z.c.Op({k:e[0]*255,z:e[1]*255,e:e[2]*255})};
vJ.Ah=function(e){return new WE(e[0],e[1],e[2],e[3],e[4],e[5])};vJ.prototype.Stroke=function(e){if(this.$C!=-1&&this.$C!=this.$N)return;
if(e.pth.cmds.length<=1)return;var j=this.yS(e.pth);if(j.length<=2)return;this.AM(e);vJ.ZZk(j,-1);j[2].WF=1;
var g=vJ.Ep(e.COLR),P=this.Zfq(),p=this.ZfD();p.strokeEnabled.v=!0;p.strokeStyleMiterLimit.v=e.mlimit;
p.strokeStyleLineDashSet.v=Wi.ha(e.dash,1/e.lwidth);p.strokeStyleLineDashOffset.v.val=e.doff;p.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wr.hg.join[e.ljoin];
p.strokeStyleLineCapType.v.strokeStyleLineCapType=Wr.hg.SH[e.lcap];p.strokeStyleLineWidth.v.val=Math.max(.4,e.lwidth*vJ.ZKW(e.ctm)*this.K$.em());
p.strokeStyleContent.v.Clr.v=g;var v=P!=null&&P.add.vmsk!=null&&!P.CQ(),x=v&&!P.add.vstk.strokeEnabled.v&&u.nt.ZBh(P.add.vmsk.F,j,!0),A=v&&!P.add.vstk.fillEnabled.v&&JSON.stringify(p)==JSON.stringify(P.add.vstk);
if(A){vJ.ZZk(j,-1);P.add.vmsk.F=P.add.vmsk.F.concat(j.slice(2))}else if(x){P.add.vstk=p;p.fillEnabled.v=!0}else{P=this.ZxR();
P.add.vmsk.F=j;P.add.vstk=p}};vJ.prototype.Fill=function(e,j){if(this.$C!=-1&&this.$C!=this.$N)return;
if(e.ca==0)return;var g=e.pth.cmds;if(g.length==0)return;if(g.length==2&&JSON.stringify(g)=="[\"M\",\"L\"]")return;
var P=Z.g.XI(e.cpth.crds),p=Z.g.XI(e.pth.crds);if(p.zx(P).tE())return;var v=e.pth;if(this.RN==null&&UDOC.G.isBox(v,[p.x,p.y,p.x+p.W,p.y+p.j])&&p.pY(P)){v=e.cpth}else this.AM(e);
var x=this.yS(v),A=Z.g.B$(p);Z.g.K(A.u,this.K$,A.u);p=Z.g.XI(A.u);var f=vJ.ZfF(e.colr,this.K$,p),S=this.Zfq(),F=S!=null&&S.add.vstk!=null&&!S.add.vstk.strokeEnabled.v&&S.add.SoCo&&f.type=="SoFi"&&JSON.stringify(S.add.SoCo.Clr.v)==JSON.stringify(f.r.v.Clr.v);
if(F){var m=!1;for(var R=0;R<x.length;R++){if(x[R].WF==0||x[R].WF==2)m=!0}if(m){var M=Z.g.XI(Z.f.Mq(S.add.vmsk.F)),b=Z.g.XI(Z.f.Mq(x));
F=M.zx(b).tE()}}if(F){var s=S.add.vmsk.F;for(var R=2;R<x.length;R++)s.push(x[R])}else{S=this.ZxR();delete S.add.SoCo;
S.add.vmsk.F=u.nt.xm(x);vJ.Wp(e.colr,S,this.K$,p);vJ.Zfk(e,S)}};vJ.Wp=function(e,j,g,P){var p=vJ.ZfF(e,g,P),v=null,x=null;
j.add.vstk.fillEnabled.v=!0;if(p.type=="SoFi"){v="SoCo";x=Wr.VP}if(p.type=="GrFl"){v="GdFl";x=Wr.PV}if(p.type=="patternFill"){v="PtFl";
x=Wr.PM}if(v!=null){j.add[v]={classID:"null"};for(var A=0;A<x.length;A++){var f=x[A];j.add[v][f]=p.r.v[f]}}};
vJ.prototype.AM=function(e){var j=this.Lg,g=e.cpth,P=g.cmds.join(""),p=g.crds,v=P+" "+p.join(","),x=UDOC.G.isBox(g,this.ZNt);
if(x&&this.RN==null)return;if(v==this.RN)return;this.ZfZ();if(!x){this.RN=v;j.T.push(j.Rt());var A=j.Rz();
A.tG("Mask");A.add.lsct=vC.TC;A.T$="pass";A.Oz=24;var f=A.add.vmsk=new u.nt;f.F=this.yS(e.cpth);if(UDOC.G.isBox(g)){this.mC=Z.f.Gx(f.F);
this.mC.F_(3,3)}else this.mC=null;this.ZNX=A}};vJ.prototype.ZfZ=function(){var e=this.Lg;if(this.RN!=null){var j=e.T.length-1,g=j,P=!1;
while(g>=0&&e.T[g].add.lsct!=vC.EN)g--;var p=this.mC;if(p){var v=new G,x=j;while(x>g){v=e.T[x].Eu(this.Lg,!1,!0);
x--}P=p.pY(v)}if(P){this.NK.splice(g,1);e.T.splice(g,1)}else{e.T.push(this.ZNX)}this.RN=null}};vJ.ZfF=function(e,j,g){var P,p;
if(e.length!=null){P="SoFi";var v=JSON.parse(Wr.ea[Wr.order.indexOf("SoFi")]);p={t:"Objc",v:v};p.v.Clr.v=vJ.Ep(e)}else{var x=vJ.ZKP(e,j,g);
P="GrFl";p={t:"Objc",v:x}}return{type:P,r:p}};vJ.ZKP=function(e,j,g){var P=JSON.parse(Wr.ea[Wr.order.indexOf("GrFl")]),p=P.Grad.v;
p.Intr.v=0;var v=vJ.Ah(e.mat);v.concat(j);var x=new Uc(0,0),A=new Uc(g.W,0),f=e.crds;if(e.typ=="rad"){P.Type.v.GrdT="Rdl";
var S=.7;x.x=(1-S)*f[0]+S*f[3];x.y=(1-S)*f[1]+S*f[4];A.x=x.x;A.y=x.y;A.x+=Math.max(f[2],f[5])}else{P.Type.v.GrdT="Lnr";
x.x=f[0];x.y=f[1];A.x=f[2];A.y=f[3];x.x=A.x+.5*(x.x-A.x);x.y=A.y+.5*(x.y-A.y)}x=v.vy(x);A=v.vy(A);Z.c.KL(x,A,g,P);
var F=e.grad;Z.c.fU(F,p);return P};vJ.prototype.PutText=function(e,j,g,P){var p=j.charCodeAt(0),R=null;
if(this.$C!=-1&&this.$C!=this.$N)return;if(j.length==0||j.length==1&&(p==0||p==8203))return;this.AM(e);
var v=this.Lg,x=e.font,A=vJ.Ah(e.ctm);A.concat(this.K$);var f=vJ.Ah(x.Tm);f.concat(A);var S=o.t.em(f),F=new WE(1/S,0,0,-1/S,0,0);
F.concat(f);var m=x.Tfs*S;if(x.Th!=100||x.Trise!=0){console.log(x)}var M=v.T.length-1;while(M>=0&&v.T[M].add.TySh==null)M--;
if(P==null&&M>=0&&v.T[M].add.TySh){var b=v.T[M],s=this.NK[M],K=b.add.TySh.K,X=(K.vR+s.Nm-F.vR)/m,d=Math.abs(X),W=j.indexOf(" ")==-1,O=K.Fl==F.Fl&&K.e==F.e&&K.Ug==F.Ug&&K.LC==F.LC,H=O&&Math.abs(s.NQ-F.LV)<1e-5&&d<.6,Y=F.LV-s.NQ;
if(H){R=b;s.Nm=F.vR-K.vR;if(X>.2&&W&&[".",",","?",":","!"].indexOf(j)==-1)j=" "+j}else if(O&&Math.abs(F.vR-K.vR)<1e-5&&0<Y&&Y<m*1.7&&s.Zqv==m){R=b;
this.ZuS(s);s.NQ=F.LV;j="\n"+j}}if(R==null){M=v.T.length;this.NK[M]={pD:[],Nm:0,NQ:F.LV,Rf:"",Zqv:m};
R=v.Rz();v.T.push(R);R.add.lnsr="rend";R.add.TySh=Wf.Ik(0,0);R.add.TySh.K=F}var s=this.NK[M];s.Nm+=g*m;
s.Rf+=j;var y=R.add.TySh.xe,B=Wf.UW(y);if(P){Wf.oc(y,1);var c=[0,0,Math.ceil(P[0]*S),Math.ceil(P[1]*S)];
Wf.kJ(y,c)}var $=B.length-1,I=$+j.length;Wf.hX(y,$,j);if(this.Rr==null)this.Rr=Wf.vD(y,$,$);var r=this.Rr;
r.kw.FontSize=Math.round(m);r.kw.Tracking=Math.round(x.Tc*100);r.kw.Underline=x.Tun==1;r.kw.FillColor={Type:1,Values:[1,e.colr[0],e.colr[1],e.colr[2]]};
if(x.Tal!=null)r.eJ.Justification=x.Tal;if(s.pD.length!=0){r.kw.AutoLeading=!1;r.kw.Leading=s.NQ-s.pD[s.pD.length-1].y}var i=x.Tf;
i=i.replace(/#2B/g,"+");i=i.replace(/#2C/g,"-");i=i.split("+").pop();var U={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(U[i])i=U[i];Wf.JJ(r,i);Wf.MM(y,$,I-1,r);R.qv()};vJ.prototype.ZuS=function(e){e.pD.push({LB:e.Nm,kC:e.Rf.slice(e.pD.length==0?0:1)+"\n",y:e.NQ,nd:e.Zqv});
e.Nm=0;e.Rf=""};vJ.prototype.PutImage=function(e,j,g,P,p,v,x){if(this.$C!=-1&&this.$C!=this.$N)return;
var A=this.Lg,f=e.font.Tmode;if(f==7&&A.T[A.T.length-1].add.TySh){return}this.AM(e);var S=vJ.Ah(e.ctm);
S.concat(this.K$);var F=new WE(1/g,0,0,-1/P,0,1);F.concat(S);S=F;j=vJ.ZVg(j,g,P);if(p)p=vJ.ZVg(p,g,P);
if(p==null){if(j.length==g*P*4)j=new Uint8Array(Wg.PNG.si([[j.buffer,0]],g,P))}else{j=this.ZZO(j,g,P,v,!1);
p=this.ZZO(p,g,P,x,!0);var m=Z.V(g*P);Z.bF(p,m,0);Z.sH(m,j,3);j=new Uint8Array(Wg.PNG.si([[j.buffer,0]],g,P))}var R=A.UF(j,"Bitmap",0,0),M=R.rect.clone();
M.x=M.y=0;var b=Z.g.B$(M).u;Z.g.K(b,S,b);R.add.SoLd.Trnf=o.t.Pn(b);R.add.SoLd.nonAffineTransform=o.t.Pn(b);
R.yM(A,!1);vJ.Zfk(e,R);A.T.push(R)};vJ.Zfk=function(e,j){j.opacity=Math.round(255*e.ca);var g=vJ.yI[e.bmode];
if(g==null)console.log("Unknown blend mode",g);else j.T$=g};vJ.yI={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
vJ.ZVg=function(e,j,g){var P=Wg.uK(e.buffer);if(P=="jpg"){try{e=new Uint8Array(Wg.JPG.ZeF(e.buffer))}catch(Z){e=new Uint8Array(j*g*4)}}else if(e.length!=j*g*4){var p=new Uint8Array(j*g*4),v=new Uint8Array(Math.ceil(j*g/8));
UTIF.decode._decodeG4(e,0,e.length,v,0,j,1);for(var x=0;x<j*g;x++){var A=x*4,f=(v[x>>3]>>7-(x&7)&1)*255;
p[A]=f;p[A+1]=f;p[A+2]=f;p[A+3]=255}e=p}return e};vJ.prototype.ZZO=function(e,j,g,P,p){if(e.length!=j*g*4){var v=Wg.uK(e.buffer),x=Wg.Hr(v);
if(x==null||v=="tga")x=Wg.Hr("jpg");e=new Uint8Array(x.vn(e,P,p)[0].data)}return e};vJ.prototype.ShowPage=function(){var e=this.Lg;
this.$N++;var j=this.RZ;this.ZfZ();var g=e.Rz();e.T.push(g);var P=new G(Math.round(this.Vw.x),Math.round(this.Vw.y),Math.round(j[2]-j[0]),Math.round(j[3]-j[1]));
this.NI=this.NI.Gd(P);g.fl(P);g.tG("Page "+this.$N);g.add.lsct=vC.TC;g.T$="pass";g.Oz=24};vJ.prototype.Print=function(e){console.log("Print:",e)};
vJ.prototype.Done=function(){var e=this.Lg;if(this.$N==1)e.T[e.T.length-1].add.lsct=vC.x_;e.gU(this.$N);
for(var j=0;j<e.T.length;j++){var g=e.T[j],P=g.add.vmsk,p=g.add.TySh,v=this.NK[j];g.Vd();g.d$(e);if(p&&v.pD.length!=0){this.ZuS(v);
var x=p.xe,A=v.pD.length,f=v.pD[0],S=0,m=0;for(var F=0;F<A;F++)S=Math.max(S,v.pD[F].LB);Wf.oc(x,1);p.K.LV-=f.nd*.7;
Wf.kJ(x,[0,0,Math.ceil(S*1.1),Math.ceil(v.pD[A-1].y-f.y+f.nd*2)])}if(p){var x=p.xe;Wf.ZLe(x);var R=Wf.UW(x).split("\n");
for(var F=0;F<R.length-1;F++){var M=R[F],b=0;for(var s=0;s<M.length;s++){var K=M.charCodeAt(s);if(1473<=K&&K<=1524)b++}if(b>M.length/2){R[F]=M.split("").reverse().join("");
var X=x.EngineDict.ParagraphRun.RunArray[F].ParagraphSheet.Properties;X._Direction=1;X.Justification=Wf.gp(X)}}Wf.zu(x,R.join("\n"))}}e.Vo=!0;
e.W=this.NI.W;e.j=this.NI.j;e.buffer=Z.V(this.NI.h()*4)};var UO={};UO.Be=function(e,j,g,P){var p=!1,v=[e.root],x=e.root.children;
if(e.add.artd){p=!0;for(var A=0;A<x.length;A++)if(x[A].$.add.artb==null)p=!1;if(p)v=x}var f=new G(0,0,e.W,e.j),S=j[0];
S=S.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();S=S.split(" ");var F=[];for(var A=0;
A<S.length;A++){var m=S[A];if(m=="-"){var R=F.pop(),M=parseInt(S[A+1]);while(R<M){F.push(R);R++}}else F.push(parseInt(m))}S=F;
for(var A=0;A<S.length;A++)if(isNaN(S[A])||S[A]<1||S[A]>v.length){S.splice(A,1);A--}var b=72/e.aY;for(var A=0;
A<v.length;A++){if(S.length!=0&&S.indexOf(A+1)==-1)continue;var s=v[A],K=p?s.$.EX():f,X=Math.round(K.W*b),d=Math.round(K.j*b);
g.StartPage(0,0,X,d);var W=UDOC.getState([[0,0,X,d]]),O=new WE;O.translate(-K.x,-K.y-K.j);O.scale(b,-b);
if(j[2]){var H=e.Gj();if(!f.iJ(K)){H=Z.V(K.h()*4);Z.Vy(e.Gj(),f,H,K)}if(j[1]!=100){var Y=Wg.JPG.si([[H.buffer]],K.W,K.j,[j[1]]);
H=new Uint8Array(Y)}var y=new WE;y.translate(K.x,K.y);UO.ZxP(W,g,H,K,y,O)}else UO.ZfS(e,s,W,g,O,j,P);
g.ShowPage()}g.Done()};UO.kc=function(e){e=Z.c.W_(e);return[e.k/255,e.z/255,e.e/255]};UO.ZfS=function(e,j,g,P,p,v,x){var A=j.$,f=A.add.lsct,S=A.add.lmfx,F=A.add.vmsk,m=A.add.vstk,R=A.add.TySh;
if(!A.Je())return;var M=A.opacity/255,b=A.add.iOpa?A.add.iOpa/255:1;for(var s in vJ.yI)if(vJ.yI[s]==A.T$)g.bmode=s;
g.ca=g.CA=M*b;var K=S;if(K)K=K.solidFillMulti.v[0];if(K)K=K.v;if(K&&!K.enab.v)K=null;if(A.CQ()){for(var X=0;
X<j.children.length;X++)UO.ZfS(e,j.children[X],g,P,p,v,x)}else if(F){var d=F.F,W=Z.f.Gx(d),O=Z.g.bg(d),H=!1,Y=!1,y=!1;
Z.g.K(O.u,p,O.u);g.pth={cmds:O.L,crds:O.u};if(m.fillEnabled.v){var B=Wi.qw(S,A.add),c=B[0],$=B[1];if(c){g.colr=UO.kc(c.Clr.v)}else if($){var I=$,r=[],i,U=I.Type.v.GrdT=="Rdl"?"rad":"lin",N=Z.c.C_(I,W),C=p.vy(N[0]),D=p.vy(N[1]);
if(U=="rad")i=[C.x,C.y,0,C.x,C.y,Uc.zG(C,D)];else{C.Ve(D.x+(C.x-D.x)*2,D.y+(C.y-D.y)*2);i=[C.x,C.y,D.x,D.y]}var n=I.Grad.v.Clrs.v;
for(var X=0;X<n.length;X++){var w=n[X].v;r.push([w.Lctn.v/4096,UO.kc(w.Clr.v)])}g.colr={typ:U,mat:[1,0,0,1,0,0],grad:r,crds:i}}H=!0}var k=Wi.LU(S);
if(!m.strokeEnabled.v&&k)m=k;if(m.strokeEnabled.v){var h=m.strokeStyleContent.v,t=m.strokeStyleLineDashSet.v,a=Wr.hg.IS.indexOf(m.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(h.Clr==null)return;var _=Z.c.W_(h.Clr.v);g.COLR=[_.k/255,_.z/255,_.e/255];g.lwidth=m.strokeStyleLineWidth.v.val*(a==2?2:1)*p.em();
g.mlimit=m.strokeStyleMiterLimit.v;g.doff=m.strokeStyleLineDashOffset.v.val;g.ljoin=Wr.hg.join.indexOf(m.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
g.lcap=Wr.hg.SH.indexOf(m.strokeStyleLineCapType.v.strokeStyleLineCapType);g.dash=[];for(var X=0;X<t.length;
X++)g.dash.push(t[X].v.val*g.lwidth);if(g.dash.length==1&&g.dash[0]==0)g.dash=[];Y=!0;if(a==2)y=!0}if(H&&!y)P.Fill(g);
if(Y)P.Stroke(g);if(H&&y)P.Fill(g)}else if(R&&v[4]){var E=R.xe,WW=new vf(E,x),O=vs.hQ(WW,R),Wx=Z.g.gX(O);
for(var _ in Wx){var WU=parseInt(_.slice(1),16);g.colr=K?UO.kc(K.Clr.v):[(WU>>>16&255)/255,(WU>>>8&255)/255,(WU&255)/255];
var We=Wx[_];Z.g.K(We.u,p,We.u);We=Z.g.ZG$(We);g.pth={cmds:We.L,crds:We.u};P.Fill(g)}}else if(R&&v[3]==!1){var E=R.xe,Wv=R.K.clone(),L=new WE(1,0,0,-1,0,0);
L.concat(Wv);L.concat(p);var J=Wf.UW(E),WW=new vf(E,x);for(var X=0;X<WW.eJ.length;X++){var WZ=WW.eJ[X];
if(WZ.jW.length==1&&WZ.jW[0].RD)continue;for(var WJ=0;WJ<WZ.vM.length;WJ++){var Wu=WZ.vM[WJ],WC=WZ.cO.y+Wu.cO.y,Wn=WZ.jW[Wu.start].start,WB=WZ.jW[Wu.end-1].end,Wt=Wf.ZLv(E,Wn,WB);
for(var Wy=0;Wy<Wt.length;Wy++){var Wz=WW.Mu(Wn),WG=Wt[Wy],Wq=Wf.vD(E,Wn,Wn),Wa=Wq.mp[Wq.kw.Font].Name;
g.font.Tf=Wa;var _=Wf.W_(Wq.kw);g.colr=K?UO.kc(K.Clr.v):[_.k/255,_.z/255,_.e/255];g.font.Tfs=Math.round(Wq.kw.FontSize);
var WK=J.slice(Wn,Wn+WG);if(Wq.kw.FontCaps==2)WK=WK.toUpperCase();var Wd=new WE;Wd.translate(Wz.B.x,-WC);
Wd.concat(L);g.ctm=[Wd.Fl,Wd.e,Wd.Ug,Wd.LC,Wd.vR,Wd.LV];P.PutText(g,WK,0);g.ctm=[1,0,0,1,0,0];Wn+=WG}}}}else if(!A.rect.tE()){var WD,W$,Zg=!1,WL=new WE;
if(A.add.SoLd){var WY=A.add.SoLd,WA=WY.Idnt.v,Wb=e.om(WA,WY.Crop?WY.Crop.v:null),Ww="";if(Wb==null)return;
var WX=Wb.YA,fI=Wg.uK(Wb.raw.buffer);if(v[5].indexOf(fI)!=-1){WD=Wb.raw;Zg=!0}else WD=WX[0];W$=WX[1];
WL=Z.D.cK(WY)}else{WD=A.buffer;W$=A.rect;WL.translate(W$.x,W$.y)}if(K&&!Zg)WD=Wi.ZyI(WD,K,W$);UO.ZxP(g,P,WD,W$,WL,p);
if(K&&Zg){var i=[0,0,W$.W,0,W$.W,W$.j,0,W$.j];Z.g.K(i,WL,i);Z.g.K(i,p,i);var W_=JSON.parse(JSON.stringify(g));
W_.ca=K.Opct.v.val/100;W_.pth={cmds:["M","L","L","L","Z"],crds:i};W_.colr=UO.kc(K.Clr.v);P.Fill(W_)}}};
UO.ZxP=function(e,j,g,P,p,v){var x=new WE;x.scale(P.W,-P.j);x.translate(0,P.j);x.concat(p);x.concat(v);
e.ctm=[x.Fl,x.e,x.Ug,x.LC,x.vR,x.LV];j.PutImage(e,g,P.W,P.j);e.ctm=[1,0,0,1,0,0]};var fK={};fK.aW=function(e){var j=new Uint8Array(e);
return fK.cR(j,0)};fK.cR=function(e,j){var g=T.o,P=T.ko,p={Bv:P(e,j,4),R:j+8,size:g(e,j+4)},v=p.Bv=="FORM"||p.Bv=="LIST"||p.Bv=="CAT ";
if(v)p.dE=P(e,j+8,4);if(p.size<0||p.R+p.size>e.length)throw"e";if(v){p.sub=[];j+=12;var x=p.R+p.size;
while(j<x){var A=fK.cR(e,j);p.sub.push(A);j+=8+A.size+(A.size&1)}}return p};var xS={};xS.aW=function(e,j){var g=new Uint8Array(e);
return xS.cR(g,0,j)};xS.cR=function(e,j,g){var P=T.ok,p=T.ko,v={Bv:p(e,j,4),R:j+8,size:P(e,j+4)};if(g&&g[v.size]!=null)v.size=g[v.size];
if(v.Bv=="RIFF"||v.Bv=="LIST"){v.dE=p(e,j+8,4)}if(v.size<0||v.R+v.size>e.length)throw"e";if(v.Bv=="RIFF"||v.Bv=="LIST"&&(v.dE!="cmpr"&&v.dE!="stlt")){v.sub=[];
j+=12;var x=v.R+v.size;while(j<x){var A=xS.cR(e,j,g);v.sub.push(A);j+=8+A.size+(A.size&1)}}return v};
var fK={};fK.aW=function(e){var j=new Uint8Array(e);return fK.cR(j,0)};fK.cR=function(e,j){var g=T.o,P=T.ko,p={Bv:P(e,j,4),R:j+8,size:g(e,j+4)},v=p.Bv=="FORM"||p.Bv=="LIST"||p.Bv=="CAT ";
if(v)p.dE=P(e,j+8,4);if(p.size<0||p.R+p.size>e.length)throw"e";if(v){p.sub=[];j+=12;var x=p.R+p.size;
while(j<x){var A=fK.cR(e,j);p.sub.push(A);j+=8+A.size+(A.size&1)}}return p};function Zx(){}Zx.aW=function(e,j){var g=new Uint8Array(e);
j.Vo=!0;var P=T.ko(g,0,2);if(P=="WL"){alert("Unsupported CDR version")}else{var p=Zx.yH,v=xS.aW(g.buffer),x={data:g,R:0,UM:Zx.Zpf(g[11])},R=300;
x.Rx=x.UM<600?16:32;Zx.ys(x,v.sub,j,0);var A=p(v,"cmpr").sub,f=A[0],S=A.slice(1),F=p(f,"mcfg").r,m=F.ZsN;
R/=vv.ye(new G(0,0,Math.round(m.x*R),Math.round(m.y*R)),8192*8192);var M=Math.round(m.x*R),b=Math.round(m.y*R);
j.W=M;j.j=b;j.buffer=Z.V(j.W*j.j*4);var s=p(f,"filt").sub,K=p(f,"otlt").sub;f.RU={};for(var X=0;X<s.length;
X++)f.RU[s[X].sub[0].r.id]=s[X].sub[0].r;f.RW={};for(var X=0;X<K.length;X++)f.RW[K[X].r.id]=K[X].r;var d=new WE(R,0,0,-R,m.x*R/2,m.y*R/2),W=S[1];
Zx.zs(W,f,j,d);j.gU(1);j.T[j.T.length-1].fl(new G(0,0,M,b))}};Zx.yH=function(e,j){var g=null;for(var P=0;
P<e.sub.length;P++){var p=e.sub[P];if(p.Bv==j||p.dE==j)g=p}return g};Zx.zs=function(e,j,g,P){var p=Zx.yH,v=e.dE?e.dE:e.Bv,x=p(e,"lgob"),A=p(e,"txsm"),f,S;
if(x){f=p(x,"trfl");S=p(x,"loda")}var F=f?f.sub[0].YG.clone():new WE;F.concat(P);var m=g.Rz();if(v=="page"||v=="layr"||v=="grp "){m.tG((v=="page"?"Page":"Group")+" "+g.T.length);
m.add.lsct=vC.x_;m.T$="pass";m.Oz=24;var R=[];if(v=="page")R=p(e,"gobj").sub;if(v=="layr")R=e.sub.slice(2);
if(v=="grp ")R=e.sub.slice(4);if(R.length==0)return;g.T.push(g.Rt());for(var M=R.length-1;M>=0;M--)Zx.zs(R[M],j,g,P)}else if(v=="obj "&&S.r&&S.r.path){m.tG("Object "+g.T.length);
var b=j.RU[S.r.Zst],s=j.RW[S.r.Zsq],K=m.getName(),X=b&&b.type!=0,d=X&&b.r!=null?b.r:[0,0,0];m.Oz|=16;
m.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));var W=m.add.vstk;W.strokeEnabled.v=!1;m.add.vmsk=new u.nt;
if(s&&s.ZsE!=1){W.strokeEnabled.v=!0;W.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
W.strokeStyleLineWidth.v.val=s.lineWidth*P.em();var O=s.color;W.strokeStyleContent.v.Clr.v=Z.c.Op({k:O[0]*255,z:O[1]*255,e:O[2]*255})}var H=S.r.path;
m.add.vmsk.F=Z.g.br(H,!1);Z.f.Ly(m.add.vmsk.F,F);vJ.Wp(d,m,F,Z.f.Gx(m.add.vmsk.F));W.fillEnabled.v=X;
m.Vd();m.d$(g)}else if(v=="obj "&&A){var Y=S.r.ZsI,y=S.r.ZsH,$="";m.add.TySh=Wf.Ik(0,0);var B=F.em();
m.add.TySh.K.translate(F.vR,F.LV);var c=m.add.TySh.xe,I=A.r.ZqM;for(var M=0;M<I.length;M++){var r=I[M],i=$.length;
$+=r.text+"\n";Wf.hX(c,i,r.text+"\n");var U=Zx.ZKM(r.Zsm,j),N=Wf.vD(c,i,$.length);if(U.align==3)N.eJ.Justification=1;
else N.eJ.Justification=0;var C=U.fill.r;N.kw.FillColor={Type:1,Values:[1,C[0],C[1],C[2]]};N.kw.FontSize=Math.round(U.Zsc.fontSize*F.em());
Wf.MM(c,i,$.length-1,N)}if(y){Wf.oc(c,0)}else{Wf.oc(c,1);Wf.kJ(c,[0,0,Math.round(Y.x*F.Fl),Math.round(-Y.y*F.LC)])}m.tG($.slice(0,10))}else{m=null}if(m)g.T.push(m)};
Zx.ZKM=function(e,j){var g=Zx.yH(j,"stlt").r,P=JSON.parse(JSON.stringify(g.Dw[e]));if(P.Rv!=0){var p=g.Dw[P.Rv];
for(var v in p)if(P[v]==null||P[v]==0)P[v]=p[v];delete P.Rv}P.align=g.ZKr[P.ZKx];P.fill=j.RU[g.ZKe[P.ZzG]];
P.ZJs=j.RW[g.ZKV[P.Zzb]];P.Zsc=g.ZGO[P.ZKu];return P};Zx.Z$x=function(e){var j=e.data[e.R];e.R+=1;return j};
Zx.WA=function(e){var j=T.zr(e.data,e.R);e.R+=2;return j};Zx.WP=function(e){var j=T.ok(e.data,e.R);e.R+=4;
return j};Zx.Z$e=function(e){var j=T.ok(e.data,e.R);e.R+=8;return j};Zx.Al=function(e){var j=T.pl(e.data,e.R);
e.R+=2;return j};Zx.jf=function(e){var j=T.ti(e.data,e.R);e.R+=4;return j};Zx.aA=function(e){var j=T.ZzY(e.data,e.R);
e.R+=8;return j};Zx.Uw=function(e){if(e.R>=e.data.length)throw"e";var j=0;while(e.data[e.R+j]!=0)j++;
var g=T.ko(e.data,e.R,j);e.R+=j+1;return g};Zx.Z$n=function(e){if(e.UM<600)return Math.PI*Zx.Al(e)/1800;
return Math.PI*Zx.jf(e)/18e7};Zx.Z$t=function(e){if(e.UM<1500)return Zx.Eo(e);else return Zx.aA(e)/254e3};
Zx.Eo=function(e){if(e.UM<600)return Zx.Al(e)/1e3;else return Zx.jf(e)/254e3};Zx.Z$O=function(e){if(e.UM<600)return CRDParser.WA(e);
else return Zx.WP(e)};Zx.Z$l=function(e){if(e.UM<600)return CRDParser.Al(e);else return Zx.jf(e)};Zx.ys=function(e,j,g,P){var p=Zx,v=p.Z$x,x=p.WA,A=p.WP,f=p.Z$e,S=p.Al,F=p.jf,m=p.aA,R=p.Eo,M=p.Z$t,b=p.Z$n,s=p.Z$O,K=p.Z$l;
for(var X=0;X<j.length;X++){var d=e.UM,W=j[X];e.R=W.R+(W.Bv=="LIST"?4:0);if(W.Bv=="vrsn"){var O=x(e);
e.UM=O;console.log("Version",O);e.Rx=O<600?16:32}else if(W.Bv=="DISP"){}else if(W.Bv=="LIST"&&W.dE=="cmpr"){var H=A(e),Y=A(e),y=A(e),B=A(e),c=new Uint8Array(e.data.buffer,e.R+8+2,H-6-8),$=pako.inflateRaw(c),U=0;
e.R+=H;c=new Uint8Array(e.data.buffer,e.R+8+2);var I=pako.inflateRaw(c),r=[];for(var i=0;i<I.length;
i+=4)r.push(T.ok(I,i));W.sub=[];while(U<$.length){var N=xS.cR($,U,r);U=N.R+N.size;W.sub.push(N)}var C={data:$,R:0,UM:d,Rx:e.Rx};
Zx.ys(C,W.sub,g,P+1)}else if(W.Bv=="LIST"&&W.dE=="stlt"){var D=e.R,WZ=32;W.r={};var n=A(e);if(n==0)return;
W.r.ZKe=Zx.yK(e,d>=1300);W.r.ZKV=Zx.yK(e);W.r.ZGO={};var w=A(e);for(var k=0;k<w;k++){var h=A(e);e.R+=d<1e3?12:20;
var t=x(e),a=x(e);e.R+=8;var _=R(e);e.R+=d<1e3?12:20;W.r.ZGO[h]={ZKC:t,ZJj:a,fontSize:_}}W.r.ZKr=Zx.yK(e);
var E=A(e);e.R+=52*E;var WW=A(e);e.R+=152*WW;var Wx=A(e);e.R+=784*Wx;var WU=A(e);for(var k=0;k<WU;k++){e.R+=40;
if(d>1300)e.R+=4;if(d>=1300){if(A(e))e.R+=68;else e.R+=12}else{e.R+=20;if(d>=1e3)e.R+=8;if(A(e))e.R+=8;
e.R+=8}}var We=A(e);W.r.ZKa={};for(var k=0;k<We;k++){var Wv=A(e),L={};e.R+=12;L.right=R(e);L.ZJX=R(e);
L.left=R(e);W.r.ZKa[Wv]=L}var J=A(e);if(d>=1300)WZ+=4;e.R+=WZ*J;var WJ=A(e);e.R+=28*WJ;if(d>800){var Wu=A(e);
e.R+=12*Wu}W.r.Dw={};for(var k=0;k<n;k++){var WC=A(e),Wn=A(e),WB={};WB.Rv=A(e);e.R+=8;var Wt=A(e);if(d>=1200)Wt*=2;
e.R+=Wt;WB.ZzG=A(e);WB.Zzb=A(e);if(WC>1){WB.ZKu=A(e);WB.ZKx=A(e);WB.ZJY=A(e);WB.ZJR=A(e);if(d>800)WB.ZJk=A(e)}if(WC>2){WB.ZJF=A(e);
WB.ZJo=A(e);WB.ZJh=A(e);WB.ZJM=A(e);WB.ZJb=A(e)}W.r.Dw[Wn]=WB}}else if(W.Bv=="LIST")Zx.ys(e,W.sub,g,P+1);
else if(W.Bv=="txsm"){W.r={};if(d<600)throw"e";if(d<700)throw"e";if(d>=1600)throw"e";if(d>=1500)e.R+=37;
else e.R+=36;if(A(e)){if(d<800)e.R+=32}if(d<800)e.R+=4;W.r.ZJw=A(e);W.r.ZqM=[];e.R+=48;if(d>=800){if(A(e)){e.R+=32;
if(d>=1300)e.R+=8}}if(d>=1500)e.R+=12;var WC=A(e),Wy=1,Wz=!1;if(!WC){if(d>=800)e.R+=4;if(d>800)e.R+=2;
if(d>=1400)e.R+=2;e.R+=24;if(d<800)e.R+=8;Wy=A(e)}for(var i=0;i<Wy;i++){var WG=A(e),k=0;if(d>=1300&&WC)e.R++;
e.R++;var n=A(e),Wq=[];for(k=0;k<n;k++){var Wa=v(e),Wd=0;v(e);var WK=v(e);if(d>=800)Wd=v(e);var WB={};
if(WK&1){WB.ZKC=x(e);var WD=x(e);if(WD)WB.ZJl=WD}if(WK&2)e.R+=4;if(WK&4)WB.ZJ_=R(e);if(WK&8)e.R+=4;if(WK&16)e.R+=4;
if(WK&32)e.R+=4;if(WK&64){WB.ZzG=A(e);if(d>=1500)e.R+=48}if(WK&128){WB.Zzb=A(e)}if(Wd&8){if(d>=1300){var W$=A(e);
if(e.R+W$*2>=e.data.length){Wz=!0;break}e.R+=W$*2}else e.R+=4}if(Wd&32){var Zg=v(e);if(Zg)e.R+=52}if(Wa==2)if(d>=1300)e.R+=48;
Wq.push(WB)}if(Wz){break}var WL=A(e);if(e.R+WL*4>e.data.length)break;var WY=[];for(k=0;k<WL;k++){var WA=0;
if(d>=1200)WA=f(e)&4294967295;else WA=A(e);WY[k]=WA>>16|WA&1}var Wb=WL;if(d>=1200)Wb=A(e);var WX=Zx.Uw(e);
W.r.ZqM.push({Zsm:WG,text:WX,Dw:Wq})}}else if(W.Bv=="font"){var fI=x(e),Ww=x(e);e.R+=14;var W_=Zx.Uw(e);
W.r={id:fI,ZJm:Ww,name:W_}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(W.Bv)!=-1){}else if(W.Bv=="flgs")W.r=A(e);
else if(W.Bv=="bbox"){var vW=R(e),vL=R(e),vV=R(e),Wo=R(e);W.r=new G(vW,vL,vV-vW,Wo-vL)}else if(W.Bv=="fild"){var WT=A(e),WH=0,ve;
if(d>=1300){e.R+=4;WH=x(e);e.R+=2}var WS=x(e);if(WS==0){}else if(WS==1){e.R+=d>=1300?13:2;ve=Zx.oQ(e)}else if(WS==2){e.R+=d>=1300?8:2;
var Zi=v(e),WQ=0;if(d>=1300){e.R+=17;WQ=S(e)}else if(d>=600){e.R+=19;WQ=F(e)}else{e.R+=11;WQ=S(e)}var vZ=b(e),fH=.5+K(e),vg=.5+K(e)-.5;
if(d>=600)e.R+=2;var vI=s(e)&255,ZL=v(e)/100;e.R++;var vu=s(e)&65535;if(d>=1300)e.R+=3;var vS=[];for(var k=0;
k<vu;k++){var Zd=Zx.oQ(e);if(d>=1300){if(WH==158||d>=1600&&WH==150)e.R+=26;else e.R+=5}var ZO=s(e)/100;
if(d>=1300)e.R+=3;vS.push([ZO,Zd])}ve={typ:Zi==1?"lin":"rad",crds:[fH-Math.cos(vZ)/2,vg-Math.sin(vZ)/2,fH,vg],grad:vS,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",WS);
W.r={id:WT,type:WS,r:ve}}else if(W.Bv=="outl"){var vF=A(e);if(d>=1300){var ZE=0,ZZ=0;while(ZE!=1){e.R+=ZZ;
ZE=A(e);ZZ=A(e)}}var Z$=x(e),vd=x(e),xd=x(e);if(d<1300&&d>=600)e.R+=2;var xg=R(e),vU=x(e)/100;if(d>=600)e.R+=2;
var fZ=b(e);if(d>=1300)e.R+=46;else if(d>=600)e.R+=52;var ve=Zx.oQ(e,vF==270963208||vF==276198e3,vF);
W.r={id:vF,ZsE:Z$,ZJQ:vd,ZJc:xd,lineWidth:xg,color:ve}}else if(W.Bv=="mcfg"){if(1300<=d)e.R+=12;else if(900<=d)e.R+=4;
else if(600<=d&&d<700)e.R+=28;var VA=0,vj=0;if(d<400)throw"e";else{VA=R(e);vj=R(e)}W.r={ZsN:new Uc(VA,vj)}}else if(W.Bv=="loda"){var D=e.R,Zp=s(e),vy=s(e),vX=s(e),va=s(e),vq=s(e),Zz=[],eE=[];
e.R=D+vX;for(var k=0;k<vy;k++)Zz[k]=s(e);e.R=D+va;for(var k=vy-1;k>=0;k--)eE[k]=s(e);W.r={};for(var k=0;
k<vy;k++){e.R=D+Zz[k];var eO=eE[k];if(eO==10)W.r.Zsq=A(e);else if(eO==20)W.r.Zst=A(e);else if(eO==200)W.r.Zur=s(e);
else if(eO==30){if(d<400)vq--;if(vq==1){var vW=M(e),vL=M(e),ZF=0,xN=0,vk=0,eB=0;if(d<1500){eB=M(e);vk=d<900?eB:M(e);
xN=d<900?eB:M(e);ZF=d<900?eB:M(e)}else throw"e";W.r.path=Z.g.bg(Z.f.vC.Rect(0,0,vW,vL,ZF))}else if(vq==2){var fJ=R(e),eI=R(e),ed=b(e),fx=b(e),ZR=Math.abs(fJ),vt=Math.abs(eI);
W.r.path=Z.g.bg(Z.f.vC.Po(0,0,ZR,-vt))}else if(vq==3){W.r.path=Zx.ZOE(e)}else if(vq==4){W.r.ZsH=Zx.ZOU(e)}else if(vq==6){W.r.ZsI=Zx.ZOz(e)}else if(vq==37){W.r.path=Zx.cw(e)}else console.log(vq)}}}else if(W.Bv=="trfd"){var D=e.R,Zp=s(e),vy=s(e),vX=s(e);
e.R=D+vX;var Zz=[];for(var k=0;k<vy;k++)Zz[k]=s(e);for(var k=0;k<vy;k++){e.R=D+Zz[k];if(d>=1300)e.R+=8;
var eS=x(e);if(eS==8){var xJ,fD,vW,vG,eu,vL;if(d>=600)e.R+=6;if(d>=500){xJ=m(e);fD=m(e);vW=m(e)/(d<600?1e3:254e3);
vG=m(e);eu=m(e);vL=m(e)/(d<600?1e3:254e3)}else throw"e";W.YG=new WE(xJ,vG,fD,eu,vW,vL)}else console.log(eS)}}else if(!1){console.log(W);
var vp=Math.min(W.size,32);console.log(T.pw(data,W.R,vp));console.log(T.ZzB(data,W.R,vp))}}};Zx.yK=function(e,j){var g=Zx.WP,P={},p=g(e);
for(var v=0;v<p;v++){var x=g(e);e.R+=4;var A=g(e);P[x]=A;if(j)e.R+=48}return P};Zx.ZOU=function(e){var j=Zx,g=j.Eo,P=g(e),p=g(e);
return new Uc(P,p)};Zx.ZOz=function(e){var j=Zx,g=j.Eo;e.R+=4;var P=g(e),p=g(e);return new Uc(P,p)};
Zx.cw=function(e){var j=Zx,g=j.WP,P=j.WA,p=j.Eo;e.R+=4;var v=P(e)+P(e);e.R+=16;var x=Zx.ZfR(e,v);return x};
Zx.ZOE=function(e){var j=Zx.WA(e);e.R+=2;return Zx.ZfR(e,j)};Zx.ZfR=function(e,j){var g=Zx,P=g.Eo,p=e.UM<600?2:4,v=e.R,x={u:[],L:[]},A=0,f=0,S=0;
for(var F=0;F<j;F++){var A=P(e),f=P(e),m=e.data[v+j*p*2+F];if(!(m&64)&&!(m&128)){x.u.push(A,f);x.L.push("M");
S+=2}else if(m&64&&!(m&128)){x.u.push(A,f);x.L.push("L");S+=2}else if(!(m&64)&&m&128){x.u.push(A,f);
x.L.push("C");S+=6}else if(m&64&&m&128){x.u.push(A,f)}}if(S!=x.u.length)throw"e";return x};Zx.Zsa=function(e,j){var g=T.ok;
j+=8;var P=g(e,j);j+=4;var p=g(e,j);j+=4;j+=4*7;var v=j,x=Z.V(P*p*4);j+=1024;for(var A=0;A<p;A++)for(var f=0;
f<P;f++){var S=A*P+f,F=(p-A-1)*P+f,m=e[j+S]<<2,R=F<<2;x[R+0]=e[v+m+2];x[R+1]=e[v+m+1];x[R+2]=e[v+m+0];
x[R+3]=255}return{C$:x,rect:new G(0,0,P,p)}};Zx.Zpf=function(e){if(e==32)return 300;else if(e<49)return 0;
else if(e<58)return 100*(e-48);else if(e<65)return 0;return 100*(e-55)};Zx.oQ=function(e,j,g){var P=Zx.WA,p=Zx.WP,v=e.UM,x=0,A=0;
if(v>=500){x=P(e);if(x==1&&v>=1300)x=25;if(x==25||x==30){var f=0;if(x==30){x=25;f=30}else{f=P(e);e.R+=4}var S=P(e),F=P(e)}else if(x==14)throw"e";
else{e.R+=6;A=p(e)}}else throw"e";var m=[];if(x==2||x==9||x==17){var R=[A>>>0&255,A>>>8&255,A>>>16&255,A>>>24&255];
if(x==2)for(var M=0;M<4;M++)R[M]=Math.round(255*R[M]/100);for(var M=0;M<4;M++)R[M]/=255;m=UDOC.C.cmykToRgb(R)}else if(x==1||x==5){m=[A>>>0&255,A>>>8&255,A>>>16&255];
for(var M=0;M<3;M++)m[M]=m[M]/255}else console.log("Unknown color model "+x,A,A.toString(16));return m};
var xV={};xV.Jv=function(){var e=new ArrayBuffer(4);return[new Uint8Array(e),new Uint32Array(e),new Float32Array(e)]}();
xV.ZuJ=function(e,j,g,P,p){function v(N,C){for(var D=0;D<N.length;D++)if(N[D][0]==C)return N[D]}function x(){var c=0,N=0,C=0;
do{C=e[j++];c|=(C&127)<<N;N+=7}while(C&128&&N<35);return c>>>0}var A=xV.Jv,f=A[0],S=A[1],F=A[2],m="",K=1;
for(var R=0;R<p;R++)m+="    ";var M=P[0]=="mesg",b=P[2],s={},X=M?1e9:b.length;while(K<=X){var d=K;if(M){d=e[j++];
if(d>127){if(e[j]!=1)throw"e";j++}if(d==0)break}var W=v(b,d),O=W[2],H=W[1]==1,Y=H?x():1,y=new Array(Y);
if(O==3){if(!H)throw"e";y=e.slice(j,j+Y);j+=Y}else for(var R=0;R<Y;R++){var B;if((O&1)==1){if(O==1)B=e[j++]==1;
else if(O==3)B=e[j++];else if(O==5){var c=x();B=c&1?~(c>>>1):c>>>1}else if(O==7)B=x();else if(O==9){if(e[j]==0){B=0;
j++}else{f[0]=e[j];f[1]=e[j+1];f[2]=e[j+2];f[3]=e[j+3];var $=S[0];S[0]=$<<23|$>>>9;B=F[0];j+=4}}else if(O==11){var I=xV.Zpe(e,j);
B=I[0];j+=I[1]+1}else throw O}else{var r=g[O>>>1];if(r[0]=="enum"){var i=e[j++];if(i>127)throw"e";B=r[2][i]}else{var U=xV.ZuJ(e,j,g,r,p+1);
B=U[0];j=U[1]}}y[R]=B}s[W[3]]=H?y:y[0];K++}return[s,j]};xV.Zpe=function(e,j){var g=j;while(e[g]!=0)g++;
return[T.vG(e,j,g-j),g-j]};xV.Zra=function(e,j){var g=j;while(e[g]!=0)g++;for(var P=j;P<g;P++)if(e[P]>127)throw"e";
return T.ko(e,j,g-j)};xV.Zri=function(e,j){var g=xV.Zra,P=1,p=[];while(P<e.length){var v=P,x=p.length,A=g(e,P);
P+=A.length+1;var f=e[P++];if(f==0){var S=e[P++];if(S>127)P++;var F=[];for(var m=0;m<S;m++){var R=g(e,P);
P+=R.length+1;var M=e[P++];if(M!=0)throw M;var b=e[P++];if(b!=0)throw b;var s=e[P++];if(s>127){if(e[P]!=1)throw"e";
P++}if(s!=m)throw s;F.push(R)}p.push(["enum",A,F])}else if(f==1){var S=e[P++],F=[];for(var m=0;m<S;m++){var R=g(e,P);
P+=R.length+1;var M=e[P++];if(M>127){if(e[P]!=1)throw"e";P++}var b=e[P++];if(b>127){if(e[P]!=1)throw"e";
P++}var s=e[P++];if(s>127){if(e[P]!=1)throw"e";P++}F.push([s,b,M,R])}p.push(["strc",A,F])}else if(f==2){var S=e[P++];
if(S>127)P++;var F=[];for(var m=0;m<S;m++){var R=g(e,P);P+=R.length+1;var M=e[P++];if(M>127){if(e[P]!=1)throw"e";
P++}var b=e[P++];if(b>127){if(e[P]!=1)throw"e";P++}var s=e[P++];if(s>127){if(e[P]!=1)throw"e";P++}F.push([s,b,M,R])}p.push(["mesg",A,F])}else throw f}return p};
function ZG(){}ZG.aW=function(e,j){var g=new Uint8Array(e),P=8,p=T.ok(g,P),N=1,C=0;P+=4;var v=[];while(P<g.length){var x=T.ok(g,P);
P+=4;var A=g.slice(P,P+x);if(g[P]==137&&g[P+1]==80){}else A=UZIP.inflateRaw(A);v.push(A);P+=x}var f=xV.Zri(v[0]),S=xV.ZuJ(v[1],0,f,f[f.length-1],0)[0],F={qt:{},DN:{},ZEt:{}},m=S.nodeChanges;
for(var R=0;R<m.length;R++){var M=m[R],b=M.guid;F.DN[b.sessionID+","+b.localID]=M}for(var R=0;R<m.length;
R++){var M=m[R],b=M.parentIndex;if(b){var s=ZG.je(F.DN,b.guid);if(s.children==null)s.children=[];s.children.push(M)}}var K=m[0],X=K.children,d=new G,W=[],O=[];
for(var b=0;b<X.length;b++){var H=X[b],Y=H.children;if(H.name=="Internal Only Canvas"||Y==null)continue;
var y=new G;for(var B=0;B<Y.length;B++){var c=Y[B],$=c.transform,I=c.size,r=new G($.m02,$.m12,I.x,I.y);
y=y.Gd(r)}var i=d.j==0?0:d.j+100,U=y.clone();U.x=0;U.y=i;d=d.Gd(U);W[b]=y;O[b]=i}while(Math.max(d.W,d.j)/N>16e3)N++;
if(N!=1)console.log("Scaling down "+N+"x");j.W=Math.round(d.W/N);j.j=Math.round(d.j/N);j.buffer=Z.V(j.W*j.j*4);
for(var b=0;b<X.length;b++){var H=X[b],Y=H.children;if(H.name=="Internal Only Canvas"||Y==null)continue;
Y.sort(ZG.Zxc);var D=new WE(1,0,0,1,-W[b].x,O[b]-W[b].y);D.scale(1/N,1/N);for(var B=0;B<Y.length;B++){var c=Y[B];
ZG.zs(c,[],D,S.blobs,j,0,F);C++}}j.gU(C);j.Vo=!0};ZG.zs=function(e,j,g,P,p,v,x){var A=ZG,$=!1,I,r,U,N,C;
for(var f=0;f<j.length;f++){var S=j[f],F=S.guidPath.guids[0];if(A.Zrp(F,e.guid)){var m={};for(var R in e)m[R]=S[R]!=null?S[R]:e[R];
e=m}}var M=e.type,b=e.children,s=e.size,K=e.effects,X=p.Rz();X.tG(e.name);X.Pd(e.visible);X.opacity=Math.round(e.opacity*255);
var d=A.TU(e.transform),W=d.clone();W.concat(g);var O=new G(Math.round(W.vR),Math.round(W.LV),Math.round(s.x*W.em()),Math.round(s.y*W.em())),H=e.fillPaints,Y=e.inheritFillStyleID;
if(Y){var m=A.je(x.DN,Y);if(m)H=m.fillPaints}if(H==null)H=[];var H=A.ZZA(H),y=H[0],B=e.strokePaints,Y=e.inheritFillStyleIDForStroke;
if(Y){var m=A.je(x.DN,Y);if(m)B=m.fillPaints}if(B==null)B=[];var B=A.ZZA(B),c="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON".split(" ").indexOf(M)!=-1;
if(c||M=="FRAME"){I=new u.nt;r=[];A.Zfi(e,P,I,r);$=Z.f.VO(I.F);Z.f.Ly(I.F,W);O=Z.f.Gx(I.F);if(x.qt.HK&&y){var i=u.nt.xm(x.qt.HK.F);
for(var f=2;f<i.length;f++)if(i[f].WF!=null)i[f].WF=3;I.F=I.F.concat(i.slice(2));r=r.concat(JSON.parse(JSON.stringify(x.qt.uF)))}}if(y&&y.type=="IMAGE"&&y.image.name=="")y=null;
if(y&&y.type=="IMAGE"){C=y.imageScaleMode;U=A.Gj(P,y.image.dataBlob);var D=U.Fa.W/U.Fa.j,n=s.x/s.y;N=Math.abs(D-n)}if(M=="FRAME"){}else if(c&&$&&U&&(C=="FIT"||C=="FILL"&&N<=.05)){var w=P[y.image.dataBlob].bytes,k=p.UF(w,X.getName(),0,0);
k.Oz=X.Oz;k.opacity=X.opacity;X=k;var h=new G(0,0,s.x,s.y);if(C=="FIT"){var t=U.Fa.W,a=U.Fa.j,_=Math.min(s.x/t,s.y/a),E=t*_,WW=a*_;
h=new G(h.x+(h.W-E)/2,h.y+(h.j-WW)/2,E,WW)}var Wx=Z.g.B$(h).u;Z.g.K(Wx,W,Wx);X.add.SoLd.Trnf=o.t.Pn(Wx);
X.add.SoLd.nonAffineTransform=o.t.Pn(Wx);var WU=[],K=e.effects,We=y.paintFilter;if(K)for(var f=0;f<K.length;
f++)if(K[f].type=="FOREGROUND_BLUR"){var Wv=K[f],L=ZW.HL("GsnB",{});WU.push(L);L.v.enab.v=Wv.visible;
L.v.Fltr.v.Rds.v.val=Wv.radius/2.4}if(We&&We.exposure!=0){var L=ZW.HL("brit",{});WU.push(L);L.v.Fltr.v.Brgh.v=Math.round(We.exposure*160);
L.v.Fltr.v.useLegacy.v=!0}if(WU.length!=0){X.add.SoLd.filterFX=ZW.kx();p.US({id:X.add.SoLd.placed.v,rect:new G,buffer:Z.V(1),_:new u.IP});
X.add.SoLd.filterFX.v.filterFXList.v=WU}X.yM(p,!1);A.ZZj(x,X,p)}else if(c){X.Oz|=16;X.add.vogk=r;X.add.vmsk=I;
var J=X.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default)),WZ=A.jx(e,y,W,O,P,p,x);if(WZ[0]=="None"){J.fillEnabled.v=!1;
X.add.SoCo=WZ[1]}else{var WJ=WZ[1].Opct.v.val;if(WJ!=100)X.opacity=Math.round(X.opacity/255*(WJ/100)*255);
X.add[WZ[0]]=WZ[1]}var WZ=A.jx(e,B[0],W,O,P,p,x);if(WZ[0]!="None"){J.strokeEnabled.v=!0;J.strokeStyleLineWidth.v.val=e.strokeWeight*W.em();
J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wr.hg.IS[["INSIDE","CENTER","OUTSIDE"].indexOf(e.strokeAlign)];
var Wu={SoCo:"SoFi",GdFl:"GrFl"}[WZ[0]],WC=["SoFi","GrFl","patternFill"].indexOf(Wu),Wn=[Wr.VP,Wr.PV,Wr.PM][WC];
J.strokeStyleContent.v={classID:Wr.hg.dE[0]};J.strokeStyleLineDashSet.v=Wi.ha(e.dashPattern,1/e.strokeWeight);
var WB=J.strokeStyleContent.v={classID:Wr.hg.dE[WC]};for(var f=0;f<Wn.length;f++)WB[Wn[f]]=WZ[1][Wn[f]]}if(K)for(var f=0;
f<K.length;f++){var Wv=K[f];if(Wv.type!="FOREGROUND_BLUR")continue;I.FZ=Wv.radius/2.4}X.d$(p)}else if(M=="TEXT"){var Wt=e.textData,Wy=Wt.layoutSize,Wz=["LEFT","RIGHT","CENTER"].indexOf(e.textAlignHorizontal);
X.add.lnsr="rend";X.add.TySh=Wf.Ik(0,0);X.add.TySh.GC=new G(0,0,100,100);var WG=W.clone();X.add.TySh.K=WG;
var Wq=X.add.TySh.xe,Wa=Wt.characters;if(e.textCase=="TITLE"){for(var f=0;f<Wa.length;f++)if(f==0||Wa[f-1]==" "){var WK=Wa.slice(0,f),Wd=Wa.slice(f+1);
Wa=WK+Wa[f].toUpperCase()+Wd}}Wa=Wa.replace(/\u2028/g,"\n");Wa=Wa.replace(/\u2029/g,"\n");Wa=Wa.replace(/\r/g,"\n");
Wf.hX(Wq,0,Wa);var WD=e.textAutoResize,W$=Wt.baselines;if(WD=="WIDTH_AND_HEIGHT"){var Zg=Wz==0?0:Wz==1?Wy.x:Wy.x/2,WL=W$?W$[0].position.y:0;
WG.translate(Zg*W.em(),WL*W.em());Wf.oc(Wq,0)}else if(WD=="HEIGHT"||WD=="NONE"){var WL=W$?W$[0].position.y-e.fontSize*.7:0;
WG.translate(0,WL*W.em());Wf.oc(Wq,1);Wf.kJ(Wq,[0,0,Math.round(Wy.x),Math.round(1.2*Wy.y)])}else throw WD;
if(Wa!=""){var WY=Wf.vD(Wq,0,1);A.Zxl(e,W,s,WY,X);Wf.MM(Wq,0,Wa.length,WY);var WA=Wt.characterStyleIDs,Wb=Wt.styleOverrideTable;
if(WA)for(var f=0;f<WA.length;f++){var WX=WA[f];if(Wa[f]=="\n")continue;if(WX!=0){var fI;for(var Ww=0;
Ww<Wb.length;Ww++)if(Wb[Ww].styleID==WX)fI=Wb[Ww];var WY=Wf.vD(Wq,f,f+1);A.Zxl(fI,W,s,WY,X);Wf.MM(Wq,f,f+1,WY)}}}}else if(M=="SYMBOL"){}else if(M=="INSTANCE"){var W_=e.symbolData,vW=W_.symbolOverrides,m=A.je(x.DN,W_.symbolID);
if(m)b=m.children;else console.log(e.name,"symbol not found",W_.symbolID);j=j.slice(0);for(var f=0;f<vW.length;
f++)j.push(vW[f])}else console.log(M);if(!1){}else if(b&&!c){b.sort(A.Zxc);if(v==0&&M!="SYMBOL"&&M!="INSTANCE"){X.fl(O);
var vL=H?H[0]:null;if(vL&&vL.type=="SOLID"){var vV=vL.color;X.add.artb.artboardBackgroundType.v=4;X.add.artb.Clr=A.oQ(vV)}}p.T.push(p.Rt());
var Wo=x.qt;x.qt={};for(var WT=0;WT<b.length;WT++)A.zs(b[WT],j,W,P,p,v+1,x);x.qt=Wo;X.add.lsct=!1?vC.x_:vC.TC;
X.T$="pass";var WH=X.Je();X.Oz=24;X.Pd(WH);var WS=v!=0&&H.length!=0&&!e.frameMaskDisabled&&e.containerSupportsFillStrokeAndCorners;
if(WS&&I){X.add.vmsk=I;X.add.vogk=r;X.d$(p)}else A.ZZj(x,X,p);p.T.push(X)}else if(e.mask){if(I){x.qt.HK=I;
x.qt.uF=r}}else{var ve=[];if(K)for(var Zi=0;Zi<K.length;Zi++){var Wv=K[Zi],WQ=Wv.color,vZ=Wv.type,fH=["DROP_SHADOW","INNER_SHADOW"].indexOf(vZ);
if(fH!=-1){var vg=["DrSh","IrSh"][fH],vI=JSON.parse(Wr.ea[Wr.order.indexOf(vg)]);ve.push([vg,vI]);vI.enab.v=Wv.visible;
vI.Md.v.BlnM=WF.HH(A.ZrP(Wv.blendMode));vI.Opct.v.val=Math.round(100*WQ.a);vI.blur.v.val=Math.round(Wv.radius*W.em());
vI.Clr=A.oQ(WQ);var Zg=Wv.offset.x,WL=Wv.offset.y;vI.uglg.v=!1;vI.lagl.v.val=Math.round(180/Math.PI*Math.atan2(WL,-Zg));
vI.Dstn.v.val=Math.round(Math.sqrt(Zg*Zg+WL*WL)*W.em())}}for(var f=1;f<H.length;f++){var ZL=H[f],vu=A.jx(e,ZL,W,O,P,p,x);
if(vu[0]=="GdFl")ve.push(["GrFl",vu[1]]);else if(vu[0]=="SoCo")ve.push(["SoFi",vu[1]]);else if(vu[0]=="PtFl")ve.push(["patternFill",vu[1]]);
else throw vu}if(ve.length!=0){var vS=JSON.parse(Wr.default);for(var f=0;f<Wr.order.length;f++)vS[Wr.uM[f]]={t:"VlLs",v:[]};
for(var f=0;f<ve.length;f++){var Zd=ve[f],vg=Wr.uM[Wr.order.indexOf(Zd[0])];vS[vg].v.unshift({t:"Objc",v:Zd[1]})}if(b==null)X.add.lmfx=vS}p.T.push(X)}};
ZG.Zxc=function(e,j){var g=e.parentIndex.position,P=j.parentIndex.position;return g>P?1:-1};ZG.ZZA=function(e){for(var j=1;
j<e.length;j++){var g=e[j];if(g.type=="IMAGE"&&g.opacity==1){e=e.slice(j);break}}for(var j=0;j<e.length;
j++){var g=e[j];if(!g.visible||g.type=="IMAGE"&&g.image.dataBlob==null){e.splice(j,1);j--}}return e};
ZG.ZZj=function(e,j,g){if(e.qt.HK){j.add.vmsk=e.qt.HK.clone();j.add.vogk=JSON.parse(JSON.stringify(e.qt.uF));
j.d$(g)}};ZG.Zxl=function(e,j,g,P,p){var v=e.fontSize,x=e.lineHeight,A=e.fontName,f=e.textAlignHorizontal,S=e.textTracking,F=e.textCase;
if(v==null)v=P.kw.FontSize;if(A)Wf.JJ(P,A.postscript);if(v!=null)P.kw.FontSize=Math.round(v);if(S)P.kw.Tracking=Math.round(S*1e3);
if(F)P.kw.FontCaps=F=="UPPER"?2:0;if(x&&(x.units!="PERCENT"||x.value!=100)){var m=x.value;if(x.units=="PERCENT")m=1*v*m/100;
if(x.units=="RAW")m=1*v*m;P.kw.AutoLeading=!1;P.kw.Leading=Math.round(m)}if(f)P.eJ.Justification=["LEFT","RIGHT","CENTER"].indexOf(f);
var R=e.fillPaints;if(R){var M=ZG.jx(e,R[0],j,g);if(M[0]=="SoCo"){var b=Z.c.W_(M[1].Clr.v);P.kw.FillColor={Type:1,Values:[1,b.k/255,b.z/255,b.e/255]};
p.opacity=Math.round(p.opacity/255*(M[1].Opct.v.val/100)*255)}else console.log(R)}};ZG.jx=function(e,j,g,P,p,v,x){var A=ZG,f,S,F=e.size;
if(j){var m=j.type,R=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(m);
if(m=="SOLID"){f="SoCo";var M=j.color;S=JSON.parse(Wr.ea[Wr.order.indexOf("SoFi")]);S.Clr=A.oQ(M)}else if(R!=-1){var b=JSON.parse(Wr.ea[Wr.order.indexOf("GrFl")]),s=b.Grad.v;
s.Intr.v=0;b.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][R];var K=[],X=j.stops;for(var d=0;d<X.length;d++){var W=X[d],O=W.color;
K.push([W.position,[O.r,O.g,O.b],O.a])}Z.c.fU(K,s);var H=A.TU(j.transform);H.OF();var Y=H.clone();Y.scale(F.x,F.y);
Y.concat(g);var y=new Uc(0,.5),B=new Uc(1,.5);y=Y.vy(y);B=Y.vy(B);if(!0){y.x=B.x+.5*(y.x-B.x);y.y=B.y+.5*(y.y-B.y)}Z.c.KL(y,B,P,b);
if(R==3){var c=b.Angl.v;c.val=(c.val+180+180)%360-180;b.Rvrs.v=!b.Rvrs.v}f="GdFl";S=b}else if(m=="IMAGE"){var b=JSON.parse(Wr.ea[Wr.order.indexOf("patternFill")]),$=b.phase.v,I=j.image.dataBlob,r=x.ZEt[I],h=1;
if(r==null){var i=A.Gj(p,I);r=x.ZEt[I]={};r.id=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f";r.vf=[new Uint8Array(i.data),i.Fa];
r.name="someImage";v.SN(r)}b.Algn.v=!0;b.Ptrn.v.Idnt.v=r.id;var U=g.vR,N=g.LV,C=j.imageScaleMode,H=A.TU(j.transform);
H.OF();var D=P.W,n=P.j,w=r.vf[1].W,k=r.vf[1].j;if(C=="FILL"){h=Math.max(D/w,n/k);h=Math.round(h*100)/100}else if(C=="FIT"){h=Math.min(D/w,n/k);
h=Math.round(h*100)/100}else if(C=="STRETCH"){var t=D*H.Fl,a=n*H.LC;h=.5*(t/w+a/k);h=Math.round(h*100)/100;
U+=(t-D)/2+H.vR*D;N+=(a-n)/2+H.LV*n}else if(C=="TILE"){h=j.scale;h=Math.round(h*100)/100;U+=(t-D)/2;
N+=(a-n)/2}var _=h*w,E=h*k;U+=-(_-D)/2;N+=-(E-n)/2;b.Scl.v.val=Math.round(100*h);$.Hrzn.v=Math.round(U);
$.Vrtc.v=Math.round(N);f="PtFl";S=b}else throw m;if(S)S.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(j.opacity*100)}}}else{f="None";
S={classID:"null",Clr:{t:"Objc",v:Z.c.Op({k:0,z:0,e:0})}}}return[f,S]};ZG.Gj=function(e,j){var g=e[j];
if(g.rslt)return g.rslt;var P=g.bytes.buffer,p=Wg.uK(P),v=Wg.Hr(p);g.rslt=v.vn(P)[0];return g.rslt};
ZG.Zfi=function(e,j,g,P){var p=e.type,v=e.size,x=e.cornerRadius,m;if(x==null)x=0;var A=Z.uF.vK(),f=v.x,S=v.y,F=[x,x,x,x],R=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var M=0;M<4;M++)if(e[R[M]]!=null)F[M]=e[R[M]];if(p=="RECTANGLE"||p=="ROUNDED_RECTANGLE"||p=="FRAME"){m=Z.f.vC.Rect(0,0,f,S,F)}else if(p=="ELLIPSE"){var b=e.arcData,s=b?b.startingAngle:0,K=b?b.endingAngle:2*Math.PI,X=b?b.innerRadius:0;
if(s==0&&K>1.999*Math.PI)m=Z.f.vC.Po(0,0,f,S,0);else m=Z.f.vC.Zfp(f/2,S/2,S/2,s,K);if(X!=0&&X!=1){var d=u.nt.xm(m).slice(3);
d.reverse();for(var M=0;M<d.length;M++){var W=d[M],O=W.Li;W.Li=W.ap;W.ap=O}var H=new WE;H.translate(-f/2,-S/2);
H.scale(X,X);H.translate(f/2,S/2);Z.f.Ly(d,H);m=m.concat(d);m[2].length*=2}}else if(p=="LINE"){m=Z.f.vC.Rect(0,0,f,S,0);
m.pop();m.pop();m[2].length=2}else if(p=="REGULAR_POLYGON"){m=Z.f.vC.ns(.5,.5,.5,Math.PI/2,e.count,0);
var Y=new WE;Y.scale(f,S);Z.f.Ly(m,Y)}else if(p=="BOOLEAN_OPERATION"){m=[{type:6},{type:8,all:0}];var y=e.children,B=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(e.booleanOperation);
if(B==-1)throw e;if(y==null)y=[];for(var M=0;M<y.length;M++){var c=y[M],$=new u.nt,I=[],r=ZG.Zfi(c,j,$,I);
if($.F==null)continue;Z.f.Ly($.F,ZG.TU(c.transform));m=m.concat($.F.slice(2));for(var i=0;i<I.length;
i++)P.push(I[i])}for(var M=3;M<m.length;M++)if(m[M].WF!=null)m[M].WF=B;A=null}else if(p=="VECTOR"){var U,N;
if(!0){var C=e.vectorData;U=C.normalizedSize;N=C.vectorNetworkBlob}else{U=v;N=vQ[0].commandsBlob;console.log(vQ)}var D=j[N].bytes,n=new Uint32Array(D.buffer),w=new Float32Array(D.buffer),k=n[0],h=n[1],t=[];
for(var M=0;M<k;M++){var a=3+M*3,_=new Uc(w[a+1],w[a+2]);t.push(_)}var E=[],WW=3+k*3;for(var M=0;M<h;
M++){var Wx=WW+M*7,WU=n[Wx+1],We=n[Wx+4];E.push([WU,We,w[Wx+2],w[Wx+3],w[Wx+5],w[Wx+6]])}var Wv=-1;for(var M=0;
M<h;M++){if(Wv==-1){}else{var L=-1;for(var i=M;i<h;i++)if(E[i][1]==Wv)L=i;for(var i=M;i<h;i++)if(E[i][0]==Wv)L=i;
if(L!=-1){var J=0,O=E[L];E[L]=E[M];E[M]=O;if(O[0]!=Wv){J=O[0];O[0]=O[1];O[1]=J;J=O[2];O[2]=O[4];O[4]=J;
J=O[3];O[3]=O[5];O[5]=J}}}Wv=E[M][1]}var WZ=[],WJ=[],Wu=-1;Wv=-1;for(var M=0;M<h;M++){var WC=E[M],WU=WC[0],We=WC[1],Wn=t[WU],WB=t[We];
if(Wv!=WU){WJ.push("M");WZ.push(Wn.x,Wn.y);Wu=WU}WZ.push(Wn.x+WC[2],Wn.y+WC[3]);WZ.push(WB.x+WC[4],WB.y+WC[5]);
WJ.push("C");WZ.push(WB.x,WB.y);Wv=We;if(Wu==We){WJ.push("Z");Wu=Wv=-1}}m=Z.g.br({u:WZ,L:WJ},!0);if(x!=0){var F=[],Wt=m[2].length;
for(var M=0;M<Wt;M++)F.push(x);if(Z.f.$w(m))Z.f.Vv(m,2,F)}var Wy=new WE;Wy.scale(U.x==0?1:v.x/U.x,U.y==0?1:v.y/U.y);
Z.f.Ly(m,Wy)}g.F=m;if(A)P.push(A)};ZG.je=function(e,j){return e[j.sessionID+","+j.localID]};ZG.Zrp=function(e,j){return e.sessionID==j.sessionID&&e.localID==j.localID};
ZG.ZrP=function(e){var j={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn"}[e];if(j==null)throw e;return j};
ZG.oQ=function(e){return{t:"Objc",v:Z.c.Op({k:e.r*255,z:e.g*255,e:e.b*255})}};ZG.TU=function(e){var j=[e.m00,e.m10,e.m01,e.m11,e.m02,e.m12];
for(var g=0;g<6;g++)if(Math.abs(j[g])<1e-20)j[g]=0;return new WE(j[0],j[1],j[2],j[3],j[4],j[5])};var o={};
o.FE=function(e,j,g){this.name=e;this.id=j;this.fC=null;if(g!=null)this.jD=g};o.FE.prototype.BB=function(e,j,g,P,p){};
o.FE.prototype.enable=function(e,j,g,P,p,v){var x=new z(V.E.O,!0);x.data={U:V.a._E,Lj:"default"};j.P(x)};
o.FE.prototype.disable=function(e,j,g,P,p){};o.FE.prototype.Zxx=function(e,j,g,P,p){return!1};o.FE.prototype.Lr=function(e,j,g,P,p){};
o.FE.prototype.jV=function(e,j,g,P,p){};o.FE.prototype.tg=function(e,j,g,P,p){};o.FE.prototype.jT=function(e,j,g,P,p){};
o.FE.prototype.c_=function(e,j,g,P,p){};o.FE.prototype.Pm=function(e,j,g,P){};o.FE.prototype.zO=function(e,j,g,P){};
o.FE.prototype.aX=function(e,j){};o.FE.prototype.PB=function(e,j){};o.FE.prototype.aQ=function(e,j,g,P,p){};
o.FE.prototype.wY=function(e,j){};o.FE.prototype.FB=function(e,j){return!1};o.FE.prototype.S$=function(e,j){return!1};
o.FE.prototype.eS=function(){return!1};o.FE.prototype.jg=function(e,j){return!0};o.FE.prototype.jn=function(){return null};
o.FE.prototype.ZeU=function(e,j,g){};o.FE.prototype.ZfM=function(){return!1};o.FE.prototype.ZZM=function(e,j,g,P){};
o.FE.prototype.track=function(e){var j=new z(V.E.$E,!0);j.data=e;e.DD=!0;this.fC.P(j)};o.FE.Wo=function(e,j,g,P,p){o.FE.ZNl(e,j,[Zr.get([12,41]).charAt(0)+": "+Z.CF.wn(g.W,P.aY,p,P.W,!0),Zr.get([12,42]).charAt(0)+": "+Z.CF.wn(g.j,P.aY,p,P.j,!0)],P)};
o.FE.ZNl=function(e,j,g,P){var p=14,v=130,x=g.length*17+8,A=new G(e,j-x,v,x),f=o.FE.ZuO;if(f==null)f=o.FE.ZuO=document.createElement("canvas");
f.width=v;f.height=x;var S=f.getContext("2d");S.fillStyle="rgba(0,0,1,1)";S.fillRect(0,0,v,x);S.font=p+"px monospace";
S.fillStyle="rgba(255,255,255,1)";for(var F=0;F<g.length;F++)S.fillText(g[F],6,(F+1)*17);P.n.tx=[[S.getImageData(0,0,v,x).data,A.clone()]]};
o.FE.ZuO=null;o.Xe="0";o.IJ="1";o.Zrm="2";o.ZZW="3";o.y$="5";o.ZZd="6";o.ZZF="7";o.ZZ="8";o.Zfv="9";
o.EM="10";o.jd="11";o.jB="12";o.yO="13";o.Zfy="14";o.Zfu="16";o.Zxy="18";o.lR="19";o.ZuC="20";o.ZZb="22";
o.AY="23";o.js="24";o.Zuu="25";o.Ew="27";o.vu="31";o.ZxT="32";o.ZxG="34";o.ZxH="35";o.vg="36";o.vN="37";
o._e="38";o.Zgt="39";o.ZfH="40";o.ZZo="41";o.yA="42";o.Sx="43";o.TR="47";o.Zx="51";o.vq="52";o.jK="54";
o.yj="55";o.jb="56";o.jc="57";o.yP="58";o.SJ="59";o.Cb="61";o.Sf="100";o.Pr="101";o.yX="120";o.Zn="230";
o.ZsT="231";o.Fy="232";o.jE="233";o.zp="234";o.pR="235";o.Pv="236";o.ZfY=function(e){var j=o.Zz,g=null;
for(var P in j)if(j[P][1].indexOf(e[1].classID)!=-1)g=P;return g};o.Zz={};o.Zz[o.AY]=["tools/brush",["PbTl"]];
o.Zz[o.js]=["tools/pencil",["PcTl"]];o.Zz[o.vu]=["tools/eraser",["ErTl"]];o.sB=function(e,j,g){o.FE.call(this,e,j,g);
this.fi={brush:e?eC.gE():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!0],emode:0,wconf:[40,!0,!0],algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:"front",patch:0};
this.tS=null;this.vm=null;this.jl=null;this.mn=null;this.LM=null;this.Iv=null;this.mT=null;this.Dt=null;
this.UX=null;this.PD=null;this.Re=null;this.RC=null;this.Ll=null;this.WZ=1;this.WO=!1;this.Tg=null;this.caller=null};
o.sB.prototype=new o.FE;o.sB.prototype.S$=function(e,j){return e.kD&&j.v(q.Ag)};o.sB.prototype.jV=function(e,j,g,P,p){if(P.v(q.io)){this.Iv=new Uc(p.x,p.y);
var v=this.fi.brush.Brsh.v,x=v.Dmtr.v.val,A=v.Hrdn!=null?v.Hrdn.v.val:-1;this.mT=[x,A,!0,JSON.parse(JSON.stringify(this.fi.brush)),p];
this.gB(g)}};o.sB.prototype.IT=function(e,j,g){var P=this.mT,p=e.N.d,v=g.x-P[4].x,x=g.y-P[4].y,A=P[0],f=P[1],S=Math.abs(v)>Math.abs(x);
if(S&&P[2]){var F=Math.round(2*v/p);A+=F;g.x-=v-.5*F*p}if(!S&&!P[2]&&f!=-1){var F=Math.round(.25*x);
f+=F;g.y-=x-4*F}A=Math.max(1,A);f=P[1]==-1?-1:Math.max(0,Math.min(100,f));var m=P[3];m.Brsh.v.Dmtr.v.val=A;
if(f!=-1)m.Brsh.v.Hrdn.v.val=f;this.mT=[A,f,S,m,g];var R=WM.Tr(m,j.sM.og,p),M=R[1];M.x=Math.round(this.Iv.x-M.W/2);
M.y=Math.round(this.Iv.y-M.j/2);e.n.RO=[R];var b=e.N.IR(this.Iv.x,this.Iv.y);e.n.KJ={ms:[],mO:[b.x-A/2,b.y,b.x+A/2,b.y]};
if(f!=-1)e.n.KJ.mO.push(b.x+50/p,b.y-f/2,b.x+50/p,b.y+f/2);e.tI=!0};o.sB.prototype.c_=function(e,j,g,P,p){if(this.id==o.ZuC)return;
if(this.Iv){this.Iv=null;this.yY(JSON.parse(JSON.stringify(this.mT[3])));e.n.RO=[];e.n.KJ=null;e.tI=!0;
return}var v=new z(V.E.O,!0);v.data={U:V.a.eW,X:this.id,ZKi:"showBrushOpts",DS:new Uc(p.QB+4,p.$t)};
j.P(v)};o.sB.prototype.yY=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.du,im:WV.xO,Zc:e};this.caller.P(j)};
o.sB.Tb=function(e,j,g,P){if(e==null)e="FrgC";if(j==null)j="norm";if(g==null)g=1;var p={classID:"Fl",Usng:{t:"enum",v:{FlCn:e}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(g*100)}},Md:{t:"enum",v:{BlnM:WF.HH(j)}}};
if(e=="Clr")p.Clr={t:"Objc",v:P};if(e=="contentAware")p.contentAwareColorAdaptationFill={t:"bool",v:!0};
return{Wi:"fill",HR:p}};o.sB.prototype.BB=function(e,j,g,P,p){this.fC=j;var v=g.HO.length;if(v==0&&!g.TA())return;
var x=v!=0?-1-g.HO[0]:g.b[0],A=g.T[x];if(e.U=="fromAction"){var f=e.Rm,S=f.HR;if(f.Wi=="fill"){var F=(S.Opct?S.Opct.v.val:100)/100,m=S.Md?WF.TG(S.Md.v.BlnM):"norm",R=S.Usng.v.FlCn,M;
if(R=="contentAware"){if(g.Z==null){alert("Select an area to heal first.");return}if(!g.TA())return;
this.vL(g);var b=g.Z,s=Z.V(b.rect.h()*4);Z.sH(b.channel,s,3);this._O(g,"sheal",s,b.rect,b.rect);this.H(g,b.rect);
this.finish(g,b.rect)}else{if(R=="FrgC")M=p.Jm;else if(R=="BckC")M=p.gK;else if(R=="Blck")M=0;else if(R=="Wht")M=16777215;
else if(R=="Gry")M=8421504;else if(R=="Clr"){var K=Z.c.W_(S.Clr.v);M=K.k<<16|K.z<<8|K.e}var X=M>>16&255,d=M>>8&255,W=M>>0&255;
this.Zx_(g,A,g.Z,X,d,W,Math.round(255*F),m,[2,3])}}else if(f.Wi=="delete"){var O=x<0?1:A.TM,b=g.Z,c;
if(b==null)return;var H=x<0?g.xr[-x-1]:O<=0?null:O==1?A.ou():A.EK(g)._,Y=O<=0?A.rect:H.rect,y=O<=0?b.rect.zx(Y):b.rect.clone();
if(y.tE())return;var B=y.h();if(O<=0){c=Z.V(B*4);Z.Vy(A.buffer,A.rect,c,y)}else{c=Z.V(B);H.extend(y);
Z.Oo(H.channel,H.rect,c,y)}if(0<=x&&A.kK(g,b)){if(O<=0){Z.XC(c,0);Z.Vy(A.JD.jm,A.JD.ui,c,y)}else{Z.set(c,255);
Z.Oo(A.JD.jm,A.JD.ui,c,y)}}else{if(O<=0){var $=Z.V(c.length>>2);Z.bF(c,$,3);Z.Y.Lk(Z.vK(b.rect.h()),b.rect,$,y,b.channel,y,1);
Z.sH($,c,3)}else{var I=Z.V(b.rect.h()),X=p.gK>>16&255,d=p.gK>>8&255,W=p.gK>>0&255;Z.set(I,Math.round(Z.LL(X,d,W)));
Z.Y.Lk(I,b.rect,c,y,b.channel,y,1)}}this.yl(g,!0,[2,2],x,O,y,c)}}if(e.U=="stroke"){var r=e.ZKz,b=g.Z;
if(b==null){b={rect:A.rect.clone(),channel:Z.V(A.rect.h())};Z.bF(A.buffer,b.channel,3)}var i=Wi.hC(r),U=o.gs.Zfz(b,Math.ceil(i[0]),Math.ceil(i[1])),M=Z.c.W_(r.Clr.v),X=Math.round(M.k),d=Math.round(M.z),W=Math.round(M.e);
this.Zx_(g,A,U,X,d,W,Math.round(255*r.Opct.v.val/100),WF.TG(r.Md.v.BlnM),[14,9])}if(e.U=="fillBMP"){this.ZxU(g,A,g.Z,e.wI,e.Ea,e.de)}if(e.U=="draw"){var N=e.vV,C=e.ZEL?ZI.hW.ZCP(N,g):N.rect,D=this.fi.bmode;
this.vL(g);this.fi.bmode="norm";this._O(g,"draw",N.buffer,C,C.zx(new G(0,0,g.W,g.j)));this.fi.bmode=D;
this.H(g,C);this.finish(g,C,e.de,e.ZEL)}};o.sB.prototype.Zx_=function(e,j,g,P,p,v,x,A,f){var S=g==null?new G(0,0,e.W,e.j):g.rect,F=x<<24|v<<16|p<<8|P<<0,m=Z.V(S.h()*4);
Z.XC(m,F);this.ZxU(e,j,g,m,A,f)};o.sB.prototype.ZxU=function(e,j,g,P,p,v){var x=e.HO.length!=0?-1-e.HO[0]:e.b[0],A=x<0?1:j.TM,f=x<0?e.xr[-1-x]:A<=0?null:A==1?j.ou():j.EK(e)._,S=A<=0?j.rect:f.rect,F=g==null?new G(0,0,e.W,e.j):g.rect,m=g==null?Z.um(e.W*e.j):g.channel,R=F.h(),M,b=null;
if(A<=0){M=Z.V(R*4);Z.Vy(j.buffer,j.rect,M,F)}else{M=Z.V(R);f.extend(F);Z.Oo(f.channel,f.rect,M,F)}if(g!=null)Z.Q_(m,P);
if(A>0){b=Z.V(R);Z.hv(P,b)}if(0<=x&&g&&j.kK(e,g)){var s=j.JD.j_,K=Z.clone(j.JD.j_);if(A<=0)Z.Ue(P,K);
else Z.Ue(b,K);var X=new ZU([2,3],this);X.data={U:"drawtemp",$:e.b[0],pt:A,ZKE:s,ZKI:K};e.sz(X);this.aX(X.data,e)}else{if(A<=0){var d;
if(j.Ku(0)){d=Z.V(F.h());Z.bF(M,d,3)}Z.Y.$Q(p,P,F,M,F,F,1);if(j.Ku(0))Z.sH(d,M,3)}else Z.Y.Lk(b,F,M,F,m,F,1);
this.yl(e,!0,v,x,A,F,M)}};o.sB.prototype.FB=function(e){if(q.Ro.indexOf(e)!=-1)return!0;return!1};o.sB.prototype.Pm=function(e,j,g,P){var p=this.fi.brush,v=P.v(q.io),x=v!=this.WO,A=o.sB.yh(p,P);
if(A!=null)this.yY(A);if(!P.v(q.kA)&&P.td()!=-1){var f=V.ZTQ(Math.round(this.fi.opacity*100),P.td())/100;
this.vS({opacity:f},j)}if(this.id==o.ZZ&&x&&e!=null){var S=this.fi.qsmode;if(S==2)S=e.Z==null?0:1;else S=2;
this.vS({qsmode:S},j)}this.WO=v;if(x){if(e)this.WZ=e.N.d;this.gB(g,P)}};o.sB.yh=function(e,j){var g=e.Brsh.v.Dmtr.v.val,P=e.Brsh.v.Hrdn!=null?e.Brsh.v.Hrdn.v.val:-1,p=g,v=P,x=j.v(q.Ag);
if(j.v(q.Rs)){if(x)P=25*Math.floor((P-1)/25);else{if(g<=10)g--;else if(g<=50)g=5*Math.floor((g-1)/5);
else if(g<=100)g=10*Math.floor((g-1)/10);else if(g<=200)g=25*Math.floor((g-1)/25);else if(g<=400)g=50*Math.floor((g-1)/50);
else g=100*Math.floor((g-1)/100)}}if(j.v(q.ty)){if(x)P=25*Math.ceil((P+1)/25);else{if(g<10)g++;else if(g<50)g=5*Math.ceil((g+1)/5);
else if(g<100)g=10*Math.ceil((g+1)/10);else if(g<200)g=25*Math.ceil((g+1)/25);else if(g<400)g=50*Math.ceil((g+1)/50);
else g=100*Math.ceil((g+1)/100)}}g=Math.max(1,g);P=Math.max(0,Math.min(100,P));if(v==-1)P=-1;if(g!=p||P!=v){var A=JSON.parse(JSON.stringify(e));
A.Brsh.v.Dmtr.v.val=g;if(v!=-1)A.Brsh.v.Hrdn.v.val=P;return A}return null};o.sB.prototype.gB=function(e,j,g,P){if(e.sM.list.length==0)return;
var p=this.id,v;if((p==o.Ew||p==o.lR||p==o.AY||p==o.js)&&(j!=null&&j.v(q.io)||this.fi.alt[0]))v="crosshair";
else{var x=this.WZ,A=this.fi.brush,f;if(g&&g.b.length!=0)f=g.T[g.b[0]];if((p==o.Ew||p==o.lR)&&f!=null&&f.TM<=0){var S=g.N.IR(P.x,P.y),F=this.ZtJ(S),m=this.fi.sfrom,R=f.buffer,M=f.rect,H,Y;
if(m!=0){M=new G(0,0,g.W,g.j);R=g.Gj(m==1&&g.b[0]!=g.T.length-1?g.b[0]:null)}var b=new G(M.x+F.x,M.y+F.y,M.W,M.j),s=WM.Tr(A,e.sM.og,x),K=s[0],X=s[1],d=Math.ceil(X.W/x),W=new G(Math.round(S.x-d/2),Math.round(S.y-d/2),d,d),O=Z.V(W.h()*4);
Z.Vy(R,b,O,W);if(x==1){H=O;Y=W}else if(x<1){var y=Z.ub(O,W,x);H=y.C$;Y=y.rect;if(Y.h()!=X.h()){Y=X.clone();
Y.x=y.rect.x;Y.y=y.rect.y;H=Z.V(Y.h()*4);Z.Vy(y.C$,y.rect,H,Y)}}else{H=K.slice(0);Y=X;Z.scale.Tl(O,W.W,W.j,H,Y.W,Y.j,x)}var B=this.fi.opacity/255;
for(var c=0;c<H.length;c+=4)H[c+3]=B*(K[c+3]*H[c+3]);v={WE:H,B:Y,Va:new Uc(Y.W/2,Y.j/2)}}else v=WM.TZ(A,e.sM.og,x,p==o.Zuu)}var $=new z(V.E.O,!0);
$.data={U:V.a._E,Lj:v};if(this.caller)this.caller.P($)};o.sB.prototype.enable=function(e,j,g,P){this.tS=g;
this.caller=j;this.yY(JSON.parse(JSON.stringify(this.fi.brush)));if(e&&e.N.d!=0)this.WZ=e.N.d;this.gB(g,P)};
o.sB.prototype.wY=function(e,j){if(j==WV.xO){this.fi.brush=e.sM.mk;this.gB(e)}};o.sB.prototype.aQ=function(e,j,g,P,p){for(var v in e)this.fi[v]=e[v];
if(this.fi.alt[0])this.gB(p,P,g)};o.sB.prototype.vL=function(e,j){var g=e.HO.length!=0?-1-e.HO[0]:e.b[0],P=e.T[g],p=g<0?1:P.TM,v=g<0?e.xr[-g-1]:p<=0?null:p==1?P.ou():P.EK(e)._;
this.Ll=e.Z==null?null:{rect:e.Z.rect.clone(),channel:Z.clone(e.Z.channel)};this.PD=v?v.channel:P.buffer;
this.UX=(v?v.rect:P.rect).clone();var x=new G(0,0,e.W,e.j),A=x.Gd(this.UX);if((this.Pq()&&p<=0||A.iJ(this.UX))&&j!=!0)this.PD=this.PD.slice(0);
else{if(v)v.extend(A);else P.extend(A)}this.Re=this.UX;this.RC=this.PD;if(p<=0&&(this.id==o.Ew||this.id==o.lR)){var f=this.fi.sfrom;
if(f!=0){this.Re=new G(0,0,e.W,e.j);this.RC=Z.clone(e.Gj(f==1&&e.b[0]!=e.T.length-1?e.b[0]:null))}}};
o.sB.prototype.PJ=function(e,j,g){if(e.v(q.io)){var P=new z(V.E.s,!0);P.X=o.Zfy;P.data={U:"pickhere",ZKs:g};
j.P(P);return!0}return!1};o.sB.prototype.sy=function(e,j,g,P,p,v){if(!e.TA(this.caller)){this.vm=null;
return}this.vL(e);var x=new G(0,0,e.W,e.j),A=null;if(v!=null){var f=e.HO.length!=0?-1-e.HO[0]:e.b[0],S=e.T[f],F=f<0?e.xr[-f-1]:S.TM<=0?null:S.TM==1?S.ou():S.EK(e)._;
A=Z.V(x.h()*4);if(F)o.sB.mS(this.PD,this.UX,F.color,A,x);else Z.Vy(this.PD,this.UX,A,x)}var m=this.fi;
if(this.vm&&this.id==o.ZZ&&m.qsmode!=0&&e.Z!=null){}else{var R=j.Jm,M=j.gK;if(this.Tg=="erase"){var b=R;
R=M;M=b}var s=this.id==o.ZZ?this.UX:x;this.vm=new WM(m.brush,j.sM.og,j.sM.Zk,{nD:p,Rg:v,ZKO:m.smth*50*V.I()/e.N.d,RB:this.id==o.js||m.emode==1,mw:m.prsr},R,M,s,A)}if(this.id==o.ZZ){this.vm.ZfT(m.brush,m.qsmode==2?0:16777215)}var K=e.N.IR(P.x,P.y);
K=o.KZ.ic(e,K,j);if(g.v(q.Ag)&&this.jl){this.vm.moveTo(this.jl.x,this.jl.y,P.DH);this.vm.lineTo(K.x,K.y,P.DH)}else this.vm.moveTo(K.x,K.y,P.DH);
this.jl=K;this.mn=K.clone();this.LM=new Jw(K)};o.sB.prototype.s$=function(e,j,g){if(e&&e.N.d!=0&&e.N.d!=this.WZ){this.WZ=e.N.d;
this.gB(g)}};o.sB.prototype.Oj=function(e,j,g,P){if(this.vm==null)return;var p=e.T[e.b[0]],v=e.N.IR(P.x,P.y);
v=o.KZ.ic(e,v,j);var x=this.LM.hY(v,g);if(x.iJ(this.jl))return 1;this.vm.lineTo(x.x,x.y,P.DH);this.jl=x;
if(this.id==o.Ew||this.id==o.lR){var A=this.PL(),f=11;A=e.N.p$(v.x-A.x,v.y-A.y);var S=f>>>1,F=new G(Math.round(A.x)-S,Math.round(A.y)-S,f,f),m=Z.V(F.h()*4);
Z.XC(16777215);for(var R=0;R<f;R++)m[(R*f+S)*4+3]=m[(f*S+R)*4+3]=255;e.n.tx=[[m,F]];e.tI=!0}};o.sB.prototype.zO=function(e,j,g,P){if(g.To!=this.id)return;
if(this.id!=o.ZZ||e==null)return;if(e.Z==null||e.b[0]!=this.ZKA){this.ZKA=e.b[0];this.vS({qsmode:0},j)}};
o.sB.prototype.H=function(e,j){if(e.HO.length!=0){e.tI=!0;return}var g=e.T[e.b[0]];if(j==null){j=this.vm.Lo();
if(this.Pq()&&g.TM<=0)j=j.zx(this.UX)}if(j.tE())return;if(g.TM<=0){g.H(j)}if(g.TM==1){g.ou().jA=!0;g.d$(e)}if(g.TM==3){g.H()}e.H(e.root.qO(j,e,e.b[0],!0))};
o.sB.prototype.jT=function(e,j,g,P,p){if(this.vm==null)return;this.vm.finish();if(this.id!=o.Zxy&&this.id!=o.lR&&this.id!=o.ZZ)this.QD(e);
if(this.id==o.Ew||this.id==o.lR){e.n.tx=[];e.tI=!0}if(this.id==o.ZZ){var v=e.Z;e.Z=this.Ll;var x=new z(V.E.s,!0);
x.data={U:"setsel",de:this.name,Z:v};x.X=o.IJ;j.P(x);if(this.fi.qsmode==0)this.vS({qsmode:1},j)}else{this.finish(e,this.vm.Ox());
this.vm=null;this.Dt=null}this.dir=0};o.sB.prototype.vS=function(e,j){for(var g in e)this.fi[g]=e[g];
var P=new z(V.E.O,!0);P.data={U:V.a.eW,X:this.id,JV:e};j.P(P)};o.sB.prototype.Pq=function(){var e=this.id;
return e==o.ZZ||e==o.vu||e==o.Zgt||e==o.ZfH||e==o.ZZo||e==o.ZZb};o.sB.prototype.finish=function(e,j,g,P){var p=e.HO.length!=0?-1-e.HO[0]:e.b[0],v=e.T[p],x=p<0?1:v.TM,A=p<0?e.xr[-p-1]:x<=0?null:x==1?v.ou():v.EK(e)._,f=A?A.rect:v.rect,m;
if(this.Pq()||!f.iJ(this.UX)){if(A==null){if(this.Pq())v.Co();else{var S=j.Gd(this.UX),F=Z.V(S.h()*4);
Z.Vy(v.buffer,v.rect,F,S);v.buffer=F;v.rect=S}}else A.Co();this.H(e,f)}if(x<=0){m=Z.V(j.h()*4);Z.Vy(this.PD,this.UX,m,j)}else{m=Z.V(j.h());
Z.set(m,A.color);Z.Oo(this.PD,this.UX,m,j)}this.yl(e,!1,g?g:this.name,p,x,j,m,P)};o.sB.prototype.yl=function(e,j,g,P,p,v,x,A){var f=x;
if(p>0){f=Z.V(v.h()*4);o.sB.mS(x,v,0,f,v)}var S=new ZU(g,this);S.data=[{$:P,pt:p,B:v,Nr:f}];if(A)S.data.ZES=[e.Z,null];
e.sz(S);if(j)this.aX(S.data,e);else if(A)e.Z=null;ZI.ky.ZeB(e,S.data)};o.sB.prototype.PB=function(e,j){this.Zfh(e,j,!1)};
o.sB.prototype.aX=function(e,j){this.Zfh(e,j,!0)};o.sB.prototype.Zfh=function(e,j,g){if(e.U=="drawtemp"){var P=g?e.ZKI:e.ZKE,p=j.T[e.$];
p.JD.j_=P;p.sU(j,0,0,j.Z);p.H();j.zz=!0}else{ZI.ky.IB(j,e);if(e.ZES){j.Z=e.ZES[g?1:0];j.f_=!0}}j.H()};
o.sB.prototype.QD=function(e){this._O(e,this.Tg,this.vm.Wz(),this.vm.SQ(),this.vm.Lo());this.H(e)};o.sB.prototype._O=function(e,j,g,P,p){var v=this.fi,x=e.T[e.b[0]],A=e.HO.length!=0?e.xr[e.HO[0]]:x.TM<=0?null:x.TM==1?x.ou():x.EK(e)._,f=Z.V(p.h()*4),S,F=x.Ku(0);
if(A==null){Z.Vy(this.PD,this.UX,f,p);if(F){S=Z.V(p.h());Z.bF(f,S,3)}}else{o.sB.mS(this.PD,this.UX,A.color,f,p)}if(e.Z&&j!="qselect"){var m=p.zx(e.Z.rect),R=Z.V(m.h()*4);
if(j=="copy"){var M=Z.V(m.h());Z.Oo(e.Z.channel,e.Z.rect,M,m);Z.Vy(f,p,R,m);Z.Y.aE(g,P,R,m,M,m,0,m,1,!1)}else{Z.Vy(g,P,R,m);
Z.yF(e.Z.channel,e.Z.rect,R,m)}g=R;P=m}if(j=="idraw"||j=="ierase"){if(this.Dt==null)this.Dt=Z.V(this.UX.h());
var b=this.fi.samp,s=this.tS.gK,K=b==0?this.jl:this.mn,X=K.x,d=K.y,W=o.tU.XL(this.PD,this.UX,[K,new Uc(X-2,d),new Uc(X+2,d),new Uc(X,d-2),new Uc(X,d+2)]);
if(b==2)W=[[s>>>16&255,s>>>8&255,s>>>0&255,255]];var O=o.tU.ZLq(f,p,this.jl,W,this.fi.wconf),H=Z.V(p.h());
Z.Oo(this.Dt,this.UX,H,p);Z.$r.Gd(O,H,H);Z.Oo(H,p,this.Dt,this.UX);Z.yF(H,p,g,P);j=j.slice(1)}if(j=="erase"&&(ZI.ky.ZBa(e)!=16777215||A))j="draw";
if(j=="draw")Z.Y.$Q(v.bmode,g,P,f,p,p,v.opacity);else if(j=="erase"){var Y=Z.V(p.h()*4);Z.Vy(g,P,Y,p);
if(A==null){var y=Z.V(p.h());Z.bF(Y,y,3);Z.se(y,v.opacity);Z.OF(y);Z.yF(y,p,f,p)}else{Z.XC(Y,0,4278190080);
Z.Y.$Q("norm",Y,p,f,p,p,v.opacity)}}else if(j=="clone"||j=="heal"){var B=this.PL(),c=this.Re.clone();
c.offset(B.x,B.y);var $=p.clone();$.F_(1,1);var I=Z.V($.h()*4),r=Z.V($.h());Z.Vy(g,P,I,$);Z.bF(I,r,3);
Z.XC(I,0);if(A==null){Z.Vy(this.RC,c,I,$);var i=Z.V($.h());Z.bF(I,i,3);Z.sN(i,r)}else o.sB.mS(this.PD,c,A.color,I,$);
if(j=="clone"){Z.sH(r,I,3);Z.Y.$Q(v.bmode,I,$,f,p,p,v.opacity)}if(j=="heal"){var U=Z.clone(r);Z.round(U,20);
var N=Z.V($.h()*4);Z.Vy(this.PD,this.UX,N,$);Z.Y.aE(I,$,N,$,U,$,0,$,1,!1);Z.$K.fe(N,U,$);Z.Y.aE(N,$,f,p,r,$,0,p,1,!1)}}else if(j=="dodge"||j=="burn"){var I=Z.V(p.h()*4),n=1,w=0,k=0,h=0;
Z.Vy(g,P,I,p);var C=p.h()*4,D=o.sB.PG;if(this.WO){if(j=="dodge")j="burn";else j="dodge"}var t=v.rng;
if(j=="dodge"){w=[1-n/2,1,1+n][t];k=[1,1/(1+n),1][t];h=[n/2,0,0][t]}if(j=="burn"){w=[1/(1-n/2),1,1-n/2][t];
k=[1,1+n,1][t];h=[-(n/2)/(1-n/2),0,0][t]}for(var a=0;a<C;a+=4){var _=I[a+3];f[a+0]=D(f[a+0],w,k,h,_);
f[a+1]=D(f[a+1],w,k,h,_);f[a+2]=D(f[a+2],w,k,h,_)}}else if(j=="sponge"||j=="redeye"){var I=Z.V(p.h()*4),r=Z.V(p.h());
Z.Vy(g,P,I,p);Z.bF(I,r,3);Z.Ue(f,I);var E=v.smode;if(this.WO)E=1-E;var WW=ZW.WX("hue2");if(j=="sponge")Zq.ol(WW,0,[0,[-50,46][E],[6,5][E]]);
else Zq.ol(WW,1,{IE:[265,305,25,55],jL:[0,-90,-70]});var Wx=Wj.fN("hue2",WW);Wj.eI(Wx,I,I,p);Z.Y.aE(I,p,f,p,r,p,0,p,1,!1)}else if(j=="copy")Z.Vy(g,P,f,p);
else if(j=="sheal"){var I=Z.V(p.h()*4),r=Z.V(p.h());Z.Vy(g,P,I,p);Z.bF(I,r,3);Z.xf.fe(this.PD,this.UX,r,f,p)}else if(j=="qselect"){var WU=this.UX,We=WU.W,Wv=WU.j,L=We*Wv,J=this.vm.Wz(),W=this.PD,WZ=o.gs.Pp,r=WZ.Hp;
r.fill(128);for(var a=0;a<L;a++){var WJ=J[a<<2],Wu=J[(a<<2)+3];if(Wu==255&&(WJ==0||WJ==255))r[a]=WJ}r[0]=r[We-1]=0;
r[(Wv>>>1)*We]=r[(Wv>>>1)*We+We-1]=0;o.DP.Yr(WZ,!0);e.Z={rect:WU,channel:WZ.Z.slice(0)};e.f_=!0}if(A==null){if(F)Z.sH(S,f,3);
Z.Vy(f,p,x.buffer,x.rect)}else o.sB.PK(f,p,A)};o.sB.PL=function(){return null};o.sB.PG=function(e,j,g,P,p){var v=e*(1/255),x=P+j*Math.pow(v,g),A=Math.round(x*p+v*(255-p));
return Math.max(0,Math.min(255,A))};o.sB.mS=function(e,j,g,P,p){var v=Z.V(p.h());Z.set(v,g);Z.Oo(e,j,v,p);
Z.XC(P,4278190080);Z.uY(v,P)};o.sB.PK=function(e,j,g){var P=Z.V(j.h());Z.hv(e,P);Z.Oo(P,j,g.channel,g.rect)};
o.gs=function(e,j,g){o.FE.call(this,e,j,g);this.fi={sb:"front",FZ:0,Th:{kC:0,x:3,y:2},Ry:[10,!0,!0]};
this.cZ=new Uc(-1,-1);this.Lt=new Uc(-1,-1);this.Ji="default";this.fC=null;this.vX=!1;this.Ra=!1;this.WO=!1;
this.kW=0;this.pG=0;this.kt=!1;this.Ds=null;this.D$=null;this.mm=!1};o.gs.prototype=new o.FE;o.gs.Pp={key:""};
o.gs.PX=function(e,j){var g={Wi:e,HR:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(j)g.HR.T=j;return g};o.gs.yc=function(e,j){return o.gs.PX("set",{t:"Objc",v:{classID:e,Top:{t:"UntF",v:{type:"#Pxl",val:j.y}},Left:{t:"UntF",v:{type:"#Pxl",val:j.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:j.y+j.j}},Rght:{t:"UntF",v:{type:"#Pxl",val:j.x+j.W}}}})};
o.gs.vI=function(e,j){var g=[],P=[],x="set";for(var p=0;p<e.length;p+=2){g.push(e[p]);P.push(e[p+1])}var v={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:g},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:P}]}}}};
if(j)x={front:"set",union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[j];return o.gs.PX(x,v)};
o.gs.ZUa=function(e,j){var g={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e.y}}}},P=o.gs.PX("set",g);
P.HR.Tlrn={t:"long",v:j[0]};P.HR.AntA={t:"bool",v:j[1]};P.HR.Cntg={t:"bool",v:j[2]};return P};o.gs.CP=function(e){return o.gs.PX("set",{t:"enum",v:{Ordn:e?"Al":"None"}})};
o.gs.ZUz=function(e,j,g){var P={classID:"null"};if(e!="border")P.selectionModifyEffectAtCanvasBounds={t:"bool",v:g};
var p={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[e[0]];P[p]={t:"UntF",v:{type:"#Pxl",val:j}};return{Wi:e,HR:P}};
o.gs.ZUS=function(e,j,g){var P={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},p={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Trsp","Msk"][g]}},{t:"name",v:{classID:"Lyr",val:e}}]},v=[{classID:"null",null:P,T:p},{classID:"null",null:p,T:P},{classID:"null",null:p,From:P},{classID:"null",null:p,With:P}],x=["set","add","subtract","interfaceIconFrameDimmed"];
return{Wi:x[j],HR:v[j]}};o.gs.Zxw=function(e,j){var g=new z(V.E.O,!0);g.data={U:V.a.du,im:WV.fr};if(!j.HS)e.P(g);
g.data={U:V.a.du,im:WV.Rq};if(!j.ka.JX)e.P(g)};o.gs.prototype.BB=function(e,j,g,P,p){o.gs.Zxw(j,p);this.fC=j;
var v=e.U,x,A,f=new G(0,0,g.W,g.j),WB=!1,Wt,Wy;if(v=="fromAction"){var S=e.Rm,F=S.Wi,m=S.HR,R=m?m.selectionModifyEffectAtCanvasBounds:null,M=R&&R.v;
if(F=="inverse"){if(g.Z==null){alert("No selection!");return}x={channel:Z.V(f.h()),rect:f};Z.Oo(g.Z.channel,g.Z.rect,x.channel,x.rect);
Z.OF(x.channel);A=[7,2]}else if(F=="expand"){var b=m.By.v.val,s=g.Z.rect.clone();s.F_(b,b);var K=Z.V(s.h()),X=Z.V(s.h());
Z.Oo(g.Z.channel,g.Z.rect,X,s);Z.style.stroke(X,K,s,b);x={channel:K,rect:s};A=[7,4]}else if(F=="contract"){var b=m.By.v.val,d=g.Z.rect.clone();
d.F_(1,1);if(!M)d=d.zx(f);var X=Z.V(d.h()),W=Z.V(X.length);Z.Oo(g.Z.channel,g.Z.rect,X,d);Z.OF(X);Z.style.stroke(X,W,d,b);
Z.OF(W);x={channel:W,rect:d};Z.Co(x);A=[7,5]}else if(F=="border"){var b=m.Wdth.v.val;x=o.gs.Zfz(g.Z,b/2,b/2);
A=[7,9]}else if(F=="feather"||F=="smoothness"){var b=m.Rds.v.val;x=o.gs.ZCl(g.Z,b,F=="smoothness",f,M);
A=F=="feather"?[7,6]:[19,3,0]}else{var O=m.null.v;function H(W_){var vW=W_.Top.v.val,Wd=W_.Left.v.val;
return new G(Wd,vW,W_.Rght.v.val-Wd,W_.Btom.v.val-vW)}function Y(W_){var vW=W_[0].arr,vL=W_[1].arr,vV={u:[],L:[]};
for(var Wu=0;Wu<vW.length;Wu++){vV.L.push(Wu==0?"M":"L");vV.u.push(vW[Wu],vL[Wu])}vV.L.push("Z");return vV}var y=["set","addTo","subtractFrom","interfaceWhite"].indexOf(F),B=m.T?m.T.v:null;
if(B&&B.classID=="Elps"){x=this.Zep(o.zA.ZeG(H(B)));A=[10,4]}else if(B&&B.classID=="Rctn"){var c=H(B);
x={channel:Z.V(c.h()),rect:c.clone()};Z.set(x.channel,255);A=[10,15]}else if(B&&B.classID=="ObSl"){var c=H(B),$=o.gs.Pp,I=$.rect,r=$.Hp,i=I.W,U=I.j,N=c.x-I.x,C=N+c.W-1,D=Math.max(N,Math.min(C,N+C>>>1)),n=c.y-I.y,w=n+c.j-1,k=Math.max(n,Math.min(w,n+w>>>1)),h=Math.max(N,0),t=Math.min(C,i),a=Math.max(n,0),_=Math.min(w,U);
r.fill(128);if(0<=n)for(var E=h;E<t;E++)r[n*i+E]=0;if(w<U)for(var E=h;E<t;E++)r[w*i+E]=0;if(0<=N)for(var WW=a;
WW<_;WW++)r[WW*i+N]=0;if(C<i)for(var WW=a;WW<_;WW++)r[WW*i+C]=0;var Wx=o.xi.ZDt,WU=Math.round(c.W*Wx),We=Math.round(c.j*Wx);
for(var E=Math.max(0,D-WU);E<Math.min(i,D+WU);E++)r[k*i+E]=255;for(var WW=Math.max(0,k-We);WW<Math.min(U,k+We);
WW++)r[WW*i+D]=255;o.DP.Yr($,!0);x={channel:$.Z.slice(0),rect:I.clone()};A=[10,44]}else if(B&&B.classID=="Plgn"){x=this.Zep(Y(B.Pts.v.arr));
A=[10,9]}else if(B&&B.classID=="Pnt"){x=o.tU.ZuE(g,new Uc(B.Hrzn.v.val,B.Vrtc.v.val),[m.Tlrn.v,m.AntA==null||m.AntA.v,m.Cntg==null||m.Cntg.v]);
A=[10,12]}else if(B&&B.Ordn=="None"){x=null;A=[7,1]}else if(B&&B.Ordn=="Al"){x={channel:Z.V(f.h()),rect:f};
Z.set(x.channel,255);A=[7,0]}else{var Wv=g.b[0],WJ;if(O.length==2)Wv=vT.xA(g,O[1]);else if(B.length==2)Wv=vT.xA(g,B[1]);
var L=(B?B:O)[0].v.enum,J=["Trsp","Msk","vectorMask"].indexOf(L);console.log(J);var WZ=y!=-1?y:["set","add","subtract","interfaceIconFrameDimmed"].indexOf(F);
if(B&&B[0].t=="name"){for(var Wu=0;Wu<g.xr.length;Wu++)if(g.xr[Wu].name==B[0].v.val)Wv=Wu;WJ={U:"fromchannel",ZY:[-5-Wv,0,WZ]}}else if(L=="RGB")WJ={U:"fromchannel",ZY:[-1,0,WZ]};
else WJ={U:"fromlayer",ZY:[Wv,J,WZ]};this.BB(WJ,j,g,P,p);return}if(m.Fthr)x=o.gs.ZCl(x,m.Fthr.v.val,!1);
if(F!="set"&&g.Z!=null)x=Z.$r.gl(x,g.Z,["","union","difference","intersection"][y])}if(F=="expand"||F=="contract")if(!M&&!f.contains(x.rect)){var WC=x.rect.zx(f),Wn=Z.V(WC.h());
Z.Oo(x.channel,x.rect,Wn,WC);x.channel=Wn;x.rect=WC}}if(v=="qmask"){WB=!0;var Wz=g.iE(),WG=new G(0,0,g.W,g.j);
if(Wz){x=Wz.rect.iJ(WG)&&Z.HI(Wz.channel,255)?null:{rect:Wz.rect.clone(),channel:Wz.channel.slice(0)};
Wt=Wz}else{x=null;Wy=new u.IP;Wy.color=0;Wy.name="Quick Mask";Wy.IN=!0;if(g.Z){Wy.rect=g.Z.rect.clone();
Wy.channel=g.Z.channel.slice(0)}else{Wy.rect=WG;Wy.channel=Z.V(Wy.rect.h());Z.set(Wy.channel,255)}}A=[6,6,1]}if(v=="setsel"){x=e.Z;
A=e.de}if(v=="crange"){var Wq=e.VT,Wa=e.VH;x=o.gs.ZxS(g,Wq,Wa,e.Kq);A=[7,8];Wq={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Wq.Kd},A:{t:"doub",v:Wq.Fl},B:{t:"doub",v:Wq.e}}};
Wa={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:Wa.Kd},A:{t:"doub",v:Wa.Fl},B:{t:"doub",v:Wa.e}}};this.track({Wi:"colorRange",HR:{__name:"Color Range",classID:"ClrR",Fzns:{t:"long",v:Math.round(e.Kq*200)},Mnm:Wq,Mxm:Wa,colorModel:{t:"long",v:0}}})}if(v=="fromlayer"||v=="fromchannel"||v=="frompath"){var WK=e.ZY[0],J=e.ZY[1],y=e.ZY[2];
if(v=="fromlayer"){if(WK==null)WK=g.b[0];var Wd=g.T[WK];if(J==0){var WD=Wd.rect,W$=Wd.buffer;if(WD.tE())return;
var Zg=Z.V(W$.length>>>2);Z.bF(W$,Zg,3);x={channel:Zg,rect:WD.clone()}}else{if(Wd._==null)Wd.d$(g);var WL=J==1?Wd.ou():Wd._;
x=o.gs.ZTh(WL,f)}this.track(o.gs.ZUS(Wd.getName(),y,J))}else if(v=="frompath"){var WY=g.OK(),WA=WY[1],WY=WY[0];
if(WY.length==0||WA.length==0)return;var Wb=WY[WA[0]];if(WK!=null)for(var Wu=0;Wu<WY.length;Wu++)if(WY[Wu].VS==WK)Wb=WY[Wu];
var WL=Wb.add.vmsk.ou(),WX=WL.SQ();if(WX.h()==0)return;var Zg=WL.sa(),fI=g.QL.indexOf(-1-WK);if(fI!=-1)g.QL.splice(fI,1);
x={channel:Zg,rect:WX}}else{if(WK==null)WK=o.gs.ZCk(g);x=o.gs.ZfI(g,WK)}if(y!=0&&g.Z)x=Z.$r.gl(x,g.Z,["","union","difference","intersection"][y]);
A=[14,11]}if(x!=null&&Z.HI(x.channel,0)){x=null;A=[7,1]}if(x)Z.Co(x);var Ww=new ZU(A,this);Ww.data={U:"changesel",Ll:g.Z,kz:x,iE:WB,ZSZ:Wt,ZSL:Wy};
g.sz(Ww);this.aX(Ww.data,g)};o.gs.ZCk=function(e){var j=0;if(e.HO.length!=0)j=-5-e.HO[0];else if(JSON.stringify(e.N.oJ)=="[1,1,1]")j=-1;
else j=-2-e.N.oJ.indexOf(1);return j};o.gs.ZfI=function(e,j){var g,P=new G(0,0,e.W,e.j);if(-5<j&j<0){var p=-j-1,v=e.Gj(),x=Z.V(P.h());
if(p==0)Z.hv(v,x);else Z.bF(v,x,p-1);g={channel:x,rect:P.clone()}}if(j<-4){g=o.gs.ZTh(e.xr[-j-5],P)}return g};
o.gs.ZTh=function(e,j){var g,P;if(e.W_()==0){P=e.SQ();if(P.h()==0)return;g=e.sa()}else{P=j;g=Z.V(P.h());
e.Eb(P,g)}return{channel:g,rect:P}};o.gs.prototype.S$=function(e){return this.kt||e.kD&&this.id!=o.y$};
o.gs.prototype.iH=function(e,j,g){var P=new z(j,!0);P.data=g;e.P(P)};o.gs.prototype.ZZX=function(e,j){var g=new z(V.E.O,!0);
g.data={U:V.a._E,Lj:j};e.P(g)};o.gs.prototype.SQ=function(e,j,g){j=e.Z==null||this.kW>1||this.pG>1?j:null;
var P=this.cZ,p=this.Lt;if(g){P.x=Math.max(0,Math.min(e.W,P.x));P.y=Math.max(0,Math.min(e.j,P.y));p.x=Math.max(0,Math.min(e.W,p.x));
p.y=Math.max(0,Math.min(e.j,p.y))}var v=o.yQ.NV(P,p,j,!0,this.fi.Th),x=v[0].x,A=v[0].y;return new G(x,A,v[1].x-x,v[1].y-A)};
o.gs.prototype.Lr=function(e,j,g,P,p){if(this.ar())return;this.fC=j;this.vX=!1;this.Ra=P.v(q.Ag);this.WO=P.v(q.io);
this.kW=this.Ra?0:1;this.pG=this.WO?0:1;this.cZ=e.N.IR(p.x,p.y);this.cZ=o.KZ.ic(e,this.cZ,g);if(this.ZJC(e,this.cZ,P)){this.kt=!0;
this.Ds=e.Z.rect.clone();return}this.QN(e,g,P,p);e.N.cT=new G};o.gs.prototype.ZJC=function(e,j,g){var P=g.v(q.Ag),p=g.v(q.io);
if(e.Z&&!P&&!p&&this.fi.sb=="front")return Z.hE(j,e.Z.channel,e.Z.rect);return!1};o.gs.prototype.tg=function(e,j,g,P,p){this.fC=j;
if(this.mm)return;var v=e.N.IR(p.x,p.y);if(Uc.zG(this.cZ,v)*e.N.d>5)this.vX=!0;if(P.v(q.Er)){if(this.D$==null)this.D$=new Uc(v.x-this.cZ.x,v.y-this.cZ.y);
this.cZ.x=v.x-this.D$.x;this.cZ.y=v.y-this.D$.y}else this.D$=null;this.Lt=v;if(!this.kt)this.Lt=o.KZ.ic(e,this.Lt,g);
if(this.ZJC(e,this.Lt,P))this.ZZX(j,"move");else this.ZZX(j,this.Ji);if(this.kt){var x=this.Ds.clone();
x.x+=this.Lt.x-this.cZ.x;x.y+=this.Lt.y-this.cZ.y;var A=o.KZ.Si(e,x,g);e.Z.rect.x=Math.round(this.Lt.x-this.cZ.x+this.Ds.x+A[0]);
e.Z.rect.y=Math.round(this.Lt.y-this.cZ.y+this.Ds.y+A[1]);e.f_=!0;o.KZ.Sd(e,x,A);return}this.Aw(e,g,P,p);
if(e.N.cT)e.N.cT=this.SQ(e,P)};o.gs.prototype.ar=function(){return!1};o.gs.prototype.jT=function(e,j,g,P,p){e.N.cT=null;
this.Lt=e.N.IR(p.x,p.y);this.Lt=o.KZ.ic(e,this.Lt,g);if(this.kt){this.kt=!1;if(this.Lt.iJ(this.cZ)&&this.ZxX()=="front"){this.iH(j,V.E.$E,o.gs.CP());
return}this.Zzh(e,this.Ds,e.Z.rect.clone());if(e!=null&&e.n.TW){e.n.TW=null;e.tI=!0}return}this.Sy(e,g,P,p);
o.gs.Zxw(j,g)};o.gs.prototype.Zzh=function(e,j,g){var P=e.iY();if(P!=null&&P.X==this&&P.data.U=="movesel"){}else{P=new ZU([7,7],this);
P.data={U:"movesel",$U:j};e.sz(P)}P.data.Fx=g;this.aX(P.data,e)};o.gs.prototype.jV=function(e,j,g,P,p){this.mm=!0};
o.gs.prototype.c_=function(e,j,g,P,p){var v=new z(V.E.O,!0);v.data={U:V.a.eW,X:this.id,CJ:p,Lg:e,ES:g};
j.P(v);this.mm=!1};o.gs.prototype.Pm=function(e,j,g,P){var p=P.v(q.Ag),v=P.v(q.io);if(this.vX){if(this.kW==0&&!p)this.kW++;
if(this.kW==1&&p)this.kW++;if(this.pG==0&&!v)this.pG++;if(this.pG==1&&v)this.pG++}if(e!=null&&e.Z!=null){var x=P.GH();
if(x.x!=0||x.y!=0){var A=e.Z.rect.clone();A.x+=x.x;A.y+=x.y;this.Zzh(e,e.Z.rect.clone(),A)}}var f=o.gs.aJ(this.fi.sb,p,v),S=new z(V.E.O,!0);
S.data={U:V.a.eW,X:this.id,sb:f};j.P(S)};o.gs.prototype.finish=function(e,j,g,P){var p=e.Z,v=this.getSelection(e,j,g,P);
if(v==null)v=o.gs.CP();else{var x=this.fi.FZ,A=this.ZxX();if(x!=0)v.HR.Fthr={t:"UntF",v:{type:"#Pxl",val:x}};
if(A!="front"&&A!="xor")v.Wi={union:"addTo",difference:"subtractFrom",intersection:"interfaceWhite"}[A]}this.iH(this.fC,V.E.$E,v);
this.cZ.Ve(-1,-1);this.Lt.Ve(-1,-1)};o.gs.prototype.ZxX=function(){return o.gs.aJ(this.fi.sb,this.Ra,this.WO)};
o.gs.aJ=function(e,j,g){if(j)e="union";if(g)e="difference";if(j&&g)e="intersection";return e};o.gs.prototype.getSelection=function(e,j,g,P){return null};
o.gs.prototype.QN=function(e,j,g,P){};o.gs.prototype.Aw=function(e,j,g,P){};o.gs.prototype.Sy=function(e,j,g,P){};
o.gs.prototype.PB=function(e,j){var g=e.U;if(g=="changesel")j.Z=e.Ll;if(g=="movesel")j.Z.rect=e.$U;if(e.iE){if(e.ZSZ){j.HO=[j.xr.length];
j.xr.push(e.ZSZ)}else{j.xr.pop();j.HO=[]}}j.f_=!0};o.gs.prototype.aX=function(e,j){var g=e.U;if(g=="changesel")j.Z=e.kz;
if(g=="movesel")j.Z.rect=e.Fx;if(e.iE){if(e.ZSL){j.HO=[j.xr.length];j.xr.push(e.ZSL)}else{j.xr.pop();
j.HO=[]}}j.f_=!0};o.gs.prototype.aQ=function(e){this.fi=e};o.gs.prototype.Zep=function(e){var j=Z.g.bO(e.u);
if(j.tE())return null;var g=V.M("canvas","");g.width=j.W;g.height=j.j;var P=g.getContext("2d");P.beginPath();
P.translate(-j.x,-j.y);Typr.U.pathToContext({cmds:e.L,crds:e.u},P);P.closePath();P.fill();var p=Z.V(j.h()),v=P.getImageData(0,0,g.width,g.height);
Z.bF(v.data,p,3);return{rect:j,channel:p}};o.gs.ZCl=function(e,j,g,P,p){if(g)j=Math.round(j*.7);var v=Math.ceil(2.6*j),x=e.rect.clone();
x.F_(v,v);if(P&&!p)x=x.zx(P);var A=Z.V(x.h()),f=Z.V(A.length);Z.Oo(e.channel,e.rect,f,x);Z.blur.Mj(f,A,x,j);
if(g){var S=A.length;for(var F=0;F<S;F++){var m=(A[F]-128)*j*2.5;A[F]=Math.max(0,Math.min(255,Math.round(128+m)))}}return{channel:A,rect:x}};
o.gs.Zfz=function(e,j,g){var P=Math.max(1,Math.ceil(g)),p=e.rect.clone();p.F_(P,P);var v=p.h(),x={channel:Z.V(v),rect:p},A=Z.V(v);
Z.Oo(e.channel,e.rect,A,x.rect);if(g!=0)Z.style.stroke(A,x.channel,x.rect,g);else Z.Ue(A,x.channel);
var f=Z.V(v);Z.OF(A);if(j!=0)Z.style.stroke(A,f,x.rect,j);else Z.Ue(A,f);Z.$r.zx(x.channel,f,x.channel);
return x};o.gs.ZxS=function(e,j,g,P){var p=new G(0,0,e.W,e.j),v=e.Gj();if(e.Z){var x=e.Z.rect.zx(p),A=Z.V(x.h()*4);
Z.Vy(v,p,A,x);p=x;v=A}var f=p.h(),S=Z.V(f),F=1/P;for(var m=0;m<f;m++){var R=m<<2,M=Z.YV(v[R],v[R+1],v[R+2]),b=Z.QF(M,j,g,P,F);
S[m]=255*b}return{rect:p,channel:S}};o.PY=function(){o.sB.call(this,[10,18],o.vg,"tools/blur");this.Tg="copy"};
o.PY.prototype=new o.sB;o.PY.prototype.Lr=function(e,j,g,P,p){var v=P.v(q.io)?WM.hm:WM.vg;this.sy(e,g,P,p,this.fi.strn,v);
if(this.vm==null)return;this.QD(e)};o.PY.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.PR=function(){o.sB.call(this,[10,0],o.AY,"tools/brush");
this.Tg="draw"};o.PR.prototype=new o.sB;o.PR.prototype.Lr=function(e,j,g,P,p){if(this.PJ(P,j,p))return;
this.sy(e,g,P,p,this.fi.flow);if(this.vm==null)return;this.QD(e)};o.PR.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);
if(this.Iv)this.IT(e,g,p);if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.Pk=function(){o.sB.call(this,[10,42],o.Zuu,"tools/crepl");
this.Tg="idraw";this.fi.bmode="hue "};o.Pk.prototype=new o.sB;o.Pk.prototype.Lr=function(e,j,g,P,p){if(this.PJ(P,j,p))return;
this.sy(e,g,P,p,this.fi.flow);if(this.vm==null)return;this.QD(e)};o.Pk.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);
if(this.Iv)this.IT(e,g,p);if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.PF=function(){o.sB.call(this,[10,43],o.ZZb,"tools/redeye");
this.fi.smode=0;this.Tg="redeye"};o.PF.prototype=new o.sB;o.PF.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,this.fi.flow);
if(this.vm==null)return;this.QD(e)};o.PF.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.Pw=function(){o.sB.call(this,[10,38],o.js,"tools/pencil");
this.Tg="draw"};o.Pw.prototype=new o.sB;o.Pw.prototype.Lr=function(e,j,g,P,p){if(this.PJ(P,j,p))return;
this.sy(e,g,P,p,this.fi.flow);if(this.vm==null)return;this.QD(e)};o.Pw.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);
if(this.Iv)this.IT(e,g,p);if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.XU=function(){o.sB.call(this,[10,22],o.ZfH,"tools/burn");
this.Tg="burn"};o.XU.prototype=new o.sB;o.XU.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,this.fi.expo/Math.E);
if(this.vm==null)return;this.QD(e)};o.XU.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.Zw=function(e,j,g){o.sB.call(this,e==""?null:e?e:[10,1],j?j:o.Ew,g?g:"tools/clone");
this.Tg="clone";this.Jb=null;this.R=null};o.Zw.prototype=new o.sB;o.Zw.prototype.Lr=function(e,j,g,P,p){var v=this.fi,x=v.alt[0];
if(P.v(q.io)||P.v(q.EU)||x){this.Jb=e.N.IR(p.x,p.y);this.R=null;if(x)this.vS({alt:[!1]},j);this.gB(g,P,e,p);
return}if(this.Jb==null){alert(Zr.get([15,7,0]));return}this.gB(g,P);this.sy(e,g,P,p,this.fi.flow);if(this.vm==null)return;
this.R=this.ZtJ(e.N.IR(p.x,p.y));this.QD(e)};o.Zw.prototype.ZtJ=function(e){var j=this.R;if(j==null||!this.fi.algnd)j=new Uc(Math.round(e.x-this.Jb.x),Math.round(e.y-this.Jb.y));
return j};o.Zw.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);if(this.vm==null){if(this.Jb!=null)this.gB(g,P,e,p);
return}if(!p.kD||this.Jb==null)return;this.Oj(e,g,P,p);this.QD(e)};o.Zw.prototype.PL=function(){return this.R};
o.Zw.prototype.disable=function(e,j,g,P){this.Jb=null;this.R=null};o.oo=function(e,j,g){o.FE.call(this,e,j,g);
this.pO={v_:{kC:0,x:0,y:0}};this.xV=null;this.cursor=null;this.ZSk=0;this.ZJ=null;this.cZ=null;this.RG=null};
o.oo.prototype=new o.FE;o.oo.prototype.eS=function(){return this.xV!=null};o.oo.prototype.S$=function(e){return this.xV&&this.xV.ZDQ()};
o.oo.prototype.Lr=function(e,j,g,P,p){this.ZJ=p;var v=e.N.IR(p.x,p.y);v.x=Math.round(v.x);v.y=Math.round(v.y);
var x=this.pO.v_,A=x.kC!=0?x.x/x.y:null;if(this.xV)this.xV.Lr(e,g,P,v,A,!1);else this.cZ=o.KZ.ic(e,v,g)};
o.oo.prototype.ZZK=function(e,j){var g=[e.x,e.y,e.x+e.W,e.y,e.x+e.W,e.y+e.j,e.x,e.y+e.j];return new vh(g,!0,!1,this.id==o.jd,!0,j,this.id==o.jd?2:0,this.id==o.jd)};
o.oo.prototype.gB=function(e){var j=new z(V.E.O,!0);j.data={U:V.a._E,Lj:this.cursor};e.P(j)};o.oo.prototype.enable=function(e,j,g,P){this.cursor="crosshair";
this.gB(j);if(e!=null&&e.Z){var p=this.pO.v_={kC:0,x:0,y:0};this.iH(j,V.E.O,{U:V.a.eW,X:this.id,DX:!1,Th:p});
this.aQ({vk:"cropby",ZIT:3},j,e,P,g)}};o.oo.prototype.tg=function(e,j,g,P,p){this.ZJ=p;var v=e.N.IR(p.x,p.y);
if(!p.kD){var x="crosshair";if(this.xV){var A=this.xV.So(v,e.N.d);if(A)x=A;else x="default"}if(x!=this.cursor){this.cursor=x;
this.gB(j)}}if(this.xV)this.xV.tg(e,g,P,v);else if(this.cZ){var f=o.yQ.NV(this.cZ,o.KZ.ic(e,v,g),P,!0,this.pO.v_),S=f[0].x,F=f[0].y,m=this.RG=new G(S,F,f[1].x-S,f[1].y-F);
e.n.eP=Z.g.B$(m);e.tI=!0;o.FE.Wo(p.x+10,p.y-10,m,e,g)}};o.oo.prototype.jT=function(e,j,g,P,p){this.ZJ=p;
if(this.xV==null){if(this.cZ){var v=this.RG;if(v){var x=this.pO.v_;this.xV=this.ZZK(v,x.kC!=0);this.xV.oG(e,g);
this.RG=null;this.iH(j,V.E.O,{U:V.a.eW,X:this.id,DX:!0})}this.cZ=null;e.n.tx=[];e.tI=!0}return}var A=e.N.IR(p.x,p.y);
this.xV.jT(e,g,P,A);this.iH(j,V.E.O,{U:V.a.eW,X:this.id,DX:!0});var f=this.xV.Ud();if(Math.abs(f[0]-f[4])<2||Math.abs(f[1]-f[5])<2){this.disable(e,j,null,P);
return}if(Date.now()-this.ZSk<200&&this.xV.Vn(A)){this.ay(e,g);this.disable(e,j,g,P);return}this.ZSk=Date.now()};
o.oo.prototype.Pm=function(e,j,g,P){var p=this.xV;if(p==null||this.ZJ&&this.ZJ.kD)return;if(P.v(q.dS)){this.ay(e,g);
this.disable(e,j,g,P)}else if(P.v(q.Ae)){this.disable(e,j,g,P)}else p.Pm(e,g,P)};o.oo.ag=function(e,j){if(j==null)j=[!0,!0,!0,!0];
var g={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][e]}}},P=["Top","Left","Btom","Rght"];
for(var p=0;p<4;p++)g[P[p]]={t:"bool",v:j[p]};return{Wi:"trim",HR:g}};o.oo.Zug=function(e,j,g,P){var p={classID:"null"};
if(P!=null){p.Wdth={t:"UntF",v:{type:"#Pxl",val:e}};p.Hght={t:"UntF",v:{type:"#Pxl",val:j}};p.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][P]}}}if(g!=null)p.Rslt={t:"UntF",v:{type:"#Rsl",val:g}};
return{Wi:"imageSize",HR:p}};o.oo.Zxa=function(e,j,g){if(g==null)g=4;var P=Math.floor(g/3),p=g%3;return{Wi:"canvasSize",HR:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:e}},Hght:{t:"UntF",v:{type:"#Pxl",val:j}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][p]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][P]}}}}};
o.oo.prototype.BB=function(e,j,g,P,p){var v=new G(0,0,g.W,g.j),x=[11,3],A=g.aY,f=g.W/2,S=g.j/2,F=1,k,h;
if(e.U=="fromAction"){var m=e.Rm,R=m.Wi,M=m.HR,b=g.W/g.j,s=M.Wdth?M.Wdth.v.val:-1,K=M.Hght?M.Hght.v.val:-1,A=M.Rslt?M.Rslt.v.val:null,X=M.Wdth?M.Wdth.v.type:M.Hght?M.Hght.v.type:-1,d=1,W;
if(R=="imageSize"){if(M.Intr){if(M.Intr.v.Intp=="Nrst")d=0;if(M.Intr.v.Intp=="bicubicSharper")d=2;if(s==-1&&K==-1){var O=A/g.aY;
s=Math.round(g.W*O);K=Math.round(g.j*O)}else if(X=="#Prc"){if(s!=-1)s=Math.round(g.W*s/100);if(K!=-1)K=Math.round(g.j*K/100)}if(M.CnsP&&M.CnsP.v){if(s==-1)s=Math.round(K*b);
if(K==-1)K=Math.round(s/b)}}else{if(X=="#Prc")A=Math.round(g.aY/((s!=-1?s:K)/100));else if(X==-1)A=Math.round(A);
else throw"e";s=g.W;K=g.j}W={U:"imgsize",Do:s,DM:K,Dc:A,FJ:d}}else if(R=="canvasSize"){console.log(R,M);
if(s==-1)s=g.W;if(K==-1)K=g.j;if(M.Rltv&&M.Rltv.v==!0){if(M.Wdth)s+=g.W;if(M.Hght)K+=g.j}var H=M.Vrtc?M.Vrtc.v.VrtL:"Cntr",Y=M.Hrzn?M.Hrzn.v.HrzL:"Cntr";
W={U:"canvsize",Do:s,DM:K,HY:3*["Top","Cntr","Btom"].indexOf(H)+["Left","Cntr","Rght"].indexOf(Y)}}else if(R=="revealAll"){W={U:"revealAll"}}else if(R=="trim"){var y={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[M.trimBasedOn.v.trimBasedOn];
if(y==null)throw"e";var B=["Top","Left","Btom","Rght"],c=[!0,!0,!0,!0];for(var $=0;$<4;$++)if(M[B[$]])c[$]=M[B[$]].v;
W={U:"trim",Zte:y,Th:c}}if(W)this.BB(W,j,g,P,p);return}else if(e.U=="imgsize"){v=new G(0,0,e.Do,e.DM);
if(e.Dc)A=e.Dc;F=e.FJ}else if(e.U=="canvsize"){var I=e.HY!=null?e.HY:0;v=new G(0,0,e.Do,e.DM);var r=g.W-e.Do,i=g.j-e.DM,U=Math.round(r/2),N=Math.round(i/2);
if(I==1||I==4||I==7)v.x=U;if(I==2||I==5||I==8)v.x=r;if(I==3||I==4||I==5)v.y=N;if(I==6||I==7||I==8)v.y=i;
if(e.R){v.x=e.R.x;v.y=e.R.y}}else if(e.U=="rot"&&(e.r+2*Math.PI)%(Math.PI/2)!=0){var C=Z.g.B$(v).u,D=new WE;
D.translate(-f,-S);D.rotate(e.r);D.translate(f,S);Z.g.K(C,D,C);v=Z.g.bO(C)}else if(e.U=="rot"&&e.r!=Math.PI&&e.r!=-Math.PI){v=new G(f-g.j/2,S-g.W/2,g.j,g.W);
if((g.W+g.j&1)==1){f=Math.floor(f);S=Math.floor(S);v=new G(f-Math.floor(g.j/2),S-Math.floor(g.W/2),g.j,g.W);
if((g.W&1)==1&&e.r!=-Math.PI/2)v.y--;if((g.j&1)==1&&e.r==-Math.PI/2)v.x--}}else if(e.U=="trim"){x=[11,12,0];
var n=g.Gj(),w=new G(0,0,g.W,g.j);v=Z.sq(n,w,e.Zte,e.Th);if(v.tE())v=w}else if(e.U=="cropbysel"){x=[11,12,1];
v=g.Z.rect.clone()}else if(e.U=="revealAll"){x=[11,12,2];v=g.root.SQ(g,!0)}if(e.U=="imgsize"||e.U=="rot"||e.U=="scl"){var t=new WE;
if(e.U=="imgsize"){x=[11,10];t.scale(e.Do/g.W,e.DM/g.j)}else{t.translate(-f,-S);if(e.U=="rot")t.rotate(e.r);
if(e.U=="scl")t.scale(e.r.x,e.r.y);t.translate(f,S);x=e.de}h=Z.D.aL(t);k=this.ZZy(g,p,h,F)}var a=new G(0,0,g.W,g.j);
if(!v.tE()&&(!v.iJ(a)||k!=null)){var _=new ZU(x,this);_.data={$U:a,Fx:v,ZHe:g.aY,Dc:A,Jw:k,RE:h,tf:o.oo.ZxN(g,v,a,k!=null)};
g.sz(_);this.aX(_.data,g)}};o.oo.ZxN=function(e,j,g,P){if(e.iZ.length==0)return null;var p=JSON.stringify(e.iZ),v=JSON.parse(p);
o.bR.Zed(v,j,g,P);v=JSON.stringify(v);return[p,v]};o.oo.prototype.ZZy=function(e,j,g,P,p){var v={T:[],kM:null,GV:null};
for(var x=0;x<e.T.length;x++)v.T.push(x);for(var x=0;x<e.Bd.length;x++)v.T.push(-1-x);v.kM=o.t.Vx(e,v.T,!0);
o.t.Ny(e,j,v.T,v.kM,P,g,null,!0,p);v.GV=o.t.Vx(e,v.T,!0);return v};o.oo.prototype.aX=function(e,j){if(e.Dc)j.aY=e.Dc;
if(e.tf)j.iZ=JSON.parse(e.tf[1]);if(e.Jw){o.oo.ZLB(j,Z.D.pN(e.RE));o.t.VV(j,e.Jw.T,e.Jw.GV)}o.oo.vH(j,e.Fx)};
o.oo.prototype.PB=function(e,j){if(e.ZHe)j.aY=e.ZHe;if(e.tf)j.iZ=JSON.parse(e.tf[0]);var g=e.$U.clone();
g.offset(-e.Fx.x,-e.Fx.y);o.oo.vH(j,g);if(e.CD)j.N.R.Tc(e.CD);j.ZWy();if(e.Jw){var P=Z.D.pN(e.RE).clone();
P.OF();o.oo.ZLB(j,P);o.t.VV(j,e.Jw.T,e.Jw.kM)}};o.oo.ZLB=function(e,j){for(var g=0;g<e.T.length;g++){var P=e.T[g];
if(P.add.artb==null)continue;var p=Z.g.B$(P.EX()).u;Z.g.K(p,j,p);var v=Z.g.bO(p);P.fl(v)}};o.oo.vH=function(e,j){e.W=j.W;
e.j=j.j;var g=[];for(var P=0;P<e.T.length;P++)g.push(P);o.KZ.iT(e,g,null,-j.x,-j.y);for(var P=0;P<e.T.length;
P++){e.T[P].d$(e)}e.ZWy();e.N.R.Ve(0,0);if(e.Z)e.Z.rect.offset(-j.x,-j.y);for(var P=0;P<e.xr.length;
P++)e.xr[P].rect.offset(-j.x,-j.y)};o.oo.prototype.aQ=function(e,j,g,P,p){if(e.vk=="commit"){this.ay(g,p);
this.disable(g,j,null,P)}else if(e.vk=="cancel"){this.disable(g,j,null,P)}var v=null,x=this.pO.v_;if(e.vk=="config"){this.pO=e.pO;
x=this.pO.v_;if(g==null)return;v=new G(0,0,g.W,g.j);if(x.kC==1){var A=x.x/x.y;v.j=Math.round(v.W/A)}if(x.kC==2){v.W=x.x;
v.j=x.y}v.x=Math.round((g.W-v.W)/2);v.y=Math.round((g.j-v.j)/2)}if(e.vk=="cropby"){if(g==null)return;
var f=e.ZIT,v;if(f==0)v=g.root.SQ(g,!0);if(f==1){if(g.b.length==0)alert("No layer is selected.");else{var S=g.root.oA(g.b[0]);
v=S.SQ(g,!0)}}if(f==2){if(g.b.length==0)alert("No layer is selected.");else{var F=g.T[g.b[0]];v=Z.sq(F.buffer,F.rect,0);
if(v.tE())v=F.rect.clone()}}if(f==3){if(g.Z!=null)v=g.Z.rect;else alert("There is no selection.")}}if(v&&v.tE())v=null;
if(v!=null){this.xV=this.ZZK(v,x.kC!=0);this.xV.oG(g,p);this.iH(j,V.E.O,{U:V.a.eW,X:this.id,DX:!0})}};
o.oo.prototype.ay=function(e,j){var g=this.xV.Ud(),P=Z.g.bO(g),p=this.ZUI(e,g),v=!1,x=this.pO.v_,A=x.x,f=x.y,m;
if(this.id==o.EM&&x.kC==2&&p.h()!=A*f){p=new G(p.x,p.y,A,f);v=!0}var S=Z.D.Or(g,p);S=Z.D.OF(S);var F=Z.D.Ka(S),R=Math.atan2(S[3],S[0]);
if(Math.abs(R)>1e-9||!F||v)m=this.ZZy(e,j,S,1,P);var M=new ZU(this.name,this),b=new G(0,0,e.W,e.j);M.data={$U:b,Fx:p,Jw:m,RE:S,CD:e.N.R.clone(),tf:o.oo.ZxN(e,p,b,!1)};
e.sz(M);this.aX(M.data,e)};o.oo.prototype.ZUI=function(e,j){var g=Z.D.Or(j),P=Z.D.Ka(g),p=Z.D.pN(g),v=p.vR,x=p.LV,A=Math.atan2(p.e,p.Fl);
p.rotate(A);var f=new G(v,x,p.Fl,p.LC);if(!P){function S(W,O,H){var Y=W[O]-W[H],y=W[O+1]-W[H+1];return Math.sqrt(Y*Y+y*y)}var F=S(j,0,2),m=S(j,4,6),R=Math.max(F,m),M=S(j,2,4),b=S(j,6,0),s=Math.max(M,b),K=o.oo.ZUH(j,e.W/2,e.j/2),X,d;
if(isNaN(K)||K==Infinity||K==-Infinity||Math.min(K,1/K)<.1)K=(F+m)/(M+b);if(R/s>K){X=R*1;d=X/K}else{d=s*1;
X=d*K}f.W=X;f.j=d}f.x=Math.round(f.x);f.y=Math.round(f.y);f.W=Math.round(f.W);f.j=Math.round(f.j);return f};
o.oo.ZUH=function(e,j,g){var P=e[0]-j,p=e[1]-g,v=e[2]-j,x=e[3]-g,A=e[6]-j,f=e[7]-g,S=e[4]-j,F=e[5]-g,m=((p-F)*A-(P-S)*f+P*F-p*S)/((x-F)*A-(v-S)*f+v*F-x*S),R=((p-F)*v-(P-S)*x+P*F-p*S)/((f-F)*v-(A-S)*x+A*F-f*S),M=-((R*f-p)*(m*x-p)+(R*A-P)*(m*v-P))/((R-1)*(m-1));
function b(K){return K*K}var s=Math.sqrt((b(m-1)+b(m*x-p)/M+b(m*v-P)/M)/(b(R-1)+b(R*f-p)/M+b(R*A-P)/M));
if(m==1&&R==1)s=Math.sqrt((b(x-p)+b(v-P))/(b(f-p)+b(A-P)));return s};o.oo.prototype.disable=function(e,j,g,P){if(e==null)return;
if(this.xV)this.xV.clear(e);this.xV=null;this.iH(j,V.E.O,{U:V.a.eW,X:this.id,DX:!1})};o.oo.prototype.iH=function(e,j,g,P){var p=new z(j,!0);
p.data=g;if(P)p.X=P;e.P(p)};o.ZIe=function(){o.oo.call(this,[10,2],o.EM,"tools/rcrop")};o.ZIe.prototype=new o.oo;
o.ZfE=function(){o.oo.call(this,[10,39],o.jd,"tools/pcrop")};o.ZfE.prototype=new o.oo;o.XW=function(){o.sB.call(this,[10,21],o.Zgt,"tools/dodge");
this.Tg="dodge"};o.XW.prototype=new o.sB;o.XW.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,this.fi.expo/Math.PI);
if(this.vm==null)return;this.QD(e)};o.XW.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.Xv=function(){o.sB.call(this,[10,3],o.vu,"tools/eraser");
this.Tg="erase"};o.Xv.prototype=new o.sB;o.Xv.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,this.fi.flow);
if(this.vm==null)return;this.QD(e)};o.Xv.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;var v=this.Oj(e,g,P,p);this.QD(e)};o.XB=function(){o.sB.call(this,[10,45],o.ZxT,"tools/beraser");
this.Tg="ierase"};o.XB.prototype=new o.sB;o.XB.prototype.Lr=function(e,j,g,P,p){if(this.PJ(P,j,p))return;
this.sy(e,g,P,p,this.fi.flow);if(this.vm==null)return;this.QD(e)};o.XB.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);
if(this.Iv)this.IT(e,g,p);if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.vo=function(){o.gs.call(this,[10,15],o.IJ,"tools/rselect");
this.Ji="crosshair"};o.vo.prototype=new o.gs;o.vo.prototype.Aw=function(e,j,g,P){if(!P.kD||!this.vX)return;
var p=this.SQ(e,g,!0);e.n.eP=Z.g.B$(p);e.tI=!0;o.FE.Wo(P.x+10,P.y-10,p,e,j)};o.vo.prototype.Sy=function(e,j,g,P){e.n.eP=null;
e.n.tx=[];e.tI=!0;this.finish(e,j,g,P)};o.vo.prototype.getSelection=function(e,j,g,P){if(this.cZ.iJ(this.Lt)||!this.vX)return null;
var p=this.SQ(e,g,!0);if(p.tE())return null;return o.gs.yc("Rctn",p)};o.zA=function(){o.gs.call(this,[10,4],o.Zrm,"tools/eselect");
this.Ji="crosshair"};o.zA.prototype=new o.gs;o.zA.prototype.Aw=function(e,j,g,P){if(!P.kD||!this.vX)return;
var p=this.SQ(e,g);e.n.eP=o.zA.ZeG(p);e.tI=!0;o.FE.Wo(P.x+10,P.y-10,p,e,j)};o.zA.prototype.Sy=function(e,j,g,P){e.n.eP=null;
e.n.tx=[];e.tI=!0;this.finish(e,j,g,P)};o.zA.prototype.getSelection=function(e,j,g,P){if(this.cZ.iJ(this.Lt)||!this.vX)return null;
var p=this.SQ(e,g);if(!p.cV(new G(0,0,e.W,e.j)))return null;return o.gs.yc("Elps",p)};o.zA.ZeG=function(e){var j=e.x,g=e.y,P=e.x+e.W,p=e.y+e.j,v=(j+P)/2,x=(g+p)/2,A=(j-P)/2,f=(g-p)/2,S=.5522848,F={u:[v,x-f],L:["M","C","C","C","C"]};
F.u.push(v+S*A,x-f,v+A,x-S*f,v+A,x);F.u.push(v+A,x+S*f,v+S*A,x+f,v,x+f);F.u.push(v-S*A,x+f,v-A,x+S*f,v-A,x);
F.u.push(v-A,x-S*f,v-S*A,x-f,v,x-f);return F};o.Oc=function(){o.FE.call(this,[10,5],o.Zfy,"tools/eyedropper");
this.RS=!1;this.QW=1};o.Oc.prototype=new o.FE;o.Oc.prototype.S$=function(e){return e.kD};o.Oc.prototype.BB=function(e,j,g,P,p){if(e.U=="pickhere")this.aN(g,j,p,P,e.ZKs)};
o.Oc.prototype.Lr=function(e,j,g,P,p){this.RS=!0;this.aN(e,j,g,P,p)};o.Oc.prototype.tg=function(e,j,g,P,p){if(this.RS)this.aN(e,j,g,P,p)};
o.Oc.prototype.jT=function(e,j,g,P,p){this.RS=!1};o.Oc.prototype.aN=function(e,j,g,P,p){var v=o.Oc.vh(e,p,this.QW),x=new z(V.E.O);
x.data={U:V.a.du,im:WV.qi,oV:0,r:v};j.P(x)};o.Oc.vh=function(e,j,g){var P=e.N.IR(j.x,j.y),p=Math.floor(P.x),v=Math.floor(P.y),x=(g-1)/2,A=Math.max(0,p-x),f=Math.max(0,v-x),S=Math.min(e.W,p+x+1),F=Math.min(e.j,v+x+1),m=(S-A)*(F-f),R=e.Gj(),M=0,b=0,s=0;
for(var p=A;p<S;p++)for(var v=f;v<F;v++){var K=4*(v*e.W+p);M+=R[K];b+=R[K+1];s+=R[K+2]}M=Math.round(M/m);
b=Math.round(b/m);s=Math.round(s/m);return M<<16|b<<8|s};o.Oc.prototype.aQ=function(e){this.QW=e.QW};
o.dF=function(){o.FE.call(this,[10,6],o.ZxG,"tools/gradient");this.fi={c:JSON.parse(Wr.oP.Zdi).v,hf:"Lnr",CI:!1,Zsh:!1,Zsb:"norm",nD:1};
this.fO=!1;this.Fv=null};o.dF.prototype=new o.FE;o.dF.prototype.enable=function(e,j,g,P){var p=new z(V.E.O,!0);
p.data={U:V.a._E,Lj:"default"};j.P(p)};o.dF.prototype.aQ=function(e){this.fi=e.im};o.dF.prototype.Lr=function(e,j,g,P,p){if(!e.TA())return;
this.Fv=e.N.IR(p.x,p.y);this.Fv=o.KZ.ic(e,this.Fv,g);this.fO=!0};o.dF.prototype.tg=function(e,j,g,P,p){if(!this.fO)return;
var v=e.N.IR(p.x,p.y);v=o.KZ.ic(e,v,g);if(P.v(q.Ag))v=o.dF.fT(this.Fv,v);e.n.eP={u:[this.Fv.x,this.Fv.y,v.x,v.y],L:["M","L"]};
e.n.$d=[this.Fv.x,this.Fv.y,v.x,v.y];e.tI=!0};o.dF.prototype.jT=function(e,j,g,P,p){if(!this.fO)return;
var v=e.T[e.b[0]],x=e.N.IR(p.x,p.y);x=o.KZ.ic(e,x,g);if(P.v(q.Ag))x=o.dF.fT(this.Fv,x);var A=x.ki(this.Fv),f=Uc.gR(this.Fv,x,.5),S=Math.atan2(A.y,A.x),F=Uc.zG(this.Fv,x),m=Math.sin(S),R=Math.cos(S);
if(F>2){var M;if(e.Z)M=e.Z.rect;else M=new G(0,0,e.W,e.j);var b=Z.V(M.h()*4),s=this.fi,K=s.hf;if(K!="Lnr"){F*=2;
f=this.Fv}Z.c.ff(s.c,b,M,[R*1/F,m*1/F,-m*1/F,R*1/F],f.x,f.y,s.CI,Wr.c.types.indexOf(K),g.Jm,g.gK,null,s.Zsh);
var X=Math.round(s.nD*256),d=b.length;if(X!=256)for(var W=0;W<d;W+=4)b[W+3]=b[W+3]*X>>>8;var O=new z(V.E.s);
O.X=o.vu;O.data={U:"fillBMP",wI:b,Ea:s.Zsb,de:this.name};j.P(O)}e.n.eP=null;e.n.$d=[];e.tI=!0;this.fO=!1};
o.dF.fT=function(e,j){if(e.iJ(j))return e;var g=j.x-e.x,P=j.y-e.y,p=Math.abs(g),v=Math.abs(P);if(p>v)v=p/2>v?0:p;
if(v>p)p=v/2>p?0:v;p=g>0?p:-p;v=P>0?v:-v;var x=Math.sqrt(g*g+P*P)/Math.sqrt(p*p+v*v);return new Uc(e.x+p*x,e.y+v*x)};
o.dF.Qf=function(e,j,g,P,p,v,x){if(x==null)x=V.M("canvas","");var A=x.getContext("2d");x.width=j;x.height=g;
var f=new G(0,0,j,g),S=Z.V(j*g*4);Z.ZL(S,j,g,4,0,0);var F=Math.sin(P),m=Math.cos(P),R=Z.V(j*g*4);Z.c.ff(e,R,f,[m*1/j,F*1/j,-F*1/g,m*1/g],j/2,g/2,!1,0,p,v);
Z.Y.$Q("norm",R,f,S,f,f,1);var M=A.getImageData(0,0,j,g);Z.Ue(S,M.data);A.putImageData(M,0,0);return x.toDataURL()};
o.dF.ZUK=function(e,j,g){var P=JSON.parse(JSON.stringify(e));for(var p=0;p<P.Clrs.v.length;p++){var v=P.Clrs.v[p].v,x=v.Type.v.Clry;
if(x=="UsrS")continue;var A=x=="FrgC"?j:g;v.Type.v.Clry="UsrS";v.Clr={t:"Objc",v:Z.c.Op({k:A>>16&255,z:A>>8&255,e:A&255})}}return P};
o.gW=function(){o.FE.call(this,[10,7],o.SJ,"tools/hand");this.RI=new Uc(0,0);this.Fn=null};o.gW.prototype=new o.FE;
o.gW.prototype.BB=function(e,j,g,P,p){var v=e.U;if(v=="setcls"){g.N.oJ=e.oJ;g.tI=!0;g.YX=!0}if(v=="scroll"&&!P.v(q.io)){if(P.v(q.kA))o.gW.Xa(g,g.N.R.x-e.uJ.y,g.N.R.y-e.uJ.x);
else o.gW.Xa(g,g.N.R.x-e.uJ.x,g.N.R.y-e.uJ.y)}};o.gW.prototype.enable=function(e,j,g,P){this.Fn=null;
var p=new z(V.E.O,!0);p.data={U:V.a._E,Lj:"grab"};j.P(p)};o.gW.prototype.Lr=function(e,j,g,P,p){this.Fn=e.N.R.clone();
this.RI.Ve(p.x,p.y)};o.gW.prototype.tg=function(e,j,g,P,p){if(!p.kD)return;if(this.Fn==null)this.Lr(e,j,g,P,p);
o.gW.Xa(e,this.Fn.x+(p.x-this.RI.x),this.Fn.y+(p.y-this.RI.y))};o.gW.prototype.jT=function(e,j,g,P,p){this.Fn=null};
o.gW.Xa=function(e,j,g){var P=e.N.d;if(e.W*P<e.N.A.W&&e.j*P<e.N.A.j)e.N.R.Ve(0,0);else{e.N.R.x=j;e.N.R.y=g}e.YX=!0};
o.aG=function(){o.Zw.call(this,[10,25],o.lR,"tools/hbrush")};o.aG.prototype=new o.Zw("");o.aG.prototype.jT=function(e,j,g,P,p){if(this.vm==null)return;
this._O(e,"heal",this.vm.Wz(),this.vm.SQ(),this.vm.Ox());this.H(e,this.vm.Ox());o.sB.prototype.jT.call(this,e,j,g,P,p);
if(!this.fi.algnd)this.R=null};o.hz=function(){o.FE.call(this,[10,8],o.TR,"tools/htype");this.ge=[];
this.vs=null;this.ES=null;this.caller=null;this.tW=1;this.ZKZ=0;this.tu=0;this.Z$B=null;this.RK=null;
this.Sk=null;this.Qv=null;this.vQ=null;this.gV=null;this.ZOx=null;this.un=null;this.xV=null;this.kE=null;
this.ZOb=null;this.gJ=!1;this.oT=!1;this.IQ=!1;this.QV=null;this.fQ=null;this.ZrR=null;this.Rj=!1;this.FT=!1;
this.eE=-1;this.JP=-1;this.TT=document.createElement("textarea");this.TT.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1;  position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; user-select:none; width:200px; height:150px;");
this.TT.addEventListener("input",this.ZEF.bind(this),!1);this.TT.addEventListener("keydown",this.ZUR.bind(this),!1)};
o.hz.prototype=new o.FE;o.hz.prototype.S$=function(e){return e.kD};o.hz.prototype.zO=function(e,j,g,P){if(this.Sk!=null)return;
this.caller=j;this.vs=e;var p=this.ZeR(e);if(p.length!=0){var v=null,x=[],A=[];for(var f=0;f<p.length;
f++){var S=e.T[p[f]],F=S.add.TySh,m=0,R=Wf.UW(F.xe).length-2,M=Wf.vD(F.xe,m,R);Wf.Gu(M,o.t.em(F.K));
if(M.kw.Font!=null)M.kw.Font=M.mp[M.kw.Font].Name;v=M.mp;x.push(M.kw);A.push(M.eJ)}var M={mp:v,kw:Wf.TS(x),eJ:Wf.TS(A)};
if(M.kw.Font)Wf.JJ(M,M.kw.Font);this.Zuk(j,M,F)}};o.hz.prototype.ZeR=function(e){var j=[];for(var g=0;
g<e.b.length;g++)if(e.T[e.b[g]].add.TySh)j.push(e.b[g]);return j};o.hz.prototype.BB=function(e,j,g,P,p){if(e.U=="updateStyles"){if(this.Sk==null){var v=this.ZeR(g),x=!1;
if(v.length!=0){this.Xi(g,j,p,v);for(var A=0;A<v.length;A++){var f=g.T[v[A]],S=f.add.TySh;Wf.z_(S,this.tW);
this.Sk=f;var F=Wf.UW(S.xe);this.eE=0;this.JP=F.length-1;Wf.MM(S.xe,this.eE,this.JP,this.aK(p,S));var m=this.fE(g,p);
if(m==!1)x=!0}if(x){this.Rj=!0;return}this.kY(g,j)}return}this.aI(p)}if(e.U.startsWith("warp")){var R=this.FT;
if(e.U=="warp"||e.U=="warpCancel"){if(e.U=="warp")this.Sk.add.TySh.pJ=e.xL;else this.Sk.add.TySh.pJ=this.ZOx;
var g=this.vs;this.fE(g,p);if(!R)this.ze(g)}if(e.U!="warp")this.TT.focus();if((e.U=="warpConfirm"||e.U=="warpCancel")&&R){this.FT=!1;
if(e.U=="warpConfirm")this.kY(g,j);else this.nx(g,j)}}if(e.U=="editCurr"){if(this.Sk!=null)this.disable(g,j,p,P);
this.vs=g;this.ES=p;this.caller=j;this.Xi(g,j,p,[e.uT]);var F=Wf.UW(this.Sk.add.TySh.xe);this.eE=0;this.JP=F.length-1;
this.ze(g);this.vb();this.TT.focus()}if(e.U=="switchPntPrgr"){var f=g.T[g.b[0]],S=f.add.TySh,M=S.K.em(),b=JSON.parse(JSON.stringify(S.xe)),s=Wf.FN(b),K=s==1?Wf.JQ(b):[0,0,Math.round(f.rect.W*1.05/M),Math.round(f.rect.j*1.25/M)],X=Wf.vD(b,0,0),d=[0,K[2],K[2]/2][X.eJ.Justification%3],W=X.kw.FontSize*.8;
Wf.oc(b,1-s);if(s==0){d=-d;W=-W;Wf.kJ(b,[0,0,K[2],K[3]])}var O=new WE(1,0,0,1,d,W);O.concat(S.K);this.BB({gu:g.b[0],U:"newED",RX:b,K:O},j,g,P,p)}if(e.U=="newED"){var f=g.T[e.gu],S=f.add.TySh,H=this.XN(g,[e.gu]);
S.xe=e.RX;if(e.K)S.K=e.K;var Y=new vf(S.xe,p.Fz),y=vs.Mc(Y,S);f.rect=y.B;f.buffer=y.C$;f.H();g.H();var B=new ZU(this.name,this);
B.data={e$:H,RY:this.XN(g,[e.gu])};g.sz(B)}};o.hz.prototype.aI=function(e){var j=Math.min(this.eE,this.JP),g=Math.max(this.eE,this.JP),P=this.Sk.add.TySh;
Wf.z_(P,this.tW);Wf.MM(P.xe,j,g-1,this.aK(e,P));var p=this.vs,v=this.fE(p,e);if(v)this.ze(p);if(document.activeElement.tagName.toLowerCase()!="input")this.TT.focus()};
o.hz.prototype.FB=function(e){return this.ge.indexOf(e)!=-1};o.hz.prototype.enable=function(e,j,g,P){var p=this.TT;
if(!V.Ic(p))j.l.appendChild(p);this.un="default";this.gB(j)};o.hz.prototype.eS=function(){return this.Sk!=null};
o.hz.prototype.ZNc=function(e,j){for(var g=e.T.length-1;g>=0;g--){var P=e.T[g];if(P.add.TySh&&P.rect.uC(j)&&e.ZVn(g)){var p=P.Ku(2)||P.Ku(31);
return p?-2:g}}return-1};o.hz.prototype.Lr=function(e,j,g,P,p){this.vs=e;this.ES=g;this.caller=j;var v=e.N.IR(p.x,p.y),x=this.Sk==null;
if(x){var A=this.ZNc(e,v);if(A==-2){alert(Zr.get([6,57,0]));return}if(A>=0){if(!vs.Og(e.T[A].add.TySh,g.Fz)){alert("Fonts not loaded yet");
return}this.Xi(e,j,g,[A])}else{this.IQ=!0;this.QV=p;return}}var f=x?-1:Wf.FN(this.Sk.add.TySh.xe),S=this.kE?this.kE:this.xV;
if(S&&S.Lr(e,g,P,v)&&Z.xL.Xx(this.Sk.add.TySh.pJ)||!x&&Z.g.xl(v,this.Sk.rect)>20/e.N.d&&(f==0||f==1)){this.gJ=!0;
this.fQ=v;this.ZrR=this.Sk.add.TySh.K.clone();if(this.eE==-1&&this.JP==-1)this.eE=this.JP=this.ak(v)}else{if(this.vQ==null){alert("Fonts not loaded yet");
return}this.oT=!0;this.eE=this.JP=this.ak(v);var F=Date.now();if(F-this.ZKZ>300)this.tu=0;this.tu++;
this.ZKZ=F;if(this.tu==2)this.ZU$();if(this.tu==3)this.ZUp();if(this.tu>1){this.oT=!1}}this.vb();this.ze(e)};
o.hz.prototype.Xi=function(e,j,g,P){var p=e.T[P[0]];this.Sk=p;this.iH(j,V.E.O,{U:V.a.eW,X:this.id,vk:"showactive"});
this.Qv=P;e.b=P.slice(0);e.qF();e.FH=!0;this.gV=this.XN(e,P);this.aH(p.add.TySh);this.fE(e,g)};o.hz.prototype.aH=function(e){if(Wf.FN(e.xe)!=1)return;
var j=Wf.JQ(e.xe);j=new G(0,0,j[2]-j[0],j[3]-j[1]);var g=[j.x,j.y,j.x+j.W,j.y,j.x+j.W,j.y+j.j,j.x,j.y+j.j];
Z.g.K(g,e.K,g);this.xV=new vh(g,!1,!1,!1,!0)};o.hz.prototype.ZU$=function(){var e=Wf.UW(this.Sk.add.TySh.xe);
this.eE=this.Zxz(e,this.eE);this.JP=this.ZuY(e,this.eE)};o.hz.prototype.Zxz=function(e,j){var g=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",P=[];
for(var p=0;p<g.length;p++)P.push(g.charAt(p));var v=P.indexOf(e[j])==-1?!0:!1;for(var p=j-1;p>=0;p--)if(P.indexOf(e.charAt(p))!=-1==v)return p+1;
return 0};o.hz.prototype.ZuY=function(e,j){var g=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",P=[];for(var p=0;
p<g.length;p++)P.push(g.charAt(p));var v=P.indexOf(e[j])==-1?!0:!1;for(var p=j+1;p<e.length;p++)if(P.indexOf(e.charAt(p))!=-1==v)return p;
return e.length-1};o.hz.prototype.ZUp=function(){var e=this.vQ.Ztv(this.eE);this.eE=e[0];this.JP=e[1]};
o.hz.prototype.gB=function(e){var j=new z(V.E.O,!0);j.data={U:V.a._E,Lj:this.un};e.P(j)};o.hz.prototype.tg=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=this.Sk;
if(!p.kD){var A="default",f=this.xV,S=this.kE?this.kE:f;if(S&&Z.xL.Xx(x.add.TySh.pJ)){var F=S.So(v,e.N.d);
if(F)A=F;else if(S==f&&f.Vn(v))A="text"}else if(x&&Z.g.xl(v,x.rect)>20/e.N.d)A="move";else if(this.ZNc(e,v)>=0)A="text";
if(A!=this.un){this.un=A;this.gB(j)}}var m=this.QV;if(this.IQ&&Math.min(p.x-m.x,p.y-m.y)>4/e.N.d){this.IQ=!1;
this.Znv(e,j,g,P,p);x=this.Sk;this.gJ=!0;this.xV=new vh(null,!1,!1,!1,!0);var R=e.N.IR(this.QV.x,this.QV.y);
R.x=Math.round(R.x);R.y=Math.round(R.y);this.xV.Lr(e,g,P,R)}if(this.gJ){var M=x.add.TySh;if(this.kE){this.kE.tg(e,g,P,v);
var b=Z.D.pN(Z.D.Or(this.kE.Ud(),this.ZOb));M.K=b;this.fE(e,g);Wf.cw(M)}else if(this.xV){this.xV.tg(e,g,P,v);
var s=M.K.clone(),K=Math.atan2(s.e,s.Fl);s.rotate(K);var b=Z.D.pN(Z.D.Or(this.xV.Ud())),X=Math.atan2(b.e,b.Fl);
b.rotate(X);if(!isNaN(b.Fl)&&b.Fl*b.LC-b.e*b.Ug!=0){var d=new G(0,0,b.Fl/s.Fl,b.LC/s.LC),W=Math.round(d.W),O=Math.round(d.j),H=M.xe.Curve;
if(H){var Y=Wf.JQ(M.xe),y=new WE(W/Y[2],0,0,O/Y[3],0,0);Z.g.K(H.Points,y,H.Points);Wf.cw(M)}Wf.kJ(M.xe,[0,0,W,O]);
M.K=Z.D.pN(Z.D.Or(this.xV.Ud(),d));this.fE(e,g);Wf.cw(M)}}else{var B=v.x-this.fQ.x,c=v.y-this.fQ.y;M.K=this.ZrR.clone();
var $=new Uc(M.K.vR+B,M.K.LV+c);$=o.KZ.ic(e,$,g);M.K.vR=$.x;M.K.LV=$.y;this.fE(e,g)}}if(this.oT)this.JP=this.ak(v);
if(this.gJ||this.oT)this.ze(e)};o.hz.prototype.Znv=function(e,j,g,P,p){var v=e.OK(),x=v[0],A=v[1],f=e.Rz();
f.add.lnsr="rend";var S=e.T.slice(0);f.tG("Text layer "+S.length);this.Sk=f;var F=e.b.length==0?e.T.length-1:e.b[e.b.length-1],m=F+1;
if(S[F].add.lsct==vC.x_)m--;this.gV={OA:S.slice(0),Ll:e.b.slice(0)};S.splice(m,0,f);e.b=[m];this.eE=this.JP=0;
e.jy(S);this.gV.Jh=S.slice(0);this.gV.kz=e.b.slice(0);this.iH(j,V.E.O,{U:V.a.eW,X:this.id,vk:"showactive"});
var R=e.N.IR(p.x,p.y);f.add.TySh=Wf.Ik(R.x,R.y,g.sT);var M=f.add.TySh,b=M.xe;Wf.z_(M,this.tW);if(p.kD)Wf.oc(b,1);
else{Wf.oc(b,0);var s=x[A.pop()],K=s?s.add.vmsk:null;if(K){K=K.clone();var X=K.F,O,H;for(var d=0;d<X.length;
d++)if(X[d].WF!=null)X[d].WF=0;var W=4*V.I()/e.N.d;O=Z.f.hE(K.F,R,!0,W);if(O.VS==-1)O=Z.f.hE(K.F,R);
if(O.VS!=-1){Wf.oc(b,1);var Y=Z.f.mh(X,O.VS),y=Z.f.nT(X,O.VS)-1;X=K.F=X.slice(0,2).concat(X.slice(Y,Y+y+1));
K.b=[];M.add={vmsk:K,vogk:u.Vd(X)};b.Curve={};Wf.gP(M);if(O.qt!=null){var B=vf.MW(b.Curve);Z.g.K(B[0],M.K,B[0]);
var c=Z.g.$L(B[0],R.x,R.y),$=g.sT.eJ.Justification;if($==2||$==5){var I=(B[2][c]+B[3]*.5)%B[3];c=vf.Tf(I,B[2])}var r=B[1][c];
r=r%y;K.sG=[r,r];Wf.gP(M)}else this.aH(M)}}}return f};o.hz.prototype.jT=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=this.IQ;
if(this.IQ){this.IQ=!1;this.Znv(e,j,g,P,p);this.oT=!0}if(this.gJ||this.oT){this.ze(e);this.vb();if(x)this.aI(g)}if(this.gJ&&this.xV)this.xV.jT(e,g,P,v);
this.gJ=this.oT=!1;this.Zxi(e,g,P);this.TT.focus()};o.hz.prototype.vb=function(){var e=this.Sk.add.TySh,j=Math.min(this.eE,this.JP),g=Math.max(this.eE,this.JP),P,p;
if(j==g){var v=Wf.UW(e.xe);if(j==0||v.charAt(j-1)=="\n")P=p=j;else P=p=j-1}else{P=j;p=g-1}var x=Wf.vD(e.xe,P,p);
Wf.Gu(x,o.t.em(e.K));this.Zuk(this.caller,x,e)};o.hz.prototype.Zuk=function(e,j,g){this.iH(e,V.E.O,{U:V.a.du,im:WV.VQ,sT:j});
var P=this.tW=Wf.zl(g);this.iH(this.caller,V.E.O,{U:V.a.eW,X:this.id,vk:"changeAA",Hy:P})};o.hz.prototype.Pm=function(e,j,g,P){if(P.v(q.Ae))this.nx(e,j);
var p=this.Sk;if(p)if(this.kE==null&&P.v(q.kA)){var v=p.add.TySh,x=Wf.FN(v.xe),A;if(x==1){A=Wf.JQ(v.xe);
A=new G(0,0,A[2]-A[0],A[3]-A[1])}else A=this.vQ.MC();var f=[A.x,A.y,A.x+A.W,A.y,A.x+A.W,A.y+A.j,A.x,A.y+A.j];
Z.g.K(f,v.K,f);this.kE=new vh(f,!0,!0,!1,!1);this.ZOb=A;this.ze(this.vs)}else this.Zxi(e,g,P)};o.hz.prototype.Zxi=function(e,j,g){var P=this.Sk;
if(P&&!this.gJ&&this.kE!=null&&!g.v(q.kA)){this.kE.jT(e,j,g,null);this.kE=null;this.aH(P.add.TySh);this.ze(this.vs)}};
o.hz.prototype.disable=function(e,j,g,P){var p=this.Sk;this.kY(e,j)};o.hz.prototype.aQ=function(e,j,g,P,p){if(this.FT)return;
if(e.vk=="commit")this.kY(g,j);if(e.vk=="cancel")this.nx(g,j);if(e.vk=="changeAA"){this.tW=e.Hy;this.BB({U:"updateStyles"},j,g,P,p)}if(e.vk=="showwarp"){if(g==null)return;
if(this.Sk==null){var v=g.T[g.b[0]],x=v.add.TySh;if(x==null)return;this.Xi(g,j,p,[g.b[0]]);this.TT.focus();
this.FT=!0}this.ZOx=this.Sk.add.TySh.pJ;var A=new z(V.E.O,!0);A.data={U:V.a.LW,aj:"textwarp"};j.P(A)}};
o.hz.prototype.wY=function(e,j){if(j!=WV.Zo)return;if(this.Rj){this.Rj=!1;var g=this.vs,P=this.Qv;for(var p=0;
p<P.length;p++){this.Sk=g.T[P[p]];this.fE(g,e)}this.kY(g,this.caller);return}if(this.Sk)this.aI(e)};
o.hz.prototype.aK=function(e,j){var g=JSON.parse(JSON.stringify(e.sT));Wf.Gu(g,1/o.t.em(j.K));return g};
o.hz.prototype.aX=function(e,j){if(e.e$!=null)this.aP(j,e.RY);else this.Znr(j,e.Jh,e.kz)};o.hz.prototype.PB=function(e,j){if(e.e$!=null)this.aP(j,e.e$);
else this.Znr(j,e.OA,e.Ll)};o.hz.prototype.aP=function(e,j){for(var g=0;g<j.length;g++){var P=j[g],p=P.gu,v=e.T[p];
v.buffer=P.Nr;v.rect=P.B.clone();v.H();var x=v.add.TySh;x.pJ=P.xL;x.GC=P.GC.clone();x.K=P.K.clone();
x.xe=JSON.parse(JSON.stringify(P.xe));v.qv()}e.H()};o.hz.prototype.XN=function(e,j){var g=[];for(var P=0;
P<j.length;P++){var p=j[P],v=e.T[p],x=v.add.TySh;g.push({gu:p,K:x.K.clone(),xL:JSON.parse(JSON.stringify(x.pJ)),GC:x.GC.clone(),xe:JSON.parse(JSON.stringify(x.xe)),Nr:Z.clone(v.buffer),B:v.rect.clone()})}return g};
o.hz.prototype.Znr=function(e,j,g){e.b=g;e.jy(j);e.H();e.zz=!0};o.hz.prototype.fE=function(e,j,g){if(g==null)g=!1;
var P=this.Sk.add.TySh;if(!vs.Og(P,j.Fz))return!1;this.vQ=new vf(P.xe,j.Fz);if(!g){var p=Wf.UW(P.xe);
this.TT.value=p.slice(0,p.length-1)}var v=vs.Mc(this.vQ,P);if(Z.xL.Xx(P.pJ))P.GC=new G;else{if(Wf.FN(P.xe)==1){var x=Wf.JQ(P.xe),A=v.GC.y;
P.GC=new G(0,A,x[2]-x[0],x[3]-x[1]-A)}else{P.GC=v.GC}}var f=this.Sk.rect;this.Sk.rect=v.B;this.Sk.buffer=v.C$;
this.Sk.H();e.Ub();e.H(e.root.qO(v.B.Gd(f),e,e.T.indexOf(this.Sk)));return!0};o.hz.prototype.ZEF=function(e){if(this.Sk==null||this.FT)return;
var j=this.TT.selectionStart,g=this.Sk.add.TySh,P=Wf.UW(g.xe),p=this.TT.value+"\n",v=Math.min(this.eE,this.JP),x=Math.max(this.eE,this.JP),m=!1;
this.eE=Math.min(j,v);if(p.length-j<P.length-this.JP)this.JP=P.length-p.length+j;if(P!=p){while(this.eE>0&&P.charAt(this.eE-1)!=p.charAt(this.eE-1))this.eE--}var A=P.substring(0,this.eE),f=P.substring(this.JP,P.length),S=p.substring(this.eE,p.length-f.length);
Wf.zC(g.xe,this.eE,this.JP);Wf.hX(g.xe,this.eE,S);var F=this.aK(this.ES,g),R=-1,M=Array.from(S);for(var b=0;
b<M.length;b++)R=Math.max(R,M[b].codePointAt(0));if(R!=-1&&R>128&&F.kw.Font!=null){var s=F.mp[F.kw.Font].Name,K=this.ES.Fz.mN(R,s,F.mp);
if(s!=K){Wf.JJ(F,K);m=!0}}if(this.RK!=null&&S==this.RK){var X=JSON.parse(this.Z$B);F.kw=X.kw;F.mp=X.mp;
m=!0}Wf.MM(g.xe,this.eE,this.eE+S.length-1,F);this.eE=this.JP=A.length+S.length;var d=this.vs,W=this.fE(d,this.ES,!0);
if(W)this.ze(d,!0);if(m)this.vb()};o.hz.prototype.ZUR=function(e){if(this.Sk==null||this.FT)return;if(this.Sk==null)return;
var j=q,g=0,P=0,X=!1;if(j.TI(e.code,j.ZDb))g=1;if(j.TI(e.code,j.ZDM))g=-1;if(j.TI(e.code,j.uf))P=-1;
if(j.TI(e.code,j.ux))P=1;var p=e.ctrlKey||e.metaKey,v=j.TI(e.code,q.Zuq),x=j.TI(e.code,q.ZCr);if(j.TI(e.code,q.dS)&&p){this.kY(this.vs,this.caller);
return}if(j.TI(e.code,q.RT)){e.preventDefault();var A=this.TT,f=A.value,S=A.selectionStart,F=A.selectionEnd;
A.value=f.substring(0,S)+"\t"+f.substring(F);A.selectionStart=A.selectionEnd=S+1;this.ZEF(null);return}if((j.TI(e.code,j.ID)||j.TI(e.code,j.RA))&&p){var m=this.eE,R=this.JP;
if(m>R){var M=m;m=R;R=M}var b=this.Sk.add.TySh,s=Wf.UW(b.xe);if(m!=R){this.RK=s.slice(m,R);this.Z$B=JSON.stringify(this.ES.sT)}}var K=Wf.UW(this.Sk.add.TySh.xe);
if(g!=0||P!=0||v||x){e.preventDefault();var d=this.eE;if(g!=0){if(p&&g==-1)d=this.Zxz(K,this.eE-1);else if(p&&g==1)d=this.ZuY(K,this.eE);
else{var A=this.TT,f=A.value;d=this.eE+g;if(d!=0&&f.codePointAt(d-1)>65535)d+=g}}else if(P!=0){var W=this.vQ.Mu(this.eE);
if(P==-1&&W.Qa==0)d=0;else if(P==1&&W.Qa==this.vQ.ZDj()-1)d=99999999999;else d=this.vQ.Zxq(new Uc(W.B.x+W.B.W/2,0),W.Qa+P)}else if(v){var O=this.eE-1;
while(O>0&&K.charCodeAt(O)!=10)O--;d=O==0?0:O+1}else if(x){var O=this.eE;while(O<K.length-1&&K.charCodeAt(O)!=10)O++;
d=O}d=Math.max(0,Math.min(K.length-1,d));if(e.shiftKey)this.eE=d;else this.eE=this.JP=d;X=!0}if(j.TI(e.code,q.a)&&p){this.eE=0;
this.JP=K.length-1;X=!0}if(X){this.vb();this.ze(this.vs)}};o.hz.ZUc=function(e,j){var g=e.length;if(g!=j.length)return!1;
for(var P=0;P<g;P++)if(e[P].gu!=j[P].gu)return!1;return!0};o.hz.prototype.kY=function(e,j){if(this.Sk==null)return;
this.Sk.qv();var g=this.gV;if(g instanceof Array){var P=this.XN(e,this.Qv),p=e.iY();if(p!=null&&p.X==this&&p.data.e$&&o.hz.ZUc(p.data.e$,g))p.data.RY=P;
else{var v=new ZU(this.name,this);v.data={e$:g,RY:P};e.sz(v)}}else{var v=new ZU(this.name,this);v.data={OA:g.OA,Jh:g.Jh,Ll:g.Ll,kz:g.kz};
e.sz(v)}this.escape(e,j)};o.hz.prototype.nx=function(e,j){if(this.Sk==null)return;if(this.gV instanceof Array){this.aP(e,this.gV);
if(this.Sk)Wf.cw(this.Sk.add.TySh)}else{e.b=this.gV.Ll;e.jy(this.gV.OA)}e.H();this.escape(e,j)};o.hz.prototype.escape=function(e,j){this.Sk=null;
this.Qv=null;this.vQ=null;this.xV=null;this.TT.blur();e.n.eP=null;e.n.Bx=null;e.n.$d=[];e.tI=!0;this.gJ=!1;
this.oT=!1;this.eE=this.JP=-1;this.iH(j,V.E.O,{U:V.a.eW,X:this.id,vk:"hideactive"})};o.hz.prototype.iH=function(e,j,g,P){var p=new z(j,!0);
p.data=g;if(P)p.X=P;e.P(p)};o.hz.prototype.ak=function(e){var j=this.Sk.add.TySh,g=this.vQ,P=j.K.clone();
P.OF();var p=P.vy(e),v=Wf.SQ(j,g),x=Z.xL.pT(j.pJ,v),A=Z.ie.Q.cS(x,0,1,0,1),f=new Uint32Array(30),S=Z.ie.Q.ZNG(A.yn,A.wo,p.x,p.y,f),F=Z.ie.hE(x,p.x,p.y,A.yn,f,S,!1),m=Z.ie.KB;
if(m==null)m=new Float64Array(2);p=new Uc(v.x+m[0]*v.W,v.y+m[1]*v.j);var R=g.Zxq(p);return R};o.hz.prototype.ze=function(e,j){if(j==null)j=!1;
var g=this.Sk.add.TySh,P=Wf.FN(g.xe),p=this.vQ,v=p?Wf.SQ(g,p):null;e.n.$d=[];e.n.eP=null;e.n.Bx=null;
var x=this.kE?this.kE:this.xV;if(x){x.oG(e,this.ES,!Z.xL.Xx(g.pJ));var A=g.K.clone();A.OF();Z.g.K(e.n.$d,A,e.n.$d);
Z.g.K(e.n.eP.u,A,e.n.eP.u);if(p&&p.ZDL()){var f=v.W-20,S=v.j+8;e.n.eP.u.push(f,S,f+10,S,f+5,S-5,f+5,S+5);
e.n.eP.L.push("M","L","M","L")}}else if(P==0)this.ZWx(e,g,p);else e.n.eP={u:[],L:[]};var F=Math.min(this.eE,this.JP),m=Math.max(this.eE,this.JP);
if(!j){this.TT.selectionStart=F;this.TT.selectionEnd=m}if(p!=null){var R=function(x,Y){var y=x.x,B=x.y+x.j,c=new WE;
c.translate(-y,-B);c.rotate(-Y);c.translate(y,B);x.y+=x.j*.27;var W=Z.g.B$(x);Z.g.K(W.u,c,W.u);return W};
if(F==m){F=Math.max(F,0);var M=p.Mu(F);if(M){var b=M.B,s=this.ES.sT.kw.FontSize;if(s!=null&&s!=0){s/=g.K.em();
b.y+=b.j-s;b.j=s}var K=p.ZDo(F);if(K!=null&&K.gm==1)b.x+=b.W;var X=R(b,M.uR).u;e.n.eP.L.push("M","L");
e.n.eP.u.push(X[0],X[1],X[6],X[7])}}else{e.n.Bx={u:[],L:[]};for(var d=F;d<m;d++){var M=p.Mu(d),W=R(M.B,M.uR);
Z.g.concat(e.n.Bx,W)}}}if(p!=null){if(!v.tE()){var O=Z.xL.pT(g.pJ,v),H=Math.min(v.W,v.j)/10;if(e.n.eP){e.n.eP=Z.g.fY(e.n.eP);
e.n.eP=Z.g.fR(e.n.eP,H);Z.ie.apply(O,e.n.eP.u,v)}if(e.n.Bx){e.n.Bx=Z.g.fY(e.n.Bx);e.n.Bx=Z.g.fR(e.n.Bx,H);
Z.ie.apply(O,e.n.Bx.u,v)}Z.ie.apply(O,e.n.$d,v)}}if(e.n.eP)Z.g.K(e.n.eP.u,g.K,e.n.eP.u);if(e.n.Bx)Z.g.K(e.n.Bx.u,g.K,e.n.Bx.u);
Z.g.K(e.n.$d,g.K,e.n.$d);e.tI=!0};o.hz.prototype.ZWx=function(e,j,g){if(g==null)return;e.n.$d.push(0,0);
if(e.n.eP==null)e.n.eP={L:[],u:[]};for(var P=0;P<g.eJ.length;P++){var p=g.eJ[P];for(var v=0;v<p.vM.length;
v++){var x=p.vM[v],A=p.cO.x+x.cO.x+x.B.x,f=p.cO.y+x.cO.y+x.B.y+x.B.j;e.n.eP.L.push("M","L");e.n.eP.u.push(A,f,A+x.B.W,f)}}e.tI=!0};
o.zb=function(){o.gs.call(this,[10,9],o.y$,"tools/lasso");this.Ji="crosshair";this.dN=null;this.RP=null;
this.fQ=null};o.zb.prototype=new o.gs;o.zb.prototype.QN=function(e,j,g,P){this.dN=this.cZ;this.RP={u:[this.dN.x,this.dN.y],L:["M"]}};
o.zb.prototype.Aw=function(e,j,g,P){this.fQ=P;var p=this.RP;if(p==null)return;if(!P.kD){if(this.RP!=null&&this.pG>1&&g.v(q.io)){p.u.pop();
p.u.pop();p.u.push(this.Lt.x,this.Lt.y);e.n.eP=p;e.tI=!0}return}p.L.push("L");p.u.push(this.Lt.x,this.Lt.y);
this.dN=this.Lt;if(this.vX){e.n.eP=p;e.tI=!0}};o.zb.prototype.eS=function(){return this.RP!=null};o.zb.prototype.ar=function(){return this.RP!=null};
o.zb.prototype.Pm=function(e,j,g,P){o.gs.prototype.Pm.call(this,e,j,g,P);if(this.RP&&this.pG>1&&this.fQ&&!this.fQ.kD&&!P.v(q.io))this.ZGs(e,g,P)};
o.zb.prototype.Sy=function(e,j,g,P){this.fQ=P;var p=this.RP;if(p==null)return;if(this.pG>1&&g.v(q.io)){p.L.push("L");
p.u.push(this.Lt.x,this.Lt.y);return}this.ZGs(e,j,g)};o.zb.prototype.ZGs=function(e,j,g){this.finish(e,j,g,this.fQ);
this.RP=null;e.n.eP=null;e.tI=!0};o.zb.prototype.getSelection=function(e,j,g,P){if(this.cZ.iJ(this.Lt)||!this.vX)return null;
return o.gs.vI(this.RP.u)};o.KZ=function(){o.FE.call(this,[10,11],o.Xe,"tools/move");this.tC=new Uc(0,0);
this.ts=new Uc(0,0);this.MF=null;this.LM=null;this.B_=new Uc(0,0);this.fp=null;this.tS=null;this.fC=null;
this.ks=null;this.xC=[];this.pF=null;this.fO=!1;this.U=0;this.RR=null;this.nc=null;this.tK=null;this.Qi=!1;
this.fi={Fs:!1,Fp:!1,KJ:!1};this.xV=null;this.$l=null;this.Zx$=null;var e=[];for(var j=0;j<Z.CF.fk.length;
j++)e.push({name:Z.CF.fk[j],p:function(g,P,p){return{by:P.ka.AG==p}}});this.bB=new Zn(e);this.bB.S("select",this.iC,this)};
o.KZ.prototype=new o.FE;o.FE.prototype.S$=function(e){return this.fO&&this.U!=2};o.KZ.prototype.ZfM=function(){return this.fO&&this.U==0};
o.KZ.prototype.ZZM=function(e,j,g,P){this.vc(e,-this.B_.x,-this.B_.y);this.B_.Ve(0,0);this.eq(e,null,g);
this.iX(e)};o.KZ.prototype.jn=function(){var e=this.fi;return[e.Fs?1:0,e.Fp?1:0,e.KJ?1:0]};o.KZ.prototype.ZeU=function(e,j,g){var P=this.fi;
if(e&&e[0]!=null)P.Fs=e[0]==1;if(e&&e[1]!=null)P.Fp=e[1]==1;if(e&&e[2]!=null)P.KJ=e[2]==1;var p=new z(V.E.O,!0);
p.data={U:V.a.eW,X:this.id,$T:P,ZKk:j};g.P(p)};o.KZ.ZDH=function(e,j,g,P,p,v,x){if(x==null)x=[!1,!0];
var A=new G(0,0,e.W,e.j),f=e.RH(null,p,!0),S=e.ZDm(f,x[0]?A:null,x[1]?null:A)[0];if(g!=1){var F=new G(0,0,Math.round(S.W*g),Math.round(S.j*g));
o.oo.vH(S,F);var m=[];for(var R=0;R<S.T.length;R++)m.push(R);var M=o.t.Vx(S,m,!0);o.t.Ny(S,P,m,M,1,Z.D.aL(new WE(g,0,0,g,0,0)),null,!0);
S.Nf()}var b=[];for(var R=0;R<j.length;R++)b.push(Wg.qU(S,j[R].toUpperCase(),null,null,v?v[R]:null,P));
return b};o.KZ.prototype.Zzk=function(e,j,g,P,p){if(e==null||e.b.length==0)return;var v=o.KZ.ZDH(e,[j],g,P,null)[0],x=new z(V.E.O,!0);
x.data={U:V.a.nH,data:v,name:e.T[e.b[0]].getName()+"."+j};p.P(x)};o.KZ.prototype.aQ=function(e,j,g,P,p){if(e.oV=="getPNG"){this.Zzk(g,"png",e.ZUx,p,j)}else if(e.oV=="getSVG"){this.Zzk(g,"svg",e.ZUx,p,j)}if(e.oV=="prms"){this.fi=e;
this.iX(g)}};o.KZ.ZWM=function(e){var j=e.length,P=0;e.sort(function(A,f){return A[0]+A[1]/2-(f[0]+f[1]/2)});
var g=e[j-1][0]+e[j-1][1]-e[0][0];for(var p=0;p<j;p++)P+=e[p][1];var v=Math.round((g-P)/(j-1)),x=e[0][0];
for(var p=0;p<j;p++){e[p][0]=x;x+=e[p][1]+v}};o.KZ.prototype.BB=function(e,j,g,P,p){var v=e.U;if(v=="trsl"){var x=Math.round(e.ZUt),A=Math.round(e.ZUq);
this.B_.Ve(x,A);this.Xt(g,j,P,p,!1,e.$);this.vc(g,x,A);this.eq(g,null,p)}else if(v=="gids"||v=="gidsFromLayer"){var f=e.nc,S,F;
if(f==null)f=JSON.parse(JSON.stringify(g.TY));if(v=="gids"){S=e.Xg;var m=f[0].length+f[1].length,R=S[0].length+S[1].length;
F=m==R?[23,2]:m>R?[23,3]:[23,4];if(R==0)F=[11,15,0]}else if(v=="gidsFromLayer"){var M=[[],[]];for(var b=0;
b<g.b.length;b++){var s=g.T[g.b[b]].rect;if(s.tE())continue;M[0].push(s.x,s.x+s.W);M[1].push(s.y,s.y+s.j)}F=[11,15,1];
S=JSON.parse(JSON.stringify(g.TY));o.KZ.iW(S,M)}if(JSON.stringify(f)==JSON.stringify(S))return;var v=new ZU(F,this);
v.data={U:2,nc:f,Xg:S};g.sz(v);this.aX(v.data,g)}else if(v=="algn"){var K=e.r;if(g==null)return;if(g.b.length<2&&!(g.Z!=null&&K!=3&&K!=7)){alert(Zr.get([15,7,5]));
return}var X=g.Z;g.Z=null;var s=X?X.rect:o.t.SQ(g);this.Xt(g,j,P,p,!1);if(!this.fO)return;var d=this.ks,W={},O=[],H=[],Y=[];
for(var b=0;b<d.length;b++){var y=d[b];while(g.T[y].getName()=="</Layer group>")y++;var B=g.root.oA(y),c=B;
while(B.parent!=null){B=B.parent;if(d.indexOf(B.index)!=-1)c=B}var $=H.indexOf(c.index);if($==-1){$=H.length;
H.push(c.index)}O[b]=$}var I=[],r=[],i=[];for(var b=0;b<H.length;b++){var U=o.t.SQ(g,g.RH(!0,H[b]));
i.push(U);var N=K==3?[U.y,U.j]:[U.x,U.W];I[b]=N;r.push(N)}o.KZ.ZWM(r);for(var b=0;b<H.length;b++){var U=i[b],C=U.x,D=U.y;
if(K==0)C=s.x;if(K==1)C=s.x+(s.W-U.W)/2;if(K==2)C=s.x+(s.W-U.W);if(K==3)D=I[b][0];if(K==4)D=s.y;if(K==5)D=s.y+(s.j-U.j)/2;
if(K==6)D=s.y+(s.j-U.j);if(K==7)C=I[b][0];Y.push(Math.round(C-U.x),Math.round(D-U.y))}var n=[];for(var b=0;
b<d.length;b++){var w=O[b];n[2*b]=Y[2*w];n[2*b+1]=Y[2*w+1]}this.vc(g,0,0,null,n);var k=K==3||K==7?[20,4,6]:[20,4,K<3?K:K-1];
this.eq(g,null,p,n,k);g.Z=X}};o.KZ.iW=function(e,j){for(var g=0;g<j.length;g++)for(var P=0;P<j[g].length;
P++)if(e[g].indexOf(j[g][P])==-1)e[g].push(j[g][P])};o.KZ.prototype.enable=function(e,j,g,P,p){this.tS=g;
this.fC=j;this.Qi=p?!0:!1;this.iX(e);this.gB("default",j)};o.KZ.prototype.disable=function(e,j,g,P){this.ZZh(e)};
o.KZ.prototype.ZZh=function(e){if(e==null)return;if(this.xV){this.xV.clear(e);this.xV=null}if(e.n.KJ){e.n.KJ=null;
e.tI=!0}if(e.n.TW){e.n.TW=null;e.tI=!0}if(e.n.Fj[this.id]){delete e.n.Fj[this.id];e.tI=!0}if(e.n.tx.length!=0){e.n.tx=[];
e.tI=!0}};o.KZ.prototype.zO=function(e,j,g,P){if(g.To!=this.id)return;this.iX(e)};o.KZ.prototype.iX=function(e,j){if(e==null)return;
var g=this.fi;this.ZZh(e);if(!this.Qi){var P;if(g.Fp||g.KJ)P=Z.g.FD(o.t.SQ(e));if(g.Fp&&!P.tE()){this.xV=new vh([P.x,P.y,P.x+P.W,P.y,P.x+P.W,P.y+P.j,P.x,P.y+P.j],!0);
this.xV.oG(e,this.tS)}if(g.KJ){var p=e.ZCH(e.b[0]),F=null,m=!1;if(p==null)p=new G(0,0,e.W,e.j);e.n.KJ={ms:[P],mO:[]};
var v=e.n.KJ.mO,x=P.x+P.W,A=P.y+P.j,f=P.x+Math.floor(P.W/2),S=P.y+Math.floor(P.j/2);if(j){var R=e.root.hE(new Uc(Math.floor(j.x),Math.floor(j.y)));
if(R){F=Z.g.FD(R.$.Eu(e));if(F.cV(P)){m=(F.pY(P)||P.pY(F))&&!P.iJ(F);if(!m)F=null}}}this.Zfb(P,v);if(F!=null){e.n.KJ.ms.push(F);
var M=F.x+F.W,b=F.y+F.j,s=F.x+Math.floor(F.W/2),K=F.y+Math.floor(F.j/2);if(m){var X=f,d=S;if(P.pY(F)){X=s;
d=K}v.push(P.x,d,F.x,d);v.push(x,d,M,d);v.push(X,P.y,X,F.y);v.push(X,A,X,b)}else{this.Zfb(F,v);var W=A<F.y||b<P.y,O=x<F.x||M<P.x;
if(x<F.x)v.push(x,S,F.x,S);if(M<P.x)v.push(M,S,P.x,S);if(A<F.y)v.push(f,A,f,F.y);if(b<P.y)v.push(f,b,f,P.y);
if(W&&!O){if(P.x<F.x)v.push(P.x,K,F.x,K);if(F.x<P.x)v.push(F.x,S,P.x,S)}}}else{if(P.y>p.y)v.push(f,p.y,f,P.y);
if(A<p.y+p.j)v.push(f,A,f,p.y+p.j);if(P.x>p.x)v.push(p.x,S,P.x,S);if(x<p.x+p.W)v.push(x,S,p.x+p.W,S)}e.tI=!0}}if(this.U==2&&this.fO){var H=this.ks,Y=H[0],y=(Y==0?"X":"Y")+": "+Z.CF.wn(e.TY[Y][H[1]],e.aY,this.tS,Y==0?e.W:e.j,!0);
o.FE.ZNl(Math.round(this.MF.x)+10,Math.round(this.MF.y)-10,[y],e);e.tI=!0}if(this.U==3&&this.fO){var B=Z.g.B$(this.RR);
e.n.Fj[this.id]={eP:B};e.tI=!0}};o.KZ.prototype.Zfb=function(e,j){var g=e.W,P=e.j,p=e.x+Math.floor(g*.2),v=e.y+Math.floor(P*.2);
j.push(p,e.y,p,e.y+P);j.push(e.x,v,e.x+g,v)};o.KZ.prototype.gB=function(e,j){var g={U:V.a._E,Lj:e},P=new z(V.E.O,!0);
P.data=g;j.P(P)};o.KZ.prototype.fX=function(e){var j=this.$l.HU()[0],g=this.fp,P=this.Zx$[j];this.ZuR(g,P)};
o.KZ.prototype.iC=function(e){var j=JSON.parse(JSON.stringify(this.tS.ka));j.AG=this.bB.HU()[0];var g=new z(V.E.O,!0);
g.data={U:V.a.du,im:WV.Jf,Hy:j};this.fC.P(g)};o.KZ.prototype.c_=function(e,j,g,P,p){if(this.fO)this.jT(e,j,g,P,p);
this.fp=e;this.tS=g;this.fC=j;var v=e.N.IR(p.x,p.y),x;if(o.KZ.iB(g,p)){x=this.bB}else{if(this.$l)this.$l.removeEventListener("select",this.fX);
var A=[];e.root.hE(v,A);if(A.length==0)return;var f=[];this.Zx$=A;for(var S=0;S<A.length;S++)f.push({name:e.T[A[S]].getName()});
x=this.$l=new Zn(f);x.S("select",this.fX,this)}x.parent=j;x.w();x.update(e,g);var F=new z(V.E.O,!0);
F.data={U:V.a.LD,JR:x,x:p.QB+2,y:p.$t+1};j.P(F)};o.KZ.prototype.Zxx=function(e,j,g,P,p){return o.KZ.iB(g,p)};
o.KZ.prototype.Lr=function(e,j,g,P,p){this.MF=p;this.tC.Ve(p.x,p.y);this.ts=e.N.IR(p.x,p.y);this.LM=new Jw(this.ts);
this.Xt(e,j,P,g,!0)};o.KZ.iB=function(e,j){return e.Ho&&(0<j.x&&j.x<Z.CF.kL||0<j.y&&j.y<Z.CF.kL)};o.KZ.prototype.Xt=function(e,j,g,P,p,v){var x,A=this.ts,f=!1;
if(p){var S=P.HS&&P.ka.TY;if(o.KZ.iB(P,this.tC)){x=JSON.parse(JSON.stringify(e.TY));if(this.tC.x<Z.CF.kL)e.TY[0].push(A.x);
if(this.tC.y<Z.CF.kL)e.TY[1].push(A.y);if(!S){var F=new z(V.E.O);if(!P.ka.TY){F.data={U:V.a.du,im:WV.Jg};
j.P(F)}if(!P.HS){F.data={U:V.a.du,im:WV.fr};j.P(F)}S=!0}}var m=this.Z$I(e,A);if(S&&m){this.U=2;this.nc=x?x:JSON.parse(JSON.stringify(e.TY));
this.ks=m;this.fO=!0;this.pF=o.t.SQ(e);return}if(e.HO.length!=0){this.U=4;this.pF=e.xr[e.HO[0]].rect.clone();
this.fO=!0;return}if(this.xV&&this.xV.So(A,e.N.d,!0)!=null){var F=new z(V.E.O);F.data={U:V.a.tq,X:o.Sf};
j.P(F);var R=new z(V.E.s);R.X=o.Sf;R.data={U:"doMouseDown",MF:this.tC};j.P(R);return}if(e.Z&&e.Z.rect.uC(A)){var M=Math.round(A.x),b=Math.round(A.y),s=e.Z.rect;
f=e.Z.channel[(b-s.y)*s.W+M-s.x]>128}if(!f&&(!this.Qi&&(g.v(q.kA)||this.fi.Fs)||this.Qi&&this.fi.Fs&&(g.v(q.Ag)||e.b.length<2))){var K=this.Zvr(e,A,g);
if(!K){e.b=[];e.Bm=null;e.zz=e.Qq=!0;this.U=3;this.RR=new G;this.fO=!0;return}}if(g.v(q.io)&&!f){var R=new z(V.E.s);
R.X=o.jE;R.data={U:u.hq,ZKF:!0};j.P(R)}}if(e.HO.length!=0){this.U=4;this.pF=e.xr[e.HO[0]].rect.clone();
this.fO=!0;return}this.ks=e.RH(v==null,v,null,!0);for(var X=0;X<this.ks.length;X++){var d=e.T[this.ks[X]];
if(d.Ku(2)||d.Ku(31)){alert(Zr.get([6,57,0]));return}}this.xC=o.KZ.ZvZ(e,this.ks);this.U=0;if(e.Z&&(!p||f)&&e.b.length==1&&e.TA(!1)){if(!e.ZgW()){this.fO=!1;
return}var W=e.T[e.b[0]],O=g.v(q.io);this.U=1;var H=e.history[e.dT];if(H.X==this&&H.data.U==1&&H.data.$==e.b[0]&&W.TM==W.JD.TM&&!O){this.tK=H}else{var Y=W.JD,y=!1,B;
if(!W.kK(e,e.Z)||O){y=!0;W.tc(e,e.Z,O)}if(W.JD.TM<=0){B=Z.V(W.JD.j_.length>>2);Z.bF(W.JD.j_,B,3)}else B=Z.clone(e.Z.channel);
var c={rect:W.JD.YI.clone(),channel:B};this.tK=new ZU(O?[12,53]:[12,54],this);this.tK.data={U:1,$:e.b[0],JD:W.JD,uk:Y,p_:y,Ll:e.Z,kz:c,LC:new Uc(0,0)};
e.sz(this.tK);e.Z=c;e.f_=!0}}this.fO=!0;this.pF=o.t.SQ(e)};o.KZ.prototype.Zvr=function(e,j,g){var P=e.root.hE(new Uc(Math.floor(j.x),Math.floor(j.y)));
if(P){if(P.$.add.vmsk)e.tI=!0;var p=e.T.indexOf(P.$);if(g.v(q.Ag)){var v=e.b.indexOf(p);if(v==-1)e.b.push(p);
else if(e.b.length>1)e.b.splice(v,1)}else if(e.b.indexOf(p)==-1){this.ZuR(e,p)}}return P!=null};o.KZ.prototype.ZuR=function(e,j){e.T[j].TM=0;
e.b=[j];e.Bm=null;e.qF();e.FH=!0;e.zz=!0};o.KZ.prototype.tg=function(e,j,g,P,p){this.MF=p;var v=e.N.IR(p.x,p.y),R,M;
if(this.LM&&this.U<2)v=this.LM.hY(v,P);if(!this.fO){if(g.HS&&g.ka.TY){var x=this.Z$I(e,v),A="default";
if(x)A=["col-resize","row-resize"][x[0]];else if(this.xV){var f=this.xV.So(v,e.N.d);if(f)A=f}this.gB(A,j)}this.iX(e,v);
return}var S=this.ts,F=Math.round(v.x-S.x)-this.B_.x,m=Math.round(v.y-S.y)-this.B_.y;if(this.pF){if(this.U==2){v=o.KZ.ic(e,v,g,[!1,e.Z?e.Z.rect:this.pF,!0])}else{M=this.pF.clone();
M.offset(this.B_.x+F,this.B_.y+m);R=o.KZ.Si(e,M,g);F+=Math.round(R[0]);m+=Math.round(R[1])}}this.B_.x+=F;
this.B_.y+=m;this.vc(e,F,m,v,null,P.v(q.Ag));this.iX(e,v);if(R)o.KZ.Sd(e,M,R)};o.KZ.prototype.Z$I=function(e,j){j=[j.x,j.y];
for(var g=0;g<2;g++)for(var P=0;P<e.TY[g].length;P++)if(Math.abs(e.TY[g][P]-j[g])*e.N.d<4)return[g,P];
return null};o.KZ.prototype.vc=function(e,j,g,P,p,v){if(this.U==0){if(p)o.KZ.Xq(e,this.ks,this.xC,p);
else o.KZ.iT(e,this.ks,this.xC,j,g)}else if(this.U==1){var x=this.tK.data;x.LC.offset(j,g);o.KZ.ef(e,x.$,j,g)}else if(this.U==2){var A=1e-5;
if(v)A=e.N.d<=1?10:1;else if(e.N.d<=1)A=1;var f=A*Math.round(P.x/A),S=A*Math.round(P.y/A),F=[f,S],m=this.ks;
e.TY[m[0]][m[1]]=F[m[0]]}else if(this.U==3){var R=this.ts,M=Z.g.bO([R.x,R.y,P.x,P.y]);this.RR=M;var b=[];
e.root.Zgc(M,b);if(JSON.stringify(e.b)!=JSON.stringify(b)){e.b=b;e.zz=e.Qq=!0}}else if(this.U==4){for(var s=0;
s<e.HO.length;s++)e.xr[e.HO[s]].rect.offset(j,g);e.tI=!0}};o.KZ.ef=function(e,j,g,P){var p=e.T[j];e.Z.rect.offset(g,P);
p.sU(e,g,P,e.Z);e.f_=!0;e.H()};o.KZ.prototype.jT=function(e,j,g,P,p){this.eq(e,p,g);this.iX(e)};o.KZ.prototype.eq=function(e,j,g,P,p){if(!this.fO)return;
this.fO=!1;if(this.U==0){if(P){this.ZgE(e,null,P,p)}else{if(this.B_.x==0&&this.B_.y==0)return;this.ZgE(e,this.B_.clone())}e.YX=!0}else if(this.U==2){var v=0;
j=[j.x,j.y];var x=this.ks,A=this.nc[0].length+this.nc[1].length,f=e.TY[0].length+e.TY[1].length;if(g.Ho&&j[x[0]]<Z.CF.kL){e.TY[x[0]].splice(x[1],1);
v=1;if(A==f-1)return}if(A<f)v=2;var S=new ZU([[23,2],[23,3],[23,4]][v],this);S.data={U:2,nc:this.nc,Xg:JSON.parse(JSON.stringify(e.TY))};
e.sz(S)}else if(this.U==4){var S=new ZU([12,54],this);S.data={U:4,b:e.HO.slice(0),R:this.B_.clone()};
e.sz(S)}this.B_.Ve(0,0)};o.KZ.prototype.Pm=function(e,j,g,P){var p=P.GH();if(e!=null&&(p.x!=0||p.y!=0)){this.B_.Ve(p.x,p.y);
this.Xt(e,j,P,g,!1);if(!this.fO)return;this.vc(e,p.x,p.y);this.eq(e,null,g);this.iX(e)}};o.KZ.prototype.PB=function(e,j){if(e.U==0)o.KZ.Xq(j,e.b,e.dn,e.QK,!0);
else if(e.U==2){j.TY=JSON.parse(JSON.stringify(e.nc));j.tI=!0}else if(e.U==4){for(var g=0;g<e.b.length;
g++)j.xr[e.b[g]].rect.offset(-e.R.x,-e.R.y);j.tI=!0}else{var P=j.T[e.$];if(e.p_){P.qr(j,e.uk);j.Z=e.Ll;
j.f_=!0;j.H();P.H()}else{o.KZ.ef(j,e.$,-e.LC.x,-e.LC.y)}}};o.KZ.prototype.aX=function(e,j){if(e.U==0)o.KZ.Xq(j,e.b,e.dn,e.QK);
else if(e.U==2){j.TY=JSON.parse(JSON.stringify(e.Xg));j.tI=!0}else if(e.U==4){for(var g=0;g<e.b.length;
g++)j.xr[e.b[g]].rect.offset(e.R.x,e.R.y);j.tI=!0}else{var P=j.T[e.$];if(e.p_){P.JD=e.JD;j.Z=e.kz;o.KZ.ef(j,e.$,0,0);
P.H()}else{o.KZ.ef(j,e.$,e.LC.x,e.LC.y)}}};o.KZ.prototype.ZgE=function(e,j,g,P){if(g){var p=!0;for(var v=0;
v<g.length;v++)if(g[v]!=0)p=!1;if(p)return}var x=e.history[e.dT];if(x.data&&x.X==this&&x.data.U==0&&g==null&&JSON.stringify(x.data.b)==JSON.stringify(this.ks)&&JSON.stringify(x.data.dn)==JSON.stringify(this.xC)){var A=x.data.QK,f=x.data.ZKw.HR.T.v;
f.Hrzn.v.val+=j.x;f.Vrtc.v.val+=j.y;for(var v=0;v<A.length;v+=2){A[v]+=j.x;A[v+1]+=j.y}}else{if(j==null)j=new Uc(g[0],g[1]);
var S={Wi:"move",HR:{classID:"null",null:vT.EG("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:j.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:j.y}}}}}},F=new ZU(P?P:[12,54],this);
if(g)F.data={U:0,b:this.ks,dn:this.xC,QK:g};else F.data={U:0,b:this.ks,dn:this.xC,QK:o.KZ.ZtM(this.ks,j.x,j.y)};
F.data.ZKw=S;e.sz(F);this.track(S)}};o.KZ.ZtM=function(e,j,g){var P=[];for(var p=0;p<e.length;p++)P.push(j,g);
return P};o.KZ.iT=function(e,j,g,P,p){o.KZ.Xq(e,j,g,o.KZ.ZtM(j,P,p))};o.KZ.Xq=function(e,j,g,P,p){if(j.length==0)return;
if(g==null){g=[];for(var v=0;v<j.length;v++){g.push(e.T[j[v]].kb(e,!0))}}var x=new G,A=new G(0,0,e.W,e.j);
for(var v=0;v<j.length;v++){var f=P[2*v],S=P[2*v+1];if(p){f=-f;S=-S}var F=e.T[j[v]],m=g[v];if(F.add.fxrp&&(m.indexOf(0)!=-1||F.dz()))F.add.fxrp.offset(f,S);
for(var R=0;R<m.length;R++){var M=m[R];if(M==0){F.rect.offset(f,S);if(F.f$()&&F.EK(e))F.EK(e).rect.offset(f,S);
if(F.add.artb){var b=F.EX();b.offset(f,S);F.fl(b)}if(F.add.TySh){F.add.TySh.K.translate(f,S);if(F.add.TySh.add){F.add.TySh.add.vmsk.offset(f,S)}}if(F.add.SoLd){var s=new WE(1,0,0,1,f,S),K=F.add.SoLd,X=o.t.ca(K.Trnf),d=o.t.ca(K.nonAffineTransform);
Z.g.K(X,s,X);Z.g.K(d,s,d);K.Trnf=o.t.Pn(X);K.nonAffineTransform=o.t.Pn(d)}}if(M==1)F.ou().rect.offset(f,S);
if(M==2){F.add.vmsk.offset(f,S);if(F.add.vogk)Z.uF.K(F.add.vogk,[1,0,f,0,1,S,0,0],[])}if(M==3){F.EK(e)._.rect.offset(f,S);
if(m.length==1)F.H()}}if(m.length>0){var W=F.add.GdFl;if(W==null)W=F.add.PtFl;if(F.dz()&&!F.yp()&&F.add.vmsk!=null&&Z.f.xj(F.add.vmsk.F)&&F.add.vmsk.Bh==255&&(W==null||W.Algn&&W.Algn.v)){F.rect.offset(f,S)}else F.d$(e);
var O=e.root.qO(F.Eu(e),e,j[v]);x=x.Gd(O);O.offset(-f,-S);x=x.Gd(O);if(F.add.SoCo||F.add.GdFl||F.add.PtFl||Wj.get(F.add)!=null)x=x.Gd(A);
F.ZCW()}}e.H(x)};o.KZ.ZvZ=function(e,j){var g=[];for(var P=0;P<j.length;P++){var p=e.T[j[P]];g.push(p.kb(e))}return g};
o.KZ.Sd=function(e,j,g){var P=e.n.TW={u:[],L:[]},p=j.x+g[0],v=j.y+g[1];if(g[2]!=1e9){P.L.push("M","L");
P.u.push(g[2],v,g[2],v+j.j)}if(g[3]!=1e9){P.L.push("M","L");P.u.push(p,g[3],p+j.W,g[3])}e.tI=!0};o.KZ.ic=function(e,j,g,P){var p=o.KZ.Zej(e,[[j.x],[j.y]],g,P);
return new Uc(j.x+p[0],j.y+p[1])};o.KZ.Si=function(e,j,g,P,p){var v=p==!0?0:1,x=o.KZ.Zej(e,[[j.x,j.x+(j.W>>>v),j.x+j.W],[j.y,j.y+(j.j>>>v),j.y+j.j]],g,P);
return x};o.KZ.Zej=function(e,j,g,P){if(P==null)P=[!0,null,!0];var p=[0,0,1e9,1e9];if(!g.Q$)return p;
var v=JSON.parse(JSON.stringify(j));for(var x=0;x<2;x++){var A=1e9,f=j[x],S=0;for(var F=0;F<f.length;
F++){var m=o.KZ.Zvf(e,f[F],v[1-x][F],x,g,P);if(m!=1e9)v[x][F]=m;if(m!=1e9&&Math.abs(m-f[F])<Math.abs(A)){A=m-f[F];
S=m}}if(A!=1e9){p[x]=A;p[x+2]=S}}return p};o.KZ.Zvf=function(e,j,g,P,p,v){var x=1e9,A=p.uh,f=p.ka;if(v[0]&&A[0]&&f.TY&&p.HS){var S=e.TY[P];
for(var F=0;F<S.length;F++)if(Math.abs(S[F]-j)<Math.abs(x-j))x=S[F]}if(A[1]&&f.dH&&p.HS){var m=Math.round(Z.CF.vr(f.$$,e,f.$j));
if(P==1&&f.Cv==1){var R=g*.5*Math.sqrt(4/3),M;m*=Math.sqrt(4/3);M=Math.round((j-R)/m)*m+R;if(Math.abs(M-j)<Math.abs(x-j))x=M;
M=Math.round((j+R)/m)*m-R;if(Math.abs(M-j)<Math.abs(x-j))x=M}else{var M=Math.round(j/m)*m;if(Math.abs(M-j)<Math.abs(x-j))x=M}}var b=e.iZ;
if(A[3]&&f.iZ&&p.HS&&b.length!=0){for(var F=0;F<b.length;F++){if(!v[2]&&e.Tt.indexOf(F)!=-1)continue;
var s=o.bR.da(b,F);for(var K=0;K<3;K+=2)if(s[K+P]!=j&&Math.abs(s[K+P]-j)<Math.abs(x-j))x=s[K+P]}}if(v[1]){var X=v[1],d=X.W,W=X.j,O=[X.x,X.y,X.x+(d>>>1),X.y+(W>>>1),X.x+d,X.y+W];
for(var F=0;F<6;F+=2)if(Math.abs(O[F+P]-j)<Math.abs(x-j))x=O[F+P]}if(A[4]){var d=e.W,W=e.j,O=[0,0,d>>>1,W>>>1,d,W];
for(var F=0;F<6;F+=2)if(Math.abs(O[F+P]-j)<Math.abs(x-j))x=O[F+P]}var H=Math.abs(x-j)<=4*V.I()/e.N.d?x:1e9;
return H};o.tU=function(){o.gs.call(this,[10,12],o.Zfv,"tools/mwand")};o.tU.prototype=new o.gs;o.tU.prototype.QN=function(e,j,g,P){this.finish(e,j,g,P)};
o.tU.prototype.getSelection=function(e,j,g,P){var p=this.Lt,v=o.gs.ZUa(new Uc(Math.floor(p.x),Math.floor(p.y)),this.fi.Ry);
return v};o.tU.ZuE=function(e,j,g){if(e.b.length!=1){alert("More than one layer selected.");return null}var P=e.T[e.b[0]],p;
if(P.add.lsct!=null&&P.add.lsct!=vC.qg){alert("No layer selected.");return null}if(j.x<0||j.x>e.W||j.y<0||j.y>e.j)return null;
var v=new G(0,0,e.W,e.j),x=P.TM<=0?null:P.TM==1?P.ou():P.EK(e)._;if(x==null&&v.iJ(P.rect))p=P.buffer;
else{p=Z.V(v.h()*4);if(x==null)Z.Vy(P.buffer,P.rect,p,v);else o.sB.mS(x.channel,x.rect,x.color,p,v)}var A=o.tU.ZLq(p,v,j,null,g),f=Z.Ms(A,v),S=Z.V(f.h());
Z.Oo(A,v,S,f);return{rect:f,channel:S}};o.tU.XL=function(e,j,g){var P=j.W,v=0,x=0,A=0,f=0;e=new Uint32Array(e.buffer);
var p=[],S=g.length;for(var F=0;F<S;F++){var m=g[F],R=Math.round(m.x-.5-j.x),M=Math.round(m.y-.5-j.y);
if(!j.uC(m))R=M=0;var b=M*P+R,s=e[b];p.push([s&255,s>>8&255,s>>16&255,s>>>24])}return p};o.tU.ZLq=function(e,j,g,P,p){e=new Uint32Array(e.buffer);
var v=j.W,x=j.j,A=v*x;if(P==null)P=o.tU.XL(e,j,[g]);var f=Math.round(g.x-.5-j.x),S=Math.round(g.y-.5-j.y),F=S*v+f,m=Date.now(),R=Z.V(v*x),M=p[0],b=1/M,s=p[1]&&M>0?255:0;
if(p[2]){var K=Z.V(R.length),X=new Uint32Array(A),d=1;X[0]=f<<16|S;K[F]=1;while(d>0){var W=X[d-1];d--;
var O=W>>>16,H=W&65535,Y=H*v+O,y=o.tU.iS(e[Y],P);if(y>M){var B=s*(1-Math.max(0,Math.min(1,(y-M)*b)));
R[Y]=~~B}else{R[Y]=255;if(H!=x-1&&K[Y+v]==0){X[d++]=O<<16|H+1;K[Y+v]=1}if(H!=0&&K[Y-v]==0){X[d++]=O<<16|H-1;
K[Y-v]=1}if(O!=v-1&&K[Y+1]==0){X[d++]=O+1<<16|H;K[Y+1]=1}if(O!=0&&K[Y-1]==0){X[d++]=O-1<<16|H;K[Y-1]=1}}}}else{for(var Y=0;
Y<A;Y++){var y=o.tU.iS(e[Y],P);if(y<=M)R[Y]=255}for(var H=0;H<x;H++)for(var O=0;O<v;O++){var Y=H*v+O;
if(R[Y]==0&&(O>0&&(R[Y-1]==255||H>0&&R[Y-v-1]==255||H<x-1&&R[Y+v-1]==255)||O<v-1&&(R[Y+1]==255||H>0&&R[Y-v+1]==255||H<x-1&&R[Y+v+1]==255)||H>0&&R[Y-v]==255||H<x-1&&R[Y+v]==255)){var y=o.tU.iS(e[Y],P),B=s*(1-Math.max(0,Math.min(1,(y-M)*b)));
R[Y]=~~B}}}return R};o.tU.iS=function(e,j){var g=j.length,P=o.tU.Zvc(e,j[0]),p=1;while(p!=g){P=Math.min(P,o.tU.Zvc(e,j[p]));
p++}return P};o.tU.Zvc=function(e,j){var g=e&255,P=e>>>8&255,p=e>>>16&255,v=e>>>24&255;if(j[3]==0)return v<5?0:255;
var x=Math.max(Math.abs(g-j[0]),Math.max(Math.abs(P-j[1]),Math.abs(p-j[2])));return v==0?255:x};o.fo=function(){o.sB.call(this,[10,26],o.ZuC,"tools/patch");
this.dN=null;this.RP=null;this.R=null;this.cO=null;this.Rh=new Uc;this.Rw=null};o.fo.prototype=new o.sB;
o.fo.prototype.Lr=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);if(e.Z&&Z.hE(v,e.Z.channel,e.Z.rect)){var x=new G(0,0,e.W,e.j),A=x.zx(e.Z.rect);
if(!e.TA()||A.tE())return;if(!A.iJ(e.Z.rect)){var f=Z.V(A.h());Z.Oo(e.Z.channel,e.Z.rect,f,A);e.Z={channel:f,rect:A}}this.vL(e);
this.cO=v;this.Rh=new Uc(v.x-e.Z.rect.x,v.y-e.Z.rect.y);this.Rw=Z.V(e.Z.rect.h()*4);Z.set(this.Rw,4294967295);
if(this.fi.patch==1){var S=e.T[e.b[0]];S.tc(e,e.Z,!0);if(S.JD==null)this.cO=null}}else{this.RP={u:[v.x,v.y],L:["M"]};
this.dN=v}};o.fo.prototype.tg=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);if(this.cO){if(this.fi.patch==1){var x=e.T[e.b[0]].JD,A=v.x-this.Rh.x,f=v.y-this.Rh.y;
o.KZ.ef(e,e.b[0],Math.round(A-x.YI.x),Math.round(f-x.YI.y))}else this.ZeP(e,v,"clone")}if(this.dN){this.RP.L.push("L");
this.RP.u.push(v.x,v.y);this.dN=v;e.n.eP=this.RP;e.tI=!0}};o.fo.prototype.jT=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);
if(this.cO){this.ZeP(e,v,"heal");this.finish(e,e.Z.rect);this.cO=null}if(this.dN){var x=o.gs.aJ(this.fi.setop,P.v(q.Ag),P.v(q.io)),A=new z(V.E.$E,!0);
if(this.RP.u.length<=4)A.data=o.gs.CP();else A.data=o.gs.vI(this.RP.u,x);j.P(A);this.dN=null;e.n.eP=null;
e.tI=!0}};o.fo.prototype.PL=function(){return this.R};o.fo.prototype.aQ=function(e,j,g,P,p){o.sB.prototype.aQ.call(this,e,j,g,P,p);
this.gB(p,P)};o.fo.prototype.gB=function(e,j){var g="auto;";if(j!=null&&j.v(q.Ag)&&!j.v(q.io)||this.fi.setop=="union")g="copy";
var P=new z(V.E.O,!0);P.data={U:V.a._E,Lj:g};if(this.caller)this.caller.P(P)};o.fo.prototype.ZeP=function(e,j,g){var P=new Uc(Math.round(this.cO.x-j.x),Math.round(this.cO.y-j.y));
if(this.fi.patch==1)P.Ve(-P.x,-P.y);this.R=P;this._O(e,g,this.Rw,e.Z.rect,e.Z.rect);this.H(e,e.Z.rect)};
o.eL=function(){o.sB.call(this,[10,13],o.ZxH,"tools/pbucket")};o.eL.prototype=new o.sB;o.eL.prototype.enable=function(e,j,g,P){var p=new z(V.E.O,!0);
p.data={U:V.a._E,Lj:"default"};j.P(p)};o.eL.prototype.wY=function(e,j){};o.eL.prototype.jT=function(e,j,g,P,p){if(!e.TA())return;
var v=e.N.IR(p.x,p.y),x=o.tU.ZuE(e,v,this.fi.wconf);if(x==null)return;var A=Z.V(x.rect.h()*4);Z.XC(A,(g.Jm&255)<<16|(g.Jm>>8&255)<<8|(g.Jm>>16&255)<<0);
Z.sH(x.channel,A,3);this.vL(e);this._O(e,"draw",A,x.rect,x.rect);this.H(e,x.rect);this.finish(e,x.rect)};
o.pb=function(){o.gs.call(this,[10,14],o.ZZd,"tools/plasso");this.Ji="crosshair";this.ge=[];this.RP=null;
this.ZUj=0};o.pb.prototype=new o.gs;o.pb.prototype.disable=function(e,j,g,P){this.FS(e)};o.pb.prototype.QN=function(e,j,g,P){this.ge=[q.WS,q.UQ]};
o.pb.prototype.FB=function(e){return this.ge.indexOf(e)!=-1};o.pb.prototype.S$=function(e){return this.RP!=null};
o.pb.prototype.ar=function(){return this.RP!=null};o.pb.prototype.eS=function(){return this.RP!=null};
o.pb.prototype.Aw=function(e,j,g,P){if(this.RP==null)return;var p=this.RP,v=p.u,x=v.length-2,A=this.Lt;
if(this.pG>1&&g.v(q.io)&&P.kD){v.push(0,0);p.L.push("L");x+=2}else if(g.v(q.Ag))A=o.dF.fT(new Uc(v[x-2],v[x-1]),A);
v[x]=A.x;v[x+1]=A.y;e.n.eP=p;e.tI=!0};o.pb.prototype.Sy=function(e,j,g,P){var p=Date.now();if(this.RP==null)this.RP={u:[this.Lt.x,this.Lt.y,this.Lt.x,this.Lt.y],L:["M","L"]};
else{this.Aw(e,j,g,P);this.RP.L.push("L");this.RP.u.push(this.Lt.x,this.Lt.y);e.n.eP=this.RP;if(p-this.ZUj<250||Uc.zG(this.Lt,new Uc(this.RP.u[0],this.RP.u[1]))<5*V.I()/e.N.d){this.finish(e,j,g,P);
this.FS(e)}}this.ZUj=p;e.n.eP=this.RP};o.pb.prototype.FS=function(e){this.RP=null;this.ge=[];if(e!=null){e.n.eP=null;
e.tI=!0}};o.pb.prototype.Pm=function(e,j,g,P){o.gs.prototype.Pm.call(this,e,j,g,P);if(this.RP==null)return;
if(P.v(q.WS)||P.v(q.UQ)){this.RP.u.pop();this.RP.u.pop();this.RP.L.pop();this.Aw(e,g,P)}if(P.v(q.dS)){if(this.RP.u.length>4)this.finish(e,g,P);
this.RP=null}if(P.v(q.Ae)){this.RP=null}e.n.eP=this.RP;e.tI=!0};o.pb.prototype.getSelection=function(e,j,g,P){return o.gs.vI(this.RP.u)};
o.jU=function(){o.gs.call(this,[10,10],o.ZZF,"tools/mlasso");this.Ji="crosshair";this.ge=[];this.F=[];
this.QO=[];this.vM=[];this.QX=null;this.OB=null;this.tA=null;this.qZ=0;this.UG=0};o.jU.prototype=new o.gs;
o.jU.prototype.disable=function(e,j,g,P){this.clear(e)};o.jU.prototype.S$=function(e){return this.F.length!=0};
o.jU.prototype.eS=function(){return this.F.length!=0};o.jU.prototype.FB=function(e){return this.ge.indexOf(e)!=-1};
o.jU.prototype.QN=function(e,j,g,P){this.ge=[q.WS,q.UQ];var p=this.XT(this.cZ,e);if(this.F.length!=0&&(Uc.zG(p,this.F[0])<4*V.I()/e.N.d||Date.now()-this.qZ<300)){this.eH(e,this.F[0]);
this.finish(e,j,g);this.clear(e);return}this.qZ=Date.now();if(this.F.length!=0)p=this.iO(p,e);else{var v=e.W,x=e.j,A=Z.V(v*x),f=e.Gj(),S=v*x*4;
for(var F=0;F<S;F+=4)A[F>>>2]=~~(.5+Z.LL(f[F],f[F+1],f[F+2])*(f[F+3]*(1/255)));this.QX=Z.In.ZNw(A,v,x);
this.tA=new Uint16Array(A.length)}this.eH(e,p);this.UG=g.v(q.io)?1:0;this.fc(e)};o.jU.prototype.eH=function(e,j){var g=this.F;
this.QO[g.length]=this.vM.length;if(g.length!=0){Z.In.Cj(this.OB,j.y*e.W+j.x);var P=this.i$(e,j);P.reverse();
var p=o.jU.ZeI(e,P);this.vM=this.vM.concat(p)}g.push(j);this.ZCy(e)};o.jU.prototype.ZCy=function(e){var j=this.F[this.F.length-1],g=j.y*e.W+j.x;
this.OB=Z.In.ZDx(this.QX.Am,this.QX.Ls,g);this.tA.fill(0)};o.jU.prototype.XT=function(e,j){return new Uc(Math.floor(Math.max(0,Math.min(j.W-1,e.x))),Math.floor(Math.max(0,Math.min(j.j-1,e.y))))};
o.jU.prototype.clear=function(e){this.vM=[];this.F=[];this.QO=[];this.QX=null;this.OB=null;this.tA=null;
if(e!=null){e.n.eP=null;e.n.$d=[];e.tI=!0}this.ge=[]};o.jU.prototype.Aw=function(e,j,g,P){var p=this.F,v=p.length;
if(v==0)return;var x=this.iO(this.XT(this.Lt,e),e),A=this.i$(e,x);for(var f=0;f<A.length;f++){var S=A[f],F=new Uc(S%e.W,Math.floor(S/e.W));
if(this.tA[S]>30&&Uc.zG(F,p[v-1])>20){this.eH(e,F);return}this.tA[S]++}if(this.UG==1&&P.kD)this.eH(e,x);
this.fc(e)};o.jU.prototype.fc=function(e){var j=this.F;if(j.length!=0){var g=this.iO(this.XT(this.Lt,e),e),P=this.i$(e,g);
P.reverse();var p=o.jU.ZeI(e,P),v=this.vM.concat(p),x=e.n.eP={u:v,L:["M"]};for(var A=2;A<v.length;A+=2)x.L.push("L")}e.n.$d=[];
for(var A=0;A<j.length;A++)e.n.$d.push(j[A].x+.5,j[A].y+.5);e.tI=!0};o.jU.prototype.Sy=function(e,j,g,P){};
o.jU.prototype.Pm=function(e,j,g,P){if(this.F.length==0)return;if(P.v(q.WS)||P.v(q.UQ)){this.F.pop();
this.vM=this.vM.slice(0,this.QO[this.F.length]);this.QO.pop();if(this.F.length==0)this.clear(e);else this.ZCy(e);
this.fc(e)}if(P.v(q.dS)){var p=this.XT(this.Lt,e);this.eH(e,p);this.finish(e,g,P);this.clear(e)}if(P.v(q.Ae)){this.clear(e)}};
o.jU.prototype.getSelection=function(e,j,g,P){return o.gs.vI(this.vM)};o.jU.prototype.i$=function(e,j){var g=this.F[this.F.length-1],P=g.y*e.W+g.x,p=j.y*e.W+j.x;
if(this.UG==1)return[p,P];var v=[p];while(p!=P){p=this.OB.sC[p];v.push(p);if(v.length>5e3){console.log(v);
throw"e"}}return v};o.jU.ZeI=function(e,j){var g=[],P=e.W;for(var p=0;p<j.length;p++){var v=j[p];g.push(v%P+.5,Math.floor(v/P)+.5)}return g};
o.jU.prototype.iO=function(e,j){var g=j.W,P=j.j,p=e.clone(),x=3;Z.In.Cj(this.OB,e.y*g+e.x);var v=this.OB.DO[e.y*g+e.x];
for(var A=-x+1;A<x;A++)for(var f=-x+1;f<x;f++){var S=e.x+f,F=e.y+A;if(S<0||S>=g||F<0||F>=P)continue;
Z.In.Cj(this.OB,F*g+S);if(this.OB.DO[F*g+S]<v)p.Ve(S,F)}return p};o.oC=function(){o.FE.call(this,[10,36],o.Zfu,"tools/ruler");
this.sG=null;this.Oq=null;this.kV=null;this.Fo=null};o.oC.prototype=new o.FE;o.oC.prototype.S$=function(e){return e.kD};
o.oC.prototype.disable=function(e,j,g,P){this.sG=this.Oq=null;if(e)this.iX(e)};o.oC.prototype.Lr=function(e,j,g,P,p){var v=e.N.d/V.I(),x=e.N.IR(p.x,p.y);
x.x=Math.round(x.x);x.y=Math.round(x.y);var A=this.sG;if(A&&Uc.zG(x,A[0])*v<6)this.Oq=[0];else if(A&&Uc.zG(x,A[1])*v<6)this.Oq=[1];
else if(A&&o.oC.Zvx(A[0],A[1],x)*v<6&&Math.min(A[0].x,A[1].x)-5<=x.x&&x.x<=Math.max(A[0].x,A[1].x)+5&&Math.min(A[0].y,A[1].y)-5<=x.y&&x.y<=Math.max(A[0].y,A[1].y)+5){this.Oq=[0,1];
this.Fo=[A[0].clone(),A[1].clone()];this.kV=x}else{this.sG=[x.clone(),x.clone()];this.Oq=[1]}};o.oC.prototype.tg=function(e,j,g,P,p){if(this.Oq==null)return;
var v=this.sG,x=this.Oq,A=e.N.IR(p.x,p.y);A.x=Math.round(A.x);A.y=Math.round(A.y);if(x.length==2){var f=A.x-this.kV.x,S=A.y-this.kV.y;
v[0]=this.Fo[0].clone();v[0].offset(f,S);v[1]=this.Fo[1].clone();v[1].offset(f,S)}else{v[x[0]].Ve(A.x,A.y);
if(P.v(q.Ag)){v[x[0]]=o.dF.fT(v[1-x[0]],v[x[0]])}}this.iX(e);this.iH(j,V.E.O,{U:V.a.eW,X:this.id,ZKm:v[0],yw:v[1]})};
o.oC.prototype.jT=function(e,j,g,P,p){this.Oq=null};o.oC.prototype.iH=function(e,j,g){var P=new z(j,!0);
P.data=g;e.P(P)};o.oC.prototype.iX=function(e){var j=this.sG;if(j==null){e.n.eP=null;e.n.$d=[]}else{var g=[j[0].x,j[0].y,j[1].x,j[1].y];
e.n.eP={L:["M","L"],u:g};e.n.$d=g}e.tI=!0};o.oC.Zvx=function(e,j,g){var P=j.x-e.x,p=j.y-e.y,v=Math.abs(p*g.x-P*g.y+j.x*e.y-j.y*e.x),x=Math.sqrt(P*P+p*p);
return v/x};o.XG=function(){o.sB.call(this,[10,19],o.vN,"tools/sharpen");this.Tg="copy"};o.XG.prototype=new o.sB;
o.XG.prototype.Lr=function(e,j,g,P,p){var v=this.fi.pdetail?WM.hm:WM.vN;if(P.v(q.io))v=WM.vg;this.sy(e,g,P,p,this.fi.strn,v);
if(this.vm==null)return;this.QD(e)};o.XG.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.eX=function(){o.sB.call(this,[10,24],o.Zxy,"tools/shbrush");
this.Tg="draw";this.fi.opacity=.5};o.eX.prototype=new o.sB;o.eX.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,1);
if(this.vm==null)return;this.QD(e)};o.eX.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.eX.prototype.jT=function(e,j,g,P,p){if(this.vm==null)return;
this._O(e,"sheal",this.vm.Wz(),this.vm.SQ(),this.vm.Ox(),null);this.H(e,this.vm.Ox());o.sB.prototype.jT.call(this,e,j,g,P,p)};
o.XE=function(){o.sB.call(this,[10,20],o._e,"tools/smudge");this.Tg="copy"};o.XE.prototype=new o.sB;
o.XE.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,this.fi.strn,WM._e);if(this.vm==null)return;this.QD(e)};
o.XE.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);if(this.vm==null)return;
if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.XS=function(){o.sB.call(this,[10,23],o.ZZo,"tools/sponge");
this.Tg="sponge"};o.XS.prototype=new o.sB;o.XS.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,this.fi.flow);
if(this.vm==null)return;this.QD(e)};o.XS.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);if(this.Iv)this.IT(e,g,p);
if(this.vm==null)return;if(!p.kD)return;this.Oj(e,g,P,p);this.QD(e)};o.ft=function(){o.FE.call(this,[10,17],o.Cb,"tools/zoom");
this.OF=!1;this.lO=!0;this.HJ=0;this.QY=null;this.Fv=null;this.ox=0;this.CD=null;this.Cy=0;this.bB=new Zn([{name:[8,0],uz:"Ctrl + +"},{name:[8,1],uz:"Ctrl + -",pU:!0},{name:[20,3],uz:"Ctrl + 0"},{name:[20,2],p:function(e){return{Of:Zr.get([20,2])+": 100%"}},uz:"Ctrl + 1"}],[{i:V.E.s,X:o.Cb,q:{U:"zoom",lO:!0}},{i:V.E.s,X:o.Cb,q:{U:"zoom",lO:!1}},{i:V.E.s,X:o.Cb,q:{U:"adapt",r:"fitscr"}},{i:V.E.s,X:o.Cb,q:{U:"adapt",r:"pixel"}}])};
o.ft.prototype=new o.FE;o.ft.prototype.c_=function(e,j,g,P,p){var v=this.bB;v.w();v.parent=j;v.update(e,g);
var x=new z(V.E.O,!0);x.data={U:V.a.LD,JR:v,x:p.QB+2,y:p.$t+1};j.P(x)};o.ft.prototype.enable=function(e,j,g,P){this.iF(j,P);
if(Date.now()-this.HJ<300)this.BB({U:"adapt",r:"pixel"},j,e,P,g);this.HJ=Date.now()};o.ft.prototype.Lr=function(e,j,g,P,p){this.Fv=new Uc(p.x,p.y);
this.ox=e.N.d;this.CD=e.N.R.clone()};o.ft.prototype.tg=function(e,j,g,P,p){if(this.Fv==null)return;var v=Math.round((p.x-this.Fv.x)/16);
if(v==0)return;var x=o.ft.iA(this.ox),A=o.ft.Gf[Math.max(0,Math.min(o.ft.Gf.length-1,x-v))];e.N.d=this.ox;
e.N.R=this.CD.clone();this.BB({U:"zoom",d:A,MF:this.Fv},j,e,P,g)};o.ft.prototype.jT=function(e,j,g,P,p){if(Uc.zG(this.Fv,p)<4){var v=this.ZCb(P);
this.BB({U:"zoom",lO:v,MF:p},j,e,P,g)}this.Fv=null};o.ft.Gf=[32,16,12,8,7,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
o.ft.ip=function(e,j,g,P){var p=1;while(e*p*1/2>g||j*p*1/2>P)p*=1/2;if(e*p*2/3>g||j*p*2/3>P)p*=1/2;else if(e*p>g||j*p>P)p*=2/3;
return p};o.ft.ZvW=function(e,j){var g=o.ft.iA(e);if(j&&g==0)return e;if(!j&&g==o.ft.Gf.length-1)return e;
return o.ft.Gf[j?g-1:g+1]};o.ft.iA=function(e){var j=0;while(o.ft.Gf[j]>e)j++;return j};o.ft.ec=function(e,j,g,P){var p=e.vs;
if(P==0||P==null){P=o.ft.ZvW(e.d,g);if(P==e.d)return}var v=e.IR(j.x,j.y);if(p.W*P<=e.A.W&&p.j*P<=e.A.j)e.R.Ve(0,0);
else{e.R.x=Math.round(p.W*P/2-v.x*P+(j.x-e.A.W/2));e.R.y=Math.round(p.j*P/2-v.y*P+(j.y-e.A.j/2))}e.d=P};
o.ft.prototype.BB=function(e,j,g,P,p){var v=0,x=!1,A=null;if(e.U=="adapt"){var f=0;if(e.r=="pixel")f=1;
if(e.r=="fitscr"){var f=0,S=g.N.A.W,F=g.N.A.j;if(g.W<=S&&g.j<=F){var m=1;while(g.W*(m+1)<=S&&g.j*(m+1)<=F)m++;
f=m}else{f=o.ft.ip(g.W,g.j,S,F)}}A=new Uc(Math.round(g.N.A.W/2),Math.round(g.N.A.j/2));v=f;o.ft.ec(g.N,A,x,v);
g.YX=!0}if(e.U.startsWith("multi")){function R(I){var r=I[0].x-I[1].x,i=I[0].y-I[1].y;return Math.sqrt(r*r+i*i)}function M(I){return new Uc((I[0].x+I[1].x)/2,(I[0].y+I[1].y)/2)}var b=e.ov,s=M(b);
if(e.U=="multidown"){this.QY=[b,g.N.d,g.N.IR(s.x,s.y)]}else{v=this.QY[1]*R(b)/R(this.QY[0]);if(v>=1)v=Math.min(32,Math.round(v));
else{var K=0,X=1e9,d=o.ft.Gf;for(var W=0;W<d.length;W++){var O=Math.abs(1-v/d[W]);if(O<X){X=O;K=W}}v=d[K]}if(v!=g.N.d)o.ft.ec(g.N,s,x,v);
var H=this.QY[2],Y=g.N.p$(H.x,H.y),y=g.N.R;y.x=Math.round(y.x+s.x-Y.x);y.y=Math.round(y.y+s.y-Y.y);g.YX=!0}}if(e.U=="scroll"){A=e.MF;
this.Cy+=e.uJ.y;var B=14;if(this.Cy<-B){x=!0;this.Cy=Math.max(this.Cy+B,-(B-1))}else if(this.Cy>B){x=!1;
this.Cy=Math.min(this.Cy-B,B-1)}else return;o.ft.ec(g.N,A,x,v);g.YX=!0}if(e.U=="zoom"){A=e.MF?e.MF:new Uc(Math.round(g.N.A.W/2),Math.round(g.N.A.j/2));
if(e.d!=null)v=e.d;else x=e.lO;o.ft.ec(g.N,A,x,v);g.YX=!0}if(e.U=="mskView"){var c=g.T[g.b[0]],$=c.TM==3?c.EK(g)._:c.ou();
if(e.r==0){g.N.oJ=[1,1,1];$.IN=!1}if(e.r==1){g.N.oJ=[1,1,1];$.IN=!0}if(e.r==2){g.N.oJ=[0,0,0];$.IN=!0}for(var W=0;
W<g.xr.length;W++)g.xr[W].IN=!1;g.HO=[];g.tI=!0}};o.ft.prototype.Pm=function(e,j,g,P){if(this.OF!=P.v(q.io)){this.OF=P.v(q.io);
var p={U:V.a.eW,X:this.id,OF:this.OF},v=new z(V.E.O,!0);v.data=p;j.P(v);this.iF(j,P)}};o.ft.prototype.iF=function(e,j){var g=new z(V.E.O,!0),P=this.ZCb(j);
g.data={U:V.a._E,Lj:P?"zoom-in":"zoom-out"};e.P(g)};o.ft.prototype.aQ=function(e,j,g,P){this.lO=e.lO;
this.iF(j,P)};o.ft.prototype.ZCb=function(e){var j=this.lO;if(e.v(q.Er)&&e.v(q.kA))j=!0;if(this.OF)j=!j;
return j};o.dk=function(e,j,g){o.FE.call(this,e,j,g);this.pr=null;this.tS=null;this.fC=null;this.ZUb=0};
o.dk.prototype=new o.FE;o.dk.prototype.enable=function(e,j,g,P,p){this.tS=g;var v=new z(V.E.O,!0);v.data={U:V.a._E,Lj:"default"};
j.P(v)};o.dk.prototype.c_=function(e,j,g,P,p){if(e.OK()[0].length==0)return;var v=new z(V.E.O,!0);v.data={U:V.a.eW,X:this.id,CJ:p,Lg:e,ES:g};
j.P(v)};o.dk.prototype.ZgR=function(e,j){var g=new z(V.E.O,!0);g.data={U:V.a.du,im:WV.fr};if(!j.HS)e.P(g);
g.data={U:V.a.du,im:WV.HC};if(!j.ka.Bd)e.P(g)};o.dk.prototype.zO=function(e,j,g,P){if(g.To!=this.id)return;
if(e.b.length==0)return;var p=e.T[e.b[0]],v=p.add.vmsk,x=p.add.vstk,A=o.dk.NW(e,e.b[0]);this.pr=e;this.fC=j;
if(p.dz()&&v!=null&&(JSON.stringify(x)!=JSON.stringify(g.qf)||JSON.stringify(A)!=JSON.stringify(g.qx))){this.ZUb=Date.now();
var f=new z(V.E.O,!0);f.data={U:V.a.du,im:WV.IY,r:A};j.P(f);f.data={U:V.a.du,im:WV.Vc,r:x};j.P(f)}};
o.dk.prototype.wY=function(e,j){if(this.pr==null)return;if(j==WV.oY||j==WV.IY||j==WV.Vc){if(Date.now()-this.ZUb<50)return;
var g=j==WV.IY,P=this.pr,p=g?e.qx:e.qf,v=[];for(var x=0;x<P.b.length;x++){var A=P.b[x],f=P.T[A];if(!f.dz()||f.add.vmsk==null)continue;
v.push(A)}var S=new z(V.E.s,!0);S.X=o.jE;S.data={U:u.$J,kT:v,Hb:g,r:p};if(v.length!=0)this.fC.P(S)}};
o.dk.prototype.Zve=function(e){if(typeof e=="number"){var j=new z(V.E.$E,!0);j.data=o.yQ.Tb(0);j.data.HR.Usng.v.Type.v.Clr.v=Z.c.Op({k:e>>>16&255,z:e>>>8&255,e:e>>>0&255});
this.fC.P(j)}};o.dk.prototype.BB=function(e,j,g,P,p){this.fC=j;if(e.U=="newfill"){if(e.Gm==0){var v=new z(V.E.O,!0);
v.data={U:V.a.LW,aj:"colorpicker",xI:p.Jm,QM:this.Zve.bind(this)};j.P(v)}}else if(e.U=="pathedit"){var x=e.oV,A="",f=g.Bd.slice(0),S=g.QL.slice(0),F=g.Bd.slice(0),m=g.QL.slice(0);
if(x=="rnm"){var R=-1-e.VS,M=f[R],b=ZT.Uq(e.name,M.add);F[R]=b;A="Rename"}else if(x=="new"){F.push(ZT.Uq("Path "+f.length));
m=[F.length-1];A="New"}else if(x=="del"){if(m.length==0)return;m.sort(function($,n){return $-n});if(m[0]==0){F[0]=ZT.Uq(f[0].name);
m=m.slice(1)}var s=0;while(m.length!=0){F.splice(m[0]-s,1);m=m.slice(1);s++}A="Delete"}else if(x=="fromsel"){var K=F[0]=ZT.Uq("Work Path");
m=[0];if(g.Z==null)return;var X=g.Z.channel.slice(0);for(var d=0;d<X.length;d++)X[d]=X[d]>128?2:1;var W=g.Z.rect.clone();
W.F_(1,1);var O=Z.V(W.h());Z.Oo(X,g.Z.rect,O,W);var H=fu.nF(O,W.W,W.j,Math.round(W.h()*5e-4)),Y=fu.OK(H),y=new WE(1,0,0,1,-1+g.Z.rect.x,-1+g.Z.rect.y);
for(var d=0;d<Y.length;d++)Z.g.K(Y[d].path.u,y,Y[d].path.u);for(var d=0;d<Y.length;d++){var B=Y[d];if(B.color==1&&B.parent==-1)continue;
var c=Z.g.br(Y[d].path,!1);K.add.vmsk.F=K.add.vmsk.F.concat(c.slice(2))}K.add.vogk=u.Vd(K.add.vmsk.F);
A="Selection to"}var $=new ZU(A+" Path",this);$.data={bk:f,oi:S,Z$r:F,oN:m};if(x=="fromsel"){$.data.Ll=g.Z;
$.data.kz=null}g.sz($);this.aX($.data,g)}else{var I=g.OK(e.U=="append"),Y=I[0],r=I[1],K=Y[r[0]],i=K.add.vmsk,U=K.add.vogk,N=i.clone(),C=i.clone(),D=JSON.stringify(U);
if(e.U=="remove"){if(C.b.length==0)return;var s=0;for(var d=0;d<C.b.length;d++){U.splice(C.b[d]+s,1);
s--}C.F=Z.f.ZOR(C.F,C.b);C.b=[];C.Om=[]}if(e.U=="append"){o.dk.ZfL(e.Z$d,C,U)}this.kh(g,K.VS,C,U);this.dg(g,e.de,K.VS,N,C.clone(),null,D,JSON.stringify(U))}};
o.dk.ZzL=function(e,j){var g=Z.f.ZpZ(e.F,e.b),P=[];for(var p=0;p<e.b.length;p++)P.push(JSON.parse(JSON.stringify(j[e.b[p]])));
return[g,P]};o.dk.ZfL=function(e,j,g){var P=Z.f.iI(j.F),p=Z.f.iI(e[0]);j.F=j.F.concat(e[0].slice(2));
j.b=[];for(var v=0;v<p;v++)j.b.push(P+v);for(var v=0;v<p;v++)g.push(JSON.parse(JSON.stringify(e[1][v])))};
o.dk.prototype.FB=function(e,j){if(j==null)return!1;var g=j.OK(),P=g[0],p=g[1];if(p.length==0)return!1;
var v=P[p[0]],x=v.add.vmsk;if(x&&x.b.length+x.Om.length!=0)return[q.WS,q.UQ].indexOf(e)!=-1};o.dk.prototype.Pm=function(e,j,g,P){if(e==null)return;
var p=e.OK(),v=p[0],x=p[1];if(x.length==0)return;var A=v[x[0]],f=A.add.vmsk;if(P.v(q.Ae)||P.v(q.dS)){f.Om=[];
e.tI=!0}if(f.b.length!=0){var S=P.GH();if(S.x!=0||S.y!=0){var F=f.clone(),m=f.clone(),R=new WE(1,0,0,1,S.x,S.y),M=A.add.vogk,b=JSON.stringify(M);
Z.f.Ly(m.F,R,m.b);Z.uF.K(M,Z.D.aL(R),m.b);this.kh(e,A.VS,m,M);this.dg(e,"Move Paths",A.VS,F,m.clone(),!0,b,JSON.stringify(M))}if(P.v(q.WS)||P.v(q.UQ))this.BB({U:"remove",de:"Delete Paths"},j,e,P,g)}};
o.dk.prototype.dg=function(e,j,g,P,p,v,x,A){var f=new ZU(j,this);f.data={BQ:g,oD:P,WI:p,ZUw:v,ZWD:x,ot:A};
e.sz(f)};o.dk.prototype.aX=function(e,j){if(e.BQ!=null)this.kh(j,e.BQ,e.WI.clone(),JSON.parse(e.ot));
else{j.Bd=e.Z$r.slice(0);j.QL=e.oN.slice(0);j.tI=j.zz=!0}if(e.Ll||e.kz){j.Z=e.kz;j.f_=!0}};o.dk.prototype.PB=function(e,j){if(e.BQ!=null)this.kh(j,e.BQ,e.oD.clone(),JSON.parse(e.ZWD));
else{j.Bd=e.bk.slice(0);j.QL=e.oi.slice(0);j.tI=j.zz=!0}if(e.Ll||e.kz){j.Z=e.Ll;j.f_=!0}};o.dk.prototype.kh=function(e,j,g,P){var p=j<0?e.Bd[-1-j]:j<1e6?e.T[j]:e.T[j-1e6].add.TySh;
p.add.vmsk=g;p.add.vogk=P;if(1e6<=j){Wf.gP(p);var v=e.T[j-1e6],x=p,A=this.tS,f=new vf(x.xe,A.Fz),S=vs.Mc(f,x);
v.rect=S.B;v.buffer=S.C$;v.H();e.H()}else if(0<=j){g.jA=!0;p.d$(e);e.H()}e.tI=e.zz=!0};o.dk.NW=function(e,j){var g=e.T[j],P=g.add.vstk,p=null;
if(P&&!P.fillEnabled.v)p={Tm:0};else if(g.add.SoCo)p={Tm:1,am:g.add.SoCo};else if(g.add.GdFl)p={Tm:2,am:g.add.GdFl};
else if(g.add.PtFl)p={Tm:3,am:g.add.PtFl};return p};o.dk.Xs=function(e,j){var g=e.add.vmsk,P=e.add.vstk,p=j.Tm;
if(P)P.fillEnabled.v=p!=0;if(p>0){var v=["SoCo","GdFl","PtFl"][p-1];for(var x=0;x<3;x++)delete e.add[["SoCo","GdFl","PtFl"][x]];
e.add[v]=j.am}};o.yQ=function(e,j,g,P){o.dk.call(this,e,j,g);this.fi={tmode:1,shape:eU.WX(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,cstr:{kC:0}};
this.Z$i=P;this.Ca=null;this.oL=null;this.qW=null};o.yQ.prototype=new o.dk;o.yQ.prototype.S$=function(e){return e.kD&&this.id!=o.Sx};
o.yQ.prototype.enable=function(e,j,g,P,p){this.tS=g;var v=new z(V.E.O,!0);v.data={U:V.a._E,Lj:"crosshair"};
j.P(v)};o.yQ.prototype.uv=function(e,j,g,P){};o.yQ.prototype.Lr=function(e,j,g,P,p){this.ZgR(j,g);var v=this.fi.tmode;
if(v==2&&!e.TA())return;var x=e.N.IR(p.x,p.y);x=o.KZ.ic(e,x,g);this.qW=[x.x,x.y];this.Ca=x;this.oL=new Uc(0,0)};
o.yQ.prototype.ZtO=function(e,j,g){var P=[this.Ca.clone(),j.clone()];if(this.Z$i)P=o.yQ.NV(P[0],P[1],g,!0,this.fi.cstr);
if(e)e.N.cT=new G(P[0].x,P[0].y,P[1].x-P[0].x,P[1].y-P[0].y);return this.uv(P[0],P[1],g.v(q.Ag),this.qW)};
o.yQ.prototype.Zet=function(e,j,g){var P=e.N.IR(j.x,j.y),p=this.fi.cstr;if(p.kC==2){var v=new G(P.x-p.x,P.y-p.y,p.x,p.y),x=o.KZ.Si(e,v,g);
P.x+=x[0];P.y+=x[1];o.KZ.Sd(e,v,x)}else P=o.KZ.ic(e,P,g);return P};o.yQ.prototype.tg=function(e,j,g,P,p){if(this.Ca==null)return;
var v=this.Zet(e,p,g);if(P.v(q.Er))this.Ca=v.ki(this.oL);else this.oL=v.ki(this.Ca);this.qW.push(v.x,v.y);
if(this.fi.shape==null)this.fi.shape=g.qu[0];var x=this.ZtO(e,v,P)[0],A=Z.g.bg(x);e.n.eP=A;if(this.id!=o.Sx&&this.id!=o.jb&&this.id!=o.jc)o.FE.Wo(p.x+10,p.y-10,e.N.cT,e,g);
e.tI=!0};o.yQ.prototype.ZvN=function(e,j,g,P){var p=e[4].clone();if(P){p.x-=j/2;p.y-=g/2}var v=this.uv(p,new Uc(p.x+j,p.y+g),!1,this.qW);
this.Zdq(e[0],e[1],e[2],v)};o.yQ.prototype.Zdq=function(e,j,g,P){var p=new z(V.E.$E,!0);p.data=o.yQ.ZtB(P[1],g);
j.P(p);if(P[1].v.classID=="customShape"&&P[1].v.Nm.v.startsWith("--")){var v=e.OK(),x=v[0],A=v[1],f=x[A.pop()],S=f.add.vmsk,F=f.add.vogk,m=S.clone();
m.F=P[0];this.kh(e,f.VS,m,F)}};o.yQ.prototype.jT=function(e,j,g,P,p){if(this.Ca==null)return;var v=this.Zet(e,p,g),x=this.fi.binop,A=this.fi.tmode,f=this.qW,S=f.length;
if(this.id==o.Sx&&S<=4){}else if(S<=4){v.x=Math.round(v.x);v.y=Math.round(v.y);var F=new z(V.E.O);F.data={U:V.a.LW,aj:"createshape",Z$L:this.ZvN.bind(this),Z$T:this.name,Z$G:[e,j,g,P,v]};
j.P(F)}else if(S!=2){var m=this.ZtO(e,v,P),R=m[0];if(A==0&&R.length>2){R[2].WF=[1,2,3,0][x];var M=e.OK(!0),b=M[0],s=M[1],K=b[s.pop()],X=K.add.vmsk,d=K.add.vogk,W=X.clone(),O=X.clone(),H=JSON.stringify(d);
O.F=O.F.concat(R.slice(2));O.b=[Z.f.iI(O.F)-1];var Y=Z.uF.xp(m[1]);d.push(Y?Y:Z.uF.vK());this.kh(e,K.VS,O,d);
this.dg(e,this.name,K.VS,W,O,null,H,JSON.stringify(d))}else if(A==1){this.Zdq(e,j,g,m)}else if(A==2){var O=new u.nt;
O.F=O.F.concat(R.slice(2));var y=O.ou(),B=Z.V(y.rect.h()*4);Z.XC(B,(g.Jm&255)<<16|(g.Jm>>8&255)<<8|(g.Jm>>16&255)<<0);
Z.sH(y.channel,B,3);var c=new z(V.E.s,!0);c.X=o.AY;c.data={U:"draw",vV:{buffer:B,rect:y.rect.clone()},de:this.name};
j.P(c)}}this.Ca=null;e.n.eP=null;e.n.TW=null;e.n.tx=[];e.N.cT=null;e.tI=!0};o.yQ.prototype.aQ=function(e,j,g,P,p){for(var g in e)this.fi[g]=e[g]};
o.yQ.NV=function(e,j,g,P,p){var v=e.x,x=e.y,A=j.x,f=j.y;if(p&&p.kC==2){if(P){A=Math.round(A);f=Math.round(f)}v=A-p.x;
x=f-p.y}else{var S=0;if(p&&p.kC==1)S=p.y/p.x;else if(g&&g.v(q.Ag))S=1;if(S!=0){if(P){if(v<A)v=Math.floor(v);
else v=Math.ceil(v);if(x<f)x=Math.floor(x);else x=Math.ceil(x)}var F=Math.abs(A-v),m=Math.abs(f-x),R=F;
if(m/F<S)R*=m/F/S;A=A>v?v+R:v-R;f=f>x?x+R*S:x-R*S}if(g&&g.v(q.io)){v-=A-v;x-=f-x}}var e=new Uc(v,x),j=new Uc(A,f);
if(P)o.yQ.ZvS(e,j);return[e,j]};o.yQ.ZvS=function(e,j){if(e.x>j.x){var g=e.x;e.x=j.x;j.x=g}if(e.y>j.y){var g=e.y;
e.y=j.y;j.y=g}e.x=Math.floor(e.x);e.y=Math.floor(e.y);j.x=Math.ceil(j.x);j.y=Math.ceil(j.y)};o.yQ.ZvP=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
o.yQ.Tb=function(e,j){var g=o.yQ.ZvP();if(j==null)j=JSON.parse(JSON.stringify(Wr.Wx[e]));ZI.hW.VG(j,g.Usng.v.Type.v,e);
return{Wi:"make",HR:g}};o.yQ.ZtB=function(e,j){var g=j.qx,P=JSON.parse(JSON.stringify(j.qf));if(g.Tm==0)P.fillEnabled.v=!1;
var p=o.yQ.Tb(Math.max(0,g.Tm-1),g.am);p.HR.Usng.v.Shp=e;p.HR.Usng.v.strokeStyle={t:"Objc",v:P};return p};
o.m$=function(){o.dk.call(this,[10,29],o.yA,"tools/pen");this.PO=null;this.Zs=null;this.qC=1;this.ZWw=0;
this.Qw=null;this.cr=!1};o.m$.prototype=new o.dk;o.m$.prototype.S$=function(e){return this.PO!=null};
o.m$.prototype.Lr=function(e,j,g,P,p){this.ZgR(j,g);var v=e.N.IR(p.x,p.y),M,b;v.x=Math.round(v.x);v.y=Math.round(v.y);
var x=o.KZ.ic(e,v,g),A=e.OK(this.qC==0),f=A[0],S=A[1],F=f[S.pop()],m=F?F.add.vmsk:null,R=4*V.I()/e.N.d;
if(m)M=Z.f.hE(m.F,v,!0,R);if(this.qC==1&&(m==null||(m.Om.length==0||m.Om[0]!=m.F.length-1)&&M.VS==-1)){var s=new z(V.E.$E,!0),K=Z.uF.FV("customShape",[0,0,1,1],null,null,null,"--");
s.data=o.yQ.ZtB(K,g);j.P(s);A=e.OK(!0);f=A[0];S=A[1];F=f[S.pop()];m=F.add.vmsk;m.F=m.F.slice(0,2)}var X=F.add.vogk;
this.PO=m.clone();this.Zs=JSON.stringify(X);var d=m.F,W=Z.f.iI(d);b=Z.f.$b(m.F,new G(v.x-R,v.y-R,R*2,R*2));
M=Z.f.hE(m.F,v,!0,R);if(M.VS!=-1&&b[0].length==0){var O=Z.f.mh(d,M.VS);while(d[O].length<=M.qt){M.qt-=d[O].length;
O+=d[O].length+1}d[O].length++;d.splice(O+2+M.qt,0,{type:4,Li:x.clone(),G:x.clone(),ap:x.clone()});m.Om=[O+2+M.qt]}else if(b[0].length==1&&P.v(q.io)){var H=b[0],Y=m.F.length-1,y=m.F[H];
y.ap=y.G.clone();if(H!=Y)y.Li=y.G.clone()}else{var B=0;if(m.Om.length!=1){m.b=[W];d.push({type:3,length:1,WF:[1,2,3,0][this.ZWw],Tu:0,sf:0,sW:0});
B=d.length;X.push(Z.uF.vK())}else{var c=m.Om[0],$=Z.f.nL(d,c),O=Z.f.mh(d,$);if(c==O+d[O].length&&Uc.zG(v,d[O+1].G)<R){d[O].type=0;
m.Om=[O+1];this.Qw=x;this.cr=!0;this.kh(e,F.VS,m,X);e.tI=!0;return}d[O].length++;B=c+1}if(P.v(q.Ag)&&d[B-1]&&d[B-1].G)x=o.dF.fT(d[B-1].G,x);
d.splice(B,0,{type:4,Li:x.clone(),G:x.clone(),ap:x.clone()});m.Om=[B];this.Qw=x}this.kh(e,F.VS,m,X);
e.tI=!0};o.m$.prototype.tg=function(e,j,g,P,p){if(this.PO==null)return;var v=e.N.IR(p.x,p.y),x=o.KZ.ic(e,v,g),A=e.OK(this.qC==0),f=A[0],S=A[1],F=f[S.pop()],m=F.add.vmsk,R=m.F,M=R[m.Om[0]];
if(P.v(q.Er)){if(P.v(q.Ag))x=o.dF.fT(this.Qw,x);var b=M.G.ki(M.ap),s=M.Li.ki(M.G);M.ap=x;M.G=x.add(b);
M.Li=M.G.add(s)}else{if(P.v(q.Ag))x=o.dF.fT(M.G,x);if(this.cr){var K=Uc.zG(M.G,x),X=K==0?0:Uc.zG(M.G,M.ap)/K;
M.ap.x=M.G.x+X*(x.x-M.G.x);M.ap.y=M.G.y+X*(x.y-M.G.y)}else M.ap=x;if(P.v(q.io))M.type=5;else{M.type=4;
M.Li=M.G.add(M.G.ki(x))}this.Qw=x}this.kh(e,F.VS,m,F.add.vogk);e.tI=!0};o.m$.prototype.jT=function(e,j,g,P,p){if(this.PO==null)return;
var v=e.OK(this.qC==0),x=v[0],A=v[1],f=x[A.pop()],S=f.add.vmsk,F=f.add.vogk;this.dg(e,this.cr?"Close Path":"Add Anchor Point",f.VS,this.PO,S.clone(),null,this.Zs,JSON.stringify(F));
this.cr=!1;this.PO=null};o.m$.prototype.aQ=function(e,j,g,P,p){this.qC=e.tmode;this.ZWw=e.binop};o.NJ=function(){o.yQ.call(this,[10,30],o.Sx,"tools/fpen",!1)};
o.NJ.prototype=new o.yQ;o.NJ.prototype.uv=function(e,j,g,P){return[Z.f.nE(P,this.fi.tolr),Z.uF.FV("customShape",[0,0,1,1],null,null,null,"--")]};
o.zc=function(){o.dk.call(this,[10,27],o.Zx,"tools/pselect");this.y_=null;this.qn=!1;this.RP=null;this.PO=null;
this.oI=null;this.Zs=null;this.o$=null;this.pF=null;this.qd=null;this.LM=null};o.zc.prototype=new o.dk;
o.zc.prototype.S$=function(e){return e.kD};o.zc.prototype.Lr=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=e.OK(),A=x[0],f=x[1],S,F;
for(var m=0;m<f.length;m++){var R=A[f[m]],M=R.add.vmsk,b=Z.f.hE(M.F,v).VS;if(b!=-1){this.RP=S=R;F=b}for(var s=0;
s<M.sG.length;s++){var K=Z.f.eo(M.F,M.sG[s]);if(K==null)continue;var X=Uc.zG(K,v);if(X<4*V.I()/e.N.d){var d=e.T[R.VS-1e6].add.TySh,W=d.xe.Curve,O=d.K,H=W.Reversed;
W.Reversed=!1;var W=vf.MW(d.xe.Curve);W.Reversed=H;Z.g.K(W[0],O,W[0]);this.qd=[W,s,O.Fl*O.LC-O.e*O.Ug];
this.RP=S=R;F=0}}if(this.qd)break}if(S!=null){var M=S.add.vmsk;M.Om=[];var Y=M.b.indexOf(F);if(P.v(q.Ag)){if(Y==-1){M.b.push(F);
this.qn=!0}else M.b.splice(Y,1)}else{if(Y==-1)M.b=[F];this.qn=!0}this.pF=Z.f.Gx(M.F,M.b)}this.y_=v;this.LM=new Jw(v);
e.zz=!0;e.tI=!0};o.zc.prototype.tg=function(e,j,g,P,p){if(this.y_==null)return;var v=e.N.IR(p.x,p.y);
if(this.qn){v=this.LM.hY(v,P);var x=this.RP;if(this.PO==null){this.PO=this.oI=x.add.vmsk.clone();this.Zs=this.o$=JSON.stringify(x.add.vogk);
if(P.v(q.io)){var A=this.PO.clone(),f=JSON.parse(this.Zs),S=o.dk.ZzL(A,f);o.dk.ZfL(S,A,f);this.oI=A;
this.o$=JSON.stringify(f)}}var A=this.oI.clone(),f=JSON.parse(this.o$);if(this.qd){var F=this.qd,m=F[0][0],R=Z.g.$L(m,v.x,v.y);
A.sG[F[1]]=F[0][1][R];var M=m[R*2],b=m[R*2+1],s=(m[R*2+2]-M)*(v.y-b)-(m[R*2+3]-b)*(v.x-M);if(F[2]<0)s=-s;
A.CI=s>0}else{var K=this.pF.clone(),X=K.x,d=K.y;K.offset(v.x-this.y_.x,v.y-this.y_.y);K.x=Math.round(K.x);
K.y=Math.round(K.y);var W=o.KZ.Si(e,K,g),O=new WE(1,0,0,1,K.x-X+W[0],K.y-d+W[1]);Z.f.Ly(A.F,O,A.b);Z.uF.K(f,Z.D.aL(O),A.b);
o.KZ.Sd(e,K,W)}this.kh(e,x.VS,A,f)}else{var H=this.y_;e.n.eP=Z.g.B$(new G(H.x,H.y,v.x-H.x,v.y-H.y));
e.tI=!0}};o.zc.prototype.jT=function(e,j,g,P,p){if(this.y_==null)return;var v=e.N.IR(p.x,p.y),x=this.RP,A=x?x.add.vmsk:null;
if(this.qn){var f=JSON.stringify(x.add.vogk);if(!this.y_.iJ(v))this.dg(e,"Move Paths",x.VS,this.PO,A,null,this.Zs,f);
if(e!=null&&e.n.TW){e.n.TW=null;e.tI=!0}}else{if(A){var S=this.y_,F=new G(S.x,S.y,v.x-S.x,v.y-S.y),m=Z.f.ZOK(A.F,F);
if(P.v(q.Ag)){for(var R=0;R<m.length;R++)if(A.b.indexOf(m[R])==-1)A.b.push(m[R])}else A.b=m}e.n.eP=null;
e.tI=!0}this.y_=null;this.PO=null;this.qd=null;this.qn=!1;this.LM=null};o.zc.prototype.zO=function(e,j,g,P){o.dk.prototype.zO.call(this,e,j,g,P);
if(g.To!=this.id)return;if(e.b.length==0)return;var p=e.OK(),v=p[0],x=p[1];if(x.length==0)return;var A=v[x[0]],f=A.add.vmsk,S=A.add.vstk,F=A.add.vogk,m=new z(V.E.O,!0);
m.data={U:V.a.eW,X:this.id,vk:"main",HK:f?f:null,uF:F};j.P(m)};o.zc.prototype.aQ=function(e,j,g,P,p){var v=e.ZY;
if(v.HK){var x=g.OK(),A=x[0],f=x[1],S=A[f[0]],F=S.add.vmsk.clone(),m=JSON.stringify(S.add.vogk),R=v.HK;
this.kh(g,S.VS,R,v.uF);var M=[18,5];if(F.F.length==R.F.length)M=F.b[0]==R.b[0]?"Fill Rule":"Path Order";
this.dg(g,M,S.VS,F,R,null,m,JSON.stringify(v.uF))}};o.pu=function(){o.dk.call(this,[10,28],o.vq,"tools/dselect");
this.BZ=-1;this.OO=-1;this.cC=null;this.y_=null;this.RP=null;this.PO=null;this.Zs=null;this.pr=null;
this.qZ=0;this.ZvL={psnap:!1};this.LM=null};o.pu.prototype=new o.dk;o.pu.prototype.S$=function(e){return e.kD};
o.pu.prototype.aQ=function(e){this.ZvL=e};o.pu.prototype.BB=function(e,j,g,P,p){if(e.U=="crnr"){if(g==null)return;
var v=g.OK(),x=v[0],A=v[1];if(A.length==0){alert("No paths selected");return}var f=x[A[0]],S=f.add.vmsk;
if(S.Om.length==0){alert("No corners selected");return}for(var F=0;F<S.Om.length;F++){var m=S.F[S.Om[F]];
if(!m.G.iJ(m.ap)||!m.G.iJ(m.Li)){alert("Only sharp corners can be rounded");return}}if(this.PO==null){this.PO=f.add.vmsk.clone();
this.Zs=JSON.stringify(f.add.vogk);this.RP=f;this.pr=g}var R=new z(V.E.O,!0);R.data={U:V.a.LW,aj:"cornerradius",ek:5,BT:this.Zv_.bind(this)};
j.P(R)}else o.dk.prototype.BB.call(this,e,j,g,P,p)};o.pu.prototype.Zv_=function(e){if(e=="confirm"){var j=this.pr,g=this.RP,P=g.add.vmsk,p=g.add.vogk;
this.dg(j,[12,94,0],g.VS,this.PO,P,null,this.Zs,JSON.stringify(p));this.FS();return}var P=this.PO.clone(),p=JSON.parse(this.Zs),v=P.Om;
if(e=="cancel"){}else{var x=[];for(var A=0;A<v.length;A++){var f=v[A],S=Z.f.nL(P.F,f,!0),R=0;if(x.indexOf(S)!=-1)continue;
x.push(S);var F=Z.f.mh(P.F,S,!0),m=P.F[F].length,M=[];for(var b=0;b<m;b++){var s=P.Om.indexOf(F+b+1)==-1?0:e;
M.push(s);if(s!=0)R++}Z.f.Vv(P.F,F,M);for(var b=0;b<v.length;b++)if(v[b]>F+m)v[b]+=R}this.X$(P,p);P.Om=[]}this.kh(this.pr,this.RP.VS,P,p);
if(e=="cancel")this.FS()};o.pu.prototype.disable=function(e,j,g,P){this.Nu(e)};o.pu.prototype.Lr=function(e,j,g,P,p){this.Nu(e);
var v=e.N.IR(p.x,p.y),m,R,M;this.cC=v.clone();var x=e.OK(),A=x[0],f=x[1];if(f.length==0)return;var S=4*V.I()/e.N.d,F=new G(v.x-S,v.y-S,S*2,S*2);
for(var b=0;b<f.length;b++){m=this.RP=A[f[b]];R=m.add.vmsk;M=Z.f.$b(R.F,F);if(M[0].length+M[1].length+M[2].length!=0)break}var s=[!1,!1,!1];
for(var K=0;K<3;K++){for(var X=0;X<M[K].length;X++)if(R.Om.indexOf(M[K][X])!=-1){M[K]=[M[K][X]];s[K]=!0;
break}}if(M[0].length!=0&&(s[0]||!s[1]&&!s[2])){var d=M[0][0],W=R.Om.indexOf(d);if(P.v(q.Ag)){if(W==-1)R.Om.push(d);
else{R.Om.splice(W,1);e.tI=!0;return}}else if(W==-1)R.Om=[d];this.BZ=d;this.OO=0}else if(M[1].length!=0&&(s[1]||!s[2])){this.BZ=M[1][0];
this.OO=1}else if(M[2].length!=0){this.BZ=M[2][0];this.OO=2}else{var O=Z.f.hE(R.F,v,!0,S);if(O.VS==-1)this.y_=v;
else{R.b=[O.VS];R.Om=[]}}if(this.PO==null){this.PO=m.add.vmsk.clone();this.Zs=JSON.stringify(m.add.vogk)}this.LM=new Jw(v);
e.tI=!0};o.pu.prototype.tg=function(e,j,g,P,p){if(e==null)return;var v=e.N.IR(p.x,p.y),x=this.RP;if(this.BZ!=-1){var A=this.PO.clone(),f=x.add.vogk,S=A.F[this.BZ];
S=[S.G,S.Li,S.ap][this.OO];if(P.v(q.Ag)){v=this.LM.hY(v,P);v.x+=S.x-this.cC.x;v.y+=S.y-this.cC.y}else{if(this.ZvL.psnap){v.x=Math.round(v.x);
v.y=Math.round(v.y)}v=o.KZ.ic(e,v,g)}if(this.OO==0){var F=new WE(1,0,0,1,v.x-S.x,v.y-S.y);Z.f.Ly(A.F,F,null,A.Om)}else{var m=A.F[this.BZ],R=m.Li,M=m.ap;
if(this.OO==2){R=m.ap;M=m.Li}R.Ve(v.x,v.y);if(m.type==1||m.type==4){var b=Uc.zG(R,m.G),s=Uc.zG(M,m.G);
if(s!=0){M.x=m.G.x-(R.x-m.G.x)*(s/b);M.y=m.G.y-(R.y-m.G.y)*(s/b)}}}this.X$(A,f);this.kh(e,x.VS,A,f)}else if(this.y_!=null){var K=this.y_;
e.n.eP=Z.g.B$(new G(K.x,K.y,v.x-K.x,v.y-K.y));e.tI=!0}else{var X=e.OK(),d=X[0],W=X[1],x,A,Y;if(W.length==0)return;
var O=4*V.I()/e.N.d,H=new G(v.x-O,v.y-O,O*2,O*2);for(var y=0;y<W.length;y++){x=d[W[y]];A=x.add.vmsk;
Y=Z.f.$b(A.F,H);if(Y[0].length+Y[1].length+Y[2].length!=0)break}this.Nu(e);for(var B=0;B<3;B++){for(var c=0;
c<Y[B].length;c++){var $=Y[B][c],I=A.F[$];I=B==0?I.G:B==1?I.Li:I.ap;e.n.qy.push(e.n.pm.length>>>1);e.n.pm.push(I.x,I.y);
e.tI=!0}}}};o.pu.prototype.Nu=function(e){if(e.n.pm.length!=0){e.n.pm=[];e.n.qy=[];e.tI=!0}};o.pu.prototype.jT=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=this.RP,A=x?x.add.vmsk:null,f=x?x.add.vogk:null;
if(this.BZ!=-1){if(Date.now()-this.qZ<300){var S=A.F[this.BZ],F=this.OO,m=null;if(F==0){var R=S.Li.iJ(S.G),M=S.ap.iJ(S.G);
if(!R&&!M){m="Anchor Type";if(S.type==1||S.type==4)S.type++;else{S.type--;S.ap=S.G.add(S.G.ki(S.Li))}}else{m="Add Handles";
if(R&&M){S.Li.x-=30;S.ap.x+=30}else if(R)S.Li=S.G.add(S.G.ki(S.ap));else if(M)S.ap=S.G.add(S.G.ki(S.Li))}}else{m="Remove Handle";
if(F==1)S.Li.Tc(S.G);else S.ap.Tc(S.G)}this.X$(A,f);this.kh(e,x.VS,A,f);this.dg(e,m,x.VS,this.PO,A,null,this.Zs,JSON.stringify(f))}else if(!this.cC.iJ(v)){this.dg(e,"Drag Anchors",x.VS,this.PO,A,null,this.Zs,JSON.stringify(f))}this.qZ=Date.now()}else if(this.y_!=null){var b=this.y_,s=new G(b.x,b.y,v.x-b.x,v.y-b.y);
if(s.W<0)s.x+=s.W;if(s.j<0)s.y+=s.j;s.W=Math.abs(s.W);s.j=Math.abs(s.j);var K=Z.f.$b(A.F,s);A.Om=K[0];
e.n.eP=null}this.FS();e.tI=!0};o.pu.prototype.FS=function(){this.RP=null;this.PO=null;this.y_=null;this.BZ=this.OO=-1;
this.LM=null};o.pu.prototype.X$=function(e,j){for(var g=0;g<e.Om.length;g++){var P=Z.f.nL(e.F,e.Om[g]);
Z.uF.KQ(j,P)}};o.pu.prototype.Pm=function(e,j,g,P){if(e==null)return;var p=e.OK(),v=p[0],x=p[1];if(x.length==0)return;
var A=v[x[0]],f=A.add.vmsk;if(f==null||f.Om.length==0)return;var S=A.add.vogk,F=JSON.stringify(S),m=P.GH();
if(m.x!=0||m.y!=0){var R=f.clone(),M=f.clone(),b=new WE(1,0,0,1,m.x,m.y);Z.f.Ly(M.F,b,null,M.Om);this.X$(M,S);
this.kh(e,A.VS,M,S);this.dg(e,"Move Anchors",e.b[0],R,M.clone(),!0,F,JSON.stringify(S))}if(P.v(q.WS)||P.v(q.UQ)){var R=f.clone(),M=f.clone();
M.F=Z.f.ZO$(M.F,M.Om,S);M.Om=[];this.kh(e,A.VS,M,S);this.dg(e,"Delete Anchors",A.VS,R,M.clone(),!0,F,JSON.stringify(S))}};
o.pu.prototype.dg=function(e,j,g,P,p,v,x,A){var f=e.iY();if(v&&f!=null&&f.X==this&&f.data.ZUw&&f.data.BQ==g&&JSON.stringify(f.data.oD.Om)==JSON.stringify(P.Om)){f.data.WI=p;
f.data.ot=A}else{var f=new ZU(j,this);f.data={BQ:g,oD:P,WI:p,ZUw:v,ZWD:x,ot:A};e.sz(f)}};o.Rect=function(){o.yQ.call(this,[10,32],o.jK,"tools/rect",!0)};
o.Rect.prototype=new o.yQ;o.Rect.prototype.uv=function(e,j,g){var P=this.fi.crad,p=j.x-e.x,v=j.y-e.y;
return[Z.f.vC.Rect(e.x,e.y,p,v,P),Z.uF.FV("Rctn",[e.x,e.y,j.x,j.y],[P,P,P,P])]};o.Po=function(){o.yQ.call(this,[10,33],o.yj,"tools/ellipse",!0)};
o.Po.prototype=new o.yQ;o.Po.prototype.uv=function(e,j,g){var P=j.x-e.x,p=j.y-e.y;return[Z.f.vC.Po(e.x,e.y,P,p),Z.uF.FV("Elps",[e.x,e.y,j.x,j.y])]};
o.NC=function(){o.yQ.call(this,[10,34],o.jb,"tools/pshape",!1)};o.NC.prototype=new o.yQ;o.NC.prototype.uv=function(e,j,g){var P=this.fi.pshape,p=this.fi.crad,v=this.fi.irad/100,x=this.fi.sides,A=this.fi.width,f=this.fi.tsiz,S=this.fi.length,K;
j=j.clone();if(g){if(Math.abs(j.x-e.x)<Math.abs(j.y-e.y))j.x=e.x;else j.y=e.y}var F=e.x,m=e.y,R=j.x,M=j.y,b=Math.sqrt((R-F)*(R-F)+(M-m)*(M-m)),s=Math.atan2(-M+m,R-F);
if(P==0)K=Z.f.vC.ns(F,m,b,s,x,p);if(P==1)K=Z.f.vC.ZfV(F,m,b,s,x,p,v);if(P==2)K=Z.f.vC.Zfs(e.x,e.y,j.x,j.y,A,f/100);
if(P==3)K=Z.f.vC.ZZn(F,m,b,s,S);return[K,Z.uF.FV("customShape",[e.x,e.y,j.x,j.y],null,null,null,"--")]};
o.zL=function(){o.yQ.call(this,[10,35],o.jc,"tools/line",!1)};o.zL.prototype=new o.yQ;o.zL.prototype.uv=function(e,j,g){var P=this.fi.width;
j=j.clone();if(g){j=o.dF.fT(e,j)}return[Z.f.vC.zL(e.x,e.y,j.x,j.y,P),Z.uF.FV("Ln",null,null,[e.x,e.y,j.x,j.y],P)]};
o.NB=function(){o.yQ.call(this,[10,31],o.yP,"tools/cshape",!0)};o.NB.prototype=new o.yQ;o.NB.prototype.uv=function(e,j,g){var P=this.fi.shape,p=P.jm.W/P.jm.j,v=u.nt.xm(P.F);
j=j.clone();if(g){j.y=e.y+(j.x-e.x)/p}var x=j.x-e.x,A=j.y-e.y;Z.f.Ly(v,new WE(x,0,0,A,e.x,e.y));return[v,Z.uF.FV("customShape",[e.x,e.y,j.x,j.y],null,null,null,P.pV)]};
o.t=function(e,j,g){o.FE.call(this,e,j,g);this.ao=0;this.T=null;this.BG=null;this.ES=null;this.FJ=1;
this.cq=!1;this.cursor=null;this.uk=null;this.Ll=null;this.p_=!1;this.kM=null;this.ZVF=0;this.oF=null;
this.UG=0;this.$U=null;this.xV=null;this.sx=null;this.ob=null;this.Z$A=null};o.t.prototype=new o.FE;
o.t.SD=function(e,j){var g={classID:"null",null:vT.EG("Dcmn",!0)};if(e)g.Angl={t:"UntF",v:{type:"#Ang",val:j}};
else g.Axis={t:"enum",v:{Ornt:j}};return{Wi:e?"rotateEventEnum":"flip",HR:g}};o.t.prototype.c_=function(e,j,g,P,p){var v=new z(V.E.O,!0);
v.data={U:V.a.eW,X:this.id,CJ:p,Lg:e,ES:g};j.P(v);this.mm=!1};o.t.prototype.S$=function(e){return this.xV&&this.xV.ZDQ()};
o.t.prototype.BB=function(e,j,g,P,p){this.ES=p;if(e.U=="again"&&this.oF==null)return;if(e.U=="doMouseDown"){if(this.xV==null)return;
this.Lr(g,j,p,P,e.MF);return}if(!this.jg(g,p))return;if(this.xV){this.ZvI(e,this.xV.Gi());this.cp(g,p,0,!0);
this.Gr(g);return}this.Zeb(g,e.$==null,e.$);this.ZNM(g);this.ZvI(e);this.kY(g,j,e.de,!1)};o.t.prototype.ZvI=function(e,j){var g=this.$U;
if(j==null){var P=e.HY!=null?e.HY:4;j=this.xV.ZVU()[P]}var p=j.x,v=j.y;if(e.U=="rot"&&e.r!=Math.PI&&(g.W+g.j&1)==1){p=Math.floor(p);
v=Math.floor(v)}var x=new WE;x.translate(-p,-v);if(e.U=="rot")x.rotate(e.r);if(e.U=="scl")x.scale(e.r.x,e.r.y);
if(e.U=="mat")x.concat(e.r);x.translate(p,v);if(e.U=="again")x=this.oF;var A=this.xV.Ud();Z.g.K(A,x,A);
this.xV.NP(A)};o.t.prototype.eS=function(){return!0};o.t.prototype.jg=function(e,j){if(e==null)return!1;
if(this.id==o.Pr)return e.Z!=null;var g=e.RH(!0,null,null,!0);for(var P=0;P<g.length;P++){var p=e.T[g[P]];
if(p.Ku(2)||p.Ku(31)){alert(Zr.get([6,57,0]));return!1}if(p.add.artb){alert("You can not transform the whole artboard");
return!1}if(p.add.TySh)if(!vs.Og(p.add.TySh,j.Fz))return!1;if(p.add.SoLd){if(g.length==1&&!Z.xL.Xx(p.add.SoLd.warp.v)&&(p.ou()&&p.ou().Hm||p.add.vmsk&&p.add.vmsk.Hm)){alert("Unlink masks before transforming Smart Object");
return!1}if(!e.ZaW(p.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+e.Sb(p.add.SoLd.Idnt.v).ib+")");
return!1}}}if(e.Z==null)return!0;if(!e.TA())return!1;return e.ZgW()};o.t.prototype.Lr=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);
if(this.UG==1){var x=Z.D.OF(Z.D.Or(this.xV.Ud(),this.$U));v=Z.D.cA(x,v)}var A=this.UG==0?this.xV:this.sx;
this.cq=A.Lr(e,g,P,v);if(this.cq&&A.Vn(v)){if(Date.now()-this.ZVF<250)this.kY(e,j,null,!0);this.ZVF=Date.now()}};
o.t.prototype.gB=function(e){var j=new z(V.E.O,!0);j.data={U:V.a._E,Lj:this.cursor};e.P(j)};o.t.prototype.tg=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);
if(this.UG==1){var x=Z.D.OF(Z.D.Or(this.xV.Ud(),this.$U));v=Z.D.cA(x,v)}var A=this.UG==0?this.xV:this.sx;
if(!p.kD){var f="default";if(A){var S=A.So(v,e.N.d);if(S)f=S}if(f!=this.cursor){this.cursor=f;this.gB(j)}}if(!this.cq)return;
A.tg(e,g,P,v);this.cp(e,g,0,!0);this.Gr(e);this.St(j)};o.t.prototype.jT=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);
this.xV.jT(e,g,P,v);this.cq=!1};o.t.prototype.Pm=function(e,j,g,P){if(P.v(q.dS))this.kY(e,j,null,!0);
else if(P.v(q.Ae))this.nx(e,j);else{var p=this.xV.Pm(e,g,P);if(p){this.cp(e,g,0,!0);this.St(j)}}};o.t.prototype.aQ=function(e,j,g,P){if(e.vk=="commit")this.kY(g,j,null,!0);
else if(e.vk=="cancel")this.nx(g,j);else if(e.vk=="switchWarp"){this.UG=1-this.UG;this.Zen();this.Gr(g);
this.St(j)}else if(e.vk=="wrp"){this.sx.ZTY(e.cL);this.Gr(g);this.cp(g,this.ES,0,!0)}else if(e.vk=="ctyp"){this.xV.ZVv(e.hZ);
this.Gr(g);this.St(j)}else if(e.vk=="cen"){this.xV.ZVe(e.Va);this.Gr(g);this.cp(g,this.ES,0,!0);this.St(j)}else if(e.vk=="trn"){var p=Z.D.aL(e.$q),v=this.$U,x=Z.D.Or(this.xV.Ud(),this.$U);
p[6]=x[6],p[7]=x[7];var A=[v.x,v.y,v.x+v.W,v.y,v.x+v.W,v.y+v.j,v.x,v.y+v.j];Z.D.apply(p,A);this.FJ=e.FJ;
this.xV.NP(A);this.Gr(g);this.cp(g,this.ES,0,!0)}};o.t.prototype.Gr=function(e){if(this.UG==0)this.xV.oG(e,this.ES);
else{this.sx.oG(e);var j=Z.D.Or(this.xV.Ud(),this.$U);Z.D.apply(j,e.n.eP.u);Z.D.apply(j,e.n.$d)}};o.t.prototype.kY=function(e,j,g,P){this.cp(e,this.ES,this.FJ);
var p=new ZU(g?g:this.name,this);if(this.ao==0)p.data={type:this.ao,T:this.T,kM:this.BG,GV:o.t.Vx(e,this.T)};
else if(this.ao==1){var v=e.T[this.T[0]],x;if(v.JD.TM<=0){x=Z.V(v.JD.YI.h());Z.bF(v.JD.j_,x,3)}else x=e.Z.channel;
var A={rect:v.JD.YI.clone(),channel:x};p.data={type:this.ao,$:this.T[0],Ll:this.Ll,kz:A,uk:this.uk,p_:this.p_,JD:v.JD,kM:this.kM,GV:{B:v.JD.YI,Nr:v.JD.j_}}}else if(this.ao==2){p.data={type:this.ao,Ll:this.Ll,kz:{rect:e.Z.rect.clone(),channel:Z.clone(e.Z.channel)}}}e.sz(p);
var f=this.$U,S=new Uc(f.x+f.W/2,f.y+f.j/2),F=Z.D.Or(this.xV.Ud(),f),m=Z.D.pN(F),R=new WE;R.translate(S.x,S.y);
R.concat(m);R.translate(-S.x,-S.y);m=R.clone();var M=-Math.atan2(-m.e,m.Fl),b=new WE;b.rotate(M);m.concat(b);
function s(X,d){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][d],val:X}}}var K={classID:"null",null:vT.EG("Lyr",!0),FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:s(R.vR,0),Vrtc:s(R.LV,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:s(Math.atan(m.Ug)*180/Math.PI,2),Vrtc:s(0,2)}},Wdth:s(m.Fl*100,1),Hght:s(m.LC*100,1),Angl:s(M*180/Math.PI,2)};
this.fC=j;this.track({Wi:"transform",HR:K});this.escape(e,j,P)};o.t.prototype.nx=function(e,j){if(this.ao==0)o.t.VV(e,this.T,this.BG);
else if(this.ao==1){var g=e.T[this.T[0]];e.Z=this.Ll;if(!this.p_){g.JD.YI=this.kM.B;g.JD.j_=this.kM.Nr;
g.sU(e,0,0,e.Z)}else{g.qr(e,this.uk)}e.H();e.f_=!0}else if(this.ao==2){e.Z=this.Ll;e.f_=!0}this.escape(e,j,!0)};
o.t.prototype.escape=function(e,j,g){this.xV.clear(e);this.xV=null;this.sx=null;this.UG=0;if(g)this.iH(j,V.E.O,{U:V.a.EQ})};
o.t.prototype.aX=function(e,j){if(e.type==0)o.t.VV(j,e.T,e.GV);else{if(e.type==1){var g=j.T[e.$];if(e.p_){g.JD=e.JD}else{g.JD.YI=e.GV.B;
g.JD.j_=e.GV.Nr}g.sU(j,0,0,j.Z);j.H()}j.Z={rect:e.kz.rect.clone(),channel:Z.clone(e.kz.channel)};j.f_=!0}};
o.t.prototype.PB=function(e,j){if(e.type==0)o.t.VV(j,e.T,e.kM);else{if(e.type==1){var g=j.T[e.$];if(e.p_){g.qr(j,e.uk)}else{g.JD.YI=e.kM.B;
g.JD.j_=e.kM.Nr;g.sU(j,0,0,j.Z)}j.H()}j.Z=e.Ll;j.f_=!0}};o.t.prototype.Zeb=function(e,j,g){e.OK();var P=[];
if(g==null)for(var p=0;p<e.QL.length;p++)if(e.Bd[e.QL[p]].add.vmsk.F.length>2)P.push(-1-e.QL[p]);var v=[];
if(g!=null||P.length==0||e.Bm!=null&&e.Bm.length!=0)v=e.RH(j,g,null,!0);v=v.concat(P);this.T=v};o.t.prototype.enable=function(e,j,g,P,p,v,x){if(this.cursor==null)this.cursor="default";
this.gB(j);if(this.xV)return;this.ES=g;this.Zeb(e,!0);this.ZNM(e,v&&v.zJ!=null&&v.zJ!=-1?v.zJ:null,x);
this.St(j);this.Gr(e);if(v&&v.zJ==-1)this.aQ({vk:"switchWarp"},j,e,P)};o.t.prototype.St=function(e){var j={U:V.a.eW,X:this.id};
if(this.UG==0){var g=Z.D.Or(this.xV.Ud(),this.$U),P=Z.D.pN(g);j.$q={YG:P,hZ:this.xV.ZVW(),Va:this.xV.Gi(),B:this.$U.clone()}}else{j.cL=this.sx.DB()}j.Z$j=this.sx!=null;
this.iH(e,V.E.O,j)};o.t.prototype.ZNM=function(e,j,g){var P=this.id==o.Pr,p=!0,v=this.T[0],x=e.T[v],S=null;
if(P){this.ao=2;this.Ll=e.Z}else if(e.Z&&this.T.length==1&&v>=0&&!x.rect.tE()){this.ao=1;this.Ll=e.Z;
this.uk=x.JD;this.p_=!1;if(!x.kK(e,e.Z)){this.p_=!0;x.tc(e,e.Z,!1)}this.kM={Nr:x.JD.j_,B:x.JD.YI}}else{this.ao=0;
this.BG=o.t.Vx(e,this.T,null,g);for(var A=0;A<this.BG.length;A++)if(this.BG[A][3]!=null)p=!1}var f=this.ao==1;
if(this.BG&&this.BG.length==1){var F=this.BG[0];if(F[3]==null)f=!0;if(F[4]!=null){S=e.T[this.T[0]].add.SoLd;
if(F[1]||F[2])f=!1}}var m=P?e.Z.rect.clone():o.t.SQ(e,this.T,g);this.$U=m;if(!P&&S){var R=o.t.ca(S.nonAffineTransform);
this.$U=Z.g.XI(Z.xL.pT(S.warp.v));if(f)this.sx=new eH(S.warp.v);this.ob=Z.D.Or(R,this.$U);this.xV=new vh(R,!0,!0,p,!1,!1,j)}else{if(f||P)this.sx=new eH(Z.xL.V(this.$U));
this.ob=[1,0,0,0,1,0,0,0];this.xV=new vh([m.x,m.y,m.x+m.W,m.y,m.x+m.W,m.y+m.j,m.x,m.y+m.j],!0,!0,p,!1,!1,j)}this.Z$A=[1,0,0,0,1,0,0,0]};
o.t.SQ=function(e,j,g){if(j==null)j=e.RH(!0,null,null,!0);var P=new G;if(e.Z&&j.length==1&&j[0]>=0)P=e.Z.rect.clone();
else for(var p=0;p<j.length;p++){var v=j[p],x=0<=v?e.T[v]:e.Bd[-1-v],A=x.add.vmsk,f=0<=v?x.Eu(e,j.length==1,!1,g):Z.f.Gx(A.F,j.length==1&&A.b.length!=0?A.b:null);
P=P.Gd(f)}return P};o.t.prototype.iH=function(e,j,g,P){var p=new z(j,!0);p.data=g;if(P)p.X=P;e.P(p)};
o.t.Vx=function(e,j,g,P){var p=[];for(var v=0;v<j.length;v++){var x=j[v],A,f;if(x>=0){A=e.T[x];f=A.kb(e,g,P)}else{A=e.Bd[-1-x];
f=[2]}var S=[];if(f.indexOf(0)!=-1){var F={he:[Z.clone(A.buffer),A.rect.clone()]};S.push(F);if(A.f$()){var m=A.EK(e);
F.Z$o=Z.clone(m.buffer);F.Z$h=m.rect.clone()}}else S.push(null);if(f.indexOf(1)!=-1)S.push(A.ou().clone());
else S.push(null);if(f.indexOf(2)!=-1)S.push({HK:A.add.vmsk.clone(),hg:A.add.vstk?JSON.parse(JSON.stringify(A.add.vstk)):null,am:A.add.vstk?o.dk.NW(e,x):null,uF:A.add.vogk?JSON.parse(JSON.stringify(A.add.vogk)):null});
else S.push(null);if(A.add.TySh&&S[0]){Wf.gP(A.add.TySh);S.push(A.add.TySh.K.clone())}else S.push(null);
if(A.add.SoLd&&S[0])S.push(JSON.parse(JSON.stringify(A.add.SoLd)));else S.push(null);if(f.indexOf(3)!=-1)S.push(A.EK(e)._.clone());
else S.push(null);if(A.add.lmfx)S.push(JSON.stringify(A.add.lmfx));else S.push(null);p.push(S)}return p};
o.t.VV=function(e,j,g){for(var P=0;P<j.length;P++){var p=j[P],v=0<=p?e.T[p]:e.Bd[-1-p],x=g[P];if(x[0]){v.rect=x[0].he[1].clone();
v.buffer=Z.clone(x[0].he[0]);if(v.f$()){var A=v.EK(e);A.buffer=Z.clone(x[0].Z$o);A.rect=x[0].Z$h.clone()}}if(x[1]){v.ou().channel=Z.clone(x[1].channel);
v.ou().rect=x[1].rect.clone();v.ou().jA=!0}if(x[2]){v.add.vmsk=x[2].HK.clone();if(x[2].am)o.dk.Xs(v,x[2].am);
if(x[2].hg)v.add.vstk=JSON.parse(JSON.stringify(x[2].hg));if(x[2].uF)v.add.vogk=JSON.parse(JSON.stringify(x[2].uF))}if(x[3]){v.add.TySh.K=x[3].clone();
Wf.cw(v.add.TySh)}if(x[4]){v.add.SoLd=JSON.parse(JSON.stringify(x[4]))}if(x[5]){var f=v.EK(e)._;f.channel=Z.clone(x[5].channel);
f.rect=x[5].rect.clone()}if(x[6]){v.add.lmfx=JSON.parse(x[6])}if(0<=p){v.d$(e);v.H()}}e.H()};o.t.em=function(e){var j=e.clone(),g=Math.atan2(-j.e,j.Fl),P=new WE;
P.rotate(-g);j.concat(P);return(Math.abs(j.Fl)+Math.abs(j.LC))/2};o.t.Ny=function(e,j,g,P,p,v,x,A,f,S){var F=Z.D.pN(v),m=o.t.em(F);
for(var R=0;R<g.length;R++){var M=g[R],b=0<=M?e.T[M]:e.Bd[-1-M],s=P[R];if(b.add.lmfx&&A)Wi.Zyj(b.add.lmfx,m);
if(s[0]&&!s[3]&&!s[4]&&!s[5]){var K=s[0].he;if(f){var X=f.clone(),d=Z.V(X.h()*4);Z.Vy(K[0],K[1],d,X);
K=[d,X]}var W=o.t.GZ(K,p,v,x,p==0?b.buffer.buffer:null,null,null,S);if(W){b.rect=W.rect;b.buffer=W.buffer}}if(s[1])o.t.ZBH(e,s[1],b.ou(),p,v,x);
if(s[2]){var O=x&&!Z.xL.Xx(x),H=s[2].HK.clone(),Y=g.length==1&&H.b.length!=0,y=g.length==1&&H.Om.length>1;
if(y)Y=!1;var B=Y?H.b:null,c=y?H.Om:null;if(O){var $=Z.xL.pT(x);Z.D.apply(v,$);Z.f.Z$C(H.F,$,B,c)}else Z.f.Z$V(H.F,v,B,c);
if(b.add.vstk&&A){b.add.vstk.strokeStyleLineWidth.v.val=s[2].hg.strokeStyleLineWidth.v.val*m;var I=s[2].am;
if(I.Tm==3){I=JSON.parse(JSON.stringify(I));var r=I.am.phase.v;I.am.Scl.v.val=Math.round(I.am.Scl.v.val*m);
r.Hrzn.v=Math.round(r.Hrzn.v*m);r.Vrtc.v=Math.round(r.Vrtc.v*m);o.dk.Xs(b,I)}}if(b.add.vogk){b.add.vogk=JSON.parse(JSON.stringify(s[2].uF));
if(O||y)Z.uF.Zz$(b.add.vogk);else Z.uF.K(b.add.vogk,v,g.length>1?[]:H.b,A)}H.FZ*=m;b.add.vmsk=H;if(b.add.vogk)Z.uF.$B(b.add.vogk,b.add.vmsk)}if(s[3]){var i=s[3].clone();
i.concat(F);b.add.TySh.K=i;Wf.cw(b.add.TySh);var U=new vf(b.add.TySh.xe,j.Fz),N=vs.Mc(U,b.add.TySh);
b.rect=N.B;b.buffer=N.C$}if(s[4]){var C=b.add.SoLd,D=o.t.ca(s[4].nonAffineTransform);Z.D.apply(v,D);
var n=Z.g.bO(D);if(vh.N_(D)){if(x){var w=Z.g.XI(Z.xL.pT(s[4].warp.v)),k=Z.D.Or(D,w),h=Z.g.XI(Z.xL.pT(x));
D=[h.x,h.y,h.x+h.W,h.y,h.x+h.W,h.y+h.j,h.x,h.y+h.j];Z.D.apply(k,D);C.warp.v=x}var t=Z.D.Or(D),a=D;if(!Z.D.Ka(t)){t[6]=t[7]=0;
a=[0,0,1,0,1,1,0,1];Z.D.apply(t,a)}C.Trnf=o.t.Pn(a);C.nonAffineTransform=o.t.Pn(D);b.yM(e,p==0)}}if(s[5])o.t.ZBH(e,s[5],b.EK(e)._,p,v,x);
if(0<=M){if(p!=0)b.Co();b.d$(e);b.H()}}e.H()};o.t.Ge=function(e,j,g,P,p,v){if(g==null)g=!1;return o.t.GZ(e,g?0:1,Z.D.aL(j),null,P,p,v,g)};
o.t.GZ=function(e,j,g,P,p,v,x,A){if(A==null)A=!1;if(A&&x)throw"e";var f={},R=0,M=.3;if(P&&!Z.xL.Xx(P)){var S=Z.xL.pT(P);
Z.D.apply(g,S);f.rect=Z.g.bO(S);f.buffer=Z.V(f.rect.h()*4);Z.ie.drawImage(S,e[0],e[1].W,e[1].j,f.buffer,f.rect,j==0);
return f}Z.ZG(e);var F=e[0],m=e[1],b=m.h()*o.t.em(Z.D.pN(g));if(A&&b>4e6)M=b>8e6?2.2:1.2;while(R+3<e.length&&e[R+3].h()>16&&Z.D.Ka(g)&&o.t.em(Z.D.pN(g))<M){R+=2;
var s=e[R],K=e[R+1],X=m.W/K.W,d=m.j/K.j;g=Z.D.TS(g,[1,0,m.x,0,1,m.y,0,0]);g=Z.D.TS(g,[X,0,0,0,d,0,0,0]);
g=Z.D.TS(g,[1,0,-m.x,0,1,-m.y,0,0]);m=K;F=s}var W=Z.D.TS(g,Z.D.aL(new WE(m.W,0,0,m.j,m.x,m.y))),O=[0,0,1,0,1,1,0,1];
Z.D.apply(W,O);f.rect=Z.g.bO(O);if(x)f.rect=f.rect.zx(x);if(A){while((f.rect.W&3)!=0)f.rect.W++;while((f.rect.j&3)!=0)f.rect.j++}if(!vh.N_(O)||f.rect.W>1e5||f.rect.j>1e5||f.rect.h()>3e4*3e4)return null;
var H=f.rect.h()*4;if(p&&p.byteLength>=H&&H>=p.byteLength>>2){f.buffer=new Uint8Array(p)}else{f.buffer=Z.V(H)}Z.D.drawImage(W,F,m.W,m.j,f.buffer,f.rect,j==0,v,A);
if(j==2&&f.buffer){var Y=f.rect.W,y=f.rect.j,B;B=[0,-1,0,-1,16,-1,0,-1,0];B=Z.Bz.Ti(B);var c=f.buffer.slice(0);
Z.Zp(c);Z.Bz.kd(c,f.buffer,Y,y,B,0);Z.Qc(f.buffer);Z.ZA(f.buffer)}if(f.buffer)return f};o.t.ZBH=function(e,j,g,P,p,v){if(j.color==255)Z.OF(j.channel);
var x=j.rect,A=Z.V(x.h()*4);Z.sH(j.channel,A,3);var f=o.t.GZ([A,x],P,p,v);if(f){g.rect=f.rect;g.channel=Z.V(f.rect.h());
Z.bF(f.buffer,g.channel,3);g.jA=!0}if(j.color==255){Z.OF(j.channel);if(f)Z.OF(g.channel)}};o.t.ca=function(e){var j=[],g=e.v.length;
for(var P=0;P<g;P++)j.push(e.v[P].v);return j};o.t.Pn=function(e){var j={t:"VlLs",v:[]},g=e.length;for(var P=0;
P<g;P++)j.v.push({t:"doub",v:e[P]});return j};o.t.prototype.Zen=function(){var e=Z.g.XI(Z.xL.pT(this.sx.DB())),j=Z.D.Or(this.xV.Ud(),this.$U),g=[e.x,e.y,e.x+e.W,e.y,e.x+e.W,e.y+e.j,e.x,e.y+e.j];
Z.D.apply(j,g);this.xV.NP(g);this.$U=e};o.t.prototype.cp=function(e,j,g,P){var p=Z.D.Or(this.xV.Ud(),this.$U);
p=Z.D.TS(p,Z.D.OF(this.ob));var v=this.sx?this.sx.DB():null;if(this.ao==0){this.oF=Z.D.pN(p);o.t.Ny(e,j,this.T,this.BG,g,p,v,null,null,P)}else if(this.ao==1){var x=e.T[this.T[0]],A=this.kM.B;
if(x.TM<=0){var f=this.kM.Nr,S=this.Ll;if(v&&!Z.xL.Xx(v)&&!S.rect.iJ(A)){var F=Z.V(S.rect.h()*4);Z.Vy(f,A,F,S.rect);
f=F;A=S.rect}var m=o.t.GZ([f,A],g,p,v);if(m){x.JD.j_=m.buffer;x.JD.YI=m.rect;var R=Z.V(m.rect.h());Z.bF(x.JD.j_,R,3);
e.Z={channel:R,rect:x.JD.YI.clone()}}}else{var M=Z.V(A.h()*4);Z.sH(this.kM.Nr,M,3);var m=o.t.GZ([M,A],g,p,v);
if(m){x.JD.j_=Z.V(m.rect.h());Z.bF(m.buffer,x.JD.j_,3);x.JD.YI=m.rect}this.ZZc(e,g,p,v)}x.sU(e,0,0,e.Z);
if(g!=0){x.Co();Z.Co(e.Z)}e.f_=!0;e.H()}else if(this.ao==2)this.ZZc(e,g,p,v)};o.t.prototype.ZZc=function(e,j,g,P){var p=this.Ll.rect,v=Z.V(p.h()*4);
Z.sH(this.Ll.channel,v,3);var x=o.t.GZ([v,p],j,g,P),A=Z.V(x.rect.h());Z.bF(x.buffer,A,3);e.Z={channel:A,rect:x.rect};
e.f_=!0};o.t.prototype.disable=function(e,j,g,P){if(this.xV)this.kY(e,j,null,!0)};o.ZxZ=function(){o.t.call(this,[10,16],o.Sf,"tools/transform")};
o.ZxZ.prototype=new o.t;o.ZUd=function(){o.t.call(this,[7,10],o.Pr,"tools/transform")};o.ZUd.prototype=new o.t;
o.at=function(e,j,g){o.FE.call(this,[10,46],o.yX,"tools/transform");this.$m=[1,1,2,!0];this.Ln="\0\0\x03\x82";
this.hV=null;this.ZVM=null;this.Ok=null;this.Jv=null;this.fQ=null;this.eF=null;this.FP=[]};o.at.prototype=new o.FE;
o.at.prototype.eS=function(){return!0};o.at.ZDF=function(e){if(e==null)return!1;if(e.b.length!=1)return!1;
var j=e.T[e.b[0]];return j.add.SoLd||e.TA(!1)};o.at.prototype.jg=function(e,j){return o.at.ZDF(e)};o.at.prototype.enable=function(e,j,g,P,p,v,x){this.ZVM=v.dM;
var A=v.dM,f,s=null;if(A){var S=e.T[A.$];if(S.add.SoLd.filterFX!=null){var F=S.add.SoLd.filterFX.v.filterFXList.v;
if(F[A.index])f=JSON.parse(JSON.stringify(F[A.index].v.Fltr.v))}}var m=f==null,S=e.T[e.b[0]],R=S.buffer,M=S.rect,b=S.add.SoLd;
if(b){var K=b.nonAffineTransform.v;s=[];for(var X=0;X<4;X++)s.push(K[X*2].v,K[X*2+1].v);if(m)this.XM("edit",j);
var d=S.EK(e);R=d.buffer;M=d.rect}this.hV={buffer:R.slice(0),rect:M.clone(),Z$M:s};if(m)f=o.at.ZdC(this.hV,this.$m);
this.Ok=f;this.Jv=o.at.ND(this.Ok,this.$m);this.Na();this.iX(e);if(m)this.TE(j);var W=new z(V.E.O,!0);
W.data={U:V.a.eW,X:this.id,im:this.$m};j.P(W);W.data={U:V.a._E,Lj:"default"};j.P(W)};o.at.prototype.disable=function(e,j,g,P){if(this.Jv)this.kY(e,j,!0)};
o.at.prototype.Na=function(e){var j=this.Jv;this.FP=[];for(var g=0;g<j.length;g++){var P=j[g];for(var p=0;
p<P.b.length;p++)this.FP.push([g,P.b[g]]);P.lr=Z.oz.iL(P);if(e)Z.oz.it(P)}};o.at.prototype.aQ=function(e,j,g,P){if(e.vk=="commit")this.kY(g,j,!0);
else if(e.vk=="cancel")this.nx(g,j,!0);else if(e.vk=="prm"){var p=!1;for(var v=0;v<3;v++)if(this.$m[v]!=e.im[v])p=!0;
this.$m=e.im;if(p){this.Ok=o.at.ZdC(this.hV,this.$m,this.Ok);this.Jv=o.at.ND(this.Ok,this.$m);this.Na(!0);
this.TE(j)}this.iX(g)}else if(e.vk=="moveDepth"){var x=this.Jv;for(var A=0;A<x.length;A++){var f=x[A];
for(var v=0;v<f.b.length;v++){var S=f.b[v];f.FX[S]+=e.Z$_?1:-1}}this.TE(j)}};o.at.prototype.FB=function(e,j){return e==q.WS||e==q.UQ};
o.at.prototype.Pm=function(e,j,g,P){var p=P.GH();if(P.v(q.dS))this.kY(e,j,!0);else if(P.v(q.Ae))this.nx(e,j,!0);
else if(P.v(q.WS)||P.v(q.UQ)){var v=this.Jv;for(var x=0;x<v.length;x++){var A=v[x];A.b.sort(function(m,R){return R-m});
for(var f=0;f<A.b.length;f++){var S=A.b[f],F=S*2;A.FX.splice(S,1);A.cE.splice(S,1);A.cF.splice(S,1);
A.SE.splice(S,1);A.Vp.splice(F,2);A.mF.splice(F,2)}A.b=[];if(A.SE.length==0){A.Xm=A.aT.slice(0);A.VN=A.aT.slice(0)}}this.Na(!0);
this.TE(j);this.iX(e)}else if(p.x!=0||p.y!=0){this.ZnM(e,p.x,p.y,j);this.VR=null}};o.at.prototype.kY=function(e,j,g){this.XM("confirm",j);
this.escape(e,j,g)};o.at.prototype.nx=function(e,j,g){this.XM("cancel",j);this.escape(e,j,g)};o.at.prototype.escape=function(e,j,g){e.n.eP=null;
e.n.pm=[];e.tI=!0;this.Jv=null;var P=new z(V.E.O,!0);P.data={U:V.a.EQ};if(g)j.P(P)};o.at.prototype.Lr=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=v.x,A=v.y,f=this.Jv,S=null,F=[0,2,4,1.2,1.2,1.2],m=-1,R=V.I()*5/e.N.d;
for(var M=0;M<f.length;M++){var b=f[M],s=Z.g.$L(b.mF,x,A,R);if(s!=-1)S=[M,s];if(m==-1&&Z.oz.iG.ZSB(b.VN,b.La,x,A))m=M}if(S==null&&m!=-1){var b=f[m];
o.at.ZTF(b,x,A,x,A,0);S=[m,b.SE.length-1];b.lr=Z.oz.iL(b)}this.fQ=v;if(S){var K=f[S[0]].b.indexOf(S[1])!=-1;
if(P.v(q.Ag)&&!K){f[S[0]].b.push(S[1]);this.FP.push(S)}else if(!K){f[S[0]].b=[S[1]];this.FP=[S]}}this.iX(e)};
o.at.ZTF=function(e,j,g,P,p,v){var x=Z.g.$L(e.VN,j,g);e.SE.push(x);e.mF.push(P,p);e.Vp.push(e.VN[x*2]-j,e.VN[x*2+1]-g);
e.cF.push(0);e.cE.push(!1);e.FX.push(v)};o.at.prototype.tg=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=this.fQ;
if(x)this.ZnM(e,v.x-x.x,v.y-x.y,j)};o.at.prototype.ZnM=function(e,j,g,P){var p={},v=this.FP,x=this.Jv;
if(this.VR==null){this.VR=[];for(var A=0;A<x.length;A++)this.VR.push(x[A].mF.slice(0))}for(var A=0;A<v.length;
A++){var f=this.FP[A],S=f[0],F=x[f[0]],m=f[1]*2;F.mF[m+0]=this.VR[S][m+0]+j;F.mF[m+1]=this.VR[S][m+1]+g;
p[S]=S}for(var S in p)Z.oz.it(this.Jv[p[S]]);this.iX(e);this.TE(P)};o.at.prototype.XM=function(e,j){var g=new z(V.E.s,!0);
g.X=o.pR;g.data={U:e,dM:this.ZVM,Ln:this.Ln,Sq:this.Ok};j.P(g)};o.at.prototype.jT=function(e,j,g,P,p){this.fQ=null;
this.VR=null};o.at.prototype.TE=function(e){o.at.ZD_(this.Jv,this.$m,this.Ok);this.XM("edit",e)};o.at.prototype.iX=function(e){var j=this.Jv,g=this.Ok;
e.n.eP={u:[],L:[]};e.n.pm=[];e.n.qy=[];for(var P=0;P<j.length;P++){var p=j[P];for(var v=0;v<p.b.length;
v++)e.n.qy.push((e.n.pm.length>>>1)+p.b[v]);e.n.pm=e.n.pm.concat(p.mF);if(this.$m[3])Z.g.concat(e.n.eP,Z.g.ZGw(p.VN,p.La))}e.tI=!0};
o.at.ZdC=function(e,j,g){var P=e.buffer,p=e.rect,v=e.Z$M,x=ZW.WX("\0\0\x03\x82");if(v)for(var A=0;A<4;
A++){x["PuX"+A].v=v[A*2];x["PuY"+A].v=v[A*2+1]}var f=x.puppetShapeList.v,S=Z.oz.ZBU(P,p.W,p.j,j[1],j[2]),F=[];
for(var m=0;m<S.length;m++){var R={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
R.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var M=S[m];f.push({t:"Objc",v:R});var b=M.aT.slice(0);Z.g.K(b,new WE(1,0,0,1,p.x,p.y),b);var s=M.La;
for(var A=0;A<s.length;A+=3){var K=s[A+1];s[A+1]=s[A+2];s[A+2]=K}F.push({La:s,aT:b,Xm:b,VN:b,SE:[],Vp:[],mF:[],lr:null,b:[],cF:[],cE:[],FX:[]})}if(g){var X=o.at.ND(g,[]),d=F[0];
for(var A=0;A<X.length;A++){var W=X[A];for(var O=0;O<W.b.length;O++)d.b.push((d.mF.length>>>1)+W.b[O]);
for(var O=0;O<W.SE.length;O++){var H=W.SE[O]*2,Y=W.aT[H]-W.Vp[O*2],y=W.aT[H+1]-W.Vp[O*2+1];o.at.ZTF(d,Y,y,W.mF[O*2],W.mF[O*2+1],W.FX[O])}}}o.at.ZD_(F,j,x);
return x};o.at.ND=function(e,j){function g(y){var B=[];for(var s=0;s<y.length;s++)B.push(y[s].v);return B}var P=e.puppetShapeList.v,p=[];
for(var v=0;v<P.length;v++){var x=P[v].v;j[0]=x.meshRigidity.v-1;j[1]=x.meshQuality.v-1;j[2]=x.meshExpansion.v;
var A=x.pinVertexIndices.v.length,f=x.meshBoundaryPath.v.pathComponents.v[0].v.SbpL.v[0].v.Pts;f.v=[];
var S=new Uint32Array(new Uint8Array(x.indexArray.v).buffer),F=new Float32Array(new Uint8Array(x.originalVertexArray.v).buffer),m=new Float32Array(new Uint8Array(x.deformedVertexArray.v).buffer),R=[],M=[],b=[];
for(var s=0;s<S.length;s++)R.push(S[s]);for(var s=0;s<F.length;s++){M.push(F[s]);b.push(m[s])}var K=g(x.pinVertexIndices.v),X=g(x.pinOffsets.v),d=g(x.posFinalPins.v),W=g(x.PnRt.v),O=g(x.PnOv.v),H=g(x.PnDp.v),Y=g(x.selectedPin.v);
p.push({La:R,aT:M,Xm:b.slice(0),VN:b,SE:K,Vp:X,mF:d,lr:null,cF:W,cE:O,FX:H,b:Y})}return p};o.at.ZD_=function(e,j,g){function P(M,b){var s=[];
for(var F=0;F<M.length;F++)s.push({t:b,v:M[F]});return s}function p(M,b,s){var K=new(s?Uint32Array:Float32Array)(M),X=new Uint8Array(K.buffer);
for(var F=0;F<X.length;F++)b[F]=X[F]}var v=g.puppetShapeList.v;for(var x=0;x<v.length;x++){var A=e[x],f=v[x].v;
f.meshRigidity.v=j[0]+1;f.meshQuality.v=j[1]+1;f.meshExpansion.v=j[2];p(A.La,f.indexArray.v,!0);p(A.aT,f.originalVertexArray.v);
p(A.VN,f.deformedVertexArray.v);var S=[];for(var F=0;F<A.SE.length;F++){var m=A.SE[F]*2,R=F*2;S[R]=A.aT[m]-A.Vp[R];
S[R+1]=A.aT[m+1]-A.Vp[R+1]}f.PinP.v=P(S,"doub");f.pinVertexIndices.v=P(A.SE,"long");f.pinOffsets.v=P(A.Vp,"doub");
f.posFinalPins.v=P(A.mF,"doub");f.PnRt.v=P(A.cF,"long");f.PnOv.v=P(A.cE,"bool");f.PnDp.v=P(A.FX,"doub");
f.selectedPin.v=P(A.b,"long")}};o.bR=function(e,j,g){o.FE.call(this,e?e:[10,40],j?j:o.jB,g?g:"tools/slice");
this.ab=null;this.fC=null;this.qa=null;this.ZVb=null;this.VF=null;this.bB=null};o.bR.prototype=new o.FE;
o.bR.hE=function(e,j){var g=-1;for(var P=0;P<e.length;P++){var p=o.bR.da(e,P);if(p[0]<=j.x&&j.x<=p[2]&&p[1]<=j.y&&j.y<=p[3]){g=P;
break}}return g};o.bR.prototype.BB=function(e,j,g,P,p){this.ZV(g);g.iZ[g.Tt[0]].v=e;g.tI=!0;this.Ss(g)};
o.bR.prototype.enable=function(e,j,g,P,p,v){o.FE.prototype.enable.call(this,e,j,g,P,p,v);if(!g.ka.iZ){var x=new z(V.E.O,!0);
x.data={U:V.a.du,im:WV.Rn};j.P(x)}};o.bR.prototype.disable=function(){this.ab=null;this.fC=null};o.bR.prototype.c_=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y),x=o.bR.hE(e.iZ,v);
if(x==-1)return;this.ab=e;this.fC=j;e.Tt=[x];e.tI=!0;if(this.bB==null){this.bB=new Zn([{name:[5,4]},{name:[8,11,1],BJ:!0}]);
this.bB.S("select",this.iC,this)}var A=this.bB;A.parent=j;A.w();A.update(e,g);var f=new z(V.E.O,!0);
f.data={U:V.a.LD,JR:A,x:p.QB+2,y:p.$t+1};j.P(f)};o.bR.prototype.iC=function(e){var j=this.bB.HU()[0],g=this.ab;
if(j==0){this.ZV(g);g.iZ.splice(g.Tt[0],1);g.Tt=[];g.tI=!0;this.Ss(g)}if(j==1){var P=new z(V.E.O,!0);
P.data={U:V.a.LW,aj:"soptions",r:g.iZ[g.Tt[0]].v};this.fC.P(P)}};o.bR.prototype.Lr=function(e,j,g,P,p){if(e==null)return;
this.ZV(e);var v=e.N.IR(p.x,p.y);v=o.KZ.ic(e,v,g,[!0,null,!1]);v.x=Math.round(v.x);v.y=Math.round(v.y);
this.VF=v;e.iZ.unshift(o.bR.ZeS());e.Tt=[0];o.bR.Zu(e.iZ,0,[v.x,v.y,v.x+20,v.y+20]);e.tI=!0};o.bR.prototype.tg=function(e,j,g,P,p){if(this.qa==null)return;
var v=e.N.IR(p.x,p.y),x=this.VF;v=o.KZ.ic(e,v,g,[!0,null,!1]);v.x=Math.round(v.x);v.y=Math.round(v.y);
var A=[x.x,x.y,v.x,v.y];o.bR.ZxQ(A);o.bR.Zu(e.iZ,0,A);e.tI=!0};o.bR.prototype.jT=function(e,j,g,P,p){this.Ss(e);
this.VF=null};o.bR.prototype.ZV=function(e){this.qa=JSON.stringify(e.iZ);this.ZVb=JSON.stringify(e.Tt)};
o.bR.prototype.Ss=function(e){var j=JSON.stringify(e.iZ);if(j!=this.qa){var g=new ZU(this.name,this);
g.data={kM:this.qa,GV:j,ZOu:this.ZVb,ZOd:JSON.stringify(e.Tt)};e.sz(g)}this.qa=null};o.bR.prototype.PB=function(e,j){j.iZ=JSON.parse(e.kM);
j.Tt=JSON.parse(e.ZOu);j.tI=!0};o.bR.prototype.aX=function(e,j){j.iZ=JSON.parse(e.GV);j.Tt=JSON.parse(e.ZOd);
j.tI=!0};o.bR.prototype.FB=function(e,j){return j!=null&&j.Tt.length!=0&&(e==q.WS||e==q.UQ)};o.bR.prototype.Pm=function(e,j,g,P){if(e==null)return;
this.ZV(e);var p=P.GH();if(p.x!=0||p.y!=0)o.bR.oT(e,p);if(P.v(q.WS)||P.v(q.UQ)){var v=e.iZ.slice(0);
for(var x=0;x<e.Tt.length;x++)e.iZ.splice(e.iZ.indexOf(v[e.Tt[x]]),1);e.Tt=[]}this.Ss(e)};o.bR.prototype.aQ=function(e,j,g,P,p){if(g==null||g.Tt.length==0)return;
this.ZV(g);var v=g.iZ,x=g.Tt;x.sort(function(b,s){return b-s});console.log(x);var A=v.slice(0),f=[],S=[];
for(var F=0;F<x.length;F++){var m=x[F],R=v[m];S.push(R);A.splice(A.indexOf(R),1)}var M=Math.max(0,Math.min(A.length,x[0]-e.dir));
for(var F=0;F<S.length;F++){A.splice(M+F,0,S[F]);f.push(M+F)}g.iZ=A;g.Tt=f;this.Ss(g)};o.bR.Zed=function(e,j,g,P){var p=new Uc(-j.x,-j.y),v=j.W/g.W,x=j.j/g.j,A=[0,0,j.W,j.j];
for(var f=0;f<e.length;f++){var S=o.bR.da(e,f);if(P){S[0]=Math.round(S[0]*v);S[1]=Math.round(S[1]*x);
S[2]=Math.round(S[2]*v);S[3]=Math.round(S[3]*x)}else{o.bR.Nt(S,p);o.bR.ZeE(S,A)}if(S[0]>=S[2]||S[1]>=S[3]){e.splice(f,1);
f--;continue}o.bR.Zu(e,f,S)}};o.bR.oT=function(e,j){var g=e.iZ;for(var P=0;P<e.Tt.length;P++){var p=o.bR.da(g,e.Tt[P]);
o.bR.Nt(p,j);o.bR.Zu(g,e.Tt[P],p)}};o.bR.ZeE=function(e,j){if(e[0]<j[0])e[0]=j[0];if(e[1]<j[1])e[1]=j[1];
if(j[2]<e[2])e[2]=j[2];if(j[3]<e[3])e[3]=j[3]};o.bR.Nt=function(e,j){e[0]=Math.round(e[0]+j.x);e[2]=Math.round(e[2]+j.x);
e[1]=Math.round(e[1]+j.y);e[3]=Math.round(e[3]+j.y)};o.bR.Zu=function(e,j,g){var P=e[j].v.bounds.v;P.Left.v=g[0];
P.Top.v=g[1];P.Rght.v=g[2];P.Btom.v=g[3]};o.bR.da=function(e,j){var g=e[j].v.bounds.v;return[g.Left.v,g.Top.v,g.Rght.v,g.Btom.v,j]};
o.bR.ZxQ=function(e){if(e[2]<e[0]){var j=e[0];e[0]=e[2];e[2]=j}if(e[2]==e[0])e[2]++;if(e[3]<e[1]){var j=e[1];
e[1]=e[3];e[3]=j}if(e[3]==e[1])e[3]++};o.bR.XI=function(e,j){var g=1e9,P=-1e9,p=1e9,v=-1e9;for(var x=0;
x<j.length;x++){var A=o.bR.da(e,j[x]);g=Math.min(g,A[0]);p=Math.min(p,A[1]);P=Math.max(P,A[2]);v=Math.max(v,A[3])}return[g,p,P,v]};
o.bR.ZeS=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
o.Gg=function(){o.bR.call(this,[10,41],o.yO,"tools/sselect");this.VF=null;this.Ph=null;this.TX=null;
this.eF=null;this.hn=!1};o.Gg.prototype=new o.bR;o.Gg.prototype.Lr=function(e,j,g,P,p){if(e==null)return;
var v=e.N.IR(p.x,p.y),x=o.Gg.ZLD(v,4/e.N.d,e.iZ,e.Tt);x.pop();if(x.length!=0){this.VF=v;this.TX=x;this.ZV(e);
return}var A=e.iZ,f=o.bR.hE(A,v);if(f==-1)e.Tt=[];else{var S=e.Tt.indexOf(f);if(P.v(q.Ag)){if(S==-1)e.Tt.push(f);
else e.Tt.splice(S,1)}else{e.Tt.sort(function(K,X){return K-X});if(S==-1)e.Tt=[f];this.VF=v;this.ZV(e);
this.Ph=o.bR.XI(A,e.Tt);this.eF=[];for(var F=0;F<e.Tt.length;F++)this.eF.push(o.bR.da(A,e.Tt[F]));if(P.v(q.io)){var m=A.slice(0),R=e.Tt,M=[];
for(var F=0;F<R.length;F++){var f=R[F],b=m[f],s=A.indexOf(b);M.push(s);A.splice(s,0,JSON.parse(JSON.stringify(b)))}e.Tt=M}}}e.tI=!0};
o.Gg.prototype.tg=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);if(this.VF==null){var x=o.Gg.ZLD(v,4/e.N.d,e.iZ,e.Tt),A=x.pop(),f=x.length==0?"default":["ew","nwse","ns","nesw"][A]+"-resize",S=new z(V.E.O,!0);
S.data={U:V.a._E,Lj:f};j.P(S);return}if(!this.hn&&v.iJ(this.VF))return;this.hn=!0;var F=e.iZ,x=this.TX;
if(x){v=o.KZ.ic(e,v,g,[!0,null,!1]);var m=Math.round(v.x),R=Math.round(v.y);for(var M=0;M<x.length;M+=2){var b=o.bR.da(F,x[M]),s=x[M+1];
b[s]=(s&1)==0?m:R;o.bR.ZxQ(b);o.bR.Zu(F,x[M],b)}}else{var K=v.ki(this.VF),X=this.Ph.slice(0);o.bR.Nt(X,K);
var d=new G(X[0],X[1],X[2]-X[0],X[3]-X[1]),W=o.KZ.Si(e,d,g,[!0,null,!1],!0);o.KZ.Sd(e,d,W);K.x+=W[0];
K.y+=W[1];for(var M=0;M<e.Tt.length;M++)o.bR.Zu(F,e.Tt[M],this.eF[M]);o.bR.oT(e,K)}e.tI=!0};o.Gg.prototype.jT=function(e,j,g,P,p){if(this.VF==null)return;
this.Ss(e);e.n.TW=null;e.tI=!0;this.VF=null;this.TX=null;this.eF=null;this.hn=!1};o.Gg.ZLD=function(e,j,g,P){var p=e.x,v=e.y,x=[],A=-1,f=[];
for(var S=0;S<P.length;S++){var F=P[S],m=o.bR.da(g,F),R=m[0],M=m[1],b=m[2],s=m[3];if(p<R-j||b+j<p||v<M-j||s+j<v)continue;
var K=[p<R+j,v<M+j,b-j<p,s-j<v],X=-1;for(var d=0;d<4;d++){if(K[d]&&K[d+1&3])X=1+2*(d&1);if(K[d])x.push(F,d)}if(X==-1){if(K[0]||K[2])X=0;
if(K[1]||K[3])X=2}if(X!=-1){A=X;f.push(F)}}var W=x.length;for(var S=0;S<W;S+=2){var F=x[S],O=x[S+1],H=o.bR.da(g,F)[O];
for(var d=0;d<P.length;d++){var Y=P[d];if(f.indexOf(Y)!=-1)continue;var m=o.bR.da(g,Y);if(m[O&1]==H)x.push(Y,O&1);
if(m[2+(O&1)]==H)x.push(Y,2+(O&1))}}x.push(A);return x};o.xi=function(){o.gs.call(this,[10,44],o.ZZW,"tools/oselect");
this.Ji="crosshair";this.ZuP=0};o.xi.prototype=new o.gs;o.xi.prototype.QN=function(e,j,g,P){if(Math.random()<1/(1+this.ZuP)){alert("The cross should be fully inside the object.",3500);
this.ZuP++}};o.xi.prototype.Aw=function(e,j,g,P){o.DP.ZrF(e,o.gs.Pp,this.fC);if(!P.kD||!this.vX)return;
var p=this.SQ(e,g,!1),v=p.W,x=p.j,A=p.x,f=p.y,S=p.x+v,F=p.y+x,m=A+v/2,R=f+x/2,M=o.xi.ZDt;e.n.eP={u:[A,f,S,f,S,F,A,F,m-v*M,R,m+v*M,R,m,R-x*M,m,R+x*M],L:"M L L L Z M L M L".split(" ")};
e.tI=!0};o.xi.ZDt=.12;o.xi.prototype.Sy=function(e,j,g,P){e.n.eP=null;e.tI=!0;this.finish(e,j,g,P)};
o.xi.prototype.getSelection=function(e,j,g,P){if(this.cZ.iJ(this.Lt)||!this.vX)return null;var p=this.SQ(e,g,!1),v=e.T[e.b[0]];
if(p.tE()||!p.cV(v.rect))return null;return o.gs.yc("ObSl",p)};o.DP=function(){o.sB.call(this,[10,37],o.ZZ,"tools/qselect");
this.Tg="qselect"};o.DP.prototype=new o.sB;o.DP.prototype.Lr=function(e,j,g,P,p){this.sy(e,g,P,p,1);
if(this.vm==null)return;this.QD(e)};o.DP.prototype.tg=function(e,j,g,P,p){this.s$(e,j,g);o.DP.ZrF(e,o.gs.Pp,j);
if(this.Iv)this.IT(e,g,p);if(this.vm==null)return;if(!p.kD)return;var v=this.Oj(e,g,P,p);if(v!=1)this.QD(e)};
o.DP.ZrF=function(e,j,g){if(e&&j.key!=o.DP.Nz(e)){j.key=o.DP.Nz(e);var P=e.T[e.b[0]].rect.h(),v="Image Analysis ...";
if(P==0)return;var p=P>1e6,x=new z(V.E.O,!0);x.data={U:V.a.Se,pS:v};if(p)g.P(x);setTimeout(function(){var A=o.DP.Zgv(e);
for(var f in A)j[f]=A[f];var x=new z(V.E.O,!0);x.data={U:V.a.Su,pS:v};if(p)g.P(x)},30)}};o.DP.Nz=function(e){var j=e.b[0],g=e.T[j],P=g.rect,p=P.W,v=P.j,x=p*v,A=g.buffer;
return[j,P.x,P.y,p,v,A[0],A[1],A[2],A[3]].join(",")};o.DP.Zgv=function(e){var j=e.b[0],g=e.T[j],P=g.rect,p=P.W,v=P.j,x=p*v,A=g.buffer,f=Date.now(),S=Z.V(x);
S.fill(128);var F=Z.Yh.Ne(A,p,v);console.log(Date.now()-f);var m={key:o.DP.Nz(e),oj:A,rect:P.clone(),LB:p,GF:v,Kq:12,ZnT:!1,Hp:S,hd:F,Z:Z.V(x),IO:null,cM:null,Zr:null};
o.DP.Yr(m);return m};o.DP.Yr=function(e,j){var g=e.LB,P=e.GF,p=0,v=0,x=Date.now(),A=e.IO!=null&&Z.Yh.ZWR(e.hd.La,e.IO.La,e.IO.EU,e.Hp);
p=Date.now()-x;x=Date.now();if(!A&&!e.ZnT){e.IO=Z.Yh.nE(e.hd,g,P,e.Hp,e.Kq);if(!Z.Yh.ZWR(e.hd.La,e.IO.La,e.IO.EU,e.Hp)){e.ZnT=!0;
console.log("conflict")}e.cM=Z.Yh.ZSS(e.oj,g,P,e.IO.La,e.IO.EU);e.Zr=[e.cM[0].slice(0),[]];v=Date.now()-x;
x=Date.now()}var x=Date.now();if(j){e.Zr[0].set(e.cM[0]);var f=e.cM[1],S=e.Zr[1];for(var F=0;F<f.length;
F++)S[F]=f[F].slice(0);Z.Yh.ZSI(e.IO.La,g,P,e.IO.EU,e.Hp,e.Z,e.Zr)}};function vh(e,j,g,P,p,v,x,A){this.bk=null;
this.sG=e?e.slice(0):null;this.ix=4;this.Lt=null;this.hB=null;this.Zf=null;this.Z_=-1;this.aS=null;this.Znk=!1;
this.ZnF=[];for(var f=0;f<8;f++)this.ZnF.push(Wg.ZeL(0,PIMG.rotate,-.5,-.5,-45-f*45));this.ZnQ=j;this.ZOy=g;
this.ZOi=P;this.ZOD=p;this.Zdf=v;this.zJ=x;this.ZOt=A}vh.prototype.ZDQ=function(){return this.Z_!=-1};
vh.prototype.Ud=function(){return this.sG.slice(0)};vh.prototype.NP=function(e){this.sG=e};vh.prototype.ZVU=function(){return this.ZC(this.sG)};
vh.prototype.ZVW=function(){return this.ix};vh.prototype.ZVv=function(e){this.ix=e};vh.prototype.Gi=function(e){if(e==null)e=this.sG;
if(this.ix==9)return this.Lt;else return this.ZC(e)[this.ix]};vh.prototype.ZVe=function(e){if(this.ix==9)this.Lt=e.clone();
else{var j=this.Gi(),g=new WE(1,0,0,1,e.x-j.x,e.y-j.y);Z.g.K(this.sG,g,this.sG)}};vh.prototype.So=function(e,j,g){var P=this.VL(e,j),p;
if(P==9)return"default";if(P==10){if(g)return null;return!this.ZnQ?"move":null}if(P==-1||P==4)return null;
if(P==11){var v=this.Gi().ki(e);p=90-Math.atan2(v.y,v.x)*180/Math.PI;var x=Math.round(8*(p/360));x=(x+8)%8;
return this.ZnF[x]}else{var A=this.S_(e,this.sG);p=[135,90,45,180,0,0,225,270,315][P];var f=Z.D.Or(this.sG);
p+=Math.atan2(-f[3],f[0])*180/Math.PI;var S="ew nesw ns nwse ew nesw ns nwse".split(" "),x=Math.round(8*(p/360));
x=(x+8)%8;return S[x]+"-resize"}};vh.prototype.S_=function(e,j){var g=Z.D.OF(Z.D.Or(j)),P=new Float64Array(2);
Z.D.Cl(e.x,e.y,g,P);return new Uc(P[0],P[1])};vh.prototype.Vn=function(e){var j=this.S_(e,this.sG);return 0<=j.x&&j.x<=1&&0<=j.y&&j.y<=1};
vh.prototype.Lr=function(e,j,g,P,p,v){this.Znk=v;this.aS=P;var x=e.N.d,A;if(this.sG==null)P=o.KZ.ic(e,P,j);
this.Zf=P.clone();if(this.sG==null){this.Zf.offset(1,1);var f=p==null?1:1/p;this.sG=[P.x,P.y,P.x+1,P.y,P.x+1,P.y+f,P.x,P.y+f];
A=8}else{A=this.VL(P,x);if(0<=A&&A<=8)this.Zf=this.ZC(this.sG)[A]}this.bk=this.sG.slice(0);this.Z_=A;
this.oG(e,j);this.hB=this.Gi();return A!=-1};vh.prototype.VL=function(e,j){var g=-1,P=this.ZC(),p=6*V.I()/j;
if(g==-1)if(Uc.zG(this.Gi(),e)<p)g=9;if(g==-1)for(var v=0;v<P.length;v++)if(v!=4&&Uc.zG(P[v],e)<p)g=v;
if(g==-1||this.zJ==4){if(this.Vn(e)){if(this.ZnQ)g=10}else{var x=this.S_(e,this.sG),A=new G(0,0,1,1);
A.F_(.2,.2);g=A.uC(x)&&this.zJ!=3?11:10}}return g};vh.prototype.tg=function(e,j,g,P){if(this.Z_==-1)return;
this.aS=P;var p=g.v(q.Ag),v=g.v(q.io),x=g.v(q.kA),A=e.N.d,f=this.Zf,S=this.Z_,F=this.ZC(),m=o.KZ.ic(e,f,j),R=o.KZ.ic(e,P,j),M,b;
if(S==9){var F=this.ZC(),s=-1;for(var K=0;K<F.length;K++)if(Uc.zG(F[K],R)*A<10)s=K;this.ix=s==-1?9:s;
this.Lt=p?o.dF.fT(m,R):R.clone()}else if(S==10){b=Z.g.XI(this.bk);var X=b.x,d=b.y;b.offset(P.x-f.x,P.y-f.y);
if(this.ZaK()){b.x=Math.round(b.x);b.y=Math.round(b.y)}M=o.KZ.Si(e,b,j);var W=new WE(1,0,0,1,b.x-X+M[0],b.y-d+M[1]);
Z.g.K(this.bk,W,this.sG)}else if(S==11){var O=this.Gi(this.bk),H=O.ki(P),Y=O.ki(f),y=Math.atan2(H.y,H.x),B=Math.atan2(Y.y,Y.x),W=new WE(1,0,0,1,-O.x,-O.y),c=Math.PI/12;
if(p)W.rotate(Math.round((B-y)/c)*c);else W.rotate(B-y);W.translate(O.x,O.y);Z.g.K(this.bk,W,this.sG)}else{var $,I=this.bk,r=S==0||S==2||S==6||S==8;
if(this.zJ==1){if(r)p=v=x=!0}else if(this.zJ==2&&r&&this.Znk!=!0)x=!0;if(this.zJ==3)x=!1;if(this.ZOi&&r&&x){var K=[0,0,2,0,0,0,6,0,4,0][S],i=-1,U=R.x,N=R.y;
if(p){var C=K+6&7,D=K+10&7,n=vh.ZeY(I[K],I[K+1],I[C],I[C+1],R.x,R.y),w=vh.ZeY(I[K],I[K+1],I[D],I[D+1],R.x,R.y),k=n[2]<w[2]?n:w;
U=k[0];N=k[1];if(v)i=n[2]<w[2]?C:D}else if(v)i=K+4&7;$=I.slice(0);if(i!=-1){var h=I[i],t=I[i+1],a=(I[K]+h)/2,_=(I[K+1]+t)/2;
$[i]=a-(U-a);$[i+1]=_-(N-_)}$[K]=U;$[K+1]=N}else if(r&&v){var O=this.hB,E=O.x,WW=O.y,Wx=m.x-E,WU=m.y-WW,We=1,Wv=1;
if(Math.abs(Wx)>=1)We=(R.x-E)/Wx;if(Math.abs(WU)>=1)Wv=(R.y-WW)/WU;if(p)We=Wv=(We+Wv)/2;var L=new WE;
L.translate(-E,-WW);L.scale(We,Wv);L.translate(E,WW);$=I.slice(0);Z.g.K($,L,$)}else{if(this.ZaK()){R.x=Math.round(R.x);
R.y=Math.round(R.y)}var J=[0,1,2,5,8,7,6,3],WZ=J[(J.indexOf(S)+4)%8],WJ=[];for(var K=0;K<3;K++)for(var i=0;
i<3;i++)WJ.push(new Uc(i/2,K/2));var O=this.hB,Wu=this.S_(R,I),WC=this.S_(f,I),Wn=v&&(this.ix==4||this.ix==9)?this.S_(O,I):WJ[WZ],WB=new WE,Wt=new WE,We=(Wu.x-Wn.x)/(WC.x-Wn.x);
if(We==0)We=1e-4;var Wv=(Wu.y-Wn.y)/(WC.y-Wn.y);if(Wv==0)Wv=1e-4;if(this.ZOD){We=Math.max(We,0);Wv=Math.max(Wv,0)}if(S==0||S==2||S==6||S==8){if(p||this.Zdf)WB.scale(We,We);
else WB.scale(We,Wv)}if(S==1||S==3||S==5||S==7){var Wy=this.Zdf;if(S==1||S==7)WB.scale(Wy?Wv:1,Wv);else WB.scale(We,Wy?We:1);
if(this.ZOy&&x){if(S==1||S==7)Wt.Ug=(Wu.x-Wn.x)/(Wu.y-Wn.y);else Wt.e=(Wu.y-Wn.y)/(Wu.x-Wn.x)}}var L=new WE;
L.translate(-Wn.x,-Wn.y);L.concat(WB);L.concat(Wt);L.translate(Wn.x,Wn.y);$=[0,0,1,0,1,1,0,1];Z.g.K($,L,$);
var k=Z.D.Or(I);Z.D.apply(k,$)}if(vh.N_($))this.sG=$}this.oG(e,j);if(M)o.KZ.Sd(e,b,M)};vh.ZeY=function(e,j,g,P,p,v){var x=g-e,A=P-j,f=p-e,S=v-j,F=x*x+A*A,m=f*x+S*A,R=m/F,M=e+R*x,b=j+R*A,s=p-M,K=v-b;
return[M,b,Math.sqrt(s*s+K*K)]};vh.prototype.ZaK=function(){var e=this.sG;return Math.abs(e[1]-e[3])<1e-6&&Math.abs(e[2]-e[4])<1e-6||Math.abs(e[0]-e[2])<1e-6&&Math.abs(e[3]-e[5])<1e-6};
vh.N_=function(e){return Z.g.xM(e)||Z.g.xM([e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]])};vh.prototype.jT=function(e,j,g,P){this.Z_=-1;
this.aS=null;e.n.TW=null;e.n.tx=[];e.tI=!0};vh.prototype.Pm=function(e,j,g){var P=g.GH();if(P.x||P.y){var p=new WE(1,0,0,1,P.x,P.y);
Z.g.K(this.sG,p,this.sG);this.oG(e,j);return!0}return!1};vh.prototype.ZC=function(e){if(e==null)e=this.sG;
var j=e[6]-e[0],g=e[7]-e[1],P=e[4]-e[2],p=e[5]-e[3],v=[e[0],e[1],e[2],e[3],e[0]+j/2,e[1]+g/2,e[2]+P/2,e[3]+p/2,e[6],e[7],e[4],e[5]],x=[];
for(var A=0;A<3;A++){var f=A*4,S=v[f+0],F=v[f+1],m=v[f+2],R=v[f+3];x.push(new Uc(S,F));x.push(new Uc(S+(m-S)/2,F+(R-F)/2));
x.push(new Uc(m,R))}return x};vh.prototype.oG=function(e,j,g){if(g==null)g=!1;var P=this.ZC(),p=P[0],v=P[2],x=P[6],A=P[8];
e.n.eP={L:[],u:[]};e.n.eP.L.push("M","L","L","L","Z");e.n.eP.u.push(p.x,p.y,v.x,v.y,A.x,A.y,x.x,x.y);
if(this.ZOt){var f=v.ki(p),S=x.ki(p),F=A.ki(v),m=A.ki(x);for(var R=0;R<3;R++){e.n.eP.L.push("M","L","M","L");
var M=(R+1)*.25;e.n.eP.u.push(p.x+f.x*M,p.y+f.y*M,x.x+m.x*M,x.y+m.y*M);e.n.eP.u.push(p.x+S.x*M,p.y+S.y*M,v.x+F.x*M,v.y+F.y*M)}}e.N.cT=new G(0,0,Uc.zG(P[0],P[2]),Uc.zG(P[0],P[6]));
if(this.Z_!=-1&&this.Z_<9&&this.aS){var b=e.N.p$(this.aS.x,this.aS.y);o.FE.Wo(b.x+10,b.y-10,e.N.cT,e,j)}if(!g){e.n.$d=[];
for(var R=0;R<P.length;R++)if(R!=4)e.n.$d.push(P[R].x,P[R].y);var s=this.Gi();e.n.$d.push(s.x,s.y)}e.tI=!0};
vh.prototype.clear=function(e){e.N.cT=null;e.n.TW=null;e.n.eP=null;e.n.$d=[];e.tI=!0};function eH(e,j){this.xL=null;
this.Z_=-1;this.ZTY(e)}eH.prototype.DB=function(){return JSON.parse(JSON.stringify(this.xL))};eH.prototype.ZTY=function(e){this.xL=JSON.parse(JSON.stringify(e))};
eH.prototype.Vn=function(e){return!0};eH.prototype.So=function(e,j){var g=this.VL(e,j);if(g==-1)return"default";
return"pointer"};eH.prototype.Lr=function(e,j,g,P){this.Z_=this.VL(P,e.N.d);return this.Z_!=-1};eH.prototype.VL=function(e,j){var g=-1,P=20*V.I(),p=this.ZOf();
for(var v=0;v<p.length;v++)if(Uc.zG(p[v],e)*j<P)g=v;return g};eH.prototype.tg=function(e,j,g,P){if(this.Z_==-1)return;
var p=e.N.d,v=this.Z_,x=Z.xL.pT(this.xL);x[v*2]=P.x;x[v*2+1]=P.y;Z.xL.Jz(x,this.xL)};eH.prototype.jT=function(e,j,g,P){this.Z_=-1;
e.tI=!0};eH.prototype.Pm=function(e,j,g){var P=g.GH();if(P.x||P.y){var p=new WE(1,0,0,1,P.x,P.y);Z.g.K(this.sG,p,this.sG);
this.oG(e)}};eH.prototype.ZOf=function(e){var j=Z.xL.pT(this.xL),g=[];for(var P=0;P<j.length;P+=2)g.push(new Uc(j[P],j[P+1]));
return g};eH.prototype.oG=function(e){var j=this.ZOf();e.n.eP={L:[],u:[]};e.n.eP.L.push("M","C","C","C","C");
var g=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var P=0;P<g.length;P++)e.n.eP.u.push(j[g[P]].x,j[g[P]].y);
e.n.eP.L.push("M","L","L","M","L","L","M","L","L","M","L","L");g=[4,0,1,2,3,7,11,15,14,13,12,8];for(var P=0;
P<g.length;P++)e.n.eP.u.push(j[g[P]].x,j[g[P]].y);e.n.$d=[];for(var P=0;P<j.length;P++)e.n.$d.push(j[P].x,j[P].y);
e.tI=!0};eH.prototype.clear=function(e){e.n.eP=null;e.n.$d=[];e.tI=!0};var ZI={};ZI.km=function(e){this.id=e;
this.fC=null};ZI.km.prototype.BB=function(e,j,g,P,p){};ZI.km.prototype.aX=function(e,j){};ZI.km.prototype.PB=function(e,j){};
ZI.km.prototype.track=function(e){var j=new z(V.E.$E,!0);j.data=e;e.DD=!0;this.fC.P(j)};ZI.History=function(){ZI.km.call(this,o.Fy);
this.hy=!0;this.Zdl=0};ZI.History.prototype=new ZI.km;ZI.History.prototype.BB=function(e,j,g,P){g.YX=!0;
if(e.U=="h_itemchange"){if(e.index<g.dT)for(var p=g.dT;p>e.index;p--)this.Dz(g);if(e.index>g.dT)for(var p=g.dT;
p<e.index;p++)this.DG(g)}if(e.U=="h_stepfwd")this.DG(g);if(e.U=="h_stepbck")this.Dz(g);if(e.U=="h_undoredo"){var v=this.hy||this.Zdl!=g.dT;
if(v){this.Dz(g);v=!1}else{this.DG(g);v=!0}this.hy=v;this.Zdl=g.dT}else this.hy=!0};ZI.History.prototype.Dz=function(e){if(e.dT==0)return;
var j=e.history[e.dT];j.X.PB(j.data,e);e.dT--};ZI.History.prototype.DG=function(e){if(e.dT==e.history.length-1)return;
var j=e.history[e.dT+1];j.X.aX(j.data,e);e.dT++};ZI.hW=function(){ZI.km.call(this,o.jE);this.fC=null};
ZI.hW.prototype=new ZI.km;ZI.hW.prototype.BB=function(e,j,g,P,p){this.fC=j;var v=e.U,x=e.$!=null?e.$:g.b.length!=0?g.b[0]:g.T.length-1,A=g.T[x];
g.zz=!0;if(v==u.Un&&g.Z==null)v=u.hq;if(v==u.xY){var f=new ZU([6,33],this),S=A.CQ()?["pass"].concat(WF.jS):WF.jS,F=e.$!=null?[e.$]:g.b,m=JSON.stringify(F),R=[];
for(var M=0;M<F.length;M++)R.push(g.T[F[M]].T$);f.data={U:v,kT:m,_Z:R,Hy:S[e.Hy]};g.sz(f);this.aX(f.data,g);
this.track(vT.tD("Md",{t:"enum",v:{BlnM:WF.LN[e.Hy]}}))}if(v==u.Ux){var f,b=g.iY(),F=e.$!=null?[e.$]:g.b,m=JSON.stringify(F);
if(b&&b.data&&b.data.U==v&&b.data.kT==m)f=b;else{var s=vT.tD("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(s);var R=[];for(var M=0;M<F.length;M++)R.push(g.T[F[M]].opacity);f=new ZU([6,32],this);f.data={U:v,kT:m,_Z:R,Hy:e.Hy,hi:s.HR};
g.sz(f)}f.data.Hy=e.Hy;f.data.hi.T.v.Opct.v.val=Math.round(e.Hy*100/255);this.aX(f.data,g)}if(v==u.CU){if(A.add.iOpa==null)A.add.iOpa=255;
var f,b=g.iY();if(b&&b.data&&b.data.U==v&&b.data.$==x)f=b;else{f=new ZU("Fill Opacity Change",this);
f.data={U:v,$:x,_Z:A.add.iOpa,Hy:e.Hy};g.sz(f)}f.data.Hy=e.Hy;this.aX(f.data,g)}if(v==u.$x){if(A.add.lspf==null)A.add.lspf=0;
var R=A.add.lspf,K=R,X=e.Hy,f;for(var M=0;M<X[0].length;M++){var d=X[1][M],W=1<<d;if((K&W)==0&&X[0][M])K^=W;
else if((K&W)!=0&&!X[0][M])K^=W}var b=g.iY();if(b&&b.data&&b.data.U==v&&b.data.$==x)f=b;else{var f=new ZU([6,57,1],this);
f.data={U:v,$:x,_Z:R,Hy:K};g.sz(f)}f.data.Hy=K;this.aX(f.data,g)}if(v==u.Fq){var O="----",H=e.ZW,K=null;
for(var M=0;M<ZH.ej.nW.length;M++)if(A.add[ZH.ej.nW[M]])O=ZH.ej.nW[M];var Y=A.add[O];if(H=="TySh")K=Wf.Ik(50,50,p.sT);
var f=new ZU("Layer Type",this);f.data={U:v,$:x,ZBD:[O,Y],ZW:[H,K]};g.sz(f);this.aX(f.data,g)}if(v==u.EY){var y=[];
if(P.v(q.io)){var B=g.iY(),c=B?B.data:null;if(B!=null&&B.X==this&&c.U==u.EY&&c.kT.length!=1){var $=new z(V.E.s);
$.X=o.Fy;$.data={U:"h_stepbck"};j.P($);if(c.$==x)return}var I=g.root.oA(x),r=g.RH(null,x);while(I.parent!=g.root){r.push(I.parent.index);
I=I.parent}for(var M=0;M<g.T.length;M++){var i=g.T[M],U=i.Je(),N=r.indexOf(M)!=-1;if(!N&&U)y.push(M);
if(M==x&&!U)y.push(M)}}else{y.push(x);var U=g.T[x].Je(),s={Wi:U?"hide":"show",HR:{classID:U?"Hd":"Shw",null:{t:"VlLs",v:[vT.EG("Lyr",!0)]}}};
this.track(s)}var f=new ZU("Layer visibility",this,!0);f.data={U:v,kT:y,$:x};g.sz(f);this.aX(f.data,g)}if(v==u.Uv){var s={Wi:"select",HR:{classID:"null",MkVs:{t:"bool",v:!1}}},C,escape=!1;
if(g.N.oJ.join("")!="111"){g.N.oJ=[1,1,1];g.tI=!0}if(P.v(q.kA)||e.ZBX==0){var D=g.b.indexOf(x);if(D==-1)g.b.push(x);
else if(g.b.length>1)g.b.splice(D,1);g.b.sort(function(f,vG){return f-vG});s.HR.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};
C=x}else if(P.v(q.Ag)&&!P.v(q.io)&&e.xb>0){v=e.xb==1?u.xz:e.xb==2?u.KW:u.Cf;escape=!0}else if((P.v(q.Ag)||e.ZBX==1)&&g.b.length>0){var n=Math.min(x,g.b[0]),w=Math.max(x,g.b[g.b.length-1]);
g.b=[];for(var M=n;M<=w;M++)if(g.T[M].add.lsct!=vC.EN)g.b.push(M);s.HR.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
C=x}else{C=x;var i=g.T[x];if(i.CQ()&&e.ZOL)i.add.lsct=vC.x_;else if(g.b.length==1&&g.b[0]==x&&e.xb==i.TM){return}g.b=[x];
g.qF()}if(C!=null){s.HR.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:g.T[C].getName()}}]},this.track(s)}if(!escape){if(g.b.length==1){var k=g.b[0];
for(var M=0;M<g.T.length;M++){if(M==k)continue;var h=g.T[M];h.TM=0;h.iD=!1}var A=g.T[k];if(e.xb==2){A.iD=!A.iD;
g.QL=[]}else{A.TM=e.xb<=0?0:e.xb;if(e.xb==1||e.xb==3){var t=e.xb==3?A.EK(g)._:A.ou();t.IN=!1}}}else for(var M=0;
M<g.T.length;M++){var h=g.T[M];h.TM=0;h.iD=!1}g.Bm=null;g.YX=!0}}if(v==u.xz||v==u.Cf){var a=v==u.xz,t=a?A.ou():A.EK(g)._;
if(t==null)return;var f=new ZU(t.isEnabled?a?[6,15]:[6,42]:a?[6,14]:[6,41],this);f.data={U:v,$:x};g.sz(f);
this.aX(f.data,g)}if(v==u.KW){var t=A.add.vmsk;if(t==null)return;var f=new ZU(t.isEnabled?[6,17]:[6,16],this);
f.data={U:v,$:x};g.sz(f);this.aX(f.data,g)}if(v==u.ZzQ){if(A.add.lsct==vC.x_)A.add.lsct=vC.TC;else A.add.lsct=vC.x_;
g.YX=!0}if(v==u.UU){if(!g.oW(x))return;var f=new ZU(A.qX?[6,19]:[6,18],this);f.data={U:v,$:x};g.sz(f);
if(e.Hy==null||e.Hy!=A.qX)this.aX(f.data,g);this.track({Wi:"groupEvent",HR:{classID:"GrpL",null:{t:"obj ",v:[vT.EG("Lyr",!0)]}}})}if(v==u.ZZp){if(A.uy())A.Oz-=32;
else A.Oz+=32;g.YX=!0}if(v==u.Ci||v==u.Cc){var f;if(v==u.Ci)f=new ZU(A.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);
if(v==u.Cc)f=new ZU(A.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);f.data={U:v,$:x};g.sz(f);this.aX(f.data,g)}if(v==u.CT||v==u.gr){var k=e.index,f;
if(v==u.CT)f=new ZU(A.add.lmfx[Wr.uM[k[0]]].v[k[1]].v.enab.v?[6,30]:[6,29],this);if(v==u.gr)f=new ZU(A.add.SoLd.filterFX.v.filterFXList.v[k].v.enab.v?[6,44]:[6,43],this);
f.data={U:v,$:x,index:e.index};g.sz(f);this.aX(f.data,g)}if(v==u.F$){if(e.src==e.Ys)return;var _=g.T[e.src],E=g.T[e.Ys],WW=_.add.lmfx?JSON.stringify(_.add.lmfx):"",Wx=E.add.lmfx?JSON.stringify(E.add.lmfx):"";
if(E.add.lmfx==null){E.add.lmfx=JSON.parse(Wr.default);for(var M=0;M<Wr.order.length;M++)E.add.lmfx[Wr.uM[M]]={t:"VlLs",v:[]}}if(e._a==null){E.add.lmfx=JSON.parse(WW);
if(!e.pQ)delete _.add.lmfx}else{var WU=e._a[0],We=Wr.uM[WU];if(Wr.Znq.indexOf(Wr.order[WU])==-1)E.add.lmfx[We].v=[];
E.add.lmfx[We].v.push(_.add.lmfx[We].v[e._a[1]]);if(!e.pQ)_.add.lmfx[We].v.splice(e._a[1],1)}var Wv=_.add.lmfx?JSON.stringify(_.add.lmfx):"",L=E.add.lmfx?JSON.stringify(E.add.lmfx):"";
if(!E.uy())E.Oz+=32;var f=new ZU("Move Layer Styles",this);f.data={U:v,Zyt:e.src,ZiL:e.Ys,ZOI:WW,ZOH:Wx,ZOp:Wv,ZOA:L};
g.sz(f);this.aX(f.data,g)}if(v==u.Zuy){var h=g.T[e.src],J=JSON.stringify(h.add.SoLd),WZ=JSON.parse(J),WJ=WZ.filterFX.v.filterFXList.v;
WJ.splice(e._a,1);var f=new ZU([6,53],this);f.data={U:u.gZ,dn:[{BQ:e.src,ps:[J,JSON.stringify(WZ)]}]};
g.sz(f);this.aX(f.data,g)}if(v==u.Zxt){var _=g.T[e.src],E=g.T[e.Ys],Wu=[];if(_!=E&&E.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(_==E&&!e.pQ&&(e._a==e.Zv||e._a==-1))return;var WC=_.EK(g),J=JSON.stringify(_.add.SoLd),WZ=JSON.parse(J),WJ=WZ.filterFX.v.filterFXList.v;
if(_==E){WJ.splice(e.Zv,0,WJ[e._a]);if(!e.pQ)WJ.splice(e._a+(e._a<e.Zv?0:1),1);Wu.push({BQ:e.src,ps:[J,JSON.stringify(WZ)]})}else if(e._a==-1){var Wn=WZ.filterFX;
if(!e.pQ){delete WZ.filterFX;Wu.push({BQ:e.src,ps:[J,JSON.stringify(WZ)],TQ:[WC,null]})}var WB=E.f$()?E.EK(g):null,Wt=ZT.Zgd(WC),Wy=JSON.stringify(E.add.SoLd),Wz=JSON.parse(Wy);
Wz.placed.v=Wt.id;Wz.filterFX=Wn;Wu.push({BQ:e.Ys,ps:[Wy,JSON.stringify(Wz)],TQ:[WB,Wt]})}else{var WG=WJ[e._a];
if(!e.pQ){WJ.splice(e._a,1);Wu.push({BQ:e.src,ps:[J,JSON.stringify(WZ)]})}var Wy=JSON.stringify(E.add.SoLd),Wz=JSON.parse(Wy);
if(Wz.filterFX==null)Wz.filterFX=ZW.kx();var Wq=Wz.filterFX.v.filterFXList.v;Wq.splice(e.Zv,0,WG);var Wa={BQ:e.Ys,ps:[Wy,JSON.stringify(Wz)]};
if(!E.f$()){var Wt=ZT.ZnJ(E.add.SoLd.placed.v);Wa.TQ=[null,Wt]}Wu.push(Wa)}var f=new ZU([6,52],this);
f.data={U:u.gZ,dn:Wu};g.sz(f);this.aX(f.data,g)}if(v==u.Cx){var t=A.ou(),f=new ZU(t.Hm?[6,26]:[6,25],this);
f.data={U:v,$:x};g.sz(f);this.aX(f.data,g);this.track({Wi:"set",HR:{classID:"setd",null:{t:"obj ",v:[vT.EG("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:t.Hm}}}}})}if(v==u.FC){var t=A.add.vmsk,f=new ZU(t.Hm?[6,28]:[6,27],this);
f.data={U:v,$:x};g.sz(f);this.aX(f.data,g)}if(v==u.Fg){var WK=[],f;for(var M=0;M<g.b.length;M++){var Wd=g.b[M],i=g.T[Wd];
if(i.add.vogk)WK.push(Wd,JSON.stringify(i.add.vogk))}for(var M=0;M<g.QL.length;M++){var Wd=g.QL[M],i=g.Bd[Wd];
if(i.add.vogk)WK.push(-1-Wd,JSON.stringify(i.add.vogk))}Z.uF.ZGg(g,e.jm,e.ZOj);var WD=[];for(var M=0;
M<g.b.length;M++){var Wd=g.b[M],i=g.T[Wd];if(i.add.vogk)WD.push(Wd,JSON.stringify(i.add.vogk))}for(var M=0;
M<g.QL.length;M++){var Wd=g.QL[M],i=g.Bd[Wd];if(i.add.vogk)WD.push(-1-Wd,JSON.stringify(i.add.vogk))}var b=g.iY();
if(b&&b.data&&b.data.U==v){var W$=!0;for(var M=0;M<WK.length;M+=2)if(WK[M]!=b.data.Ze[M])W$=!1;if(W$){f=b;
f.data.JV=WD}}if(f==null){var f=new ZU([12,91,1],this);f.data={U:v,Ze:WK,JV:WD};g.sz(f)}this.aX(f.data,g)}if(v==u.Ft){var f,b=g.iY();
if(b&&b.data&&b.data.U==v&&b.data.$==x){f=b;f.data.qN=JSON.stringify(e.qN)}if(f==null){var f=new ZU("Editing Artboard",this);
f.data={U:v,$:x,ZOX:JSON.stringify(A.add.artb),qN:JSON.stringify(e.qN)};g.sz(f)}this.aX(f.data,g)}if(v==u.xS){var WD=g.xr.slice(0),Zg=g.HO.slice(0),WL=g.Z,WY=g.Z;
if(e.oV=="fromAction"){var WA=e.r.Wi,Wb=e.r.HR;if(WA=="make"||WA=="duplicate"){var WX=WD.length,Ww=!1,W_=!1;
if(g.iE())WX--;var fI=new u.IP;fI.name="Alpha "+(WX+1);if(WA=="make"){var vW=Wb.Nw.v;fI.color=255;Zg=[WX];
fI.IN=!0;fI.Nn=vW.Opct.v;if(vW.Nm)fI.name=vW.Nm.v;if(vW.classID=="SCch"){Ww=!0;WY=null;fI.Gm=1}}else{var vL=Wb.null.v[0].v;
if(vL.keyID=="fsel")Ww=!0;else{var vV=o.gs.ZCk(g);WY=o.gs.ZfI(g,vV);fI.color=0;fI.rect=WY.rect;fI.channel=WY.channel}}if(Ww){fI.color=0;
if(g.Z){fI.rect=g.Z.rect.clone();fI.channel=g.Z.channel.slice(0)}if(W_){fI.color=255-fI.color;Z.OF(fI.channel)}}WD.splice(WX,0,fI)}else if(WA=="delete"){var r=g.HO;
r.sort(function(f,vG){return vG-f});if(r.length==0)return;for(var M=0;M<r.length;M++)WD.splice(r[M],1);
Zg=[]}else if(WA=="hide"){WD[Zg[0]]=WD[Zg[0]].clone();WD[Zg[0]].IN=!1}}if(e.oV=="rnm"){WD[e.VS]=WD[e.VS].clone();
WD[e.VS].name=e.name}var f=new ZU("Channel Edit",this);f.data={U:v,Ze:g.xr.slice(0),oi:g.HO.slice(0),JV:WD,oN:Zg,Ll:WL,kz:WY};
this.aX(f.data,g);g.sz(f)}if(v==u.jF){var f=new ZU(e.de,this);f.data={U:u.jF,OA:g.T.slice(0),Jh:e.Jh,fj:g.b.slice(0),xX:e.kz};
g.sz(f);this.aX(f.data,g)}if(v==u.Es){var Wo=g.RH(null,e.$),WH=1e10;if(Wo.length==0)return;if(g.T.length==Wo.length){alert("Project must have at least 1 layer");
return}var WT=[];for(var M=0;M<g.T.length;M++)if(Wo.indexOf(M)==-1)WT.push(g.T[M]);for(var M=0;M<Wo.length;
M++)WH=Math.min(WH,Wo[M]);WH=Math.max(WH-1,0);while(WT[WH].name=="</Layer group>")WH++;this.track({Wi:"delete",HR:{classID:"Dlt",null:vT.EG("Lyr",!0)}});
var f=new ZU([6,31],this);f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:[WH]};g.sz(f);this.aX(f.data,g)}if(v==u.sm){var r=e.ZDs?e.ZDs:g.b,WS=0,WQ=!1;
if(r.length==0)return;if(r.length==1&&g.T[r[0]].fw==0){alert(Zr.get([15,7,5]));return}var ve=[];for(var M=0;
M<g.T.length;M++){var Zi=g.T[M].fw;ve.push(Zi);WS=Math.max(WS,Zi)}var vZ=-1,fH=-1;for(var M=0;M<r.length;
M++){var Zi=g.T[r[M]].fw;if(Zi==0)WQ=!0;else if(vZ==-1||vZ==Zi)vZ=Zi;else fH=Zi}if(!WQ)for(var M=0;M<r.length;
M++)g.T[r[M]].fw=0;else if(vZ!=-1&&fH==-1)for(var M=0;M<r.length;M++)g.T[r[M]].fw=vZ;else for(var M=0;
M<r.length;M++)g.T[r[M]].fw=WS+1;var vg=[];for(var M=0;M<g.T.length;M++){var Zi=g.T[M].fw;if(vg[Zi]==null)vg[Zi]=0;
vg[Zi]++}for(var M=0;M<g.T.length;M++){var Zi=g.T[M].fw;if(vg[Zi]==1)g.T[M].fw=0}var vI=ve;ve=[];for(var M=0;
M<g.T.length;M++){var Zi=g.T[M].fw;ve.push(Zi);WS=Math.max(WS,Zi)}var f=new ZU(WQ?[6,54,0]:[6,54,1],this);
f.data={U:u.sm,ZOY:vI,ZOF:ve};g.sz(f);this.aX(f.data,g)}if(v==u.hq&&(e.$!=null||g.b.length!=0)||v==u.qL){var ZL=g.gn(v==u.hq?e.$:x,null,e.ZKF);
if(v==u.qL){var h=ZL[0],WA=h.add.SoLd.Idnt.v,vu=g.Sb(WA).clone();h.add.SoLd.Idnt.v=vu.Bv=ZT.iK()+WA.slice(8);
g.add.lnk2.push(vu)}if(v==u.hq){var vS={Wi:"duplicate",HR:{classID:"null",null:vT.EG("Lyr",!0)}};if(e.U_){ZL[0].tG(e.U_);
vS.Nm={t:"TEXT",v:e.U_}}this.track(vS);e.Ztu=e.$}v=u.Cs;e.T=ZL;e.BO=g;e.Zi=g}if(v==u.Cs){var Zd,ZO,vF=e.BO,ZE=e.Zi;
if(vF!=ZE){console.log("ADDLAYERS different projs");var Zd=new G(0,0,vF.W,vF.j),ZO=new G(0,0,ZE.W,ZE.j),ZZ=[],Z$=[];
for(var M=0;M<e.T.length;M++){var h=e.T[M];if(h.add.SoLd==null)continue;var WA=h.add.SoLd.Idnt.v;if(ZZ.indexOf(WA)==-1){ZZ.push(WA);
Z$.push(ZT.iK()+WA.slice(8))}h.add.SoLd.Idnt.v=Z$[ZZ.indexOf(WA)];var WC=h.EK(vF);if(WC){vF.qY(WC);ZE.US(WC)}}if(ZZ.length>0){if(ZE.add.lnk2==null)ZE.add.lnk2=[];
for(var M=0;M<ZZ.length;M++){var vd=vF.Sb(ZZ[M]),vu=vd.clone();vu.Bv=Z$[M];ZE.add.lnk2.push(vu)}}}var WL=ZE.b.slice(0);
WL.sort(function(f,vG){return f-vG});var WT=ZE.T.slice(0),WY=[],xd=-1;for(var M=0;M<WL.length;M++)xd=Math.max(xd,WL[M]);
if(e.Ztu!=null)xd=e.Ztu;xd++;for(var M=0;M<e.T.length;M++){var i=e.T[M];WT.splice(xd,0,i);WY.push(xd);
xd++}if(e.T[e.T.length-1].CQ())WY=[xd-1];var f=new ZU([6,0],this);f.data={U:u.jF,OA:ZE.T.slice(0),Jh:WT,fj:WL,xX:WY};
ZE.sz(f);this.aX(f.data,ZE)}if(v==u.Zub){var xg=e.$!=null?[e.$]:g.RH(),WT=g.T.slice(0);for(var M=0;M<xg.length;
M++){var i=g.T[xg[M]].clone();i.Zgm(g);WT.splice(xg[M],1,i)}var f=new ZU([6,8],this);f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:g.b.slice(0)};
g.sz(f);this.aX(f.data,g)}if(v==u.Zdj){var WT=g.T.slice(0),i=WT[g.b[0]]=WT[g.b[0]].clone(),vU=i.add.lmfx,vj=0;
delete i.add.lmfx;var fZ=Z.V(i.rect.h());Z.bF(i.buffer,fZ,3);var VA=Wi.Lx(vU,null,fZ,i.rect,g,i.rect).type;
for(var M=0;M<Wr.order.length;M++){var Zp=Wr.order[M],vy=VA[Zp],vX=M>7;for(var va=0;va<vy.length;va++){var vq=vy[va],F=g.Rz();
F.T$=vq.Ea;F.opacity=Math.round(255*vq.sb);F.qX=!vX;F.buffer=vq.C$;F.rect=vq.UE;F.rect.offset(i.rect.x,i.rect.y);
F.tG(i.getName()+"'s "+Zr.get(Wr.names[M]));WT.splice(g.b[0]+(vX?0:1),0,F);if(vX)vj++}}var f=new ZU("Styles to Layers",this);
f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:[g.b[0]+vj]};g.sz(f);this.aX(f.data,g)}if(v==u.qT){var xg=g.RH(),WT=g.T.slice(0),Zz=new G(0,0,g.W,g.j);
for(var M=0;M<xg.length;M++){var eE=g.T[xg[M]],eO=eE.Je();eE.Pd(!0);var ZF=g.root.oA(xg[M]);if(eE.CQ())continue;
if(ZF==null)continue;var i=eE.clone();i.Zgm(g);var xN=ZF.SQ(g,!0),vk=g.T;g.jy([eE]);g.H();g.Nf();i.buffer=Z.V(xN.h()*4);
Z.Vy(g.Gj(),Zz,i.buffer,xN);i.rect=xN;i.opacity=255;i.add.iOpa=255;i.T$="norm";i.H();i.Q.VK=!0;g.jy(vk);
if(i.add.lmfx)delete i.add.lmfx;i._=i.kF=null;WT.splice(xg[M],1,i);i.Pd(eO);eE.Pd(eO)}var f=new ZU([6,34],this);
f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:g.b.slice(0)};g.sz(f);this.aX(f.data,g)}if(v==u.ZZ_){var xg=g.RH(),WT=g.T.slice(0);
for(var M=0;M<xg.length;M++){var i=g.T[xg[M]],fJ=i.add.TySh;if(fJ==null)continue;var h=new vf(fJ.xe,p.Fz),eI=Z.g.gX(vs.hQ(h,fJ));
for(var ed in eI){var fx=eI[ed],ZR=i.clone();delete ZR.add.TySh;ZR.Oz=ZR.Oz|1<<4;ZR.add.SoCo=JSON.parse(JSON.stringify(Wr.Wx[0]));
var vt=ZR.add.SoCo.Clr.v;vt.Rd.v=parseInt(ed.slice(1,3),16);vt.Grn.v=parseInt(ed.slice(3,5),16);vt.Bl.v=parseInt(ed.slice(5,7),16);
var eS=new u.nt;eS.F=Z.g.br(fx,!1);if(ZR.add.vmsk!=null){ZR.add.vmsk.Zyx();eS.concat(ZR.add.vmsk)}ZR.add.vmsk=eS;
ZR.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));ZR.Vd();ZR.d$(g);WT.splice(WT.indexOf(i),0,ZR)}WT.splice(WT.indexOf(i),1)}var WY=g.b.slice(0);
for(var M=WY.length-1;M>=0;M--)if(WY[M]>=WT.length)WY.splice(M,1);var f=new ZU([6,40],this);f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:WY};
g.sz(f);this.aX(f.data,g)}if(v==u.Zfo){var xJ=g.b.length;if(xJ<2)return;if(!g.od())return;var ZR=g.T[g.b[0]].clone(),WT=[];
for(var M=0;M<g.T.length;M++)if(g.b.indexOf(M)==-1)WT.push(g.T[M]);WT.splice(g.b[0],0,ZR);for(var M=1;
M<xJ;M++){var i=g.T[g.b[M]],fD=i.rect.clone();fD.F_(1,1);var vG=Z.V(fD.h()*4);Z.Vy(i.buffer,i.rect,vG,fD);
ZR.extend(fD);var eu=Z.V(fD.h()*4);Z.Vy(ZR.buffer,ZR.rect,eu,fD);var f=Z.V(fD.h());Z.bF(vG,f,3);Z.round(f,200);
Z.sH(f,vG,3);Z.Y.$Q("norm",vG,fD,eu,fD,fD,1);Z.$K.fe(eu,f,fD);Z.Vy(eu,fD,ZR.buffer,ZR.rect)}var f=new ZU([2,10],this);
f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:[g.b[0]]};g.sz(f);this.aX(f.data,g)}if(v==u.q$){var WT=g.T.slice(0),Zg=g.b.slice(0);
for(var M=0;M<WT.length;M++){var i=WT[M],vp=i.add.vmsk;if(i.dz()&&vp&&i.add.vstk.strokeEnabled.v&&!i.add.vstk.fillEnabled.v){var vY=vp.F,xA=0,xD=-1;
for(var va=0;va<vY.length;va++){if((vY[va].type==0||vY[va].type==3)&&vY[va].WF!=-1){xA++;if(vY[va].type==3&&xD==-1){vY[va].Tu=vY[va].WF=1;
xD=va}}}if(xA>1&&xD!=-1){console.log("separating an open path into a new layer");i=i.clone();vp=i.add.vmsk;
vY=vp.F;var F=vY[xD].length,fS=i.clone();fS.add.lyid=g.oe();vp.F=vY.slice(0,2).concat(vY.slice(xD,xD+F+1));
vp.b=[];i.d$(g);i.H();var xs=fS.add.vmsk.F;fS.add.vmsk.F=xs.slice(0,xD).concat(xs.slice(xD+F+1,xs.length));
fS.add.vmsk.b=[];fS.d$(g);WT[M]=i;WT.splice(M+1,0,fS);for(var va=0;va<Zg.length;va++)if(Zg[va]>M)Zg[va]++;
var Uv=Zg.indexOf(M);if(Uv!=-1){Zg.splice(Uv+1,0,M+1)}}}}if(WT.length!=g.T.length){var f=new ZU("Splitting open paths",this);
f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:Zg};g.sz(f);this.aX(f.data,g)}}if(v==u.ZxY){this.BB({U:u.q$},j,g,P,p);
var WL=g.b.slice(0),vk=g.T.slice(0),xg=g.RH();if(xg.length==0)return;g.Zrq(xg);var f=new ZU([6,36,0],this);
f.data={U:u.jF,OA:vk,Jh:g.T.slice(),fj:WL,xX:g.b.slice(0)};g.sz(f);this.aX(f.data,g)}if(v==u.uI){var vd=e.vs.Sb(e.id),vu=vd.clone();
vu.raw=e.data;vu.Yo="8BIM";vu.Tm="8BPB";vu.ib=vu.ib+".psd";vu.Gj(!1);vd.Gj(!1);var f=new ZU([6,36,1],this);
f.data={U:u.uI,id:e.id,ZN:vd,Zq:vu};e.vs.sz(f);this.aX(f.data,e.vs)}if(v==u.Zun){var Uh,Ui;if(e.FY){Uh=e.vs;
Ui=e.FY}else{e.vs.Ub();e.vs.hx();e.vs.H();e.vs.Nf();e.vs.Gj();Uh=Wg.PSD.si(e.vs,0,0,[!0,!0]);Ui=e.vs.name}if(!(Uh instanceof ArrayBuffer))throw"e";
Uh=new Uint8Array(Uh);var D=e.uT!=null?e.uT:g.b[g.b.length-1]+1,ZB=g.UF(Uh,Ui,0,0,!0),WT=g.T.slice(0);
WT.splice(D,0,ZB);var f=new ZU([6,36,2],this);f.data={U:u.jF,OA:g.T.slice(),Jh:WT,fj:g.b.slice(0),xX:[WT.indexOf(ZB)]};
g.sz(f);this.aX(f.data,g)}if(v==u.ZBA){var fg=[],Vk=[],xU=0;for(var M=0;M<g.b.length;M++){var Wd=g.b[M],i=g.T[Wd];
if(i.CQ()&&fg.indexOf(Wd)==-1){fg.push(Wd);Vk.push(i.getName())}}if(fg.length!=2){fg=[];Vk=[];for(var M=0;
M<g.T.length;M++){var Wd=M,i=g.T[Wd];if(i.CQ()&&fg.indexOf(Wd)==-1){fg.push(Wd);Vk.push(i.getName())}}}if(fg.length<2){alert("We need at least two folders of layers");
return}var vy=[];for(var VJ=0;VJ<fg.length;VJ++){var I=g.root.oA(fg[VJ]),Wa=[[],[],0,VJ];vy.push(Wa);
if(I.children.length==0){alert("There is a folder \""+I.$.getName()+"\" without any layers.");return}for(var M=0;
M<I.children.length;M++){var Wd=I.children[M].index,i=I.children[M].$,fI=i.getName(),eD=20;if(!fI.startsWith("_a_")){alert("Name of every frame should start with \"_a_\"");
return}var Uq=fI.split(",");if(Uq.length>1){var VN=parseInt(Uq.pop());if(!isNaN(VN)&&VN!=0)eD=VN}Wa[0].push(i);
Wa[1].push(eD);Wa[2]+=eD}}vy.sort(function(f,vG){return vG[2]-f[2]});var vo=vy[0],xE=vo[2];for(var eK=1;
eK<vy.length;eK++){var Wa=vy[eK],eA=1,fn=Wa[1].slice(0),Vs=0;while((eA+1)*Wa[2]<=vo[2]){eA++;fn=fn.concat(Wa[1])}Wa[1]=fn;
Wa[2]*=eA;var xK=vo[2]/Wa[2];for(var M=0;M<Wa[1].length;M++){var vR=Math.floor(Wa[1][M]*xK);Wa[1][M]=vR;
Vs+=vR}while(Vs<xE){Vs++;Wa[1][Wa[1].length-1]++}Wa[2]=Vs}var Zl=[],UU=[],vR=[];for(var M=0;M<vy.length;
M++){Zl.push(0);UU.push(0)}while(xU<xE){var VP=1e9,WX=-1;for(var M=0;M<vy.length;M++){var fP=vy[M][1],Uj=Zl[M];
if(Uj!=fP.length&&UU[M]+fP[Uj]<xU+VP){WX=M;VP=UU[M]+fP[Uj]-xU}}UU[WX]+=vy[WX][1][Zl[WX]];Zl[WX]++;if(VP!=0){vR.push(VP);
xU+=VP}}for(var M=0;M<vR.length;M++){var vx=vR[M],Vb=vx>>>1;if(vx<17){var Wd=vR.length-1;if(M==0)vR[1]+=vx;
else if(M==vR.length-1)vR[Wd-1]+=vx;else{vR[M-1]+=Vb;vR[M+1]+=vx-Vb}vR.splice(M,1);M--}}var eO=[],Zz=new G(0,0,g.W,g.j);
for(var M=0;M<g.T.length;M++){eO[M]=g.T[M].Je();g.T[M].Pd(!1)}var eT=g.b.slice(0);g.b=fg;var Wo=g.RH();
Wo.sort(function(f,vG){return f-vG});var WT=[];for(var M=0;M<g.T.length;M++){if(Wo.indexOf(M)==-1)WT.push(g.T[M])}vy.sort(function(f,vG){return f[3]-vG[3]});
function xu(fP,Ja){var M=0,em=0;while(em+fP[M]<=Ja){em+=fP[M];M++}return M}xU=0;WT.splice(Wo[0],0,g.Rt());
for(var xv=0;xv<vR.length;xv++){var y=[];for(var M=0;M<vy.length;M++){var Uj=xu(vy[M][1],xU)%vy[M][0].length,i=vy[M][0][Uj];
y.push(i)}var i=g.Rz();for(var M=0;M<vy.length;M++){var JF=y[M],Ub=g.T[fg[M]];JF.Pd(!0);Ub.Pd(!0)}g.H();
g.Nf();var fX=g.Gj();i.rect=Z.sq(fX,Zz);i.buffer=Z.V(i.rect.h()*4);Z.Vy(fX,Zz,i.buffer,i.rect);for(var M=0;
M<vy.length;M++){var JF=y[M],Ub=g.T[fg[M]];JF.Pd(!1);Ub.Pd(!1)}i.Pd(xv==0);i.tG("_a_frm"+xv+","+vR[xv]);
WT.splice(Wo[0]+1+xv,0,i);xU+=vR[xv]}var i=g.Rz();i.tG(Vk.join(" + "));i.T$="pass";i.add.lsct=vC.TC;
i.Oz=24;WT.splice(Wo[0]+1+vR.length,0,i);for(var M=0;M<g.T.length;M++)g.T[M].Pd(eO[M]);var f=new ZU([6,12,0],this);
f.data={U:u.jF,OA:g.T,Jh:WT,fj:eT,xX:[Wo[0]+1+vR.length]};g.sz(f);this.aX(f.data,g)}if(v==u.xN||v==u.up||v==u.CZ){var vk=g.T.slice(0),WL=g.b.slice(0),eG=!0,ZB,WY;
if(v==u.xN)g.b=[g.b[0],g.b[0]-1];if(v==u.CZ){g.b=[];for(var M=0;M<g.T.length;M++)if(g.T[M].Je())g.b.push(M)}var xg=g.RH();
xg.sort(function(f,vG){return f-vG});var VV=new G,Zz=new G(0,0,g.W,g.j);for(var M=0;M<xg.length;M++){var Wd=xg[M],i=g.T[Wd];
eG=eG&&i.dz()&&i.add.vmsk!=null;VV=VV.Gd(g.root.oA(Wd).SQ(g,!0))}if(eG){ZB=g.T[xg[0]].clone();var vp=ZB.add.vmsk;
for(var M=1;M<xg.length;M++){var F=g.T[xg[M]],xs=u.nt.xm(F.add.vmsk.F);vp.F=vp.F.concat(xs.slice(2));
ZB.add.vogk=ZB.add.vogk.concat(JSON.parse(JSON.stringify(F.add.vogk)))}ZB.add.vmsk.jA=!0;ZB.d$(g)}else if(Zz.pY(VV)){ZB=g.Rz();
ZB.tG(g.T[xg[xg.length-1]].getName());ZB.rect=VV;ZB.buffer=Z.V(VV.h()*4);var U_=g.Gj(xg);Z.Vy(U_,Zz,ZB.buffer,VV);
ZB.H()}else{g.Zrq(xg,!0);ZB=g.T[g.b[0]];g.T.splice(g.b[0],1);var VW=g.Sb(ZB.add.SoLd.Idnt.v);g.add.lnk2.splice(g.add.lnk2.indexOf(VW),1);
delete ZB.add.SoLd}var es=P.v(q.io),eL=-1;if(e.HR&&e.HR.Dplc&&e.HR.Dplc.v)es=!0;if(es&&v==u.CZ&&g.T[WL[0]].EI()&&g.T[WL[0]].rect.tE()){eL=WL[0];
ZB.tG(g.T[eL].getName())}var WT=[];for(var M=0;M<g.T.length;M++)if(es||xg.indexOf(M)==-1)if(M!=eL)WT.push(g.T[M]);
var fO=xg[xg.length-1],Jf=fO==g.T.length-1?null:g.T[fO+1],ej=Jf?WT.indexOf(Jf):WT.length;WT.splice(ej,0,ZB);
WY=[ej];var f=new ZU([6,12,0],this);f.data={U:u.jF,OA:vk,Jh:WT,fj:WL,xX:WY};g.sz(f);this.aX(f.data,g)}if(v==u.qE){var ZR=g.Rz();
ZR.rect=new G(0,0,g.W,g.j);ZR.buffer=Z.V(ZR.rect.h()*4);Z.XC(ZR.buffer,4294967295);Z.Y.$Q("norm",g.Gj(),ZR.rect,ZR.buffer,ZR.rect,ZR.rect,1);
ZR.tG("Background");ZR.add.lspf=1<<2;var f=new ZU([6,12,1],this);f.data={U:u.jF,OA:g.T.slice(),Jh:[ZR],fj:g.b.slice(0),xX:[0]};
g.sz(f);this.aX(f.data,g)}if(v==u.ER||v==u.CK||v==u.SU||v==u.CY||v==u.Un){var i=v==u.Un?g.T[g.b[0]].clone():g.Rz(),eX=Zr.get([0,3]),fj=e.U_,VO=!1,Vq,eb;
if(v==u.SU)eX=Zr.get([12,76,1]);if(v==u.Un){var eE=g.T[g.b[0]],e_=eE.ZeM(g,g.Z);if(e_==null){alert("Copied area is empty");
return}i.rect=e_.rect,i.buffer=e_.Nr}if(v==u.CY){i.rect=ZI.hW.ZCP(e.vV,g);i.buffer=Z.clone(e.vV.buffer)}if(v==u.ER){this.track({Wi:"make",HR:{classID:"Mk",null:vT.EG("Lyr")}})}if(v==u.CK){i.Oz|=16;
var Vg=e.HR.Usng.v,Vf=Vg.Type.v,fG=Wj.kZ[Vf.classID];eX=Zr.get(Wj.names[fG]);if(Vg.Nm)fj=Vg.Nm.v;i.add[fG]=ZW.WX(fG);
if(i.add[fG]==null)i.add[fG]={};for(var fo in Vf)i.add[fG][fo]=JSON.parse(JSON.stringify(Vf[fo]));i._=ZI.hW.ZvX(g)}if(v==u.SU){i.Oz|=16;
var Wb=e.HR,Vg=Wb.Usng.v,Vv=Vg.Type.v,xX=Vg.Shp;if(xX==null)i._=ZI.hW.ZvX(g);else{console.log(Vg);i.add.vmsk=new u.nt;
i.add.vstk=JSON.parse(JSON.stringify(Vg.strokeStyle?Vg.strokeStyle.v:Wr.hg.default));i.add.vogk=[];if(xX){var fk=Z.uF.xp(xX);
if(fk){i.add.vogk=[fk];i.add.vmsk.F.push({type:0,WF:1,length:0});Z.uF.$B(i.add.vogk,i.add.vmsk)}else{xX=xX.v;
var VT=xX.classID;if(VT=="Plgn"){var vA=xX.Cntr.v,Zm=xX.corner.v;vA=new Uc(vA.Hrzn.v.val,vA.Vrtc.v.val);
Zm=new Uc(Zm.Hrzn.v.val,Zm.Vrtc.v.val);i.add.vmsk.F=Z.f.vC.ns(vA.x,vA.y,Math.sqrt(Zm.x*Zm.x+Zm.y*Zm.y),Math.atan2(Zm.y,Zm.x),xX.sides.v,0)}else if(VT=="customShape"){var f_=Z.uF.gG(xX),ea=f_[2]-f_[0],Vx=f_[3]-f_[1],Vn=p.qu,Vu,eo;
for(var M=0;M<Vn.length;M++)if(Vn[M].pV==xX.Nm.v)Vu=Vn[M];if(Vu){eo=u.nt.xm(Vu.F);Z.f.Ly(eo,new WE(ea,0,0,Vx,f_[0],f_[1]))}else eo=Z.f.vC.Rect(f_[0],f_[1],ea,Vx,0);
i.add.vmsk.F=eo}i.Vd()}}}var fB={solidColorLayer:0,gradientLayer:1,patternLayer:2}[Vv.classID],Zs=["SoCo","GdFl","PtFl"][fB];
i.add[Zs]=JSON.parse(JSON.stringify(Wr.Wx[fB]));ZI.hW.VG(Vv,i.add[Zs],fB);if(xX==null)eX=Zr.get([6,48,0,fB]);
if(Zs=="PtFl")g.SN(Wi.XY(i.add[Zs].Ptrn.v,p.Ju));i.d$(g)}var xJ=ZI.hW.ZuL(g,eX+" ");i.tG(eX+" "+(xJ+1));
if(fj)i.tG(fj);var fl=g.b.length==0?g.T.length-1:g.b[g.b.length-1],VB=g.T[fl];if(v==u.SU&&VB.EI()&&VB.rect.tE()){VO=!0;
i.tG(VB.getName());Vq=fl}else{Vq=fl+1;if(VB.add.lsct==vC.x_)Vq--}var WT=g.T.slice(0);WT.splice(Vq,VO?1:0,i);
var Zb=[5,2];if(v==u.ER)Zb=[6,13];if(v==u.CK)Zb=[6,1];if(v==u.SU){Zb=[6,48,1];var xX=e.HR.Usng.v.Shp;
if(xX){var Zo={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[xX.v.classID];
if(Zo)Zb=Zo}}if(v==u.Un){Zb=[6,49]}if(v==u.Un||v==u.SU||v==u.CY)if(g.Z)eb=[g.Z,null];var f=new ZU(Zb,this);
f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:[Vq],Bp:eb};g.sz(f);this.aX(f.data,g);if(v==u.SU&&xX==null&&fB!=0||v==u.CK){var VX=new z(V.E.O);
VX.data={U:V.a.pB,aj:WP.uc.bl};j.P(VX)}}if(v==u.FI){var i=g.Rz();i.tG(Zr.get([0,4])+" "+g.T.length);
i.T$="pass";i.add.lsct=vC.x_;i.Oz=24;var ek=g.Rt(),fl=x,Vq=fl+1,WT=g.T.slice(0);WT.splice(Vq,0,ek,i);
var f=new ZU([6,20],this);f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:[Vq+1]};g.sz(f);this.aX(f.data,g)}if(v==u.$W||v==u.UB){var fa=v==u.$W?e.source:g.b[0],eZ,fp,Vi=g.b.indexOf(fa)!=-1,xW=P.v(q.io)|e.ZOM,vm;
if(Vi)vm=g.RH();else vm=g.gD(fa);vm.sort(function(f,vG){return f-vG});if(v==u.$W){eZ=e.target;fp=e.hN>.5}else if(e.target!=null){eZ=e.target;
fp=!0;g.FH=!0}else{var Z_=e.oV;fp=Z_>1;if(Z_==0){eZ=g.T.length-1}if(Z_==1){eZ=vm[vm.length-1]+1;var F=g.gD(eZ);
if(F.indexOf(fa)==-1)eZ+=F.length-1}if(Z_==2){eZ=vm[0]-1;var F=g.gD(eZ);if(F.indexOf(fa)==-1)eZ-=F.length-1}if(Z_==3){eZ=0}if(eZ<0||eZ>g.T.length-1)return;
g.FH=!0}if(vm.indexOf(eZ)!=-1)return;var fR=g.T[eZ],WT=[];if(xW)WT=g.T.slice(0);else for(var M=0;M<g.T.length;
M++)if(vm.indexOf(M)==-1)WT.push(g.T[M]);var VS=WT.indexOf(fR);if(v==u.$W&&fR.CQ()&&fR.add.lsct==vC.TC&&e.hN>.8)VS-=g.gD(eZ).length-1;
var V_=[],Vm=xW?g.gn(Vi?null:fa):null;for(var M=0;M<vm.length;M++){var eQ=VS+(fp?0:1)+M,h=xW?Vm[M]:g.T[vm[M]];
WT.splice(eQ,0,h);V_.push(eQ)}var f=new ZU(xW?[6,0]:[6,35],this);f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:V_};
g.sz(f);this.aX(f.data,g);var Wb={classID:"move",null:vT.EG("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:VS+(fp?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:xW}};
this.track({Wi:"move",HR:Wb})}if(v==u.$v){var i=g.Rz(),Vl=Zr.get([0,4])+" ";i.tG(Vl+(ZI.hW.ZuL(g,Vl)+1));
i.T$="pass";if(e.U_)i.tG(e.U_);i.add.lsct=g.b.length==1?vC.x_:vC.TC;i.Oz=24;var ek=g.Rt(),vm=g.RH();
if(vm.length==0)return;vm.sort(function(f,vG){return f-vG});var WT=[];for(var M=0;M<g.T.length;M++)if(vm.indexOf(M)==-1)WT.push(g.T[M]);
var fl=g.b[g.b.length-1]-vm.length;WT.splice(fl+1,0,ek);for(var M=0;M<vm.length;M++)WT.splice(fl+2+M,0,g.T[vm[M]]);
WT.splice(fl+2+vm.length,0,i);var f=new ZU([6,9],this);f.data={U:u.jF,OA:g.T.slice(0),Jh:WT,fj:g.b.slice(0),xX:[WT.indexOf(i)]};
g.sz(f);this.aX(f.data,g);var s={Wi:"make",DD:!0};s.HR={classID:"Mk",null:vT.EG("layerSection"),From:vT.EG("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:i.getName()}}}};
this.track(s)}if(v==u.Zyg){if(g.b.length!=1)return;var D=g.b[0],Vc=P.v(q.io);if(g.T[D].ou()==null){v=u.ah;
e.zJ=g.Z?!Vc?"RvlS":"HdSl":!Vc?"RvlA":"HdAl"}else v=u.EP}if(v==u.ah){if(g.b.length!=1)return;var D=g.b[0],i=g.T[D],eq=i.ou();
if(eq==null||e.ZOw){var f=new ZU([6,21],this),ep=new u.IP,f$=e.zJ,Ve=f$=="RvlS"||f$=="HdSl";if(f$=="RvlS"||f$=="HdAl"||f$=="Trns")ep.color=0;
if(Ve){ep.channel=Z.clone(g.Z.channel);ep.rect=g.Z.rect.clone();if(f$=="HdSl")Z.OF(ep.channel)}if(f$=="Trns"){ep.rect=i.rect.clone();
ep.channel=Z.V(i.rect.h());Z.bF(i.buffer,ep.channel,3)}f.data={U:v,$:D,_:ep,hD:eq,Bp:Ve?[g.Z,null]:null};
g.sz(f);this.aX(f.data,g);g.T[D].TM=1;this.track({Wi:"make",HR:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:f$}}}})}}else if(v==u.kQ){var _=g.T[e.src],E=g.T[e.Ys];
if(E.ou())return;var f=new ZU([6,21],this),ep=_.ou();if(e.pQ){f.data={U:u.ah,$:e.Ys,_:ep.clone()}}else{f.data={U:v,src:e.src,Ys:e.Ys,_:ep}}g.sz(f);
this.aX(f.data,g)}if(v==u.Kb){if(g.b.length!=1)return;var D=x;if(g.T[D].ou()!=null){var f=new ZU([6,22],this);
f.data={U:v,$:D,_:g.T[D].ou()};g.sz(f);this.aX(f.data,g)}}if(v==u.qH){var vk=g.T.slice(0),ZR=A.clone(),VE=ZR.ou();
Z.yF(VE.Eb(ZR.rect),ZR.rect,ZR.buffer,ZR.rect);ZI.hW.IU(g,ZR);g.T[g.b[0]]=ZR;var f=new ZU([5,8],this);
f.data={U:u.jF,OA:vk,Jh:g.T.slice(),fj:g.b.slice(0),xX:g.b.slice(0)};g.sz(f);this.aX(f.data,g)}if(v==u.Fk){if(g.b.length!=1)return;
var D=g.b[0];if(g.T[D].EK(g)._==null){var f=new ZU([6,45],this);f.data={U:v,$:D,_:new u.IP};g.sz(f);
this.aX(f.data,g)}}if(v==u.Fb){if(g.b.length!=1)return;var D=g.b[0];if(g.T[D].EK(g)._!=null){var f=new ZU([6,46],this);
f.data={U:v,$:D,_:g.T[D].EK(g)._};g.sz(f);this.aX(f.data,g)}}if(v==u.qs){if(e.$==null&&g.b.length!=1)return;
if(g.T[x].f$()){var f=new ZU([6,47],this),J=JSON.stringify(g.T[x].add.SoLd),WZ=JSON.parse(J);delete WZ.filterFX;
f.data={U:u.gZ,dn:[{BQ:x,ps:[J,JSON.stringify(WZ)],TQ:[g.T[x].EK(g),null]}]};g.sz(f);this.aX(f.data,g)}}if(v==u.EP){if(g.b.length!=1)return;
if(A.add.vmsk==null){var f=new ZU([6,23],this),vY=g.OK(),r=vY[1],vY=vY[0],ep,fk;if(e.ZGr&&r.length!=0){var V$=vY[r[0]].add;
ep=V$.vmsk.clone();fk=V$.vogk}else{ep=new u.nt;fk=[];ep.F[1].all=e.ZtV?0:1}f.data={U:v,$:x,hG:!0,_:ep,uF:JSON.stringify(fk),hg:null};
if(A.dz()){f.data.hg=JSON.stringify(Wr.hg.default)}g.sz(f);this.aX(f.data,g)}}if(v==u.FW){var _=g.T[e.src],E=g.T[e.Ys];
if(E.add.vmsk)return;var f=new ZU([6,23],this),vp=_.add.vmsk;f.data={$:e.Ys,hG:_.iD,_:vp.clone(),uF:JSON.stringify(_.add.vogk),hg:_.add.vstk?JSON.stringify(_.add.vstk):null};
if(e.pQ){f.data.U=u.EP}else{f.data.U=v;f.data.src=e.src;f.data.Ys=e.Ys}g.sz(f);this.aX(f.data,g)}if(v==u.$f){if(g.b.length!=1)return;
var i=g.T[x],vp=i.add.vmsk;if(vp!=null){var f=new ZU([6,24],this);f.data={U:v,$:x,hG:i.iD,_:vp,uF:JSON.stringify(i.add.vogk),hg:i.add.vstk?JSON.stringify(i.add.vstk):null};
g.sz(f);this.aX(f.data,g)}}if(v==u.FA){var f=new ZU("Metadata",this);f.data={U:v,kM:JSON.stringify(g.fn),GV:JSON.stringify(e.GV)};
g.sz(f);this.aX(f.data,g)}if(v==u.CM){var Je=e.Ys?e.Ys:g,Vo=Je.name,fj=e.r+".psd";if(Vo==fj)return;var f=new ZU([6,37],this);
f.data={U:v,hS:Vo,U_:fj};if(e.ZOl!=!0)Je.sz(f);this.aX(f.data,Je)}if(v==u.$e){var Vo=A.getName(),fj=e.name.substring(0,255);
if(Vo==fj)return;var f=new ZU([6,37],this);f.data={U:v,$:x,hS:Vo,U_:fj,ZtC:A.add.lnsr,ZtF:null};g.sz(f);
this.aX(f.data,g);this.track(vT.tD("Nm",{t:"TEXT",v:fj}))}if(v==u.$V){var JJ=g.RH(),Ju=[],JW=[];for(var M=0;
M<JJ.length;M++){Ju.push(g.T[JJ[M]].add.lclr);JW.push(e.Zto)}var f=new ZU([6,38],this);f.data={U:v,T:JJ,ZpW:Ju,ZpV:JW};
g.sz(f);this.aX(f.data,g)}if(v==u.Fc){var f=g.history[g.dT];if(f!=null&&f.X==this&&f.data.U==v&&f.data.$==e.hI&&f.data.Hy.Fh==e.kP.Fh)f.data.Hy=e.kP;
else{f=new ZU("Mask Density / Feather",this);f.data={U:v,$:e.hI,ek:g.T[e.hI].ZDn(e.kP.Fh),Hy:e.kP};g.sz(f)}this.aX(f.data,g)}if(v==u.$J){var Jg=JSON.stringify(e.r),UM=JSON.parse(Jg),f=g.history[g.dT];
if(f!=null&&f.X==this&&f.data.U==v&&f.data.Hb==e.Hb&&f.data.kT.join(",")==e.kT.join(",")){for(var M=0;
M<e.kT.length;M++)f.data.hH[M]=UM;if(f.data.HR&&UM.Tm!=0)ZI.hW.VG(UM.am,f.data.HR.T.v,UM.Tm-1)}else{f=new ZU([11,6],this);
f.data={U:v,kT:e.kT,Hb:e.Hb,ZqY:[],hH:[]};var Jr=!1;for(var M=0;M<e.kT.length;M++){var Wd=e.kT[M],i=g.T[Wd],x$=e.Hb?o.dk.NW(g,Wd):JSON.parse(JSON.stringify(i.add.vstk));
f.data.ZqY.push(x$);f.data.hH.push(UM);if(JSON.stringify(x$)!=Jg)Jr=!0}if(!Jr)return;g.sz(f);if(e.Hb&&UM.Tm>0){var Wb=f.data.HR={classID:"setd",null:vT.EG("contentLayer",!0),T:{t:"Objc",v:{}}},Zs=["SoCo","GdFl","PtFl"][UM.Tm-1];
ZI.hW.VG(UM.am,Wb.T.v,UM.Tm-1);this.track({Wi:"set",HR:Wb})}}if(e.Hb&&UM.Tm==3)g.SN(Wi.XY(UM.am.Ptrn.v,p.Ju));
if(!e.Hb){var Jy=UM.strokeStyleContent.v;if(Jy.classID==Wr.hg.dE[2])g.SN(Wi.XY(Jy.Ptrn.v,p.Ju))}this.aX(f.data,g)}};
ZI.hW.VG=function(e,j,g){var P=[Wr.VP,Wr.PV,Wr.PM][g];if(j.classID==null)j.classID=["solidColorLayer","gradientLayer","patternLayer"][g];
for(var p=0;p<P.length;p++)if(e[P[p]])j[P[p]]=JSON.parse(JSON.stringify(e[P[p]]))};ZI.hW.ZvX=function(e){var j=new u.IP;
if(e.Z!=null){j.color=0;j.channel=Z.clone(e.Z.channel);j.rect=e.Z.rect.clone()}return j};ZI.hW.ZJu=function(e,j,g,P){var p=P.W/g.W,v=P.j/g.j,x=P.W/2,A=P.j/2,f=Z.g.B$(P).u;
for(var S=0;S<e.T.length;S++){var F=e.T[S],m=F.add.SoLd;if(m==null||m.Idnt.v!=j)continue;if(p!=1||v!=1){var R=o.t.ca(m.nonAffineTransform),M=Z.D.Or(R,P),b=new WE;
b.translate(-x,-A);b.scale(p,v);b.translate(x,A);var s=Z.D.TS(M,Z.D.aL(b)),K=f.slice(0);Z.D.apply(s,K);
m.Trnf=o.t.Pn(K);m.nonAffineTransform=o.t.Pn(K)}F.yM(e)}e.H()};ZI.hW.ZsG=function(e,j,g){j.color=255-j.color;
Z.OF(j.channel);j.jA=!0;e.d$(g);g.H()};ZI.hW.prototype.PB=function(e,j){var g=e.U,P=j.T[e.$];j.zz=!0;
if(g==u.uI){j.add.lnk2.splice(j.add.lnk2.indexOf(e.Zq),1,e.ZN);ZI.hW.ZJu(j,e.id,e.Zq.YA[1],e.ZN.YA[1])}if(g==u.xY){var p=JSON.parse(e.kT);
for(var v=0;v<p.length;v++)j.T[p[v]].T$=e._Z[v];j.H()}if(g==u.Ux){var p=JSON.parse(e.kT);for(var v=0;
v<p.length;v++)j.T[p[v]].opacity=e._Z[v];j.H()}if(g==u.$x){P.add.lspf=e._Z}if(g==u.Fq){var x=e.ZW,A=e.ZBD;
delete P.add[x[0]];if(A[0]!="----")P.add[A[0]]=A[1]}if(g==u.CU){P.add.iOpa=e._Z;j.H()}if(g==u.EY){for(var v=0;
v<e.kT.length;v++){var f=j.T[e.kT[v]];f.Pd(!f.Je())}j.H()}if(g==u.xz){var S=P.ou();S.isEnabled=!S.isEnabled;
P.d$(j);j.H()}if(g==u.Cf){var S=P.EK(j)._;S.isEnabled=!S.isEnabled;P.H();j.H()}if(g==u.KW){var S=P.add.vmsk;
S.isEnabled=!S.isEnabled;if(!S.isEnabled){if(P.kF){P._=P.kF;P.kF=null}else P._=null}else if(P._){P.kF=P._;
P._=null}P.d$(j);j.H()}if(g==u.UU){P.qX=!P.qX;j.H()}if(g==u.Ci){P.add.lmfx.masterFXSwitch.v=!P.add.lmfx.masterFXSwitch.v;
P.Q.VK=!0;j.H()}if(g==u.Cc){P.add.SoLd.filterFX.v.enab.v=!P.add.SoLd.filterFX.v.enab.v;P.xw(j);j.H()}if(g==u.CT){var F=e.index,m=P.add.lmfx[Wr.uM[F[0]]].v[F[1]].v;
m.enab.v=!m.enab.v;P.Q.VK=!0;j.H()}if(g==u.F$){var R=j.T[e.Zyt],M=j.T[e.ZiL],b=e.ZOI,s=e.ZOH;if(b=="")delete R.add.lmfx;
else R.add.lmfx=JSON.parse(b);if(s=="")delete M.add.lmfx;else M.add.lmfx=JSON.parse(s);R.Q.VK=!0;M.Q.VK=!0;
j.H()}if(g==u.gr){var K=P.add.SoLd.filterFX.v.filterFXList.v[e.index].v;K.enab.v=!K.enab.v;P.xw(j);j.H()}if(g==u.ZCG){P.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(e.Zae));
P.xw(j);j.H()}if(g==u.Cx){var S=P.ou();S.Hm=!S.Hm}if(g==u.FC){var S=P.add.vmsk;S.Hm=!S.Hm}if(g==u.Fg){var X=e.Ze;
for(var v=0;v<X.length;v+=2){var d=X[v],f=d>=0?j.T[d]:j.Bd[-1-d];f.add.vogk=JSON.parse(X[v+1]);Z.uF.$B(f.add.vogk,f.add.vmsk);
if(d>=0)f.d$(j)}j.H()}if(g==u.Ft){P.add.artb=JSON.parse(e.ZOX);j.H()}if(g==u.xS){j.Z=e.Ll;j.xr=e.Ze.slice(0);
j.HO=e.oi.slice(0);j.tI=j.YX=!0}if(g==u.sm){var W=e.ZOY;for(var v=0;v<W.length;v++)j.T[v].fw=W[v]}if(g==u.jF){if(e.fj)j.b=e.fj;
if(e.Bp)j.Z=e.Bp[0];j.Bm=null;j.H();j.jy(e.OA)}if(g==u.ah){ZI.hW.IU(j,P);if(e.hD)ZI.hW.VI(j,P,e.hD);
if(e.Bp){var O=e.Bp[0];if(O==null)delete j.Z;else j.Z=O}}if(g==u.kQ){ZI.hW.IU(j,j.T[e.Ys]);ZI.hW.VI(j,j.T[e.src],e._)}if(g==u.Kb){ZI.hW.VI(j,P,e._)}if(g==u.Fk){P.EK(j)._=null;
P.H();j.H()}if(g==u.Fb){P.EK(j)._=e._;P.H();j.H()}if(g==u.gZ){ZI.hW.ZCJ(j,e.dn,0)}if(g==u.EP){ZI.hW.Yv(j,P,!0)}if(g==u.FW){ZI.hW.Yv(j,j.T[e.Ys],e._.isEnabled);
ZI.hW.YJ(j,j.T[e.src],e)}if(g==u.$f){ZI.hW.YJ(j,P,e)}if(g==u.FA){j.fn=JSON.parse(e.kM)}if(g==u.CM){j.name=e.hS}if(g==u.$e){P.tG(e.hS);
if(e.ZtC)P.add.lnsr=e.ZtC;else delete P.add.lnsr}if(g==u.$V){for(var v=0;v<e.T.length;v++)j.T[e.T[v]].add.lclr=e.ZpW[v]}if(g==u.$J){var H=e.ZqY;
for(var v=0;v<e.kT.length;v++){var f=j.T[e.kT[v]],Y=H[v];if(!e.Hb)f.add.vstk=JSON.parse(JSON.stringify(Y));
else o.dk.Xs(f,JSON.parse(JSON.stringify(Y)));f.kn(j)}j.H()}if(g==u.Fc){P.ZEd(e.ek);P.d$(j);j.H()}j.YX=!0};
ZI.hW.prototype.aX=function(e,j){var g=e.U,P=j.T[e.$];j.zz=!0;if(g==u.uI){j.add.lnk2.splice(j.add.lnk2.indexOf(e.ZN),1,e.Zq);
ZI.hW.ZJu(j,e.id,e.ZN.YA[1],e.Zq.YA[1])}if(g==u.xY){var p=JSON.parse(e.kT);for(var v=0;v<p.length;v++)j.T[p[v]].T$=e.Hy;
j.H()}if(g==u.Ux){var p=JSON.parse(e.kT);for(var v=0;v<p.length;v++)j.T[p[v]].opacity=e.Hy;j.H()}if(g==u.$x){P.add.lspf=e.Hy}if(g==u.Fq){var x=e.ZBD,A=e.ZW;
delete P.add[x[0]];if(A[0]!="----")P.add[A[0]]=A[1]}if(g==u.CU){P.add.iOpa=e.Hy;j.H()}if(g==u.EY){for(var v=0;
v<e.kT.length;v++){var f=j.T[e.kT[v]];f.Pd(!f.Je())}j.H()}if(g==u.xz){var S=P.ou();S.isEnabled=!S.isEnabled;
P.d$(j);j.H()}if(g==u.Cf){var S=P.EK(j)._;S.isEnabled=!S.isEnabled;P.H();j.H()}if(g==u.KW){var S=P.add.vmsk;
S.isEnabled=!S.isEnabled;if(!S.isEnabled){if(P.kF){P._=P.kF;P.kF=null}else P._=null}else if(P._){P.kF=P._;
P._=null}P.d$(j);j.H()}if(g==u.UU){P.qX=!P.qX;j.H()}if(g==u.Ci){P.add.lmfx.masterFXSwitch.v=!P.add.lmfx.masterFXSwitch.v;
P.Q.VK=!0;j.H()}if(g==u.Cc){P.add.SoLd.filterFX.v.enab.v=!P.add.SoLd.filterFX.v.enab.v;P.xw(j);j.H()}if(g==u.CT){var F=e.index,m=P.add.lmfx[Wr.uM[F[0]]].v[F[1]].v;
m.enab.v=!m.enab.v;P.Q.VK=!0;j.H()}if(g==u.F$){var R=j.T[e.Zyt],M=j.T[e.ZiL],b=e.ZOp,s=e.ZOA;if(b=="")delete R.add.lmfx;
else R.add.lmfx=JSON.parse(b);if(s=="")delete M.add.lmfx;else M.add.lmfx=JSON.parse(s);R.Q.VK=!0;M.Q.VK=!0;
j.H()}if(g==u.gr){var K=P.add.SoLd.filterFX.v.filterFXList.v[e.index].v;K.enab.v=!K.enab.v;P.xw(j);j.H()}if(g==u.ZCG){P.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(e.ZaV));
P.xw(j);j.H()}if(g==u.Cx){var S=P.ou();S.Hm=!S.Hm}if(g==u.FC){var S=P.add.vmsk;S.Hm=!S.Hm}if(g==u.Fg){var X=e.JV;
for(var v=0;v<X.length;v+=2){var d=X[v],f=d>=0?j.T[d]:j.Bd[-1-d];f.add.vogk=JSON.parse(X[v+1]);Z.uF.$B(f.add.vogk,f.add.vmsk);
if(d>=0)f.d$(j)}j.H()}if(g==u.Ft){P.add.artb=JSON.parse(e.qN);j.H()}if(g==u.xS){j.Z=e.kz;j.xr=e.JV.slice(0);
j.HO=e.oN.slice(0);j.tI=j.YX=!0}if(g==u.sm){var W=e.ZOF;for(var v=0;v<W.length;v++)j.T[v].fw=W[v]}if(g==u.jF){var O=e.Jh,H=0,Y;
for(var v=0;v<O.length;v++){var f=O[v],y=f.add.lsct;if(y==vC.EN)H++;else if(y==vC.x_||y==vC.TC)H--;if(f.add.artb&&H!=0)Y="Artboards can not be inside folders."}if(Y){j.history.pop();
j.dT--;alert(Y);return}if(e.xX)j.b=e.xX;if(e.Bp)j.Z=e.Bp[1];j.Bm=null;j.H();j.jy(e.Jh)}if(g==u.ah){if(e.hD)ZI.hW.IU(j,P);
ZI.hW.VI(j,P,e._);if(e.Bp){var B=e.Bp[1];if(B==null)delete j.Z;else j.Z=B}}if(g==u.kQ){ZI.hW.IU(j,j.T[e.src]);
ZI.hW.VI(j,j.T[e.Ys],e._)}if(g==u.Kb){ZI.hW.IU(j,P)}if(g==u.Fk){P.EK(j)._=e._;P.TM=0;P.H();j.H()}if(g==u.Fb){P.EK(j)._=null;
P.TM=0;P.H();j.H()}if(g==u.gZ){ZI.hW.ZCJ(j,e.dn,1)}if(g==u.EP){ZI.hW.YJ(j,P,e)}if(g==u.FW){ZI.hW.Yv(j,j.T[e.src],e._.isEnabled);
ZI.hW.YJ(j,j.T[e.Ys],e)}if(g==u.$f){ZI.hW.Yv(j,P,e._.isEnabled)}if(g==u.FA){j.fn=JSON.parse(e.GV)}if(g==u.CM){j.name=e.U_}if(g==u.$e){P.tG(e.U_);
if(e.ZtF)P.add.lnsr=e.ZtF;else delete P.add.lnsr}if(g==u.$V){for(var v=0;v<e.T.length;v++)j.T[e.T[v]].add.lclr=e.ZpV[v]}if(g==u.$J){var c=e.hH;
for(var v=0;v<e.kT.length;v++){var f=j.T[e.kT[v]],$=c[v];if(!e.Hb)f.add.vstk=JSON.parse(JSON.stringify($));
else o.dk.Xs(f,JSON.parse(JSON.stringify($)));f.kn(j)}j.H()}if(g==u.Fc){P.ZEd(e.Hy);P.d$(j);j.H()}j.YX=!0};
ZI.hW.ZuL=function(e,j){var g=0;for(var P=0;P<e.T.length;P++){var p=e.T[P].getName();if(p.startsWith(j)){var v=p.slice(j.length).trim(),x=parseInt(v);
if(!isNaN(x)&&x+""==v)g=x}}return g};ZI.hW.ZCJ=function(e,j,g){for(var P=0;P<j.length;P++){var p=j[P],v=e.T[p.BQ];
if(p.ps){v.add.SoLd=JSON.parse(p.ps[g])}if(p.TQ){if(p.TQ[1-g]!=null)e.qY(p.TQ[1-g]);if(p.TQ[g]!=null)e.US(p.TQ[g]);
else v.TM=0}v.yM(e)}};ZI.hW.ZCP=function(e,j){var g=e.UX,P=e.rect.clone();if(g!=null&&(g.x!=j.W||g.y!=j.j)){P.x=Math.floor((j.W-P.W)/2);
P.y=Math.floor((j.j-P.j)/2)}return P};ZI.hW.IU=function(e,j){if(j.kF)j.kF=null;else j._=null;j.d$(e);
e.H();j.TM=0};ZI.hW.VI=function(e,j,g){if(j._)j.kF=g;else j._=g;j.d$(e);e.H()};ZI.hW.Yv=function(e,j,g){if(j.kF&&g){j._=j.kF;
j.kF=null}else if(j._&&g){j._=null}delete j.add.vogk;delete j.add.vstk;delete j.add.vmsk;j.d$(e);j.iD=!1;
e.Bm=[];e.H()};ZI.hW.YJ=function(e,j,g){j.add.vogk=JSON.parse(g.uF);if(g.hg)j.add.vstk=JSON.parse(g.hg);
else delete j.add.vstk;j.add.vmsk=g._.clone();if(j._&&j.add.vmsk.isEnabled)j.kF=j._;j.d$(e);j.iD=g.hG;
e.Bm=[e.T.indexOf(j)];e.QL=[];e.H()};ZI.oO=function(){ZI.km.call(this,o.zp);this.uU=null;this.sR=null;
this.Bw=null;this.ea=[];this.ZS=null};ZI.oO.prototype=new ZI.km;ZI.oO.prototype.BB=function(e,j,g,P,p){var v=g.T[e.$],x=e.VS,f=null;
if(this.uU==null){this.Bw=ZI.oO.xK(g,v);this.uU=JSON.stringify(this.Bw);if(v.add.lmfx)this.sR=JSON.stringify(v.add.lmfx)}if(v.add.lmfx==null){v.add.lmfx=JSON.parse(Wr.default);
for(var A=0;A<Wr.order.length;A++)v.add.lmfx[Wr.uM[A]]={t:"VlLs",v:[]}}if(e.U=="changeprop"){if(x!=0){var S=this.ea[x[0]];
if(S==null)S=Wr.ea[x[0]];S=JSON.parse(S);var F=v.add.lmfx[Wr.uM[x[0]]].v;if(F[x[1]]==null)F[x[1]]={t:"Objc",v:S};
f=F[x[1]].v;for(var m in S)if(f[m]==null)f[m]=S[m]}if(e.U=="changeprop"){if(x==0){this.Bw[e.DY].v=e.r;
ZI.oO.Vj(g,v,this.Bw)}else if(e.DY=="lagl"){if(f.uglg&&f.uglg.v){g.oa(e.r.val);this.Bw.ZLd=g.Ul()}else f[e.DY].v=e.r}else if(e.DY=="Lald"){if(f.uglg.v){g.oh(e.r.val);
this.Bw.ZLL=g.gv()}else f[e.DY].v=e.r}else if((x[0]==3||x[0]==8)&&(e.DY=="Clr"||e.DY=="Grad")){if(e.DY=="Clr"){f.Clr={t:"Objc",v:e.r};
delete f.Grad}if(e.DY=="Grad"){f.Grad={t:"Objc",v:e.r};delete f.Clr}}else{f[e.DY].v=e.r}if(x!=0)this.ea[x[0]]=JSON.stringify(f)}if(x!=0)if(f.Ptrn)g.SN(Wi.XY(f.Ptrn.v,p.Ju))}else if(e.U=="setstl"){var R=e.r.Lefx;
if(R)Wi.ZzZ(R,g,p.Ju);Wi.ZnD(e.r,v);this.Bw=ZI.oO.xK(g,v)}else if(e.U=="st_dupsingle"){var M=v.add.lmfx[Wr.uM[e.if[0]]].v;
if(M[e.if[1]]==null)return;var b=JSON.parse(JSON.stringify(M[e.if[1]]));M.splice(e.if[1],0,b)}else if(e.U=="st_movsingle"){var s=e.if[1],M=v.add.lmfx[Wr.uM[e.if[0]]].v;
if(M[e.if[1]]==null)return;var K=Math.max(0,Math.min(M.length-1,s+e.ZLz)),X=M[K];M[K]=M[s];M[s]=X}else if(e.U=="cancel"){if(this.sR==null)delete v.add.lmfx;
else v.add.lmfx=JSON.parse(this.sR);ZI.oO.Vj(g,v,JSON.parse(this.uU));this.uU=null;this.sR=null}else if(e.U=="confirm"){var d=new ZU([11,6],this);
d.data={T:[e.$],hs:[this.sR],hK:[JSON.stringify(v.add.lmfx)],hp:[this.uU],hA:[JSON.stringify(this.Bw)]};
g.sz(d);this.uU=null;this.sR=null}else if(e.U=="st_copy"){this.ZS=[this.uU,this.sR];this.uU=null;this.sR=null}else if(e.U=="st_paste"||e.U=="st_clear"){if(e.U=="st_paste"&&this.ZS==null)return;
var W=g.b.indexOf(e.$)==-1?[e.$]:g.b.slice(0),O=[],H=[],Y=[],y=[];for(var A=0;A<W.length;A++){var v=g.T[W[A]],B=ZI.oO.xK(g,v);
O.push(v.add.lmfx?JSON.stringify(v.add.lmfx):null);Y.push(JSON.stringify(B));if(e.U=="st_paste"){H.push(this.ZS[1]);
y.push(this.ZS[0])}else{H.push(null);B.lrMd.v=0;B.Opct.v.val=100;B.iOpa.v.val=100;B.blIf={v:[]};for(var c=0;
c<10;c++)B.blIf.v.push(0,0,255,255);y.push(JSON.stringify(B))}}var d=new ZU([11,6],this);d.data={T:W,hs:O,hK:H,hp:Y,hA:y};
this.aX(d.data,g);g.sz(d);this.uU=null;this.sR=null}else{var $=this.Bw,I=null;if(e.U=="st_delsingle"){I=JSON.parse(this.sR);
I[Wr.uM[e.if[0]]].v.splice(e.if[1],1);I=JSON.stringify(I)}if(I==null)delete v.add.lmfx;else v.add.lmfx=JSON.parse(I);
if($!=null)ZI.oO.Vj(g,v,$);var d=new ZU([11,6],this);d.data={T:[e.$],hs:[this.sR],hK:[I],hp:[this.uU],hA:[JSON.stringify($)]};
g.sz(d);this.uU=null;this.sR=null}v.Q.VK=!0;g.zz=!0;g.H()};ZI.oO.xK=function(e,j){if(j.add.iOpa==null)j.add.iOpa=255;
var g=j.CQ()?["pass"].concat(WF.jS):WF.jS;return{lrMd:{v:g.indexOf(j.T$)},Opct:{v:{type:"#Prc",val:Math.round(j.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(j.add.iOpa*100/255)},t:"UntF"},blIf:{v:j.xg.slice(0)},ZLd:e.Ul(),ZLL:e.gv(),CQ:j.CQ()}};
ZI.oO.Vj=function(e,j,g){var P=j.CQ()?["pass"].concat(WF.jS):WF.jS;j.T$=P[g.lrMd.v];j.opacity=Math.round(g.Opct.v.val*255/100);
j.add.iOpa=Math.round(g.iOpa.v.val*255/100);j.xg=g.blIf.v.slice(0);e.oa(g.ZLd);e.oh(g.ZLL)};ZI.oO.prototype.PB=function(e,j){for(var g=0;
g<e.T.length;g++){var P=j.T[e.T[g]],p=e.hs[g];if(p==null)delete P.add.lmfx;else P.add.lmfx=JSON.parse(p);
ZI.oO.Vj(j,P,JSON.parse(e.hp[g]));P.Q.VK=!0}j.zz=!0;j.H()};ZI.oO.prototype.aX=function(e,j){for(var g=0;
g<e.T.length;g++){var P=j.T[e.T[g]],p=e.hK[g];if(p==null)delete P.add.lmfx;else P.add.lmfx=JSON.parse(p);
ZI.oO.Vj(j,P,JSON.parse(e.hA[g]));P.Q.VK=!0}j.zz=!0;j.H()};ZI.tL=function(){ZI.km.call(this,o.Pv)};ZI.tL.prototype=new ZI.km;
ZI.tL.prototype.BB=function(e,j,g,P){var p=JSON.parse(JSON.stringify(g.TF)),v=JSON.parse(JSON.stringify(g.TF)),x=null,A=null,f=null,S=-1,F=!1;
if(e.U=="delLC"){var m=ZI.tL.YP(g.TF,e.VS),R=g.TF.lastAppliedComp?g.TF.lastAppliedComp.v:0;v.list.v.splice(m,1);
if(R==e.VS)delete v.lastAppliedComp;x="Delete Layer Comp"}if(e.U=="editLC"){var m=ZI.tL.YP(g.TF,e.VS),M=v.list.v[m].v;
if(e.U_!=null)M.Nm.v=e.U_;if(e.ZLP!=null){var b=e.ZLP,s=M.capturedInfo.v,K=s&(1<<b)-1;s=s>>b;if((s&1)==1)s--;
else s++;M.capturedInfo.v=(s<<b)+K}x="Layer Comp properties"}if(e.U=="setLC"){ZI.tL.YD(g);if(e.VS==0)delete v.lastAppliedComp;
else v.lastAppliedComp={t:"long",v:e.VS};x="Switch Layer Comp";F=!0}if(e.U=="updLC"){ZI.tL.YD(g);A=ZI.tL.ZVq(g,e.VS);
f=ZI.tL.DE(g,e.VS);v.lastAppliedComp={t:"long",v:e.VS};x="Update Layer Comp";S=e.VS;F=!0}if(e.U=="addLC"){ZI.tL.YD(g);
var X=1;for(var d=0;d<v.list.v.length;d++)X=Math.max(X,v.list.v[d].v.compID.v)+1;X+=Math.floor(Math.random()*1e4);
var W={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(v.list.v.length+1)},compID:{t:"long",v:X},capturedInfo:{t:"long",v:7}}};
v.list.v.push(W);v.lastAppliedComp={t:"long",v:X};x="New Layer Comp";var O=ZI.tL.DE(g,X);ZI.tL.Yw(g,O,X)}var H=new ZU(x,this);
H.data={Zrr:p,Zrf:v,ZLQ:A,ZTr:f,VS:S,fc:F};this.aX(H.data,g);g.sz(H)};ZI.tL.prototype.aX=function(e,j){j.TF=e.Zrf;
j.zz=!0;if(e.ZTr)ZI.tL.Yw(j,e.ZTr,e.VS);if(e.fc){var g=j.TF.lastAppliedComp?j.TF.lastAppliedComp.v:0,P=ZI.tL.YP(j.TF,g),p=P==-1?null:j.TF.list.v[P].v,v=p?p.capturedInfo.v:7;
ZI.tL.YY(j,g,v);j.H()}};ZI.tL.prototype.PB=function(e,j){j.TF=e.Zrr;j.zz=!0;if(e.ZLQ)ZI.tL.Yw(j,e.ZLQ,e.VS);
if(e.fc){var g=j.TF.lastAppliedComp?j.TF.lastAppliedComp.v:0,P=ZI.tL.YP(j.TF,g),p=P==-1?null:j.TF.list.v[P].v,v=p?p.capturedInfo.v:7;
ZI.tL.YY(j,g,v);j.H()}};ZI.tL.YD=function(e){if(e.TF.lastAppliedComp!=null||!e.hR)return;var j=ZI.tL.DE(e,0);
ZI.tL.Yw(e,j,0);e.hR=!1};ZI.tL.Y$=function(e,j,g){e.v.Hrzn.v+=j;e.v.Vrtc.v+=g};ZI.tL.YP=function(e,j){var g=e.list.v;
for(var P=0;P<g.length;P++)if(g[P].v.compID.v==j)return P;return-1};ZI.tL.ZVt=function(e){var j=e.layerSettings.v,p=null;
if(j.length==0)return;var g="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),P=j[0].v;
if(P.enab==null)P.enab={t:"bool",v:!0};if(P.Ofst==null)P.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var v=0;v<j.length;v++){var x=j[v].v;if(p==null)p=JSON.parse(JSON.stringify(x));else for(var A=0;
A<g.length;A++){var f=g[A];if(x[f])p[f]=JSON.parse(JSON.stringify(x[f]))}j[v].v=JSON.parse(JSON.stringify(p))}};
ZI.tL.Ziq=function(e,j){var g=e.add.shmd.cmls,P=g.layerSettings.v;for(var p=0;p<P.length;p++){var v=P[p].v,x=v.compList.v[0].v;
if(x==j)return p}return-1};ZI.tL.ZG_=function(e,j){var g=ZI.tL.Ziq(e,j);return g==-1?null:e.add.shmd.cmls.layerSettings.v[g].v};
ZI.tL.YY=function(e,j,g){for(var P=0;P<e.T.length;P++){var p=e.T[P],v=p.add.shmd.cmls;if(v==null)continue;
var x=v.layerSettings.v,A=ZI.tL.ZG_(p,j);if(A==null){p.Pd(!1);continue}if((g&1)!=0){if(A.enab)p.Pd(A.enab.v);
else p.Pd(!0)}if((g&2)!=0){if(A.Ofst){var f=A.Ofst.v,S=p.Eu(e),F=Math.round(f.Hrzn.v-S.x),m=Math.round(f.Vrtc.v-S.y);
if(F!=0||m!=0)o.KZ.iT(e,[P],null,F,m)}}if((g&4)!=0){if(A.Lefx){var R=JSON.parse(JSON.stringify(A.Lefx.v));
UN.pd(R);if(JSON.stringify(R)!=JSON.stringify(p.add.lmfx)){p.add.lmfx=R;p.Q.VK=!0}}else delete p.add.lmfx;
if(A.blendOptions){var M=A.blendOptions.v;if(M.Opct)p.opacity=Math.round(255*M.Opct.v.val/100);if(M.Md)p.T$=p.add.lsct==vC.EN?"norm":WF.TG(M.Md.v.BlnM)}else{p.opacity=255;
p.T$=p.CQ()?"pass":"norm"}}}};ZI.tL.ZVq=function(e,j){var g={};for(var P=0;P<e.T.length;P++){var p=e.T[P];
if(p.add.shmd==null||p.add.shmd.cmls==null)continue;g["l"+p.add.lyid]=JSON.parse(JSON.stringify(ZI.tL.ZG_(p,j)))}return g};
ZI.tL.DE=function(e,j){var g={};for(var P=0;P<e.T.length;P++){var p=e.T[P],v=p.add.lyid;g["l"+v]=ZI.tL.ZZ$(e,p,j)}return g};
ZI.tL.ZZ$=function(e,j,g){var P=j.add.shmd?j.add.shmd.cmls:null,p={classID:"null"},v=j.Eu(e),x={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:v.x},Vrtc:{t:"long",v:v.y}}};
p.compList={t:"VlLs",v:[{t:"long",v:g}]};p.enab={t:"bool",v:j.Je()};p.Ofst=JSON.parse(JSON.stringify(x));
p.FXRefPoint=JSON.parse(JSON.stringify(P&&P.origFXRefPoint?P.origFXRefPoint:x));p.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:WF.HH(j.T$)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*j.opacity/255}}}};
if(j.add.vmsk){p.vectorMask={t:"Objc",v:{classID:"null"}};p.vectorMask.v.Ofst=JSON.parse(JSON.stringify(x))}if(j.add.lmfx){p.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(j.add.lmfx))};
UN.dy(p.Lefx.v)}return p};ZI.tL.ZVS=function(e,j){var g=j.add.lyid;if(j.add.shmd==null)j.add.shmd={};
if(j.add.shmd.cmls==null){j.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:g},layerSettings:{t:"VlLs",v:[{t:"Objc",v:ZI.tL.ZZ$(e,j,0)}]}}}};
ZI.tL.Yw=function(e,j,g){for(var P=0;P<e.T.length;P++){var p=e.T[P],v=p.add.lyid;ZI.tL.ZVS(e,p);var x=p.add.shmd.cmls,A=x.layerSettings.v,f=j["l"+v];
if(f!=null)f={t:"Objc",v:JSON.parse(JSON.stringify(f))};var S=ZI.tL.Ziq(p,g);if(S==-1){if(f==null)continue;
else A.push(f)}else{if(f==null)A.splice(S,1);else A[S]=f}}};ZI.tL.DK=function(e,j){for(var g=0;g<e.T.length;
g++){var P=e.T[g],p=P.add.lyid;if(P.add.shmd==null||P.add.shmd.cmls==null)continue;var v=P.Eu(e),x=Math.round(v.x),A=Math.round(v.y);
if(!j){x=-x;A=-A}var f=P.add.shmd.cmls,S=f.layerSettings.v;if(f.origFXRefPoint)ZI.tL.Y$(f.origFXRefPoint,-x,-A);
for(var F=0;F<S.length;F++){var m=S[F].v;ZI.tL.Y$(m.Ofst,x,A);var R=m.imageMask,M=m.vectorMask;if(R&&R.v.Ofst)ZI.tL.Y$(R.v.Ofst,x,A);
if(M&&M.v.Ofst)ZI.tL.Y$(M.v.Ofst,x,A)}}};ZI.ky=function(){ZI.km.call(this,o.Zn);this.GV=null;this.jQ=null};
ZI.ky.prototype=new ZI.km;ZI.ky.Ym=function(e,j,g,P){if(P)j/=4;var p=0,v=0,x=255,A=0,f=0,S=255;while(v+e[p]<j){v+=e[p];
p++}while(A+e[x]<j){A+=e[x];x--}if(P){p-=Math.round(e[p]/(g/32));x+=Math.round(e[x]/(g/32));if(p<0)f=Math.round(-p*255/(x-p));
if(x>255)S=255-Math.round((x-255)*255/(x-p))}return[Math.max(p,0),Math.min(x,255),f,S,100]};ZI.ky.prototype.BB=function(e,j,g,P,p){var v=e.U;
if(v=="auto"){var x=e.hk,A=ZI.ky.getData(g);for(var f=0;f<A.length;f++){var S=A[f],F;if(x<3){}else{var m=ZW.WX("hue2");
Zq.ol(m,0,[0,-100,0]);F=Wj.fN("hue2",m)}Wj.eI(F,S.Nr,S.yx,S.B)}ZI.ky.tV(g,A);ZI.ky.te(g,A,x<3?[4,16,x]:[19,7,0],this);
g.H()}if(v=="edit_layer")this.ZVm(e,j,g,P);if(v=="edit"||v=="confirm"||v=="cancel")this.Dk(e,j,g,p,!0);
if(v=="start"){if(g.b.length==0)return;var R=g.T[g.b[0]];if(R.add.SoLd&&R.TM<=0){var M=new z(V.E.s,!0);
M.X=o.pR;M.data={U:"start",Ln:e.dh};j.P(M);return}if(!g.od(j,null,!0))return;if(Q[e.dh]&&e.Sq==null){if(g.b.length!=1)alert("Will be applied to "+g.b.length+" layers.");
var M=new z(V.E.O,!0);M.data={U:V.a.LW,aj:"afw_"+e.dh};j.P(M)}else{this.Dk({U:"edit",Sq:e.Sq,Ln:e.dh},j,g,p);
this.Dk({U:"confirm",Ln:e.dh},j,g,p)}}};ZI.ky.prototype.ZVm=function(e,j,g,P){var p=e.U,v=g.b[0],x=g.T[v],A=g.history[g.dT],f;
if(A&&A.X==this&&A.data.ek!=null&&A.data.$==v)f=A;else{var S=new z(V.E.$E,!0),F={classID:"setd",null:vT.EG("AdjL",!0),T:{t:"Objc",v:e.r}};
S.data={DD:!0,Wi:"set",HR:F};j.P(S);var f=new ZU([6,39],this),m=Wj.get(x.add);f.data={$:v,ek:x.add[m],Hy:e.r,hi:F};
g.sz(f)}f.data.Hy=e.r;f.data.hi.T.v=e.r;this.aX(f.data,g)};ZI.ky.getData=function(e,j,g){var P=[],p=new G(0,0,e.W,e.j),v=e.HO.length!=0?[-1-e.HO[0]]:e.b;
for(var x=0;x<v.length;x++){var A=v[x],f=A<0?null:e.T[A],S={$:A,pt:A<0?1:f.TM};P.push(S);var F=e.xr[-1-A];
if(0<=A)F=f.TM<=0?null:f.TM==1?f.ou():f.EK(e)._;var m=F?F.rect:f.rect;if(e.Z)S.B=F!=null?e.Z.rect.zx(p):e.Z.rect.zx(m);
else S.B=j||F!=null?m.Gd(p):m.clone();if(g)S.B=g[x].B.clone();var R=S.B.h();S.Nr=Z.V(R*4);if(F)o.sB.mS(F.channel,F.rect,F.color,S.Nr,S.B);
else Z.Vy(f.buffer,m,S.Nr,S.B);S.yx=S.Nr.slice(0);if(e.Z){S.oZ=Z.V(R);Z.Oo(e.Z.channel,e.Z.rect,S.oZ,S.B)}}return P};
ZI.ky.ZVc=function(e,j,g){if(j==null)return j;var P=Wj.tt(e,j),v;if(P==-1)return j;var p=g.length>>>2,x=Z.LO(g),A=.001*p;
if(P==0||P==2)v=[[0,255,0,255,100],ZI.ky.Ym(x[1],A,p,P==2),ZI.ky.Ym(x[2],A,p,P==2),ZI.ky.Ym(x[3],A,p,P==2)];
if(P==1)v=[ZI.ky.Ym(x[0],A*.33,p,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var f=ZW.WX("levl");
for(var S=0;S<4;S++)eg.ol(f,S,v[S]);return f};ZI.ky.prototype.Dk=function(e,j,g,P){if(this.GV==null)this.GV=ZI.ky.getData(g,null,e.Ln=="fade"?g.iY().data:null);
if(e.U=="edit"){this.jQ=[e.Ln,e.Sq];var p=this.GV[0],v=ZI.ky.ZVc(e.Ln,e.Sq,p.Nr),x=Wj.fN(e.Ln,v);if(e.Ln=="fade")x=e.Sq;
if(x!=null){for(var A=0;A<this.GV.length;A++){var f=this.GV[A];if(e.oy)Z.Ue(f.Nr,f.yx);else if(e.Ln=="fade"){var S=WF.TG(e.Sq.Md.v.BlnM),F=e.Sq.Opct.v.val/100,m=g.iY().data[A];
Z.Ue(m.Nr,f.yx);if(S=="norm")Z.Y.aE(f.Nr,f.B,f.yx,f.B,null,null,null,f.B,F);else{var R=Wi.$a();R.sV=!0;
for(var A=0;A<m.Nr.length;A+=4)if(m.Nr[A+3]!=f.Nr[A+3]){R=null;break}Z.Y.$Q(S,f.Nr,f.B,f.yx,f.B,f.B,F,R)}}else Wj.eI(x,f.Nr,f.yx,f.B)}ZI.ky.tV(g,this.GV)}}if(e.U=="cancel"){ZI.ky.Zvu(g,this.GV);
this.GV=null}if(e.U=="confirm"){var M=e.Ln=="fade"?[2,11]:Wj.names[e.Ln],b=Wj.tt(e.Ln,this.jQ[1]);if(b!=-1)M=[4,16,b];
ZI.ky.te(g,this.GV,M,this);this.GV=null;if(b==-1)ZI.ky.ZUQ(j,this.jQ)}g.H()};ZI.ky.ZUQ=function(e,j){var g=j[0],P=j[1],p,v;
if(Wj.dI[g]){p=Wj.dI[g];if(Q[g])v=P}if(ZW.dI[g]){p=ZW.dI[g];if(Q[g])v=P}if(p==null)return;var x=new z(V.E.$E,!0);
x.data={DD:!0,Wi:p};if(v){v=JSON.parse(JSON.stringify(v));v.classID="null";delete v.__name;x.data.HR=v}e.P(x)};
ZI.ky.Zvu=function(e,j){ZI.ky.IB(e,j)};ZI.ky.te=function(e,j,g,P){for(var p=0;p<j.length;p++){var v=j[p],x=e.T[v.$],A=v.$<0?e.xr[-1-v.$]:v.pt<=0?null:v.pt==1?x.ou():x.EK(e)._;
if(A){A.Co();A.jA=!0;if(x)x.d$(e)}else{x.Co();x.H()}delete v.yx;delete v.oZ}var f=new ZU(g,P);f.data=j;
e.sz(f);e.zz=!0};ZI.ky.tV=function(e,j,g){for(var P=0;P<j.length;P++){var p=j[P],v=e.T[p.$],x=g?p.Nr:p.yx,A=p.B;
if(p.pt==0){v.extend(A);if(p.oZ){Z.Vy(p.Nr,A,v.buffer,v.rect);Z.Y.aE(x,A,v.buffer,v.rect,p.oZ,A,0,A,1)}else Z.Vy(x,A,v.buffer,v.rect)}else{var f=p.$<0?e.xr[-1-p.$]:p.pt==1?v.ou():v.EK(e)._;
f.extend(A);if(p.oZ){var S=Z.V(A.h()*4);Z.Ue(p.Nr,S);Z.Y.aE(x,A,S,A,p.oZ,A,0,A,1);o.sB.PK(S,A,f)}else o.sB.PK(x,A,f);
f.jA=!0;if(v)v.d$(e)}if(v)v.H()}if(!g)ZI.ky.ZeB(e,j)};ZI.ky.IB=function(e,j){for(var g=0;g<j.length;
g++){var P=j[g],p=e.T[P.$],v=P.B,x=Z.V(v.h()*4);if(P.pt==0){Z.Vy(p.buffer,p.rect,x,v);p.extend(v);Z.Vy(P.Nr,v,p.buffer,p.rect);
p.Co()}else{var A=P.$<0?e.xr[-1-P.$]:P.pt==1?p.ou():p.EK(e)._;o.sB.mS(A.channel,A.rect,A.color,x,v);
A.extend(v);o.sB.PK(P.Nr,v,A);A.Co();A.jA=!0;if(p)p.d$(e)}P.Nr=x;if(p)p.H()}e.zz=!0};ZI.ky.ZeB=function(e,j){var g=ZI.ky.ZBa(e),P=~g;
if(g==16777215)return;for(var p=0;p<j.length;p++){var v=j[p],x=e.T[v.$],A=v.B;if(v.pt!=0)continue;x.extend(A);
var f=A.x-x.rect.x,S=A.y-x.rect.y,F=x.rect.W,m=new Uint32Array(v.Nr.buffer),R=new Uint32Array(x.buffer.buffer);
for(var M=0;M<A.j;M++)for(var b=0;b<A.W;b++){var s=M*A.W+b,K=(M+S)*F+(b+f);R[K]=R[K]&g|m[s]&P}x.Co();
x.H()}e.H()};ZI.ky.ZBa=function(e){var j=e.N.oJ;return j[2]*16711680|j[1]*65280|j[0]*255};ZI.ky.prototype.PB=function(e,j){var g=j.T[e.$];
if(e.ek!=null)g.add[Wj.get(g.add)]=e.ek;else ZI.ky.IB(j,e);j.H()};ZI.ky.prototype.aX=function(e,j){var g=j.T[e.$];
if(e.ek!=null)g.add[Wj.get(g.add)]=e.Hy;else ZI.ky.IB(j,e);j.H()};ZI.dt=function(){ZI.km.call(this,o.pR);
this.GV=null;this.ZI=null;this.U=null;this.jQ=null};ZI.dt.prototype=new ZI.km;ZI.dt.prototype.BB=function(e,j,g,P,p){if(e.U=="start"){if(g.b.length==0)return;
var v=g.T[g.b[0]];if(v.add.SoLd&&v.TM<=0){}else if(!g.od(j,null,!0))return;var x=e.Ln;if((Q[x]||ZW.xE[x])&&e.Sq==null){if(g.b.length!=1)alert("Will be applied to "+g.b.length+" layers.");
var A=new z(V.E.O,!0);A.data=ZI.dt.Zfd(x,this.tJ(g,x));j.P(A)}else{var f={U:"edit",Ln:x,Sq:e.Sq,dM:this.tJ(g)};
this.BB(f,j,g,P,p);f.U="confirm";delete f.Sq;this.BB(f,j,g,P,p)}}if(e.U=="edit"||e.U=="cancel"||e.U=="confirm"){if(e.U=="edit")this.jQ=[e.Ln,e.Sq];
if(e.dM)this.ZJe(e,g,p);else this.ZJn(e,j,g,p)}if(e.U=="applylast"&&this.jQ!=null){var f={U:"edit",Ln:this.jQ[0],Sq:this.jQ[1],dM:this.tJ(g)};
this.BB(f,j,g,P,p);f.U="confirm";delete f.Sq;this.BB(f,j,g,P,p)}};ZI.dt.Zfd=function(e,j){var g=ZW.xE[e];
if(g)return{U:V.a.tq,X:g,$T:{dM:j}};else return{U:V.a.LW,aj:"afw_"+e,dM:j}};ZI.dt.prototype.tJ=function(e,j){var g=e.T[e.b[0]],P;
if(g.add.SoLd&&g.TM<=0){P={$:e.b[0],index:0};if(g.add.SoLd.filterFX!=null){var p=g.add.SoLd.filterFX.v.filterFXList.v;
P.index=p.length;for(var v=0;v<p.length;v++)if(T.pA(p[v].v.filterID.v)==j&&ZW.xE[j])P.index=v}}return P};
ZI.dt.prototype.ZJe=function(e,j,g){var P=j.T[e.dM.$],p=e.Ln;if(e.U=="edit"){if(this.U==null){var v=ZW.names[p];
if(v==null)v=Wj.names[p];this.U=new ZU(v,this);this.U.data={dM:e.dM,ZrV:JSON.parse(JSON.stringify(P.add.SoLd))}}if(!P.f$()){P.add.SoLd.filterFX=ZW.kx();
this.U.data.TQ=ZT.ZnJ(P.add.SoLd.placed.v);j.US(this.U.data.TQ);P.yM(j)}var x=P.add.SoLd.filterFX.v.filterFXList.v;
if(x[e.dM.index]==null){x.push(ZW.HL(p,g))}if(e.Sq){x[e.dM.index].v.enab.v=e.oy!=!0;x[e.dM.index].v.Fltr.v=e.Sq}this.U.data.ZrJ=JSON.parse(JSON.stringify(P.add.SoLd));
this.aX(this.U.data,j)}if(e.U=="cancel"){if(this.U)this.PB(this.U.data,j);this.U=null}if(e.U=="confirm"){if(this.U)j.sz(this.U);
this.U=null}};ZI.dt.prototype.ID=function(e){return{k:e>>>16,z:e>>>8&255,e:e&255}};ZI.dt.prototype.ZJn=function(e,j,g,P){if(this.GV==null){var p=ZW.ZUi(e.Ln,e.Sq);
this.GV=ZI.ky.getData(g,p.x!=0||p.y!=0)}if(e.U=="edit"){var v=JSON.stringify(e.Sq);if((e.Sq==null||v!=this.ZI)&&e.oy!=!0)for(var x=0;
x<this.GV.length;x++){var A=this.GV[x],f={rect:A.B,buffer:A.Nr},S={rect:A.B,buffer:A.yx};ZW.eI(e.Ln,f,e.Sq,this.ID(P.Jm),this.ID(P.gK),S,[g.add.lnk2?g.add.lnk2:[],g.T[g.b[0]].ou(),g.xr]);
this.ZI=v}ZI.ky.tV(g,this.GV,e.oy)}if(e.U=="cancel"){ZI.ky.Zvu(g,this.GV);this.GV=null;this.ZI=null}if(e.U=="confirm"){ZI.ky.te(g,this.GV,ZW.names[e.Ln],this);
this.GV=null;this.ZI=null;ZI.ky.ZUQ(j,this.jQ)}g.H();g.zz=!0};ZI.dt.prototype.PB=function(e,j){if(e.dM){var g=j.T[e.dM.$];
if(e.TQ)j.qY(e.TQ);g.add.SoLd=JSON.parse(JSON.stringify(e.ZrV));if(g.f$())g.xw(j);else{g.yM(j);g.TM=0}}else ZI.ky.IB(j,e);
j.H();j.zz=!0};ZI.dt.prototype.aX=function(e,j){if(e.dM){var g=j.T[e.dM.$];if(e.TQ)j.US(e.TQ);g.add.SoLd=JSON.parse(JSON.stringify(e.ZrJ));
if(g.f$())g.xw(j);else g.yM(j);if(!g.uy())g.Oz+=32}else ZI.ky.IB(j,e);j.H();j.zz=!0};var WV={oY:"0",AY:"1",IK:"2",Vl:"3",Gz:"4",Zd:"5",ZD:"6",Ip:"7",s:"8",hJ:"8.5",ZK:"8.8",IX:"9",Zo:"10",VQ:"11",IY:"12",Vc:"13",xO:"14",Jr:"15",qi:"21",Yc:"22",fr:"23",Jf:"23.0",Jg:"23.1",RV:"23.2",HC:"23.3",tn:"23.4",Rn:"23.5",Rq:"23.6",ZWE:"30",JE:"31",RL:"40",Jc:"41",uZ:"42"};
WV.P_={};WV.P_[WV.AY]=["abr","brushes",VK,[9,3]];WV.P_[WV.IK]=["grd","gradients",xf,[12,37]];WV.P_[WV.Vl]=["shc","contours",ue,[12,21]];
WV.P_[WV.Gz]=["asl","styles",JC,[12,22]];WV.P_[WV.Zd]=["pat","patterns",fz,[12,62]];WV.P_[WV.ZD]=["csh","shapes",eU,[12,77]];
WV.P_[WV.Ip]=["aco","swatches",eV,[9,8]];WV.P_[WV.s]=["atn","actions",UQ,[9,9]];WV.P_[WV.hJ]=["tpl","tpresets",Jo,[9,12]];
WV.P_[WV.ZK]=["icc","profiles",fW,"ICCs"];function q(){this.BI={};this.ZO=0}q.prototype.reset=function(){this.BI={};
this.ZO=0};q.prototype.ZJB=function(e){this.ZO++;this.BI[e]=!0};q.prototype.ZJy=function(e){this.ZO--;
delete this.BI[e];if(this.ZO<=0||q.TI(e,q.ZN_))this.reset()};q.prototype.v=function(e){for(var j=0;j<e.mq.length;
j++)if(this.BI[e.mq[j]])return!0;return!1};q.prototype.GH=function(){var e=this,j=e.v(q.Ag)?10:1,g=0,P=0;
if(e.v(q.ZDM))g=-j;if(e.v(q.ZDb))g=j;if(e.v(q.uf))P=-j;if(e.v(q.ux))P=j;return new Uc(g,P)};q.prototype.td=function(){var e=this,j=q.Ro;
for(var g=0;g<10;g++)if(e.v(j[g]))return g;return-1};q.TI=function(e,j){return j.mq.indexOf(e)!=-1};
q.ZzD=function(e){var j=e.code,p=!1;if(j=="")return!1;var g=q.TI,P=q.Ro.concat([q.HB,q.ue,q.Rs,q.ty]);
for(var v=0;v<P.length;v++)if(g(j,P[v]))p=!0;if(e.altKey&&!e.shiftKey&&!e.ctrlKey&&p)return!1;return q.ZuU.indexOf(j)==-1||e.shiftKey&&(j=="F5"||j=="F6")};
q.ZKy=function(e){var j=e.code;return j!=""&&(q.ZuU.indexOf(j)==-1||e.shiftKey&&(j=="F5"||j=="F6"))};
q.ZJG=function(e){if(e==null)return"";var j=[];for(var g=0;g<e.length;g++)j.push(e[g].WI);return j.join(" + ")};
q.ZuU="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
q.ZnO=function(e){var j={"+":"NumpadAdd","-":"NumpadSubtract"},g=e.code,P=e.key.toLowerCase(),p=P.charCodeAt(0);
if(P.length==1){if(97<=p&&p<=122&&g.startsWith("Key")&&g.toLowerCase().charCodeAt(3)!=p){var v="Key"+P.toUpperCase();
g=v}else if(j[P])g=j[P]}return g};q.dS={WI:"Enter",mq:["Enter","NumpadEnter"]};q.Ag={WI:"Shift",mq:["ShiftLeft","ShiftRight"]};
q.ZN_={WI:"Meta",mq:["MetaLeft","MetaRight","OSLeft","OSRight"]};q.kA={WI:"Ctrl",mq:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
q.io={WI:"Alt",mq:["AltLeft","AltRight"]};q.Zut={WI:"CtrlOrAlt",mq:q.kA.mq.concat(q.io.mq)};q.Ae={WI:"Escape",mq:["Escape"]};
q.Er={WI:"Space",mq:["Space"]};q.RT={WI:"Tab",mq:["Tab"]};q.Zuq={WI:"Home",mq:["Home"]};q.ZCr={WI:"End",mq:["End"]};
q.ZDM={WI:"Left",mq:["ArrowLeft"]};q.uf={WI:"Up",mq:["ArrowUp"]};q.ZDb={WI:"Right",mq:["ArrowRight"]};
q.ux={WI:"Down",mq:["ArrowDown"]};q.HB={WI:"+",mq:["NumpadAdd","Equal"]};q.ue={WI:"-",mq:["NumpadSubtract","Minus","Slash"]};
q.ZCf={WI:";",mq:["Semicolon"]};q.ZKN={WI:"Dead",mq:["Dead"]};q.ZCd={WI:"=",mq:["Equal"]};q.UQ={WI:"Backspace",mq:["Backspace"]};
q.WS={WI:"Delete",mq:["Delete"]};q.ZCN={WI:"Backslash",mq:["Backslash","IntlBackslash"]};q.ZCh={WI:"Backquote",mq:["Backquote"]};
q.Rs={WI:"[",mq:["BracketLeft"]};q.ty={WI:"]",mq:["BracketRight"]};q.Zgx={WI:".",mq:["Period"]};q.ZgV={WI:",",mq:["Comma"]};
q.Zgy={WI:"'",mq:["Quote"]};q.a={WI:"A",mq:["KeyA"]};q.ZTR={WI:"B",mq:["KeyB"]};q.ID={WI:"C",mq:["KeyC"]};
q.LR={WI:"D",mq:["KeyD"]};q.E={WI:"E",mq:["KeyE"]};q.Mh={WI:"F",mq:["KeyF"]};q.Zxr={WI:"G",mq:["KeyG"]};
q.Zvl={WI:"H",mq:["KeyH"]};q.ta={WI:"I",mq:["KeyI"]};q.ZCB={WI:"J",mq:["KeyJ"]};q.EU={WI:"K",mq:["KeyK"]};
q.Kd={WI:"L",mq:["KeyL"]};q.EW={WI:"M",mq:["KeyM"]};q.Am={WI:"N",mq:["KeyN"]};q.ZCS={WI:"O",mq:["KeyO"]};
q.HD={WI:"P",mq:["KeyP"]};q.ZgG={WI:"Q",mq:["KeyQ"]};q.uc={WI:"R",mq:["KeyR"]};q.ZZa={WI:"S",mq:["KeyS"]};
q.Q={WI:"T",mq:["KeyT"]};q.os={WI:"U",mq:["KeyU"]};q.ZUk={WI:"V",mq:["KeyV"]};q.ZvY={WI:"W",mq:["KeyW"]};
q.RA={WI:"X",mq:["KeyX"]};q.ZgX={WI:"Y",mq:["KeyY"]};q.RF={WI:"Z",mq:["KeyZ"]};q.ZuN={WI:"0",mq:["Numpad0","Digit0"]};
q.Zgk={WI:"1",mq:["Numpad1","Digit1"]};q.ZgM={WI:"2",mq:["Numpad2","Digit2"]};q.Zgw={WI:"3",mq:["Numpad3","Digit3"]};
q.Znd={WI:"4",mq:["Numpad4","Digit4"]};q.Znb={WI:"5",mq:["Numpad5","Digit5"]};q.Znw={WI:"6",mq:["Numpad6","Digit6"]};
q.Zdx={WI:"7",mq:["Numpad7","Digit7"]};q.ZdU={WI:"8",mq:["Numpad8","Digit8"]};q.Zde={WI:"9",mq:["Numpad9","Digit9"]};
q.Ro=[q.ZuN,q.Zgk,q.ZgM,q.Zgw,q.Znd,q.Znb,q.Znw,q.Zdx,q.ZdU,q.Zde];q.ZKD={WI:"F1",mq:["F1"]};q.ZKt={WI:"F2",mq:["F2"]};
q.ZKK={WI:"F3",mq:["F3"]};q.ZKY={WI:"FF",mq:["F4"]};q.Zdu={WI:"F5",mq:["F5"]};q.ZdN={WI:"F6",mq:["F6"]};
q.ZKo={WI:"F7",mq:["F7"]};q.ZKb={WI:"F8",mq:["F8"]};q.ZKl={WI:"F9",mq:["F9"]};q.ZK_={WI:"F10",mq:["F10"]};
q.ZKQ={WI:"F11",mq:["F11"]};q.Z$J={WI:"F12",mq:["F12"]};function ZU(e,j,g){if(g==null)g=!1;this.name=e;
this.X=j;this.hF=g;this.data=null}var vT={};vT.EG=function(e,j){var g={t:"Clss",v:{classID:e}};if(j)g={t:"Enmr",v:{classID:e,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[g]}};vT.tD=function(e,j){var g={classID:"Lyr"};g[e]=j;return{Wi:"set",HR:{classID:"null",null:vT.EG("Lyr",!0),T:{t:"Objc",v:g}}}};
vT.Zdt=function(e,j,g,P,p){var v=new z(V.E.$E,!0),x=[],A=0,f=vT.ZgQ(j,g,P,x);while(x.length!=0){var S=x.pop();
A++;if(!S.p)continue;if(S.Wi=="conditional"){var F=e.T[e.b[0]],m=S.HR.null.v.Cndt,R=!1;if(m=="Bckg")R=!1;
else if(m=="Pxel"&&e.TA(!1))R=!0;else if(m=="Adjs"&&Wj.get(F.add))R=!0;else if(m=="Shp"&&F.add.vogk)R=!0;
else if(m=="Grup"&&F.CQ())R=!0;var M=S.HR.then.v;if(R)vT.ZgQ(j,M[0].v.val,M[1].v.val,x)}else if(S.Wi=="stop"){alert(S.HR.Msge.v);
break}else{v.data={Wi:S.Wi,HR:S.HR};p.P(v)}}};vT.ZgQ=function(e,j,g,P){var p;for(var v=0;v<e.length;
v++){if(e[v].de!=g)continue;var x=e[v].A;for(var A=0;A<x.length;A++){if(x[A].de!=j)continue;p=x[A].A}}var f=p.length;
for(var v=0;v<f;v++)P.push(p[f-1-v])};vT.Zdz=function(e){var j=e.Wi,g=e.HR,P,x,A,f,S,F;if(g&&g.null)P=g.null.v[0];
if(g&&P==null&&g.At)P=g.At.v[0];if(P&&P.t=="obj ")P=P.v[0];var p=P?P.v.classID:null,v=["purge"];if(v.indexOf(j)!=-1)return j[0].toUpperCase()+j.slice(1);
F=Wj.dI;for(x in F)if(F[x]==j)A=x;F=ZW.dI;for(x in F)if(F[x]==j)f=x;F=Zv.dI;for(x in F)if(F[x]==j)S=x;
if(A){var m=Wj.tt(A,g);if(m!=-1)return[4,16,m];return Wj.names[A]}if(f)return ZW.names[f];if(S)return Zv.names[S];
var R=vT.ZBL;if(j=="make"){if(P){if(p=="AdjL")return[6,1];else if(p=="layerSection")return[6,9];else if(p=="Lyr")return[6,13];
else if(p=="Chnl"&&P.v.enum=="Msk")return[6,2];else if(p=="contentLayer")return[6,48,1];else if(p=="BckL")return"Make Background Layer";
else if(p=="Path")return"Make Path"}if(g.Nw){p=g.Nw.v.classID;if(p=="Dcmn")return[11,7];else if(p=="Chnl"||p=="SCch")return"New Channel"}}else if(j=="select"){if(p=="Chnl")return"Select "+(P.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(p=="Mn")return"Select Panel \""+P.v.enum+"\"";else if(p=="Lyr")return"Select Layer \""+P.v.val+"\""}else if(R[j]&&p=="Chnl"){var M=P.v.keyID=="fsel";
return R[j]+" "+(M?"Selection":"Channel")}else if(j=="set"){if(p=="Lyr")return"Set Current Layer";else if(p=="AdjL")return[6,39];
else if(p=="contentLayer")return[6,48,2];else if(p=="Prpr")return[11,6];else if(p=="Clr")return"Set "+(P.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else console.log(p)}else if(j=="move"){if(p=="Lyr")return"Move Layer"}else if(j=="show"||j=="hide"){var b="";
if(p=="Lyr")+"Layer";if(p=="Chnl")+"Channel";return(j=="show"?"Show":"Hide")+" "+b}else if(j=="reset"){if(p=="Clr")return"Reset Colors"}else if(j=="exchange"){if(p=="Clr")return[22,7,0]}else if(j=="rotateEventEnum")return[2,5];
else if(j=="flip"){var s=g.Axis.v.Ornt=="Hrzn";return[2,6,[22,4,s?2:3]]}if(p=="Chnl"){if(j=="duplicate"){if(P.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(j=="delete")return"Delete Channel"}var K={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49],copyMerged:[5,7],paste:[5,2],close:[1,12],groupEvent:[6,18],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],transform:[10,16],delete:g?[6,31]:[2,2],align:[20,4,0],placedLayerEditContents:"Edit Contents",newPlacedLayer:[6,7],canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],conditional:"If"},X=K[j];
if(X==null)X=vT.ZnW[j];if(X)return X;console.log(j,g);return j};vT.ZnW={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
vT.ZBL={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
vT.ZdS=function(e,j,g,P){var p=e.Wi,v=e.HR,x=new z(V.E.s,!0),S,F,m,R,M,X;x.X=o.jE;var A=new z(V.E.O,!0),f=["purge","updatePlacedLayer"];
if(f.indexOf(p)!=-1)return;M=Wj.dI;for(S in M)if(M[S]==p)F=S;M=ZW.dI;for(S in M)if(M[S]==p)m=S;M=Zv.dI;
for(S in M)if(M[S]==p)R=S;if(F){x.X=o.Zn;x.data={U:"start",dh:F,Sq:v}}else if(m){x.X=o.pR;x.data={U:"start",Ln:m,Sq:v}}else if(R){x.X=o.pR;
x.data={U:"start",Ln:"GEfc",Sq:v}}else if(p=="imageSize"||p=="canvasSize"||p=="revealAll"||p=="trim"){x.X=o.EM;
x.data={U:"fromAction",Rm:e}}else if(p=="fill"||p=="delete"&&v==null){x.X=o.AY;x.data={U:"fromAction",Rm:e}}else if(p=="colorRange"){var b=v.Mnm.v,s=v.Mxm.v;
x.X=o.IJ;x.data={U:"crange",VT:{Kd:b.Lmnc.v,Fl:b.A.v,e:b.B.v},VH:{Kd:s.Lmnc.v,Fl:s.A.v,e:s.B.v},Kq:v.Fzns.v/200}}else if(vT.ZnW[p]||vT.ZBL[p]&&(!1||v.With&&v.With.v[0].v.keyID=="fsel"||v.From&&v.From.v[0].v.keyID=="fsel"||v.null&&v.null.v[0].v.keyID=="fsel"||v.T.v[0]&&v.T.v[0].v.keyID=="fsel")){x.X=o.IJ;
x.data={U:"fromAction",Rm:e}}var K={copyToLayer:u.Un,mergeLayersNew:P&&P.b.length==1?u.xN:u.up,rasterizeLayer:u.Zub,mergeVisible:u.CZ,flattenImage:u.qE,newPlacedLayer:u.ZxY};
if(K[p])x.data={U:K[p],HR:v};if(x.data){j.P(x);return}if(p=="desaturate"){x.X=o.Zn;x.data={U:"auto",hk:3};
j.P(x);return}if(p=="close"){if(v.Svng.v.YsN=="Ys"){A.data={U:V.a.vW};j.P(A)}A.data={U:V.a.SC,Kg:P};
j.P(A);return}var K={placedLayerEditContents:V.a.ZuW,copyEvent:V.a.vv,paste:V.a.O_};if(K[p])A.data={U:K[p]};
if(A.data){j.P(A);return}if(v.null||v.At)X=(v.null?v.null:v.At).v;else X=[{t:"----",v:v}];if(X[0].t=="obj "){if(X.length!=1)throw"e";
X=X[0].v}for(var d=0;d<X.length;d++){var W=X[d],O=W.v.classID;x.data=null;if(p=="make"){if(v.null==null&&v.Nw)O=v.Nw.v.classID;
if(O=="AdjL"){x.data={U:u.CK,HR:v}}else if(O=="layerSection"){x.data={U:u.$v};if(v.Usng)x.data.U_=v.Usng.v.Nm.v}else if(O=="Lyr"){if(v.Usng&&v.Usng.v.length==2)x.data={U:u.Zdj};
else{x.data={U:u.ER};if(v.Usng)x.data.U_=v.Usng.v.Nm.v}}else if(O=="Chnl"&&W.v.enum=="Msk"){x.data={U:u.ah,zJ:v.Usng.v.UsrM}}else if(O=="Chnl"||O=="SCch"){x.data={U:u.xS,oV:"fromAction",r:e}}else if(O=="contentLayer"){x.data={U:u.SU,HR:v}}else if(O=="BckL"){P.T[P.b[0]].ZBj();
continue}else if(O=="Dcmn"){var H=v.Nw.v;A.data={U:V.a.HA,vs:ZT.Zaa(H,g)}}else if(O=="Ptrn")A.data={U:V.a.np,im:0};
else if(O=="Path"){x.X=o.Zx;x.data={U:"pathedit",oV:"fromsel"}}else{console.log(p,v);throw"e"}}else if(p=="select"){if(O=="Lyr"){var Y=v.selectionModifier,y=Y?Y.v.selectionModifierType:null,B=vT.xA(P,W);
x.data={U:u.Uv,$:B,ZBX:y?["addToSelection","addToSelectionContinuous"].indexOf(y):null,xb:0,ZOL:!0}}else if(O=="Chnl"){x.data={U:u.Uv,$:B,xb:1}}}else if((p=="set"||p=="reset"||p=="exchange")&&O=="Clr"){A.data={U:V.a.du,im:WV.qi,oV:p=="reset"?3:2};
if(p=="set"){A.data.oV=W.v.keyID=="FrgC"?0:1;var c=Z.c.W_(v.T.v);A.data.r=c.k<<16|c.z<<8|c.e}}else if(p=="set"){if(O=="AdjL"){var $=v.T.v.classID;
$=Wj.kZ[$];x.X=o.Zn;if($)x.data={U:"edit_layer",r:v.T.v}}else if(O=="Lyr"){var I=v.T.v,B=vT.xA(P,W);
if(I.Nm)x.data={U:u.$e,name:I.Nm.v};else if(I.Opct)x.data={U:u.Ux,Hy:Math.round(I.Opct.v.val*255/100)};
else if(I.fillOpacity)x.data={U:u.CU,Hy:Math.round(I.fillOpacity.v.val*255/100)};else if(I.Md)x.data={U:u.xY,Hy:WF.LN.indexOf(I.Md.v.BlnM)};
else if(I.Usrs)x.data={U:u.Cx,$:B};else if(I.Blnd){x.X=o.zp;x.data={U:"setstl",$:B,r:{blendOptions:{t:"objc",v:I}}};
j.P(x);x.data={U:"confirm",$:B}}else if(I.Clr){var r={Ylw:3}[I.Clr.v.Clr];if(r==null)throw"e";x.data={U:u.$V,Zto:r}}else if(X[0].t=="prop")continue;
else{console.log(v);throw"e"}var i=P.T[B];i.ZBR()}else if(O=="Prpr"){var I=JSON.parse(JSON.stringify(v.T.v));
if(W.v.keyID=="TxtS"){var B=vT.xA(P,v.null.v[1]),i=P.T[B],U=i.add.TySh,N=JSON.parse(JSON.stringify(U.xe)),C=Wf.UW(N),D=Wf.vD(N,0,C.length-2);
if(I.Undl&&I.Undl.v.Undl=="underlineOnLeftInVertical")D.kw.Underline=!0;Wf.MM(N,0,C.length-1,D);x.X=o.TR;
x.data={U:"newED",gu:B,RX:N};d=1e9}else{for(var n in I)if(I[n].v){if(n=="Scl")I[n].v.val=100;if(I[n].v.TrnS&&I[n].v.TrnS.v.Crv==null){I[n].v.TrnS=JSON.parse(Wr.ea[9]).TrnS}}UN.pd(I);
if(I.masterFXSwitch==null)I.masterFXSwitch={t:"bool",v:!0};var B=vT.xA(P,v.null.v[1]);x.X=o.zp;x.data={U:"setstl",$:B,r:{Lefx:{t:"objc",v:I}}};
j.P(x);x.data={U:"confirm",$:B}}}else if(O=="contentLayer"){var B=vT.xA(P,W),I=v.T.v;if(I.classID=="shapeStyle")I=I.FlCn.v;
var w={solidColorLayer:0,gradientLayer:1,patternLayer:2}[I.classID],m=JSON.parse(JSON.stringify(Wr.Wx[w]));
ZI.hW.VG(I,m,w);x.data={U:u.$J,kT:[B],Hb:!0,r:{Tm:w+1,am:m}}}else{console.log(W,v);throw O}}else if(p=="move"){if(O=="Lyr"){var I=v.T.v;
if(I.classID=="Ofst"){x.data={U:"trsl",ZUt:I.Hrzn.v.val,ZUq:I.Vrtc.v.val};x.X=o.Xe}else{var k,h;if(I[0].t=="Enmr"){if(I[0].v.enum=="Frnt")h=0;
else if(I[0].v.enum=="Prvs")h=2;else if(I[0].v.enum=="Back")h=3;else throw"e"}else k=I[0].v.val;x.data={U:u.UB,target:k,oV:h,ZOM:v.Dplc?v.Dplc.v:!1}}}}else if(p=="groupEvent")x.data={U:u.UU};
else if(p=="show"||p=="hide"){if(O=="Lyr"){var B=vT.xA(P,W);if(B==-1)continue;var t=P.T[B].Je();if(p=="show"&&t||p=="hide"&&!t)continue;
x.data={U:u.EY,$:B}}else if(O=="Chnl"){x.data={U:u.xS,oV:"fromAction",r:e}}}else if(p=="rotateEventEnum"){x.X=o.EM;
var a=v.Angl.v.val;x.data={U:"rot",de:[2,5],r:-a*Math.PI/180}}else if(p=="flip"){x.X=o.EM;var _=v.Axis.v.Ornt=="Hrzn",E=_?new Uc(-1,1):new Uc(1,-1);
x.data={U:"scl",de:[2,6,[22,4,_?2:3]],r:E}}else if(p=="transform"){var WW=1,Wx=1,WU=0,We=0,Wv=0,L=0,J=0;
if(v.Wdth)WW=v.Wdth.v.val/100;if(v.Hght)Wx=v.Hght.v.val/100;if(v.Skew){var WZ=v.Skew.v;WU=WZ.Hrzn.v.val;
We=WZ.Vrtc.v.val}if(v.Ofst){var WJ=v.Ofst.v;L=WJ.Hrzn.v.val;J=WJ.Vrtc.v.val}if(v.Angl)Wv=v.Angl.v.val;
var Wu=new WE;Wu.concat(new WE(WW,WW*Math.tan(We*Math.PI/180),Wx*Math.tan(WU*Math.PI/180),Wx,0,0));Wu.rotate(-Wv*Math.PI/180);
Wu.translate(L,J);var WC={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[v.FTcs.v.QCSt];
if(WC==null)throw v.FTcs.v.QCSt;var B=v.null?vT.xA(P,W):null;x.X=o.Sf;x.data={U:"mat",HY:WC,r:Wu,$:B}}else if(O=="Chnl"){x.data={U:u.xS,oV:"fromAction",r:e}}else if(p=="duplicate")x.data={U:u.hq,U_:v.Nm?v.Nm.v:null};
else if(p=="delete")x.data={U:u.Es};else if(p=="align"){x.X=o.Xe;var F={AdLf:0}[v.Usng.v.ADSt];if(F==null)throw"e";
x.data={U:"algn",r:F}}if(x.data)j.P(x);else if(A.data)j.P(A);else{console.log(e);alert("Unknown action \""+p+"\"");
throw"e"}}};vT.xA=function(e,j){var g=j.t,P=-1;if(g=="name"){var p=j.v.val,P=-1;for(var v=0;v<e.T.length;
v++)if(e.T[v].getName()==p){P=v;break}}if(g=="Enmr"&&e.b.length!=0)P=e.b[0];if(g=="Enmr"&&j.v.enum=="Frwr")P=e.b[0]-1;
if(g=="prop"){if(j.v.keyID=="Bckg")P=0}return P};var Wj={};Wj.get=function(e){for(var j in Wj.names)if(e[j]!=null)return j;
return null};Wj.fN=function(e,j){var g=Wj.t$,P;if(e=="brit"){var p=j.Brgh?j.Brgh.v:0,v=j.Cntr?j.Cntr.v:0,x=j.useLegacy?j.useLegacy.v:!1;
if(x){var A=p/255,f=1+v/100;if(f>1)f=1+Math.tan(Math.PI/2*v/101);var S=(1-f)/2,F=Z.qo.fD(A,A,A),m=[f,0,0,S,0,f,0,S,0,0,f,S,0,0,0,1],R=Z.qo.multiply(F,m),M=new Z.il(256);
for(var b=0;b<256;b++)M.k[b]=b;Z.qo.transform(M,M,R);P={type:g.vx,iy:M.k,Qd:M.k,Ea:M.k,Ir:!1,IG:!1}}else{var s=1024,K=-30+60*(v+100)/200,X=[];
for(var b=0;b<4;b++)X.push(Z.jM.oM(b/3*255,b/3*255,!0));X[1].v.Hrzn.v=64;X[1].v.Vrtc.v=64-K;X[2].v.Hrzn.v=128+64;
X[2].v.Vrtc.v=128+64+K;X.sort(function(fD,vG){return fD.v.Hrzn.v-vG.v.Hrzn.v});var d=Z.jM.xB(X,s);function W(fD,s){var X=[],vG=3;
for(var b=0;b<vG+1;b++)X.push(Z.jM.oM(b/vG*255,b/vG*255,!0));X[1].v.Hrzn.v=130-fD*26;X[1].v.Vrtc.v=130+fD*51;
X[2].v.Hrzn.v=233-fD*48;X[2].v.Vrtc.v=233+fD*10;return Z.jM.xB(X,s)}var O=W(Math.abs(p)/100,s);if(p<0){var H=[],Y=1/s;
for(var b=0;b<s;b++){var y=b*Y,B=b;while(O[B]>y&&B>1)B--;H[b]=B*Y}O=H}var c=new Uint8Array(s);for(var b=0;
b<s;b++){var $=Math.round((s-1)*O[b]);c[b]=Math.round(255*d[$])}P={type:g.vx,iy:c,Qd:c,Ea:c,Ir:!1,IG:!1}}}if(e=="levl"){var I=[],r,i,F,U,N,C;
for(var b=0;b<4;b++)I.push(eg._v(j,b));r=-I[0][0]/255;i=1/(I[0][1]/255-I[0][0]/255);F=Z.qo.multiply(Z.qo.fq(i,i,i),Z.qo.fD(r,r,r));
U=Z.qo.fq(1/(I[1][1]/255-I[1][0]/255),1/(I[2][1]/255-I[2][0]/255),1/(I[3][1]/255-I[3][0]/255));N=Z.qo.fD(-I[1][0]/255,-I[2][0]/255,-I[3][0]/255);
C=Z.qo.multiply(U,N);var c=new Z.il(256);for(var b=0;b<256;b++)c.k[b]=c.z[b]=c.e[b]=b;var D=1/(I[0][4]/100),n=1/(I[1][4]/100),w=1/(I[2][4]/100),k=1/(I[3][4]/100);
Z.qo.transform(c,c,C);for(var b=0;b<256;b++){c.k[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(c.k[b]/255,n))));
c.z[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(c.z[b]/255,w))));c.e[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(c.e[b]/255,k))))}Z.qo.transform(c,c,F);
for(var b=0;b<256;b++){c.k[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(c.k[b]/255,D))));c.z[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(c.z[b]/255,D))));
c.e[b]=Math.round(Math.max(0,Math.min(255,255*Math.pow(c.e[b]/255,D))))}r=I[0][2]/255;i=I[0][3]/255-I[0][2]/255;
F=Z.qo.multiply(Z.qo.fD(r,r,r),Z.qo.fq(i,i,i));U=Z.qo.fq(I[1][3]/255-I[1][2]/255,I[2][3]/255-I[2][2]/255,I[3][3]/255-I[3][2]/255);
N=Z.qo.fD(I[1][2]/255,I[2][2]/255,I[3][2]/255);C=Z.qo.multiply(N,U);Z.qo.transform(c,c,Z.qo.multiply(F,C));
P={type:g.vx,iy:c.k,Qd:c.z,Ea:c.e,Ir:!1,IG:!1}}if(e=="curv"){var h=Ze._v(j,0).length==256?1:0,t=[];if(h==0){var a=Z.jM.zv(Ze._v(j,0),256);
for(var b=1;b<4;b++){var _=Z.jM.zv(Ze._v(j,b),256);t.push(Z.jM.eB(_,a))}}else{var E=[];for(var b=0;b<4;
b++){var WW=new Uint8Array(256);E.push(WW);var Wx=Ze._v(j,b);for(var B=0;B<256;B++)WW[B]=Wx[B]}for(var b=1;
b<4;b++)t.push(Z.jM.eB(E[b],E[0]))}P={type:g.vx,iy:t[0],Qd:t[1],Ea:t[2],Ir:!1,IG:!1}}if(e=="expA"){var WU=j.Exps.v,We=j.Ofst.v,Wv=j.gammaCorrection.v,c=new Uint8Array(256);
for(var b=0;b<256;b++){var j=b/255,L=Math.pow(Math.abs(We),1/(Math.PI/2));if(We>0){j=Math.max(We/Math.E,j);
j=j*Math.exp(We/1.75+WU/Math.PI);j=(1-L)*j+L*1}else{j=j*Math.exp(-We*1.75+WU/Math.PI);j=j+-L*1.14}j=Math.pow(j,1/Wv);
j=Math.max(0,Math.min(1,j));c[b]=Math.round(j*255)}P={type:g.vx,iy:c,Qd:c,Ea:c,Ir:!1,IG:!1}}if(e=="vibA"){P={type:g.tP,im:[j.vibrance?j.vibrance.v:0,j.Strt?j.Strt.v:0]}}if(e=="hue2"){var J=[],WZ=[],WJ=[],Wu=j.Clrz?j.Clrz.v:!1;
for(var b=0;b<256;b++){J[b]=b/255;WZ[b]=0;WJ[b]=0}var WC=Zq._v(j,0),Wn=Wj.to(WC[1]/100);if(Wu){var WB=WC[0]/360;
for(var b=0;b<256;b++){J[b]=WB;WZ[b]=Wn}}else{for(var b=0;b<256;b++){var Wt=J[b],Wy=WZ[b];J[b]+=WC[0]/360;
for(var B=0;B<6;B++){var Wz=Zq._v(j,B+1),WG=Wz.jL,Wq=Wz.IE,L=0;for(var Wa=1;Wa<4;Wa++)if(Wq[Wa]<Wq[0])Wq[Wa]+=360;
var WK=Wq[0],Wd=Wq[1],WD=Wq[2],W$=Wq[3],Zg=Wt*360;if(Zg<Wq[0])Zg+=360;var WL=(Zg-WK)/(Wd-WK),WY=(Zg-WD)/(W$-WD);
if(WL<0)L=0;else if(WL<1)L=WL;else if(WY<0)L=1;else if(WY<1)L=1-WY;else L=0;var f=Wj.to(WG[1]/100);J[b]+=L*WG[0]/360;
WZ[b]+=L*f;WJ[b]+=L*WG[2]/100}}for(var b=0;b<256;b++){WZ[b]=(1+WZ[b])*(1+Wn)-1;WJ[b]=Math.max(-1,Math.min(1,WJ[b]))}}var WA=new Uint8Array(256),Wb=new Uint8Array(256),WX=new Uint8Array(256);
for(var b=0;b<256;b++){var fI=J[b],Ww=WZ[b],W_=WJ[b];if(fI>1)fI--;if(fI<0)fI++;Ww=Wj.Zds(Ww);Ww=(1+Ww)*.5;
W_=(1+W_)*.5;WA[b]=Math.round(255*fI);Wb[b]=Math.round(255*Ww);WX[b]=Math.round(255*W_)}var vW=WC[2]/100,vL=vW<0?-vW:vW,vV=vW<0?0:1;
P={type:g.tj,ZCj:WA,YE:Wb,Zge:WX,Zgu:vL*vV,Yd:1-vL,ZaA:WC[2]/100,ZgD:Wu?1:0}}if(e=="nvrt"){var c=new Uint8Array(256);
for(var b=0;b<256;b++)c[b]=255-b;P={type:g.vx,iy:c,Qd:c,Ea:c,Ir:!1,IG:!1}}if(e=="post"){var Wo=j.Lvls.v,c=new Uint8Array(256),L=Wo/255.001,WT=255/(Wo-1);
for(var b=0;b<256;b++)c[b]=Math.floor(b*L)*WT;P={type:g.vx,iy:c,Qd:c,Ea:c,Ir:!1,IG:!1}}if(e=="grdm"){var WH=j.Grad.v,WS=j.Rvrs,ve=Z.c.Ki(WH.Clrs.v,0,0),s=1024,Zi=Z.c.cQ(WH,ve,s,WS?WS.v:!1),WQ=Z.V(s),vZ=Z.V(s),fH=Z.V(s);
Z.bF(Zi,WQ,0);Z.bF(Zi,vZ,1);Z.bF(Zi,fH,2);P={type:g.vx,iy:WQ,Qd:vZ,Ea:fH,Ir:!0,IG:!1}}if(e=="selc"){var vg=new Float32Array(9*3*2),vI=j.Yj,ZL=j.Mthd?j.Mthd.v.CrcM=="Absl":!1;
for(var B=0;B<9;B++){var vu=B*6,vS=UR._v(j,B),Zd=vS[0]/100,ZO=vS[1]/100,vF=vS[2]/100,ZE=vS[3]/100;if(ZL){vg[vu]=vg[vu+1]=vg[vu+2]=1;
vg[vu+3]=Zd*(1+ZE)+ZE;vg[vu+4]=ZO*(1+ZE)+ZE;vg[vu+5]=vF*(1+ZE)+ZE}else{vg[vu+0]=(1+Zd)*(1+ZE);vg[vu+1]=(1+ZO)*(1+ZE);
vg[vu+2]=(1+vF)*(1+ZE)}}P={type:g.tX,TJ:vg}}if(e=="blwh"){var ZZ="Rd Yllw Grn Cyn Bl Mgnt".split(" "),P=[],vU=0,fZ=0;
for(var b=0;b<6;b++)P.push(j[ZZ[b]].v);P.push(j.useTint.v,j.tintColor.v);var Z$=[];for(var b=0;b<6;b++)Z$.push((P[b]-50)/50);
var vd=Z.c.W_(P[7]);vd.k/=255;vd.z/=255;vd.e/=255;var xd=Z.LY(vd.k,vd.z,vd.e),W_=Z.CB(Z.PW(xd.GF,1,.5)),xg=xd.nd*xd.Sq;
if(W_==.5)vU=fZ=.5;else{vU=xg*(.5-W_)/(.5/W_-1);fZ=1-xg*(.5-W_)-1/(2*(1-W_));fZ/=1-1/(2*(1-W_))}P={type:g.tY,Znx:Z$,wm:P[6]?1:0,ZgH:xd.GF,CB:W_,Zgp:xg,aq:vU,Zgh:fZ}}if(e=="blnc"){var I=[],VA=["ShdL","MdtL","HghL"];
for(var b=0;b<3;b++){var Wo=j[VA[b]].v,vj=Wo[0].v/100,Zp=Wo[1].v/100,vy=Wo[2].v/100,vX=j.PrsL.v?vX=(Math.min(vj,Zp,vy)+Math.max(vj,Zp,vy))/2:0;
I[b]=[vj-vX,Zp-vX,vy-vX]}var t=[Z.V(256),Z.V(256),Z.V(256)];for(var B=0;B<3;B++)for(var b=0;b<256;b++){var y=b*(1/255),va=0,K=0,vq=0;
K=I[2][B];vq=Math.abs(K);if(K<0)va=Math.pow(y,Math.SQRT2);else va=1.63*(Math.pow(y+.04,.5)-.2);y=vq*va+(1-vq)*y;
K=I[1][B];vq=Math.abs(K);if(K<0)va=Math.pow(y,2);else va=Math.min(2.35*(Math.pow(y+.09,.5)-.3),Math.pow(y,1/2));
y=vq*va+(1-vq)*y;K=I[0][B];vq=Math.abs(K);if(K<0)va=y<.4?0:Math.pow((y-.4)/.6,Math.SQRT2);else va=Math.pow(y,Math.SQRT2/2);
y=vq*va+(1-vq)*y;y=Math.max(0,Math.min(1,y));t[B][b]=Math.round(y*255)}P={type:g.vx,iy:t[0],Qd:t[1],Ea:t[2],Ir:!1,IG:!1}}if(e=="phfl"){var eE=Z.c.W_(j.Clr.v),eO=[eE.k/255,eE.z/255,eE.e/255],ZF=j.Dnst.v/100,t=[Z.V(256),Z.V(256),Z.V(256)];
for(var B=0;B<3;B++)for(var b=0;b<256;b++){var y=b*(1/255),xN=y*eO[B];xN=Math.max(0,Math.min(1,xN));
y=ZF*xN+(1-ZF)*y;t[B][b]=Math.round(y*255)}P={type:g.vx,iy:t[0],Qd:t[1],Ea:t[2],Ir:!1,IG:j.PrsL.v}}if(e=="thrs"){var c=Z.V(256);
for(var b=j.Lvl.v;b<256;b++)c[b]=255;P={type:g.vx,iy:c,Qd:c,Ea:c,Ir:!0,IG:!1}}if(e=="mixr"){var vk=Wj.kf(j),R=[];
for(var b=0;b<vk.r.length;b++)if(b%5!=3)R.push(vk.r[b]/100);if(vk.Ke){for(var eB=1;eB<3;eB++)for(var y=0;
y<4;y++)R[eB*4+y]=R[y]}P={type:g.tR,YG:R}}if(e=="rplc"){var fJ=j.Mnm.v,eI=j.Mxm.v;P={type:g.tF,VT:[fJ.Lmnc.v,fJ.A.v,fJ.B.v],VH:[eI.Lmnc.v,eI.A.v,eI.B.v],shift:[j.H.v/360,j.Strt.v/100,j.Lght.v/100],Kq:j.Fzns.v/200}}if(e=="clrL"&&j.profile){var ed=new Uint8Array(j.profile.v),fx=ICC.R(ed.buffer),ZR=[],eS=0,xJ=fx.tags.A2B0;
eS=xJ&&xJ.gpnum?xJ.gpnum[0]:0;eS=eS>8?eS:17;var ZR=ICC.U.sampleLUT(fx,eS);P={type:g.R_,Nr:ICC.U.rgba8LUT(ZR,eS),Zru:ZR,Am:eS}}return P};
Wj.tt=function(e,j){var g=-1;if(e!="levl"||j==null)g=-1;else if(j.Auto)g=0;else if(j.AuCo)g=1;else if(j.autoBlackWhite)g=2;
return g};Wj.t$={vx:0,tj:1,tP:2,tX:3,tY:4,tR:5,tF:6,R_:7};Wj.to=function(e){if(e<0)return e;return Math.pow(Math.tan(Math.PI/2*e),1.3)};
Wj.Zds=function(e){if(e<0)return e;e=Math.pow(e,1/1.3);return Math.atan2(e,1)/(Math.PI/2)};Wj.eI=function(e,j,g,P){var p=Wj.t$,v=Date.now();
if(l.Hf&&P.h()>300*300&&e.type!=p.vx&&e.type!=p.R_){P=P.clone();P.x=P.y=0;var x=l.Gn(0,P.W,P.j);x.set(j);
l.pW(x,P);x.qz(P);Wj.XX(e,x.Hj,P);x.get(g);return}if(e.type==p.R_){var A=e.Zru,f=e.Am,R=3;function S(Wo,WT,Wv,WH,WS,ve){var Zi=1-WH;
ve[WS+0]=Zi*Wv[Wo]+WH*Wv[WT];ve[WS+1]=Zi*Wv[Wo+1]+WH*Wv[WT+1];ve[WS+2]=Zi*Wv[Wo+2]+WH*Wv[WT+2]}var F=[0,0,0,0,0,0,0,0,0,0,0,0],m=(f-1.000001)/255;
for(var M=0;M<j.length;M+=4){var P=m*j[M],b=m*j[M+1],s=m*j[M+2],K=~~P,X=~~b,d=~~s;S(R*(d+f*X+f*f*K),R*(d+1+f*X+f*f*K),A,s-d,0,F);
S(R*(d+f*(X+1)+f*f*K),R*(d+1+f*(X+1)+f*f*K),A,s-d,3,F);S(0,3,F,b-X,6,F);S(R*(d+f*X+f*f*(K+1)),R*(d+1+f*X+f*f*(K+1)),A,s-d,0,F);
S(R*(d+f*(X+1)+f*f*(K+1)),R*(d+1+f*(X+1)+f*f*(K+1)),A,s-d,3,F);S(0,3,F,b-X,9,F);S(6,9,F,P-K,0,F);g[M]=~~(.5+F[0]*255);
g[M+1]=~~(.5+F[1]*255);g[M+2]=~~(.5+F[2]*255)}}if(e.type==p.tR)Z.qo.gy(j,g,e.YG);if(e.type==p.tY){var W=e.Zgp,O=e.CB,H=e.aq,Y=e.Zgh,y=j.length;
for(var M=0;M<y;M+=4){var P=j[M]*(1/255),b=j[M+1]*(1/255),s=j[M+2]*(1/255),B=Z.vE(P,b,s),c=0;for(var $=0;
$<6;$++)c+=Math.min(1,1.7*(1-B.Ls))*B.nd*e.Znx[$]*Wj.ZBw(B.GF,$*(1/6));var I=Math.max(0,Math.min(1,B.Ls*(1+c)));
if(e.wm==1){var r=0;if(I<H)r=I*(.5/O);else if(I<Y)r=I+W*(.5-O);else r=1-(1-I)*.5/(1-O);B.GF=e.ZgH;B.nd=Math.min(1,W+3*W*Math.abs(I-.5*(H+Y)));
B.Ls=r}else{B.GF=0;B.nd=0;B.Ls=I}var i=Z.PW(B.GF,B.nd,B.Ls);g[M]=Math.round(i.k*255);g[M+1]=Math.round(i.z*255);
g[M+2]=Math.round(i.e*255)}}if(e.type==p.tX){var U=e.TJ,y=j.length,N=1/255;for(var M=0;M<y;M+=4){var P=j[M]*N,b=j[M+1]*N,s=j[M+2]*N,B=Z.vE(P,b,s),C=Math.max(P,Math.max(b,s)),D=Math.min(P,Math.min(b,s)),n=1-P,w=1-b,k=1-s,h=0,t=0,a=0;
for(var $=0;$<9;$++){var _=$*6,WU=0;if(U[_]==1&&U[_+1]==1&&U[_+2]==1&&U[_+3]==0&&U[_+4]==0&&U[_+5]==0)continue;
var E=n*U[_]+U[_+3],WW=w*U[_+1]+U[_+4],Wx=k*U[_+2]+U[_+5];if($<6)WU=Wj.ZBw(B.GF,$*(1/6))*B.nd*2*Math.min(B.Ls,1-B.Ls);
else if($==6)WU=Math.max(0,D-.5)*2;else if($==7)WU=1-(Math.abs(C-.5)+Math.abs(D-.5));else WU=Math.max(0,.5-C)*2;
h+=(Math.max(0,Math.min(1,E))-n)*WU;t+=(Math.max(0,Math.min(1,WW))-w)*WU;a+=(Math.max(0,Math.min(1,Wx))-k)*WU}n=Math.max(0,Math.min(1,n+h));
w=Math.max(0,Math.min(1,w+t));k=Math.max(0,Math.min(1,k+a));P=1-n;b=1-w;s=1-k;g[M]=Math.round(P*255);
g[M+1]=Math.round(b*255);g[M+2]=Math.round(s*255)}}if(e.type==p.vx){Z.Zgq(j,g,e.iy,e.Qd,e.Ea,e.Ir,e.IG)}if(e.type==p.tj){var We=new Uint32Array(j.buffer),Wv=new Uint32Array(g.buffer),y=We.length;
if(Wj.hh==null){Wj.hh=new Float64Array(256);for(var M=0;M<256;M++)Wj.hh[M]=Wj.to(-1+2*M/255)}var L=Wj.hh;
for(var M=0;M<y;M++){var J=We[M],P=(J&255)*(1/255),b=(J>>>8&255)*(1/255),s=(J>>>16&255)*(1/255),WZ=J>>>24,WJ=Math.min(P,b,s),Wu=Math.max(P,b,s),WC=0,Wn=0,WB=0;
if(Wu!=WJ){var Wt=Wu-WJ;switch(Wu){case P:WC=(b-s)/Wt+(b<s?6:0);break;case b:WC=(s-P)/Wt+2;break;case s:WC=(P-b)/Wt+4;
break}WC=WC*(1/6)}var Wy=~~(WC*255+.5),Wz=e.ZCj[Wy]*(1/255),WG=e.YE[Wy]*(1/255)*2-1,Wq=e.Zge[Wy]*(1/255)*2-1,c=-Wq,Wa=WJ;
if(0<Wq){c=Wq;Wa=Wu}var WK=e.Zgu+e.Yd*c*Wa,Wd=e.Yd*(1-c);P=WK+Wd*P;b=WK+Wd*b;s=WK+Wd*s;Wu=Math.max(P,b,s);
WJ=Math.min(P,b,s);WB=(Wu+WJ)*.5;if(Wu!=WJ){var Wt=Wu-WJ;Wn=WB>.5?Wt/(2-(Wu+WJ)):Wt/(Wu+WJ)}var WD=WG;
if(e.ZgD==0){WG=L[Math.floor((1+WG)*127.5)];WD=Math.min(Wn*(1+WG),1)}WC=Wz;Wn=WD;if(Wn==0)P=b=s=WB;else{var W$=WB<.5?WB*(1+Wn):WB+Wn-WB*Wn,Zg=2*WB-W$;
P=Z.P$(Zg,W$,WC+1/3);b=Z.P$(Zg,W$,WC);s=Z.P$(Zg,W$,WC-1/3)}Wv[M]=WZ<<24|s*255<<16|b*255<<8|P*255}}if(e.type==p.tF){Z.Ue(j,g);
var We=new Uint32Array(j.buffer),Wv=new Uint32Array(g.buffer),y=We.length,WL=e.Kq,WY=1/WL,WA={Kd:e.VT[0],Fl:e.VT[1],e:e.VT[2]},Wb={Kd:e.VH[0],Fl:e.VH[1],e:e.VH[2]};
for(var M=0;M<y;M++){var J=We[M],K=J&255,X=J>>>8&255,d=J>>>16&255,P=K*(1/255),b=X*(1/255),s=d*(1/255),WZ=J>>>24,WX=Z.YV(K,X,d),fI=Z.QF(WX,WA,Wb,WL,WY);
if(fI==0)continue;var B=Z.vE(P,b,s),Wz=2+B.GF+fI*e.shift[0];B.GF=Wz-~~Wz;B.nd=Math.max(0,Math.min(1,B.nd+fI*e.shift[1]));
B.Ls=Math.max(0,Math.min(1,B.Ls+fI*e.shift[2]));var i=Z.PW(B.GF,B.nd,B.Ls);P=i.k;b=i.z;s=i.e;Wv[M]=WZ<<24|s*255<<16|b*255<<8|P*255}}if(e.type==p.tP){var We=new Uint32Array(j.buffer),Wv=new Uint32Array(g.buffer),y=We.length,Ww=e.im[0]/100,W_=e.im[1]/100;
for(var M=0;M<y;M++){var J=We[M],P=(J&255)*(1/255),b=(J>>>8&255)*(1/255),s=(J>>>16&255)*(1/255),WZ=J>>>24,B=Z.LY(P,b,s),WC=B.GF,Wn=B.nd,WB=B.Sq,vW=0,vL=45/360,vV=WC<vL?Math.cos(Math.PI/2*(WC-vL/2)/(vL/2)):0;
Wn=Wn+.2*(1-.4*vV)*Ww*Math.max(0,Math.sin(Wn*Math.PI));Wn=Wn*(1+W_);Wn=Math.max(0,Math.min(1,Wn));var i=Z.yD(WC,Wn,WB);
P=i.k;b=i.z;s=i.e;Wv[M]=WZ<<24|s*255<<16|b*255<<8|P*255}}};Wj.XX=function(e,j,g){l.dh.XX(e,j)};Wj.ZBw=function(e,j){var g=Z.Hq(j,e)*6;
return Math.max(0,Math.min(1,g<0?1+g:1-g))};Wj.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
Wj.ZEf=["expA","clrL","selc"];Wj.th=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];Wj.Zdh=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
Wj.kr=[[13,1,1],[13,1,4],[13,1,5]];Wj.fI={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA","\0\0\0\xDE":"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh","\0\0\0\xDD":"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr","\0\0\0\xDF":"clrL",rplc:"rplc"};
Wj.kZ=function(){var e=JSON.parse(JSON.stringify(Wj.fI));delete e["\0\0\0\xDE"];delete e["\0\0\0\xDD"];
delete e.GrMp;e.vibrance="vibA";e.photoFilter="phfl";e.GdMp="grdm";return e}();Wj.dI={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
Wj.keys={levl:[q.kA,q.Kd],curv:[q.kA,q.EW],hue2:[q.kA,q.os],nvrt:[q.kA,q.ta],blnc:[q.kA,q.ZTR]};Wj.Zxh=function(e){var j=ZW.WX("mixr");
j.Mnch={t:"bool",v:e.Ke};function g(P,p){var v={classID:"ChMx"},x={Rd:0,Grn:1,Bl:2,Cnst:4};for(var A in x)v[A]={t:"UntF",v:{type:"#Prc",val:P[p+x[A]]}};
return{t:"Objc",v:v}}if(e.Ke)j.Gry=g(e.r,0);else{j.Rd=g(e.r,0);j.Grn=g(e.r,5);j.Bl=g(e.r,10)}return j};
Wj.kf=function(e){function j(P,p,v){var x={Rd:0,Grn:1,Bl:2,Cnst:4};for(var A in x)if(P[A])p[v+x[A]]=P[A].v.val}var g={Ke:!1,r:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(e.Mnch&&e.Mnch.v)g.Ke=!0;if(g.Ke)j(e.Gry.v,g.r,0);else{j(e.Rd.v,g.r,0);j(e.Grn.v,g.r,5);j(e.Bl.v,g.r,10)}return g};
var ZW={};ZW.fP=[{am:"GEfc"},{am:"LnCr"},{am:"LqFy",pU:!0},{YN:"3D",jv:["\0\0\x03^"]},{YN:[24,2],jv:"Avrg,Blr ,BlrM,\0\0\x02\xB1,GsnB,Bokh,MtnB,RdlB,\0\0\x02\xB5".split(",")},{YN:[24,4],jv:"Dspl,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave".split(",")},{YN:[24,6],jv:["AdNs","DstS","Mdn "]},{YN:[24,8],jv:["ClrH","Crst","Mztn","Msc ","Pntl"]},{YN:[24,10],jv:["Clds","DfrC","LnsF"]},{YN:[24,12],jv:["Shrp","ShrM","\0\0\x03\xE8","UnsM"]},{YN:[24,14],jv:["FndE","\0\0\x03\xFD"]},{YN:[24,16],jv:["HghP","Mxm ","Mnm ","Ofst","Rept"]},{YN:"Fourier",jv:["dDFT","iDFT"]}];
ZW.dI={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod","\0\0\x02\xB1":"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur","\0\0\x02\xB5":"surfaceBlur","\0\0\x03^":"lightFilterGradient",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",ClrH:"colorHalftone",Crst:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore","\0\0\x03\xE8":"smartSharpen",UnsM:"unsharpMask",FndE:"findEdges","\0\0\x03\xFD":"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
ZW.xE={"\0\0\x03\x82":o.yX};ZW.names={"\0\0\x03^":"Normal Map","\0\0\x03\x82":[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],"\0\0\x02\xB1":[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],"\0\0\x02\xB5":[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],AdNs:[24,7,0],DstS:[24,7,2],"Mdn ":[24,7,3],ClrH:[24,9,0],Crst:[24,9,1],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Shrp:[24,13,0],ShrM:[24,13,2],"\0\0\x03\xE8":[24,13,3],UnsM:[24,13,4],FndE:[24,15,3],"\0\0\x03\xFD":[24,15,4],HghP:[24,17,1],"Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform"};
ZW.WX=function(e){var j=null;if(e=="GEfc")j={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:Zv.WX("GlwE")}]}};
if(e=="LqFy"){var g={LB:50,GF:50,map:new Float32Array(50*50*2)},P=new Uint8Array(VC.LE(g)),p=[];for(var v=0;
v<P.length;v++)p.push(P[v]);j={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:p}}}if(e=="\0\0\x03\x82"){j={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(e=="LnCr")j={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(e=="\0\0\x03\xFD")j={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(e=="\0\0\x03^")j={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(e=="\0\0\x02\xB1")j={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(e=="GsnB")j={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(e=="Bokh")j={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(e=="MtnB")j={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(e=="RdlB")j={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(e=="\0\0\x02\xB5")j={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(e=="Dspl")j={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(e=="Pnch")j={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(e=="Plr ")j={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(e=="Rple")j={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(e=="Shr ")j={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(e=="Sphr")j={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(e=="Twrl")j={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(e=="Wave")j={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(e=="AdNs")j={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(e=="DstS")j={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(e=="Mdn ")j={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(e=="ClrH")j={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(e=="Crst")j={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(e=="Mztn")j={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(e=="Msc ")j={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(e=="Pntl")j={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(e=="LnsF")j={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(e=="\0\0\x03\xE8")j={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(e=="UnsM")j={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(e=="HghP")j={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(e=="Mxm ")j={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:9}}};
if(e=="Mnm ")j={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:14}}};if(e=="Ofst")j={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(e=="Rept")j={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(e=="brit")j={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(e=="levl")j={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(e=="curv")j={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(e=="expA")j={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(e=="vibA")j={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(e=="hue2")j={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(e=="blnc")j={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(e=="blwh")j={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(e=="phfl")j={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(e=="grdm")j={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(Wr.ea[6]).Grad};
if(e=="selc")j={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(e=="thrs")j={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(e=="mixr")j={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(e=="clrL")j={__name:"Color Lookup",classID:"colorLookup"};if(e=="post")j={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(e=="rplc")j={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:100},Lght:{t:"long",v:2}};
if(e=="fade")j={__name:"Fade",classID:"fade",Md:{v:{BlnM:"Nrml"},t:"enum"},Opct:{v:{type:"#Prc",val:100},t:"UntF"}};
return j};ZW.ZdM=function(e){var j=new Uc(0,0);if(e.enab.v==!1)return j;var g=e.filterFXList.v;for(var P=0;
P<g.length;P++){var p=g[P].v;if(p.enab.v==!1)continue;var v=T.pA(p.filterID.v),x=ZW.ZUi(v,p.Fltr?p.Fltr.v:null);
if(x.x>j.x)j.x=x.x;if(x.y>j.y)j.y=x.y}return j};ZW.ZUi=function(e,j){var g=0,P=0;if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(e)!=-1){var p=j.Rds.v.val;
g=P=p*2.57}if(e=="MtnB")g=P=j.Dstn.v.val;if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,Wave,RdlB,Clds,DfrC,Plr ,LnCr,\0\0\x03^,\0\0\x03\x82".split(",").indexOf(e)!=-1){g=P=1e4}if(e=="GEfc")g=P=1e4;
return new Uc(Math.ceil(g),Math.ceil(P))};ZW.kx=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
ZW.HL=function(e,j){var g={k:j.Jm>>16,z:j.Jm>>8&255,e:j.Jm&255},P={k:j.gK>>16,z:j.gK>>8&255,e:j.gK&255},p=ZW.names[e];
if(p==null)p=Wj.names[e];var v=e;for(var x in Wj.fI)if(Wj.fI[x]==e)v=x;var A={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:Zr.get(p)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:Z.c.Op(g)},BckC:{t:"Objc",v:Z.c.Op(P)},filterID:{t:"long",v:T.ZTt(v)}}},f=ZW.WX(e);
if(f)A.v.Fltr={t:"Objc",v:f};return A};ZW.Zgi=function(e,j,g,P){var p=Z.V(e.length);Z.Bz.kd(e,j,g,P,[-1,0,1,-2,0,2,-1,0,1],0,!0);
Z.Bz.kd(e,p,g,P,[1,2,1,0,0,0,-1,-2,-1],0,!0);for(var v=0;v<p.length;v+=4){var x=j[v],A=j[v+1],f=j[v+2],S=j[v+3],F=p[v],m=p[v+1],R=p[v+2],M=p[v+3];
j[v]=255-Math.max(0,Math.min(255,Math.sqrt(x*x+F*F)));j[v+1]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+m*m)));
j[v+2]=255-Math.max(0,Math.min(255,Math.sqrt(f*f+R*R)))}};ZW.HT=function(e,j,g,P,p,v,x,A){var f=g*P*4;
Z.Bz.ZtP(e,j,g,P,p,v,x)};ZW.kv=function(e,j,g,P){Z.Zp(g);if(e<1){var p=Math.round(e*5),v=[1,2,1,2,[40,26,13,6,4,2][p],2,1,2,1];
v=Z.Bz.Ti(v);var x=g.slice(0);Z.Bz.kd(x,g,P.W,P.j,v,255)}else j(g,P,e);Z.ZA(g)};ZW.ZBv=function(e,j,g,P){for(var p=0;
p<e.length;p++){g[p]=e[p]*(1/255);P[p]=0}FFT.fft2d(g,P);var v=j>>>1,x=16384,A=128,S=100;while(A<j){A<<=1;
x<<=2}var f=255/Math.log(x),F=-100;for(var m=0;m<j;m++)for(var R=0;R<v;R++){var M=j+v+m&j-1,b=g[M*j+R],s=P[M*j+R],K=Math.sqrt(b*b+s*s),X=Math.atan2(s,b);
e[m*j+R]=Math.round(f*Math.log(K+1));e[m*j+v+R]=Math.round((Math.PI+X)*(255*.5/Math.PI))}};ZW.ZBV=function(e,j,g,P){g.fill(0);
P.fill(0);var p=j>>>1,v=16384,x=128;while(x<j){x<<=1;v<<=2}var A=255/Math.log(v),f=[],S=[],F=[];for(var m=0;
m<256;m++){f[m]=Math.exp(m/A)-1;var R=m*(2*Math.PI/255)-Math.PI;S[m]=Math.sin(R);F[m]=Math.cos(R)}for(var M=0;
M<j;M++)for(var b=0;b<p;b++){var s=j+p+M&j-1,K=f[e[M*j+b]],R=e[M*j+p+b],X=K*F[R],d=K*S[R];g[s*j+b]=X;
P[s*j+b]=d;if(b!=0){var W=s==0?s*j+j-b:(j-s)*j+(j-b);g[W]=X;P[W]=-d}}FFT.ifft2d(g,P);for(var m=0;m<e.length;
m++){e[m]=Math.max(0,Math.min(255,~~(.5+255*g[m])))}};ZW.ZdB=new ArrayBuffer(512);ZW.ZBC=function(e){var j=ZW.ZdB,g=e.length;
if(j.byteLength<g)ZW.ZdB=j=new ArrayBuffer(g);var P=new Uint8Array(j);for(var p=0;p<g;p+=4){P[p]=e[p];
P[p+1]=e[p+1];P[p+2]=e[p+2];P[p+3]=e[p+3]}return j};ZW.eI=function(e,j,g,P,p,v,x){if(v==null)v={buffer:Z.V(j.buffer.length),rect:j.rect.clone()};
Z.Ue(j.buffer,v.buffer);if(e=="GEfc"){var A=[];if(g.GEfs){var f=g.GEfs.v;for(var S=0;S<f.length;S++){var F=f[S].v;
if(F.GELv&&F.GELv.v==!1)continue;A.push(F)}}else A=[g];for(var S=0;S<A.length;S++){var m;if(S==0)Zv.eI(e,j,A[S],P,p,v,x);
else{if(m==null)m={buffer:Z.V(j.buffer.length),rect:j.rect.clone()};Z.Ue(v.buffer,m.buffer);Zv.eI(e,m,A[S],P,p,v,x)}}}if(e=="Bokh"){var R=j.rect,M=R.W,b=R.j,s=M*b,K=s*4,X=j.buffer.slice(0),d=g.BkDp.v/255,W=57*(.3+.7*((M+b)/2)/1750)*(g.BkIb.v/100)*(1+.2*Math.pow(d,.1)),O=parseInt(g.BkIs.v.BtIs.slice(3)),H=-g.BkIr.v*Math.PI/180,Y=[];
for(var S=0;S<8;S++){var y=H+S*(Math.PI*2/O),B=H+(S+1)*(Math.PI*2/O),c=Math.cos(y),$=Math.sin(y),I=Math.cos(B),r=Math.sin(B),i=[0,0,0];
Z.YG.fB([[c,$,1,0],[I,r,1,0],[1,1,1,1]],i);if(i[2]>0){i[0]*=-1;i[1]*=-1;i[2]*=-1}Y.push(i[0],i[1],i[2],0)}var U=g.BkDi.v.BtDi,N=g.BkDc;
if(U=="BeIn"){Z.XC(X,0,16777215);d=1}else if(U=="BeIt"&&N.v.BtDc=="BeCt"){}else{var C;if(U=="BeIt"&&N.v.BtDc=="BeCm")C=x[1];
else if(U=="BeIa")C=x[2][N.v];if(C==null){Z.XC(X,0,16777215)}else{var D;if(C.rect.iJ(R))D=C.channel;
else D=C.Eb(R);Z.sH(D,X,3)}}if(l.Hf){var n=l.Gn(0,M,b);n.set(X);l.pW(n);n.qz(new G(0,0,M,b));l.filter.XX({type:l.filter.NO,sv:new Float32Array([1/M,1/b]),ZHg:d,ZHE:W,ZHY:new Float32Array([g.BkSb.v/100,g.BkSt.v/255]),ZHR:new Float32Array([g.BkNa.v/100,g.BkNt.v.BtNt=="BeNu"?0:1,g.BkNm.v?1:0]),ZHh:new Float32Array(Y.slice(0,16)),ZHM:new Float32Array(Y.slice(16))},n.Hj);
n.get(v.buffer);for(var S=0;S<K;S+=4)v.buffer[S+3]=j.buffer[S+3];return v}}if(e=="\0\0\x03\x82"){var w=Date.now(),k=ZW.ZBC,h=j.buffer.slice(0),Wx=0,WU=0;
Z.Zp(h);Z.XC(v.buffer,0);var M=j.rect.W,b=j.rect.j,t=g.puppetShapeList.v,a=[],_=[],E=[],WW=[];for(var We=0;
We<t.length;We++){var Wv=t[We].v,L=Wx*2,J=WU*3,WZ=Wv.originalVertexArray.v.length>>>2,WJ=Wv.indexArray.v.length>>>2,Wu=new Float32Array(k(Wv.originalVertexArray.v));
for(var S=0;S<WZ;S++)a[L+S]=Wu[S];var WC=new Float32Array(k(Wv.deformedVertexArray.v));for(var S=0;S<WZ;
S++)_[L+S]=WC[S];var Wn=new Uint32Array(k(Wv.indexArray.v));for(var S=0;S<WJ;S++)E[J+S]=Wx+Wn[S];var WB=[],Wt=[],Wy=Wv.PnDp.v;
for(var S=0;S<Wy.length;S++){WB.push(Wv.pinVertexIndices.v[S].v);Wt.push(Wy[S].v)}var Wz=Z.oz.ZBE(Wu,Wn,WB,Wt);
for(var S=0;S<Wz.length;S++)WW[Wx+S]=Wz[S];Wx+=WZ>>>1;WU+=~~(WJ/3)}Z.oz.Mc(h,v.buffer,j.rect,a,_,WW,E);
Z.ZA(v.buffer)}if(e=="\0\0\x03^"){function WG(fH){var JG=1/Math.sqrt(fH[0]*fH[0]+fH[1]*fH[1]+fH[2]*fH[2]);
fH[0]*=JG;fH[1]*=JG;fH[2]*=JG}var M=j.rect.W,b=j.rect.j,s=M*b,w=Date.now(),Wq=Z.V(s),vL=.3,vV=.7;Z.hv(v.buffer,Wq);
var Wa=Z.V(s);Z.blur.Mj(Wq,Wa,v.rect,16);var WK=Z.V(s);Z.blur.Mj(Wq,WK,v.rect,8);var Wd=Wq,WD=new Float32Array(s),W$=g.Dtl.v,Zg=W$[2].v,WL=W$[1].v,WY=W$[0].v,WA=g.Scl.v*40*g.textureScale.v/(Zg+WL+WY);
Zg*=WA;WL*=WA;WY*=WA;for(var S=0;S<s;S++){var WX=Wa[S]*(1/255),fI=WK[S]*(1/255),Ww=Wd[S]*(1/255);Ww=Ww*Ww;
WD[S]=Zg*WX+WL*fI+WY*Ww}var W_=g.blur.v;if(W_!=0){var vW=WD.slice(0);Z.blur.Rl(vW,WD,v.rect,W_)}var Wo=M-1,WT=b-1;
for(var WH=1;WH<WT;WH++)for(var WS=1;WS<Wo;WS++){var S=WH*M+WS,ve=S*4,Zi=WD[S],WQ=vL*(WD[S+1]-Zi)+vV*(Zi-WD[S-1]),vZ=vL*(WD[S+M]-Zi)+vV*(Zi-WD[S-M]),fH=[1,0,WQ],vg=[0,1,vZ];
WG(fH);WG(vg);var B=fH[0],vI=fH[2],ZL=vg[1],vu=vg[2],vS=-vI*ZL,Zd=-B*vu,ZO=B*ZL;v.buffer[ve]=~~(127.5+vS*127.5);
v.buffer[ve+1]=~~(127.5+Zd*127.5);v.buffer[ve+2]=~~(127.5+ZO*127.5)}}if(e=="dDFT"||e=="iDFT"){function vF(O){if(O==0)return 1;
O--;O|=O>>1;O|=O>>2;O|=O>>4;O|=O>>8;O|=O>>16;return O+1}var M=j.rect.W,b=j.rect.j,ZE=vF(Math.max(M,b)),ZZ=ZE>>>1,Z$=new G(0,0,ZE,ZE),vd=new G(0,0,M,b);
vd.y=ZE-b>>>1;var xd=M>>>1,vU=new G(0,vd.y,xd,b),fZ=new Z.il(M*b);Z.Mi(j.buffer,fZ);var VA=new Float64Array(ZE*ZE),vj=new Float64Array(ZE*ZE),D=Z.V(ZE*ZE);
FFT.init(ZE);var Zp=[fZ.k,fZ.z,fZ.e];for(var S=0;S<3;S++){var vy=Zp[S];D.fill(0);if(e=="dDFT"){Z.Oo(vy,vd,D,Z$);
ZW.ZBv(D,ZE,VA,vj);Z.Oo(D,Z$,vy,vd,vU);vU.x+=xd;Z$.x-=ZZ-xd;Z.Oo(D,Z$,vy,vd,vU);vU.x-=xd;Z$.x+=ZZ-xd}else{Z.Oo(vy,vd,D,Z$,vU);
vU.x+=ZZ;vd.x+=ZZ-xd;Z.Oo(vy,vd,D,Z$,vU);vU.x-=ZZ;vd.x-=ZZ-xd;ZW.ZBV(D,ZE,VA,vj);Z.Oo(D,Z$,vy,vd)}}Z.hT(fZ,v.buffer)}if(e=="Avrg"){var vX=0,va=0,vq=0,Zz=0,eE=1;
for(var S=0;S<j.buffer.length;S+=4){var ZF=j.buffer[S+3];vq+=j.buffer[S]*ZF;va+=j.buffer[S+1]*ZF;vX+=j.buffer[S+2]*ZF;
Zz+=ZF}var xN=1/Zz;vX=Math.round(eE*(vX*xN)+(1-eE)*255);va=Math.round(eE*(va*xN)+(1-eE)*255);vq=Math.round(eE*(vq*xN)+(1-eE)*255);
Z.XC(v.buffer,vX<<16|va<<8|vq,4278190080)}if(["GsnB","\0\0\x02\xB1","\0\0\x03\xE8","UnsM","HghP"].indexOf(e)!=-1){var vk=g.Rds.v.val,eB=e=="\0\0\x02\xB1"?Z.blur.cB:Z.blur.Zio;
ZW.kv(vk,eB,v.buffer,v.rect);if(e=="UnsM"||e=="\0\0\x03\xE8"){var fJ=g.Amnt.v.val/100,eI=0;if(e=="UnsM")eI=g.Thsh.v;
else fJ*=.75;for(var S=0;S<j.buffer.length;S++){if((S&3)==3){v.buffer[S]=j.buffer[S];continue}var ed=j.buffer[S],fx=v.buffer[S],ZR=fJ*(ed-fx);
if(ZR>0)ZR=Math.max(0,ZR-eI);else ZR=Math.min(0,ZR+eI);v.buffer[S]=Math.max(0,Math.min(255,ed+ZR))}}if(e=="HghP")for(var S=0;
S<j.buffer.length;S++){if((S&3)==3){v.buffer[S]=j.buffer[S];continue}var ed=j.buffer[S],fx=v.buffer[S];
v.buffer[S]=Math.max(0,Math.min(255,128+ed-fx))}}if(e=="\0\0\x02\xB5"){var vt=g.Rds.v.val,eS=g.Thsh.v,M=j.rect.W,b=j.rect.j;
ZW.HT(j.buffer,v.buffer,M,b,vt,Z.Bz.cs,[eS],2)}if(e=="AdNs"){var xJ=new Uint8ClampedArray(v.buffer.buffer),fD=255*g.Nose.v.val/100,vG;
if(g.Dstr.v.Dstr=="Gsn")vG=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else vG=function(){return Math.random()*2-1};for(var S=0;S<xJ.length;S+=4){var vt=xJ[S],eu=xJ[S+1],vp=xJ[S+2],vY,xA,xD;
if(g.Mnch.v){vY=xA=xD=vG()}else{vY=vG();xA=vG();xD=vG()}vt+=fD*vY;eu+=fD*xA;vp+=fD*xD;xJ[S]=vt;xJ[S+1]=eu;
xJ[S+2]=vp}}if(e=="Mdn "||e=="DstS"||e=="Mxm "||e=="Mnm "){var vt=0;if(e=="Mdn "||e=="Mxm "||e=="Mnm ")vt=g.Rds.v.val;
if(e=="DstS")vt=g.Rds.v;Z.Bz.Zl=.5;var eB=Z.Bz.Cw;if(e=="Mxm ")eB=Z.Bz.Ck;if(e=="Mnm ")eB=Z.Bz.Ch;var M=j.rect.W,b=j.rect.j,fS={"Mdn ":0,"Mxm ":1,"Mnm ":1,DstS:2}[e];
ZW.HT(j.buffer,v.buffer,M,b,vt,eB,[],fS);if(e=="DstS"){var eS=g.Thsh.v;for(var S=0;S<M*b*4;S++){var xs=Math.abs(j.buffer[S]-v.buffer[S]);
if(xs<=eS)v.buffer[S]=j.buffer[S]}}}if(e=="ClrH"){var vU=j.rect.clone();vU.x=vU.y=0;var vt=g.Rds.v;vt=Math.round(vt*Math.sqrt(2));
var M=vU.W,b=vU.j,fZ=new Z.il(M*b);Z.Mi(j.buffer,fZ);Z.OF(fZ.k);Z.OF(fZ.z);Z.OF(fZ.e);var Uv=V.M("canvas","");
Uv.width=M;Uv.height=b;var Uh=Uv.getContext("2d"),Ui=Z.V(M*b*4);for(var ZB=0;ZB<3;ZB++){var D=ZB==0?fZ.k:ZB==1?fZ.z:fZ.e,fg=Math.PI*g["Ang"+(ZB+1)].v/180,Vk=new WE(1/vt,0,0,1/vt,0,0);
Vk.rotate(fg);Z.sH(D,Ui,3);var VJ=o.t.Ge([Ui,vU],Vk,!0),vd=VJ.rect;Uh.clearRect(0,0,M,b);var eD=Math.sin(fg),Uq=Math.cos(fg);
for(var S=0;S<vd.j;S++)for(var VN=0;VN<vd.W;VN++){var WS=(VN+vd.x+.5)*vt,WH=(S+vd.y+.5)*vt,vo=WS,xE=WH;
WS=Uq*vo-eD*xE;WH=eD*vo+Uq*xE;var s=VJ.buffer[(S*vd.W+VN<<2)+3]*(1/255),vk=vt*Math.sqrt(s*(1/Math.PI));
Uh.beginPath();Uh.arc(WS,WH,vk,0,2*Math.PI);Uh.fill()}var eK=Uh.getImageData(0,0,M,b);Z.bF(eK.data,D,3)}Z.OF(fZ.k);
Z.OF(fZ.z);Z.OF(fZ.e);Z.hT(fZ,v.buffer)}if(e=="Crst"||e=="Pntl"){var M=j.rect.W,b=j.rect.j,eB=e=="Crst"?Z.Hl.Zik:Z.Hl.ZiP;
eB(j.buffer,M,b,v.buffer,g.ClSz.v,[Math.round(p.k),Math.round(p.z),Math.round(p.e)])}if(e=="Mztn"){var M=j.rect.W,b=j.rect.j,s=M*b,fZ=new Z.il(s),eA=[fZ.k,fZ.z,fZ.e];
Z.Mi(j.buffer,fZ);var fn=g.MztT.v.MztT,xK={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[fn],w=Date.now(),Vs=[];
for(var S=0;S<s;S++){Vs[S]=Math.random()}var s=M*b,vR=Math.round(s*xK[0]),xU=s-M-1;for(var S=0;S<vR;
S++){var Zl=Math.random(),UU=1;if(Zl<.5){UU=M;Zl*=2}else Zl=2*(Zl-.5);var VP=Math.floor(Zl*xU),fP=VP+UU;
Vs[VP]=Vs[fP]}var Uj=Math.round(M*xK[1]);for(var WH=0;WH<b;WH++)for(var S=0;S<Uj;S++){var Zl=Z.Y.Pj(WH*s+S),VP=WH*M+Math.floor(Zl*(M-1));
Vs[VP]=Vs[VP+1]}var vx=new Float64Array(256);for(var S=0;S<256;S++){var Vb=S/255,eT=2*(Vb<.5?Vb:1-Vb);
eT=xK[2]+Math.pow(eT,xK[3])*(1-xK[2]);Vb=Vb<.5?eT*.5:1-eT*.5;vx[S]=Vb}for(var xu=0;xu<3;xu++){var D=eA[xu];
for(var WH=0;WH<b;WH++){for(var WS=0;WS<M;WS++){var S=WH*M+WS,xv=D[S],Vb=vx[xv],Zl=Vs[S];D[S]=Zl>Vb?0:255}}}Z.hT(fZ,v.buffer)}if(e=="Msc "){var JF=g.ClSz.v.val,M=j.rect.W,b=j.rect.j,Ub=Math.ceil(M/JF),fX=Math.ceil(b/JF),eG=Z.V(Ub*fX*4);
Z.scale.Tl(j.buffer,M,b,eG,Ub,fX,1/JF);Z.scale.Tl(eG,Ub,fX,v.buffer,M,b,JF)}if(e=="Clds"||e=="DfrC"){if(e=="Clds")Z.XC(v.buffer,4278190080);
var VV=Z.V(256*4);for(var S=0;S<256;S++){var ve=S<<2,U_=S/255,Wn=1-U_;VV[ve]=Math.round(U_*P.k+Wn*p.k);
VV[ve+1]=Math.round(U_*P.z+Wn*p.z);VV[ve+2]=Math.round(U_*P.e+Wn*p.e)}var M=v.rect.W,b=v.rect.j,s=M*b,VW=Z.V(s);
noise.seed(Math.random());for(var WH=0;WH<b;WH++)for(var WS=0;WS<M;WS++){var WA=0,es=1,eL=1;for(var S=0;
S<8;S++){var fO=eL*(1/170);WA+=noise.perlin2(WS*fO,WH*fO)*es;es*=.5;eL=eL<<1}VW[WH*M+WS]=Math.round(Math.max(0,255*Math.min(1,.5+.7*WA*.5)))}var Jf=v.buffer;
for(var S=0;S<s;S++){var ve=S<<2,xu=VW[S]<<2,vt=VV[xu],eu=VV[xu+1],vp=VV[xu+2];if(e=="Clds"){Jf[ve]=vt;
Jf[ve+1]=eu;Jf[ve+2]=vp}else{Jf[ve]=Math.abs(Jf[4*S]-vt);Jf[ve+1]=Math.abs(Jf[4*S+1]-eu);Jf[ve+2]=Math.abs(Jf[4*S+2]-vp)}}}if(e=="LnsF"){var M=j.rect.W,b=j.rect.j,fn=["Zm","Nkn","Nkn1","PnVs"].indexOf(g.Lns.v.Lns),ej=g.FlrC.v,eX=[Math.min(fn,2),g.Brgh.v/100,ej.Hrzn.v,ej.Vrtc.v],w=Date.now();
Z.Zzt(j.buffer,M,b,v.buffer,eX)}if(e=="Blr "||e=="BlrM"||e=="Shrp"||e=="ShrM"){var M=j.rect.W,b=j.rect.j,fj;
if(e=="Blr ")fj=[1,2,1,2,16,2,1,2,1];else if(e=="BlrM")fj=[1,2,1,2,4,2,1,2,1];else if(e=="Shrp")fj=[0,-1,0,-1,8,-1,0,-1,0];
else fj=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];fj=Z.Bz.Ti(fj);var e_=j.buffer.slice(0);Z.Zp(e_);Z.Bz.kd(e_,v.buffer,M,b,fj,e=="Shrp"||e=="ShrM"?0:255);
if(e=="Shrp"||e=="ShrM")Z.Qc(v.buffer);Z.ZA(v.buffer)}if(e=="MtnB"){var Vg=-g.Angl.v*Math.PI/180,Vf=g.Dstn.v.val/2,w=Date.now(),M=j.rect.W,b=j.rect.j,R=j.rect.clone();
R.x=R.y=0;if(l.Hf){var w=Date.now(),fG=v.buffer;fG.set(j.buffer);Z.Zp(fG);var fo=l.Gn(0,M,b);fo.set(fG);
var Vv=Z.V(4);Vv[0]=Math.round(128+127*Math.cos(Vg));Vv[1]=Math.round(128+127*Math.sin(Vg));new Uint32Array(fG.buffer).fill(new Uint32Array(Vv.buffer)[0]);
var xX=l.Gn(1,M,b);xX.set(fG);l.pW(fo,R);fo.qz(R);l.filter.XX({type:l.filter.xo,X_:xX.FL,sv:new Float32Array([1/M,1/b]),ZOh:Vf/2,ZO_:1},fo.Hj);
fo.get(fG);Z.ZA(fG)}else{var Vk=new WE;Vk.rotate(Vg);var VJ=o.t.Ge([j.buffer,j.rect],Vk,!1,null,!0);
ZW.kv(Vf,Z.blur.cy,VJ.buffer,VJ.rect);Vk.OF();VJ=o.t.Ge([VJ.buffer,VJ.rect],Vk,!1,v.buffer.buffer,!0,v.rect)}console.log(Date.now()-w)}if(e=="RdlB"){var M=j.rect.W,b=j.rect.j,fJ=g.Amnt.v,fk=g.BlrM.v.BlrM=="Zm",ZB=g.Cntr.v,VT=ZB.Hrzn.v,vA=ZB.Vrtc.v,WQ=Math.max(VT,1-VT)*M,vZ=Math.max(vA,1-vA)*b,vk=Math.sqrt(WQ*WQ+vZ*vZ),Zm=2*Math.PI*vk*1.5,f_=Math.round(Zm),ea=Math.round(vk),vU=new G(0,0,f_,ea),Vx=Z.V(f_*ea*4),Vn=fk?4:1,Vu=fk?.6:8*((M+b)/2)/1400,eo=.1,fO=1,fB=1;
Z.D.cl(j.buffer,M,b,Vx,f_,ea,VT,vA,Vn,eo,fO,fB);var Zs=fk?Z.V(f_*ea*4):null;if(fk){Z.D.eQ(Vx,Zs,f_,ea);
var fl=Zs;Zs=Vx;Vx=fl;vU.W=ea;vU.j=f_}ZW.kv(Vu*fJ,Z.blur.cy,Vx,vU);if(fk){Z.D.eQ(Vx,Zs,ea,f_);var fl=Zs;
Zs=Vx;Vx=fl;vU.W=f_;vU.j=ea}Z.D.cm(Vx,f_,ea,v.buffer,M,b,VT,vA,Vn,eo,fO,fB)}if(e=="Plr "){var M=j.rect.W,b=j.rect.j;
if(g.Cnvr.v.Cnvr=="RctP")Z.D.cm(j.buffer,M,b,v.buffer,M,b,.5,.5,1,0,2,M/b);else Z.D.cl(j.buffer,M,b,v.buffer,M,b,.5,.5,1,0,2,M/b)}if(e=="FndE"){var M=j.rect.W,b=j.rect.j;
ZW.Zgi(j.buffer,v.buffer,M,b)}if(e=="\0\0\x03\xFD"){var fg=g.LghD.v*Math.PI/180,VB=[Math.cos(fg),Math.sin(fg),.001],VO=[g.stylization.v,g.cleanliness.v,g.brushScale.v,g.microBrush.v,g.lightingOn.v,g.specularity.v,VB],R=j.rect.clone();
R.x=R.y=0;Z.kI.filter(j.buffer,R,v.buffer,VO)}if(e=="Ofst"){var M=j.rect.W,b=j.rect.j,Vq=new Uint32Array(j.buffer.buffer),Zb=new Uint32Array(v.buffer.buffer),vo=g.Hrzn.v,xE=g.Vrtc.v,eb=g.Fl.v.FlMd;
Z.XC(Zb,0);if(eb=="Bckg"||eb=="Rpt"){var vU=j.rect.clone();vU.offset(vo,xE);Z.Vy(Vq,vU,Zb,v.rect)}if(eb=="Rpt"){var c,$,I,r,Zo;
vo=Math.max(-M,Math.min(M,vo));xE=Math.max(-b,Math.min(b,xE));c=vo>0?vo:0;I=vo>0?M:M+vo;$=xE>0?0:xE+b;
r=xE>0?xE:b;Zo=xE>0?0:M*(b-1);for(var WH=$;WH<r;WH++)for(var WS=c;WS<I;WS++)Zb[WH*M+WS]=Vq[Zo+WS-vo];
c=vo>0?0:M+vo;I=vo>0?vo:M;$=xE>0?xE:0;r=xE>0?b:b+xE;Zo=vo>0?0:M-1;for(var WH=$;WH<r;WH++)for(var WS=c;
WS<I;WS++)Zb[WH*M+WS]=Vq[Zo+M*(WH-xE)];if(vo>=0&&xE>=0){c=0;I=vo;$=0;r=xE;Zo=0}if(vo>=0&&xE<0){c=0;I=vo;
$=b+xE;r=b;Zo=M*(b-1)}if(vo<0&&xE>=0){c=M+vo;I=M;$=0;r=xE;Zo=M-1}if(vo<0&&xE<0){c=M+vo;I=M;$=b+xE;r=b;
Zo=M*b-1}for(var WH=$;WH<r;WH++)for(var WS=c;WS<I;WS++)Zb[WH*M+WS]=Vq[Zo]}if(eb=="Wrp"){vo=(vo+100*M)%M;
xE=(xE+100*b)%b;var vU=new G(vo-M,xE-b,M,b);Z.Vy(Vq,vU,Zb,v.rect);vU.offset(M,0);Z.Vy(Vq,vU,Zb,v.rect);
vU.offset(0,b);Z.Vy(Vq,vU,Zb,v.rect);vU.offset(-M,0);Z.Vy(Vq,vU,Zb,v.rect)}}if(e=="Rept"){var VX=g.Rsft.v.val/100,ek=g.SpcX.v.val/100;
ek=Math.max(ek,-.99);var fa=g.SpcY.v.val/100;fa=Math.max(fa,-.99);var fO=g.Scl.v.val/100,Vk=new WE;Vk.rotate(g.Angl.v*Math.PI/180);
Vk.scale(fO,fO);var eZ={buffer:j.buffer,rect:j.rect};Z.sL(eZ);if(eZ.rect.tE()){eZ.buffer=j.buffer;eZ.rect=j.rect}var Jf=eZ.buffer,vU=eZ.rect,fp=Z.sq(Jf,vU,0),Vi=new Uint32Array(Jf.buffer)[0];
if(!fp.tE()&&!fp.iJ(vU)){var xW=Z.V(fp.h()*4);Z.Vy(Jf,vU,xW,fp);Jf=xW;vU=fp}vU.x=vU.y=0;Vi=ek==0&&fa==0||g.SpcC.v?Vi:0;
function vm(WS){return WS<0?Math.ceil(WS):Math.floor(WS)}var Z_=Vk.vy(new Uc(vU.W,0));Z_.x=vm(Z_.x);
Z_.y=vm(Z_.y);var fR=Vk.vy(new Uc(0,vU.j));fR.x=vm(fR.x);fR.y=vm(fR.y);var VJ=o.t.Ge([Jf,vU],Vk,!1),vd=VJ.rect,VS=VJ.buffer,V_=Math.round(vd.x),Vm=Math.round(vd.y),eQ=Math.max(v.rect.W,v.rect.j)/Math.min(vU.W*fO*(1+ek),vU.j*fO*(1+fa));
eQ=Math.ceil(eQ*1.7);Z.XC(v.buffer,Vi);for(var WH=-eQ;WH<eQ;WH++){for(var WS=-eQ;WS<eQ;WS++){var Vl=(WS+WH*VX)*(1+ek),Vc=WH*(1+fa);
vd.x=V_+Math.round(Vl*Z_.x+Vc*fR.x);vd.y=Vm+Math.round(Vl*Z_.y+Vc*fR.y);if(vd.cV(v.rect))Z.Y.$Q("norm",VS,vd,v.buffer,v.rect,vd,1)}}}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr".split(",").indexOf(e)!=-1){var eq=x[0],M=j.rect.W,b=j.rect.j,vx,ep=0;
if(e=="LqFy")vx=VC.aW(new Uint8Array(g.LqMe.v).buffer);else{var f$=e=="Dspl"?1:3;vx={LB:Math.floor(M/f$),GF:Math.floor(b/f$)};
vx.map=new Float32Array(vx.LB*vx.GF*2);if(e=="LnCr"){var VT=.5*(vx.LB-1),vA=.5*(vx.GF-1),Ve=Math.max(Math.abs(0-VT),Math.abs(1-VT)),VE=Math.max(Math.abs(0-vA),Math.abs(1-vA)),V$=Math.sqrt(Ve*Ve+VE*VE),Je=0,Vo=0,JJ=-1,Ju=2,fO=g.LnSi.v/100,fk=1/fO,JW=g.LnIa.v/100,Jg=JW==0?1e-6:JW*4.6,UM=fk/V$;
for(var WH=0;WH<vx.GF;WH++){for(var WS=0;WS<vx.LB;WS++){var WQ=(WS-VT)*UM,vZ=(WH-vA)*UM,vt=Math.sqrt(WQ*WQ+vZ*vZ)*Jg,Jr=Math.atan(vt),x$=JW>0?Jr/vt:vt/Jr,fB=VT+V$*x$*WQ,Jy=vA+V$*x$*vZ,S=WH*vx.LB+WS<<1;
vx.map[S]=fB-WS;vx.map[S+1]=Jy-WH}}}else if(e=="Dspl"&&eq.length!=0){ep=g.UndA.v.UndA=="WrpA"?2:1;var Ja=g.DspF.v.pth,em;
for(var S=0;S<eq.length;S++)if(eq[S].Bv==Ja)em=eq[S];if(em==null)em=eq[0];em.Gj();var JN=em.YA[1],JD=Z.V(JN.h());
Z.hv(em.YA[0],JD);var Jt=JN.W,Jq=2*g.HrzS.v/f$,JL=2*g.VrtS.v/f$;for(var WH=0;WH<vx.GF;WH++){for(var WS=0;
WS<vx.LB;WS++){var Ve=Math.floor(JN.W*WS/vx.LB),VE=Math.floor(JN.j*WH/vx.GF),WQ=vZ=-.5+JD[VE*Jt+Ve]/255,S=WH*vx.LB+WS<<1;
vx.map[S]=WQ*Jq;vx.map[S+1]=vZ*JL}}}else if(e=="Pnch"||e=="Twrl"||e=="Sphr"){var fJ=1,Vg=Math.PI,JT=0,ZB=3,JF=1.53,x$=1;
if(e=="Pnch"||e=="Sphr")fJ=g.Amnt.v/100;if(e=="Twrl")Vg=g.Angl.v*Math.PI/180;if(e=="Sphr")JT=["Nrml","HrzO","VrtO"].indexOf(g.SphM.v.SphM);
function eB(WS){WS=Math.pow(WS,1-WS*.3-WS*WS*(WS*WS)*.5);return-.225*Math.sin(WS*Math.PI)}function Jz(b,JG,vt,c,$,I,r,x$){var WQ=I-c,vZ=r-$,eM=c-b,uV=$-JG,U_=WQ*WQ+vZ*vZ,vp=2*(WQ*eM+vZ*uV),ZB=eM*eM+uV*uV-vt*vt,uJ=Math.sqrt(vp*vp-4*U_*ZB),uu=x$/(2*U_),uC=(-vp+uJ)*uu,ug=(-vp-uJ)*uu;
return x$*Math.min(uC,ug)}var Ub=vx.LB,fX=vx.GF,Jd=vx.LB/2,WT=vx.GF/2,JE=1/Jd,vt=Math.sqrt(ZB*ZB+1)/ZB,vy=ZB+Math.sqrt(1/(ZB*ZB));
if(fJ<0){ZB=1.72;vt=1;vy=ZB;JF=-1;x$=-1}for(var WH=0;WH<fX;WH++){var vZ=(WH-WT)/WT;for(var WS=0;WS<Ub;
WS++){var WQ=(WS-Jd)*JE;if(JT==1)vZ=0;else if(JT==2)WQ=0;var Vr=Math.sqrt(WQ*WQ+vZ*vZ);if(Vr<1&&Vr!=0){var S=WH*vx.LB+WS<<1;
if(e=="Pnch"){var JI=-fJ*eB(Vr)/Vr;vx.map[S]=WQ*JI*Jd;vx.map[S+1]=vZ*JI*WT}else if(e=="Sphr"){var fl=Jz(0,vy,vt,0,0,Vr,ZB,x$),JH=JF*fJ*(fl-1);
vx.map[S]=WQ*JH*Jd;vx.map[S+1]=vZ*JH*WT}else if(e=="Twrl"){var fg=Math.atan2(vZ,WQ)-Vg*(1-Vr)*(1-Vr),Js=Math.cos(fg),JK=Math.sin(fg);
vx.map[S]=(Vr*Js-WQ)*Jd;vx.map[S+1]=(Vr*JK-vZ)*WT}}}}}else if(e=="Shr "){var J$=JSON.parse(JSON.stringify(g.ShrP.v));
Z.jM.K(J$,new WE(0,255/127,255/127,0,-2,0));var JO=Z.jM.xB(J$,vx.GF,!0);ep=g.UndA.v.UndA=="WrpA"?2:1;
for(var WH=0;WH<vx.GF;WH++){var WQ=-JO[WH]*vx.LB;for(var WS=0;WS<vx.LB;WS++){var S=WH*vx.LB+WS<<1;vx.map[S]=WQ}}}else if(e=="Wave"){var Jp=g.NmbG.v,JA=g.WLMn.v,Jj=g.WLMx.v,JP=g.AmMn.v*(Math.PI/4),JX=g.AmMx.v*(Math.PI/4),JY=g.SclH.v/100,JR=g.SclV.v/100,fn=g.Wvtp.v.Wvtp,Jk=Math.sin;
if(fn=="WvTr")Jk=function(WS){WS*=2/Math.PI;return-.5+Math.abs(WS%2-1)};if(fn=="WvSq")Jk=function(WS){WS*=2/Math.PI;
return 1+2*Math.floor(WS%2-1)};var fU=[],Jv=new Z.Y.CV(g.RndS.v);for(var S=0;S<Jp;S++){fU.push(Jv.get()*10);
fU.push(Math.PI*f$/(JA+Jv.get()*(Jj-JA)));fU.push(JY*(JP+Jv.get()*(JX-JP))/f$);fU.push(Jv.get()*10);
fU.push(Math.PI*f$/(JA+Jv.get()*(Jj-JA)));fU.push(JR*(JP+Jv.get()*(JX-JP))/f$)}var Jh=[],JM=[],Jb=Math.max(vx.LB,vx.GF);
for(var S=0;S<Jb;S++){var WQ=0,vZ=0;for(var VN=0;VN<Jp;VN++){var JV=VN*6;WQ+=fU[JV+2]*Jk(fU[JV]+S*fU[JV+1]);
vZ+=fU[JV+5]*Jk(fU[JV+3]+S*fU[JV+4])}Jh[S]=vZ;JM[S]=WQ}for(var WH=0;WH<vx.GF;WH++){for(var WS=0;WS<vx.LB;
WS++){var S=WH*vx.LB+WS<<1;vx.map[S]=JM[WH];vx.map[S+1]=Jh[WS]}}ep=g.UndA.v.UndA=="WrpA"?2:1}else if(e=="Rple"){ep=1;
var fJ=g.Amnt.v/100,Jl=4,J_=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],Jm=1,JQ=1,eM=0,ur=["Sml","Mdm","Lrg"].indexOf(g.RplS.v.RplS);
if(ur==0){Jm=1;JQ=.2;eM=3}if(ur==2){Jm=1;JQ=2;eM=-1;J_=J_.reverse()}var uZ=function(WS,WH){var ZB=Math.cos,WA=0;
for(var S=0;S<Jl;S++)for(var VN=0;VN<Jl;VN++)WA+=J_[S*Jl+VN]*ZB(WS*(S+eM)-WH*(VN+eM));return WA},fm=Math.floor(50/f$),ux=new Float32Array(fm*fm*2),uU=JQ*fJ*.5/f$;
for(var WH=0;WH<fm;WH++)for(var WS=0;WS<fm;WS++){var VT=Jm*WS*2*Math.PI/fm,vA=Jm*WH*2*Math.PI/fm,uW=uZ(VT,vA),WQ=(uZ(VT+.01,vA)-uW)*100,vZ=(uZ(VT,vA+.01)-uW)*100,S=(WH*fm+WS)*2;
ux[S]=WQ*uU;ux[S+1]=vZ*uU}for(var WH=0;WH<vx.GF;WH++)for(var WS=0;WS<vx.LB;WS++){var JK=WH%fm,Js=WS%fm,S=WH*vx.LB+WS<<1,uv=JK*fm+Js<<1;
vx.map[S]=ux[uv];vx.map[S+1]=ux[uv+1]}}}Z.Bq.gg(j.buffer,v.buffer,M,b,null,vx.map,vx.LB,vx.GF,ep)}return v};
var Zv={};Zv.Zaf="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");Zv.tM="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
Zv.tb=["ScrC","ScrD","ScrL"];Zv.tl=["SDRD","SDHz","SDLD","SDVt"];Zv.dI={PntD:"paintDaubs"};Zv.names={PntD:"Paint Daubs",Spt:"Spatter",SprS:"Sprayed Strokes",BsRl:"Bas Relief",HlfS:"Halftone Pattern",GlwE:"Glowing Edges",StnG:"Stained Glass"};
Zv.WX=function(e){var j;if(e=="PntD")j={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};
if(e=="Spt")j={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};if(e=="SprS")j={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(e=="BsRl")j={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};if(e=="HlfS")j={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};
if(e=="GlwE")j={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(e=="StnG")j={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
j.__name="Filter Gallery";j.classID="GEfc";j.GEfk={t:"enum",v:{GEft:e}};j.GELv={t:"bool",v:!0};return j};
Zv.eI=function(e,j,g,P,p,v,x){e=g.GEfk.v.GEft;var A=j.rect.W,f=j.rect.j;if(e=="Spt"||e=="SprS"){var A=j.rect.W,f=j.rect.j,S,F=1,m=1;
S={LB:Math.floor(A/m),GF:Math.floor(f/m)};S.map=new Float32Array(S.LB*S.GF*2);var R=new Z.Y.CV(g.FlRs.v),M=new Float32Array(8192),b=g.SprR.v,s=b<20?.018*b:.36+(b-20)*.128;
if(e=="SprS"){s=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][b]}for(var K=0;
K<8192;K++)M[K]=(-1+2*R.get())*s*70;for(var X=0;X<f;X++)for(var d=0;d<A;d++){var W=X*A+d<<1;S.map[W]=M[W%7919];
S.map[W+1]=M[(W+1)%7919]}var O=S.map.slice(0),H=e=="Spt"?g.Smth.v-1:1;if(e=="Spt"&&H!=0){Zv.ZDZ(S.map,O,A,f,H);
Zv.Zxf(O,S.map,A,f,H)}if(e=="SprS"){var Y=g.StrL.v>>>1,y=Y==0?2:1;Zv.ZDZ(S.map,O,A,f,y);Zv.Zxf(O,S.map,A,f,y);
if(Y!=0){var B=Zv.tl.indexOf(g.SDir.v.StrD),c=[1,1,1,0][B],$=[-1,0,1,1][B],I=2*Y+1,r=1/I;for(var X=0;
X<f;X++)for(var d=0;d<A;d++){var W=X*A+d<<1,i=0,U=0;for(var K=0;K<I;K++){var N=Math.max(0,Math.min(A-1,d-(Y+K)*c)),C=Math.max(0,Math.min(f-1,X-(Y+K)*$)),D=C*A+N<<1;
i+=S.map[D];U+=S.map[D+1]}O[W]=i*r;O[W+1]=U*r}S.map=O}}Z.Bq.gg(j.buffer,v.buffer,A,f,null,S.map,S.LB,S.GF,F)}if(e=="BsRl"){var n=j.rect.h(),w=Z.V(n),k=w.slice(0);
Z.hv(j.buffer,w);var h=g.Dtl.v,t=g.Smth.v;if(h!=15){Z.blur.Mj(w,k,j.rect,Math.round((15-h)*.5));Z.Ue(k,w)}var a=2/A,_=2/f,E=(2+Zv.tM.indexOf(g.LghD.v.LghD))*Math.PI*.25,i=Math.cos(E);
if(Math.abs(i)<.1)i=0;i=Math.sign(i);var U=Math.sin(E);if(Math.abs(U)<.1)U=0;U=Math.sign(U);var WW=1/(i*i+U*U);
for(var X=0;X<f;X++)for(var d=0;d<A;d++){var K=X*A+d,c=d==A-1?w[K]-w[K-1]:w[K+1]-w[K],$=X==f-1?w[K]-w[K-A]:w[K+A]-w[K],Wx=d*a-1,WU=X*_-1,We=c==0?Wx:c*.4;
We=Math.max(-1,Math.min(1,i*We));var Wv=$==0?WU:$*.4;Wv=Math.max(-1,Math.min(1,U*Wv));k[K]=128+127*(We+Wv)*WW}if(t!=1){Z.blur.Mj(k,w,j.rect,Math.round((t-1)*.5));
Z.Ue(w,k)}Z.uY(k,v.buffer)}if(e=="PlsW__"){var n=j.rect.h(),w=Z.V(n),k=w.slice(0);Z.hv(j.buffer,w);var h=g.Dtl.v,t=g.Smth.v;
if(h!=15){Z.blur.Mj(w,k,j.rect,Math.round((15-h)*.5));Z.Ue(k,w)}for(var X=0;X<f;X++)for(var d=0;d<A;
d++){var K=X*A+d,c=d==A-1?w[K]-w[K-1]:w[K+1]-w[K],$=X==f-1?w[K]-w[K-A]:w[K+A]-w[K],L=c*c+$*$;k[K]=Math.max(0,255-L*190)}var J=new Float32Array(n);
for(var K=0;K<n;K++)J[K]=k[K];if(t!=1){Z.blur.Rl(J.slice(0),J,j.rect,Math.round((t-1)*.2))}for(var X=0;
X<f;X++)for(var d=0;d<A;d++){var K=X*A+d,WZ=K<<2,WJ=J[K],Wu=v.buffer[WZ],WC=v.buffer[WZ+1],Wn=v.buffer[WZ+2],c=d==A-1?WJ-J[K-1]:J[K+1]-WJ,$=X==f-1?WJ-J[K-A]:J[K+A]-WJ,WB=-1,Wt=1,Wy=0,Wz=c,WG=0,Wq=1,Wa=$,WL=1;
c=Wy*Wa-Wz*Wq;$=Wz*WG-Wt*Wa;WB=Wt*Wq-Wy*WG;var WK=1/Math.sqrt(c*c+$*$+WB*WB);c*=WK;$*=WK;WB*=WK;var Wd=d-A/2,WD=X-f/2,W$=A*.3,WK=1/Math.sqrt(Wd*Wd+WD*WD+W$*W$);
Wd*=WK;WD*=WK;W$*=WK;var Zg=Math.max(0,Wd*c+WD*$+W$*WB);if(Zg>1)throw Zg;var WY=Zg*255;v.buffer[WZ]=WL*WY+(1-WL)*Wu;
v.buffer[WZ+1]=WL*WY+(1-WL)*WC;v.buffer[WZ+2]=WL*WY+(1-WL)*Wn}}if(e=="PntD"){var WA=g.Shrp.v*.4,Wb=g.BrsT.v.BrsT,WX={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[Wb],fI=Math.round(g.Sz.v*.5);
Z.Bz.Zl=WX[0];var Ww=Z.Bz.Cw;ZW.HT(j.buffer,v.buffer,A,f,fI,Ww,[],0);var W_=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
W_=Z.Bz.Ti(W_);var vW=v.buffer.slice(0);Z.Bz.kd(vW,v.buffer,A,f,W_,0);for(var K=0;K<j.buffer.length;
K++){var vL=v.buffer[K]-vW[K];v.buffer[K]=Math.max(0,Math.min(255,vW[K]+WA*vL))}}if(e=="GlwE"){var vV=v.buffer.slice(0);
Z.Bz.Zl=.5;var Ww=Z.Bz.Cw;ZW.HT(j.buffer,vV,A,f,g.Smth.v>>>1,Ww,[],0);ZW.Zgi(vV,v.buffer,A,f);Z.Ue(v.buffer,vV);
Z.OF(vV);Z.XC(vV,4278190080,16777215);ZW.HT(vV,v.buffer,A,f,g.EdgW.v>>>1,Z.Bz.Ck,[],0);var WL=g.EdgB.v/10;
for(var K=0;K<vV.length;K++){if((K&3)==3)continue;var Wo=v.buffer[K];v.buffer[K]=Math.max(0,Math.min(255,Wo*WL))}}if(e=="StnG"){var A=j.rect.W,f=j.rect.j;
Z.Hl.ZiF(j.buffer,A,f,v.buffer,g.ClSz.v,[Math.round(P.k),Math.round(P.z),Math.round(P.e)],g.BrdT.v)}if(e=="HlfS"){var WT=g.HlSz.v,WH=WT*2+1,WS=g.Cntr.v,ve=Zv.tb.indexOf(g.ScrT.v.ScrT),n=A*f,Zi=n*4,WQ=Z.V(n),vZ=j.buffer,vS=0,Zd=0;
for(var K=0;K<Zi;K+=4)WQ[K>>>2]=~~(.5+(vZ[K]+vZ[K+1]+vZ[K+2])*(1/3));var fH=WQ.slice(0);Z.blur.cn(fH,WQ,j.rect,WT);
var vg=Math.PI/WH,vI=new Float64Array(A),i=new Float64Array(A),ZL=new Float64Array(2*A);for(var d=0;
d<A;d++){var vu=(d-(A>>>1))*vg;vI[d]=vu*vu;i[d]=Math.cos(vu);var c=d<<1;ZL[c]=Math.sin(c*(1/4.5));ZL[c+1]=Math.sin((c+1)*(1/4.5))}for(var X=0;
X<f;X++){var ZO=(X-(f>>>1))*vg,U=Math.cos(ZO),vF=ZO*ZO;for(var d=0;d<A;d++){var ZE=U;if(ve==0){var ZZ=.5+Math.sqrt(vI[d]+vF)*4.5;
ZE=ZL[~~ZZ]}else if(ve==1){ZE=i[d]*U}var K=X*A+d,WY=WQ[K]*(.75+.25*ZE),Z$=vZ[(K<<2)+3]*(1/255),vd=Math.max(0,Math.min(255,~~WY));
vS+=vd*Z$,Zd+=Z$;WQ[K]=vd}}vS/=Zd;var xd=128+1.26*(vS-128),WL=.08+.25*Math.abs((128-vS)/128),xg=1+WL*WS;
for(var K=0;K<n;K++){var WY=xd+(WQ[K]-xd)*xg;WQ[K]=Math.max(0,Math.min(255,~~WY))}if(WS>46)Z.round(WQ);
Z.uY(WQ,v.buffer)}for(var K=0;K<j.buffer.length;K+=4)v.buffer[K+3]=j.buffer[K+3]};Zv.Zab=function(e){var j=[0,0,0,0,0,0,0,0,0,0,0,0,0],g=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][e];
for(var P=0;P<13;P++){var p=P-6;j[P]=1/(g*Math.sqrt(2*Math.PI))*Math.exp(-.5*(p/g)*(p/g))}return j};
Zv.ZDZ=function(e,j,g,P,p){var v=Zv.Zab(p),x=6,A=13;for(var f=0;f<P;f++)for(var S=0;S<g;S++){var F=f*g+S<<1,m=0,R=0;
for(var M=0;M<A;M++){var b=S+M-x,s=b<0?0:b>=g?g-1:b,K=(f*g+s)*2,X=v[M];m+=X*e[K];R+=X*e[K+1]}j[F]=m;
j[F+1]=R}};Zv.Zxf=function(e,j,g,P,p){var v=Zv.Zab(p),x=6,A=13;for(var f=0;f<P;f++)for(var S=0;S<g;S++){var F=f*g+S<<1,m=0,R=0;
for(var M=0;M<A;M++){var b=f+M-x,s=b<0?0:b>=P?P-1:b,K=(s*g+S)*2,X=v[M];m+=X*e[K];R+=X*e[K+1]}j[F]=m;
j[F+1]=R}};function WF(){}WF.Ev=[2,5,5,7,4,4];WF.jS="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
WF.LN="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
WF.sK=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
WF.ZxF=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
WF.TG=function(e){if(e=="passThrough")return"pass";return WF.jS[WF.LN.indexOf(e)]};WF.HH=function(e){if(e=="pass")return"passThrough";
return WF.LN[WF.jS.indexOf(e)]};WF.getName=function(e){return WF.sK[WF.jS.indexOf(e)]};function u(){this.rect=null;
this.T$="norm";this.opacity=255;this.qX=!1;this.Oz=0;this.fw=0;this.xg=[];for(var e=0;e<10;e++)this.xg.push(0,0,255,255);
this.name=null;this.add={};this.buffer=null;this.Nx=null;this.YK=null;this._=null;this.kF=null;this.ZTZ=30;
this.$O=u.Ez();this.ZTf=u.Ez();this.ZTq=u.Ez();this.ZTX=u.Ez();this.TM=0;this.iD=!1;this.JD=null;this.Q=new u.tm}u.Ez=function(){var e=V.M("canvas");
e.width=e.height=30;return e.getContext("2d")};u.tm=function(){this.oB=!0;this.VK=!0;this.hM=Z.V(0);
this.ZEr=Z.V(0);this.kX=null;this.Dw={};this.ZSv=null;this.hb=null;this.ZP=null;this.$A=null;this.yt=null;
this.uE=null;this.Af=null;this.CN=null;this.u$=null;this.ZX=null;this.oS=null;this.hw=null;this.yR=!1};
u.tm.prototype.ZeX=function(){this.oB=!1;this.VK=!1;this.kX=null;this.yR=l.Hf};u.tm.prototype.ZBd=function(){Wi.ZN$(this.Dw);
this.hM=Z.V(0);this.ZEr=Z.V(0);if(this.$A)this.$A.delete();if(this.yt)this.yt.delete();this.$A=null;
this.yt=null;var e=[this.uE,this.Af,this.CN,this.u$,this.ZX,this.oS];for(var j=0;j<6;j++)if(e[j]!=null&&e[j]instanceof l.il)e[j].delete();
this.uE=null;this.Af=null;this.CN=null;this.u$=null;this.ZX=null;this.oS=null};u.prototype.H=function(e){if(e==null)e=this.rect.clone();
if(this.Q.kX==null)this.Q.kX=e;else this.Q.kX=this.Q.kX.Gd(e)};u.prototype.CQ=function(){return this.add.lsct==vC.x_||this.add.lsct==vC.TC};
u.prototype.dz=function(){var e=this.add;return e.SoCo!=null||e.GdFl!=null||e.PtFl!=null};u.prototype.ZCW=function(){var e=this.add.lmfx;
if(e==null)return;var j=["GrFl","patternFill"];for(var g=0;g<j.length;g++){var P=Wr.uM[Wr.order.indexOf(j[g])],p=e[P].v;
if(p.length==0)continue;for(var v=0;v<p.length;v++){var x=p[v].v;if(x.enab.v&&(x.Algn==null||!x.Algn.v))this.Q.VK=!0}}};
u.prototype.ZCn=function(){var e=this._;if(this.dz())e=this.ou();if(!l.Hf)return e.sa();if(this.Q.yt==null||this.Q.oB||l.Hf!=this.Q.yR){if(this.Q.yt)this.Q.yt.delete();
this.Q.yt=new l.GN(e.SQ().W,e.SQ().j);this.Q.yt.set(e.sa())}return this.Q.yt};u.prototype.ZZl=function(e){var j=this.rect,g=this.buffer;
if(!l.Hf){var P=this.tQ(e,g,j);if(P){g=P.C$;j=P.rect}return g}if(this.Q.kX!=null||l.Hf!=this.Q.yR){var P=this.tQ(e,g,j);
if(P){g=P.C$;j=P.rect}var p=j;if(l.Hf!=this.Q.yR||this.Q.$A==null||this.Q.$A.W!=p.W||this.Q.$A.j!=p.j){if(this.Q.$A)this.Q.$A.delete();
this.Q.$A=new l.il(p.W,p.j);this.Q.$A.set(g)}else{var v=this.Q.kX.clone();v.offset(-j.x,-j.y);this.Q.$A.set(g,v)}}return this.Q.$A};
u.prototype.yp=function(){var e=this._;if(this.dz())e=this.ou();return e!=null&&e.isEnabled&&(e.W_()==0||e.W_()!=0&&!e.rect.tE())};
u.prototype.tQ=function(e,j,g){if(this.f$()){var P=this.EK(e);if(P._&&P._.isEnabled&&(!P._.rect.tE()||P._.color==0)){var p=this.add.SoLd.filterFX.v;
P._.Bh=p.filterMaskDensity?p.filterMaskDensity.v:255;P._.FZ=p.filterMaskFeather?p.filterMaskFeather.v:0;
var v=P.buffer,x=P._.Eb(g);Z.OF(x);j=Z.clone(j);Z.Y.aE(v,P.rect,j,g,x,g,0,g,1);return{C$:j,rect:g}}}};
u.prototype.ZBi=function(){var e={oH:!1,ow:!1,hl:0,hc:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)e.ow=!0;
if(this.ou()&&this.ou().isEnabled)e.oH=!0;if(e.oH&&e.ow){e.hl=this.ou().rect.x-this.add.vmsk.ou().rect.x;
e.hc=this.ou().rect.y-this.add.vmsk.ou().rect.y}return e};u.prototype.d$=function(e){if(this.add.lsct==vC.EN)return;
var j=this,g=this.ou()!=null&&this.ou().jA,P=this.add.vmsk!=null&&this.add.vmsk.jA,p=this.ZBi(),v=JSON.stringify(p)!=this.Q.ZSv||p.oH&&g||p.ow&&P;
if(v){if(p.ow){var x=this.add.vmsk.ou();if(p.oH){this._=this.ou().TS(x);this.Q.hb=new Uc(this._.rect.x-this.ou().rect.x,this._.rect.y-this.ou().rect.y)}else this._=x}if(this._)this.Q.oB=!0;
if(this._)this.Q.ZP=new Uc(this.rect.x-this._.rect.x,this.rect.y-this._.rect.y);if(p.oH)this.ou().jA=!1;
if(p.ow)this.add.vmsk.jA=!1;this.H()}else{if(p.oH&&p.ow){this._.rect.x=this.ou().rect.x+this.Q.hb.x;
this._.rect.y=this.ou().rect.y+this.Q.hb.y}}if(j.dz()){this.kn(e)}if(j.EI()){var A;if(this._)A=new Uc(this.rect.x-this._.rect.x,this.rect.y-this._.rect.y);
if(this._&&this._.isEnabled&&(this.Q.ZP==null||!A.iJ(this.Q.ZP))){this.Q.ZP=A;this.H();this.Q.oB=!0}}if(Wj.get(j.add)!=null)this.Q.oB=!0;
this.Q.ZSv=JSON.stringify(p)};u.prototype.kn=function(e){var j=this,g=j.add.vstk,P,p=j.add.vmsk?this.add.vmsk.ou():null,A=!0;
if(p&&p.isEnabled&&p.W_()==0)P=p.SQ().clone();else P=new G(0,0,e.W,e.j);var v=j.ou();if(v&&v.isEnabled&&v.W_()==0)P=P.zx(j._.SQ());
var x=p&&g;if(g&&(!g.strokeEnabled.v||g.strokeStyleLineWidth.v.val==0))x=!1;if(g&&!g.fillEnabled.v&&x)A=!1;
var f=Z.V(P.h()*4);if(A){if(j.add.SoCo)Wi.Rc(f,j.add.SoCo.Clr.v);if(j.add.GdFl)Wi.$F(j.add.GdFl,f,P,e,null,p&&p.color==0?p.rect:null);
if(j.add.PtFl)Wi.wy(j.add.PtFl,f,P,e,j.add.fxrp)}if(p){var S=p.Bh;if(x)p.Bh=255;var F=Z.V(P.h());if(p.W_()!=0)Z.set(F,Math.round(p.W_()));
if(p&&p.isEnabled){var m=p.SQ(),R=p.sa();if(m.iJ(P))Z.Ue(R,F);else Z.Oo(R,m,F,P)}if(j.add.SoCo&&A){Z.sH(F,f,3)}else Z.yF(F,P,f,P);
if(x)p.Bh=S}j.buffer=f;j.rect=P;if(x){var M=Wr.hg.IS.indexOf(g.strokeStyleLineAlignment.v.strokeStyleLineAlignment),b=g.strokeStyleContent.v,s=Wr.hg.dE.indexOf(b.classID),K=this.add.vmsk.ou(g);
if(j.rect.iJ(new G(0,0,e.W,e.j)))j.rect=j.rect;else if(M!=0){var X=j.rect.Gd(K.SQ()),d=Z.V(X.h()*4);
Z.Vy(j.buffer,j.rect,d,X);j.buffer=d;j.rect=X}var S=K.Bh;K.Bh=255;var W=K.Eb(j.rect);K.Bh=S;if(K.color==255)Z.OF(W);
var O=Z.V(j.rect.h()*4);if(s==0)Wi.Rc(O,b.Clr.v);if(s==1)Wi.$F(b,O,j.rect,e,null,p.color==0?p.rect:null);
if(s==2)Wi.wy(b,O,j.rect,e,j.add.fxrp);var H=g.strokeStyleOpacity.v.val/100;if(H!=1)Z.se(W,H);Z.sH(W,O,3);
if(K.color==255)M=2-M;if(M==0){Z.Y.$Q("norm",O,j.rect,j.buffer,j.rect,j.rect,1);Z.yF(F,j.rect,j.buffer,j.rect)}if(M==1){Z.Y.$Q("norm",O,j.rect,j.buffer,j.rect,j.rect,1)}if(M==2){Z.OF(F);
Z.Y.aE(O,j.rect,j.buffer,j.rect,F,P,255,j.rect,1,!1);Z.OF(F)}if(K.Bh!=255){var Y=Z.clone(O);Z.XC(Y,4278190080,16777215);
Z.Y.$Q("norm",Y,j.rect,j.buffer,j.rect,j.rect,1-K.Bh/255)}S=p.Bh;p.Bh=255;this.ZEr=p.Eb(j.rect);p.Bh=S}this.H()};
u.prototype.yM=function(e,j){var g=this,P=g.add.SoLd.Idnt.v,p=g.add.SoLd,v=e.om(P,p.Crop?p.Crop.v:null);
if(v==null)return;var x=v.YA;p.Sz.v.Wdth.v=x[1].W;p.Sz.v.Hght.v=x[1].j;var A=p.warp.v,f=o.t.ca(p.nonAffineTransform),S=Z.D.Or(f,x[1]);
if(A&&!Z.xL.Xx(A)){var F=Z.g.XI(Z.xL.pT(A)),m=F.x,R=F.y,M=1/F.W,b=1/F.j;S=Z.D.Or(f);S=Z.D.TS(S,[M,0,-m*M,0,b,-R*b,0,0])}var s=o.t.GZ(x,j?0:1,S,A,null,null,null,j);
if(s==null){g.buffer=Z.V();g.rect=new G}else if(g.f$()){var K=g.EK(e);K.buffer=s.buffer;K.rect=s.rect.clone();
this.xw(e,j)}else{g.buffer=s.buffer;g.rect=s.rect}g.d$(e);g.H();e.H()};u.prototype.xw=function(e,j){if(j==null)j=!1;
var g=this.EK(e),P=this.add.SoLd.filterFX.v,p=ZW.ZdM(P),v=new G(0,0,e.W,e.j),x=g.rect.Gd(v),A=g.rect.clone();
A.F_(p.x,p.y);var f={buffer:null,rect:x.zx(A)};f.buffer=Z.V(f.rect.h()*4);Z.Vy(g.buffer,g.rect,f.buffer,f.rect);
if(P.enab.v&&j==!1){var S=P.filterFXList.v;for(var F=0;F<S.length;F++){var m=S[F].v;if(m.enab.v==!1)continue;
var R=Z.c.W_(m.FrgC.v),M=Z.c.W_(m.BckC.v),b=T.pA(m.filterID.v),s=m.Fltr?m.Fltr.v:null;if(Wj.fI[b]!=null){var K=Wj.fI[b],X=Wj.fN(K,s);
if(X)Wj.eI(X,f.buffer,f.buffer,f.rect)}else f=ZW.eI(b,f,s,R,M,null,[e.add.lnk2?e.add.lnk2:[],this.ou(),e.xr])}}this.rect=f.rect;
this.buffer=f.buffer;this.Co();this.H();e.H()};u.prototype.tc=function(e,j,g){this.JD=this.ZuI(e,j,g)};
u.prototype.ZeM=function(e,j){var g=this.ZuI(e,j,!0);if(g==null)return null;var P={xb:g.TM,Nr:g.j_,rect:g.YI};
if(P.xb==1||P.xb==3){var p=P.rect,v=Z.V(p.W*p.j*4);Z.sH(P.Nr,v,0);Z.sH(P.Nr,v,1);Z.sH(P.Nr,v,2);Z.Ql(e.Z.channel,e.Z.rect,v,p);
P.Nr=v}return P};u.prototype.ZuI=function(e,j,g){var P,p,v,x,A,f,S;if(this.TM<=0){var F=Z.V(this.rect.h());
Z.bF(this.buffer,F,3);P=Z.$r.gl(j,{channel:F,rect:this.rect},"intersection");if(P==null)return null;
var m=Z.Ms(P.channel,P.rect);x=P.rect.clone();A=this.rect.clone();p=Z.V(x.h()*4);Z.Vy(this.buffer,A,p,x);
Z.sH(P.channel,p,3);v=Z.clone(this.buffer);if(!g){var R=Z.clone(j.channel);Z.OF(R);Z.yF(R,j.rect,v,A)}f=Z.clone(this.buffer);
S=this.rect.clone()}if(this.TM==1||this.TM==3){var M=this.TM==1?this.ou():this.EK(e)._;x=j.rect.clone();
A=M.rect.clone();p=M.ZOe(x);var v=Z.clone(M.channel);if(!g)Z.Y.Lk(M.color==255?Z.um(x.h()):Z.vK(x.h()),x,v,A,j.channel,x,1);
f=Z.clone(M.channel);S=M.rect.clone()}return{TM:this.TM,j_:p,YI:x,jm:v,ui:A,Mr:f,MZ:S}};u.prototype.qr=function(e,j){var g=this.JD;
if(g.TM==0){this.rect=g.MZ;this.buffer=g.Mr;this.H()}if(g.TM==1||g.TM==3){var P=g.TM==1?this.ou():this.EK(e)._;
P.channel=g.Mr;P.rect=g.MZ;if(this.TM==1){P.jA=!0;this.d$(e)}if(this.TM==3)this.H()}this.JD=j};u.prototype.kK=function(e,j){if(this.TM<=0&&j.rect.iJ(this.rect)){var g=Z.V(this.rect.h());
Z.bF(this.buffer,g,3);if(Z.iJ(e.Z.channel,g)){var P=this.rect,p=this.buffer;this.JD={TM:this.TM,j_:p.slice(0),YI:P.clone(),jm:Z.V(0),ui:new G,Mr:Z.V(0),MZ:new G};
return!0}}var v=this.JD;if(v==null)return!1;if(v.TM!=this.TM)return!1;if(!j.rect.iJ(v.YI))return!1;var x=v.ui.Gd(v.YI);
if(v.TM<=0){if(!x.iJ(this.rect))return!1;var A=Z.V(v.j_.length>>2);Z.bF(v.j_,A,3);if(!Z.iJ(j.channel,A))return!1;
var f=Z.V(x.W*x.j*4);Z.Vy(v.jm,v.ui,f,x);Z.Y.$Q("norm",v.j_,v.YI,f,x,x,1);return Z.iJ(f,this.buffer)}if(v.TM==1||v.TM==3){var S=v.TM==1?this.ou():this.EK(e)._;
if(!x.iJ(S.rect))return!1;var F=Z.V(x.h());Z.set(F,S.color);Z.Oo(v.jm,v.ui,F,x);Z.Y.Lk(v.j_,v.YI,F,x,j.channel,x,1);
return Z.iJ(F,S.channel)}};u.prototype.sU=function(e,j,g,P){var p=this.JD;p.YI.offset(j,g);var v=p.ui.Gd(p.YI);
if(p.TM<=0){var x=Z.V(v.h()*4);Z.Vy(p.jm,p.ui,x,v);Z.Y.$Q("norm",p.j_,p.YI,x,v,v,1);this.buffer=x;this.rect=v;
this.H()}else{var A=this.TM==1?this.ou():this.EK(e)._,f=Z.V(v.h());Z.set(f,A.color);Z.Oo(p.jm,p.ui,f,v);
Z.Y.Lk(p.j_,p.YI,f,v,P.channel,v,1);A.channel=f;A.rect=v.clone();if(this.TM==1){A.jA=!0;this.d$(e)}if(this.TM==3)this.H()}};
u.prototype.ZCg=function(){var e=[-1,0,1,2];if(this._)e.push(-2);if(this.kF)e.push(-3);return e};u.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
u.prototype.tG=function(e){this.add.luni=this.name=e};u.prototype.qv=function(e){var j=this.add.lnsr,g=this.add.TySh;
if(j=="rend"&&g)this.tG(Wf.UW(g.xe).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))};u.prototype.Je=function(){return(this.Oz&1<<1)==0};
u.prototype.EI=function(){return(this.Oz&1<<4)==0};u.prototype.uy=function(){return(this.Oz&1<<5)!=0};
u.prototype.ZBj=function(){var e=this;if(e.add.lnsr!="bgnd"){e.add.lnsr="bgnd";e.tG("Background");e.add.lspf=1<<2}};
u.prototype.ZBR=function(){var e=this;if(e.add.lnsr=="bgnd"){delete e.add.lnsr;e.tG("Layer 0");e.add.lspf=0}};
u.prototype.Ku=function(e){var j=this.add.lspf;return j==null?!1:(j>>e&1)!=0};u.prototype.Pd=function(e){if(e&&!this.Je())this.Oz-=2;
if(!e&&this.Je())this.Oz+=2};u.prototype.k$=function(){var e=this.add.lmfx;if(e==null)return!1;for(var j in e){if(j=="masterFXSwitch")continue;
if(j=="Scl")continue;if(j=="classID")continue;if(e[j].v.length>0)return!0}return!1};u.prototype.f$=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
u.prototype.eh=function(){var e=this.add.lmfx;if(e==null)return!1;if(!e.masterFXSwitch.v)return!1;for(var j in e){if(j=="masterFXSwitch")continue;
if(j=="Scl")continue;if(j=="classID")continue;var g=e[j].v;for(var P=0;P<g.length;P++)if(g[P].v.enab.v)return!0}return!1};
u.prototype.Eu=function(e,j,g,P){var p=new G,v=this.kb(e,g,P);if(v.indexOf(0)!=-1)p=p.Gd(this.rect);
if(v.indexOf(1)!=-1)p=p.Gd(this.ou().SQ());if(v.indexOf(2)!=-1){var x=this.add.vmsk,A;if(j){if(x.Om.length>1){var f=Z.f.Mq(x.F,null,x.Om);
A=Z.g.XI(f)}else A=Z.f.Gx(x.F,x.b.length!=0?x.b:null)}else A=Z.f.Gx(x.F);p=p.Gd(A)}if(v.indexOf(3)!=-1)p=p.Gd(this.EK(e)._.SQ());
if(v.length==0&&this.dz())p=new G(0,0,e.W,e.j);return p};u.prototype.EX=function(){var e=this.add.artb.artboardRect.v,j=e.Btom.v,g=e.Left.v,P=e.Rght.v,top=e.Top.v;
return new G(g,top,P-g,j-top)};u.prototype.fl=function(e){var j=u.ZCp(e);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=j};u.ZCp=function(e){var j={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
j.Btom.v=e.y+e.j;j.Left.v=e.x;j.Rght.v=e.x+e.W;j.Top.v=e.y;return j};u.prototype.kb=function(e,j,g){var P=[],p=this,v=this.iD;
if(!j&&p.iD&&g){P.push(2)}else if(p.TM<=0||j){if(p.EI())if(!this.rect.tE())P.push(0);if(p.ou()&&!p.ou().rect.tE())if(p.ou().Hm||j)P.push(1);
if(p.add.vmsk)if(p.add.vmsk.Hm||j)P.push(2);if(p.f$()&&p.EK(e)._&&!p.EK(e)._.rect.tE())P.push(3)}else if(p.TM==1){P.push(1);
if(p.ou().Hm&&!p.ou().rect.tE()){if(p.EI())if(!this.rect.tE())P.push(0);if(p.add.vmsk)if(p.add.vmsk.Hm)P.push(2)}}else if(p.TM==3&&!p.EK(e)._.rect.tE())P.push(3);
if(p.add.artb&&P.indexOf(0)==-1)P.push(0);P.sort();return P};u.prototype.ou=function(){var e=this;return e.kF?e.kF:e.add.vmsk&&e.add.vmsk.isEnabled?null:e._};
u.prototype.EK=function(e){var j=this.add.SoLd.placed.v,g=e.add.FEid;if(g==null)return null;for(var P=0;
P<g.length;P++)if(g[P].id==j)return g[P];return null};u.prototype.extend=function(e){Z.ZgT(this,e)};
u.prototype.ZgB=function(e,j,g){var P=e.clone();if(this.eh()){var p=this.add.lmfx,v=j.root.oA(j.T.indexOf(this)),x=p.gradientFillMulti.v,A=!1;
for(var f=0;f<x.length;f++)if(x[f].v.enab.v&&x[f].v.Algn.v)A=!0;if(A)P=P.Gd(v.SQ(j,!1));var S=Wi.ZaP(this,j,g);
P.offset(S.x,S.y);P.W+=S.W;P.j+=S.j}return P};u.prototype.Co=function(){if(this.EI())Z.sL(this);var e=this.ou();
if(e)e.Co()};u.prototype.clone=function(){var e=new u;e.rect=this.rect.clone();e.buffer=Z.clone(this.buffer);
e.T$=this.T$;e.opacity=this.opacity;e.qX=this.qX;e.Oz=this.Oz;e.name=this.name;e.xg=this.xg.slice(0);
if(this._)e._=this._.clone();if(this.kF)e.kF=this.kF.clone();for(var j in this.add)e.add[j]=UN.clone(j,this.add[j]);
return e};u.prototype.Zgm=function(e){var j=this;if(j.add.TySh)delete j.add.TySh;if(j.add.SoLd){var g=this.tQ(e,this.buffer,this.rect);
if(g){this.buffer=g.C$;this.rect=g.rect;this.H()}delete j.add.SoLd}if(j.add.SoCo||j.add.GdFl||j.add.PtFl){if(j.add.vogk)delete j.add.vogk;
if(j.add.SoCo)delete j.add.SoCo;if(j.add.GdFl)delete j.add.GdFl;if(j.add.PtFl)delete j.add.PtFl;if(j.add.vmsk){console.log(j.kF,j._);
delete j.add.vmsk;if(j.kF==null&&j._)delete j._;else if(j.kF!=null&&j._!=null){j._=j.kF;delete j.kF}}}if(!j.CQ()&&Wj.get(j.add)==null&&!this.EI())this.Oz-=16};
u.prototype.ZDn=function(e){var j=255,g=0;if(e==2){var P=this.add.SoLd.filterFX.v;if(P.filterMaskDensity)j=P.filterMaskDensity.v;
if(P.filterMaskFeather)g=P.filterMaskFeather.v}else{var p=e==0?this.ou():this.add.vmsk;j=p.Bh;g=p.FZ}return{Fh:e,fS:j,fF:g}};
u.prototype.ZEd=function(e){if(e.Fh==2){var j=this.add.SoLd.filterFX.v;if(e.fS==255)delete j.filterMaskDensity;
else j.filterMaskDensity={t:"long",v:e.fS};if(e.fF==0)delete j.filterMaskFeather;else j.filterMaskFeather={t:"doub",v:e.fF};
this.H()}else{var g=e.Fh==0?this.ou():this.add.vmsk;g.Bh=e.fS;g.FZ=e.fF;g.jA=!0}};u.prototype.Vd=function(){var e=this,j=e.add.vmsk;
if(j==null)return;e.add.vogk=u.Vd(j.F)};u.Vd=function(e){var j=[],g=Z.f.iI(e);for(var P=0;P<g;P++)j.push(Z.uF.vK());
return j};var vC={qg:0,x_:1,TC:2,EN:3};u.IP=function(){this.name="Mask";this.IN=!1;this.xI={k:255,z:0,e:0};
this.Nn=50;this.Gm=0;this.color=255;this.Hm=!0;this.isEnabled=!0;this.Vs=!1;this.Bh=255;this.FZ=0;this.rect=new G;
this.channel=Z.V(0);this.kE=null;this.ZiB=null;this.jA=!0};u.IP.prototype.TS=function(e){if(!this.isEnabled)return e;
var j=new u.IP;j.color=Math.round(this.W_()*e.W_()/255);if(this.W_()==0&&e.W_()==0)j.rect=this.SQ().zx(e.SQ());
else if(e.W_()==0)j.rect=e.SQ().clone();else if(this.W_()==0)j.rect=this.SQ().clone();else j.rect=this.SQ().Gd(e.SQ());
j.channel=this.Eb(j.rect);j.Bh=255;j.FZ=0;var g=e.Eb(j.rect);Z.ZgU(g,j.rect,j.channel,j.rect);return j};
u.IP.prototype.SQ=function(){if(this.FZ==0)return this.rect;var e=Math.ceil(this.FZ*2.2),j=this.rect.clone();
j.F_(e,e);return j};u.IP.prototype.sa=function(){if(this.FZ==0&&this.Bh==255)return this.channel;if(this.FZ==0){var e=Z.clone(this.channel);
Z.OF(e);Z.se(e,this.Bh/255);Z.OF(e);return e}var j=this.SQ(),g=this.ZOe(j),e=Z.V(j.h());Z.blur.Mj(g,e,j,this.FZ);
if(this.Bh!=255){Z.OF(e);Z.se(e,this.Bh/255);Z.OF(e)}return e};u.IP.prototype.W_=function(){return Math.round(255-(255-this.color)*(this.Bh/255))};
u.IP.prototype.extend=function(e){Z.extend(this,e,this.color)};u.IP.prototype.Co=function(){if(this.color==255)Z.OF(this.channel);
Z.Co(this);if(this.color==255)Z.OF(this.channel)};u.IP.prototype.clone=function(){var e=new u.IP;e.name=this.name;
e.IN=this.IN;e.xI=this.xI;e.Nn=this.Nn;e.Gm=this.Gm;e.color=this.color;e.Hm=this.Hm;e.isEnabled=this.isEnabled;
e.Vs=this.Vs;e.Bh=this.Bh;e.FZ=this.FZ;e.rect=this.rect.clone();e.channel=Z.clone(this.channel);return e};
u.IP.prototype.ZOe=function(e,j){if(j==null)j=Z.V(e.h());Z.set(j,this.color);Z.Oo(this.channel,this.rect,j,e);
return j};u.IP.prototype.Eb=function(e,j){var g=this.SQ(),P=this.sa();if(j==null)j=Z.V(e.h());Z.set(j,this.W_());
Z.Oo(P,g,j,e);return j};u.nt=function(){this.Hm=!0;this.isEnabled=!0;this.Bh=255;this.FZ=0;this.F=[{type:6},{type:8,all:0}];
this.sG=[-3,-3];this.CI=!1;this.kF=null;this.jA=!0;this.b=[];this.Om=[]};u.nt.prototype.offset=function(e,j){this.kF=this.ou();
Z.f.Ly(this.F,new WE(1,0,0,1,e,j));this.kF.rect.offset(e,j)};u.nt.prototype.ou=function(e){if(!this.jA&&this.kF&&e==null){this.kF.isEnabled=this.isEnabled;
return this.kF}var j=Z.f.Gx(this.F);if(j.h()>3e4*3e4)j=new G(0,0,100,100);if(e){var g=Math.ceil(e.strokeStyleLineWidth.v.val);
j.F_(g,g)}j=Z.g.FD(j);var P=new u.IP;P.color=Z.f.xj(this.F)?0:255;P.Hm=this.Hm;P.isEnabled=this.isEnabled;
P.Vs=!0;P.rect=j;P.Bh=this.Bh;P.FZ=this.FZ;P.channel=Z.V(P.rect.h());if(!j.tE())Z.f.ZrH(this.F,P.channel,P.rect,e);
if(e==null){this.kF=P;this.jA=!1}return P};u.nt.prototype.clone=function(){var e=new u.nt;e.Hm=this.Hm;
e.isEnabled=this.isEnabled;e.Bh=this.Bh;e.FZ=this.FZ;e.F=u.nt.xm(this.F);e.sG=this.sG.slice(0);e.CI=this.CI;
e.b=this.b.slice(0);e.Om=this.Om.slice(0);return e};u.nt.prototype.concat=function(e){var j=e.F.slice(2);
if(j.length==0)return;j[0].WF=3;this.F=this.F.concat(j)};u.nt.xm=function(e){var j=[];for(var g=0;g<e.length;
g++){var P=e[g];if(P.type>5||P.type==0||P.type==3)j.push(JSON.parse(JSON.stringify(P)));else j.push({type:P.type,Li:P.Li.clone(),G:P.G.clone(),ap:P.ap.clone()})}return j};
u.nt.ZBh=function(e,j,g){if(e.length!=j.length)return!1;for(var P=2;P<e.length;P++){var p=e[P],v=j[P];
if(p.type!=v.type)return!1;if(p.type==0||p.type==3){if(p.length!=v.length||!g&&p.WF!=v.WF)return!1}else if(!p.Li.iJ(v.Li)||!p.G.iJ(v.G)||!p.ap.iJ(v.ap))return!1}return!0};
u.nt.prototype.Zyx=function(){var e=this.F;for(var j=3;j<e.length;j++)if(e[j].type==0||e[j].type==3)e[j].WF=-1};
u.uN=function(){this.type=null;this.iw=2;this.Bv=null;this.ib="";this.Tm="";this.Yo="";this.open=0;this.raw=null;
this.YA=null};u.uN.prototype.clone=function(){var e=new u.uN;e.type=this.type;e.iw=this.iw;e.Bv=this.Bv;
e.ib=this.ib;e.Tm=this.Tm;e.Yo=this.Yo;e.open=this.open;e.raw=new Uint8Array(this.raw.buffer.slice(0));
return e};u.uN.prototype.Gj=function(e){var j=this;if(j.YA)return;var g=Wg.uK(j.raw.buffer);if(g!="svg"&&g!="pdf")e=0;
if(g==null){alert("Unsupported format: "+T.ko(j.raw,0,4));return null}var P=Wg.Hr(g);if(P.px){var p=new ZT(name+(g=="psd"?"":"-"+g)+".psd");
P.vn(j.raw.buffer,p);for(var v=0;v<p.T.length;v++)if(p.T[v].dz())p.T[v].d$(p);p.Ub();p.H();p.Nf();j.YA=[p.Gj(),new G(0,0,p.W,p.j)]}else if(P){var x=P.vn(j.raw.buffer)[0];
j.YA=[new Uint8Array(x.data),x.Fa]}if(j.YA){if(e==1){var A=j.YA[0],f=j.YA[1],S=Z.V(f.h());Z.bF(A,S,3);
var F=Z.Ms(S,f),m=Z.V(F.h()*4);Z.Vy(A,f,m,F);j.YA=[m,F]}Z.ZG(j.YA)}};u.hq="0";u.Es="2";u.sm="2.5";u.ZxY="3";
u.uI="4";u.Zun="5";u.qL="5.5";u.Zub="6";u.qT="7";u.Zdj="7.5";u.xN="8";u.up="9";u.CZ="9.3";u.qE="9.5";
u.ZBA="9.6";u.xz="10";u.KW="11";u.Cf="12";u.Kb="13";u.kQ="13.5";u.qH="13.7";u.$f="14";u.FW="14.5";u.ah="15";
u.EP="16";u.Cx="17";u.FC="18";u.Zyg="19";u.Fg="19.5";u.xS="19.6";u.Ft="19.7";u.xY="20";u.Ux="21";u.$x="21.5";
u.CU="22";u.Fq="22.5";u.EY="23";u.Z$u="24";u.Uv="25";u.ZzQ="26";u.ZZp="27";u.Ci="28";u.CT="29";u.Cs="30";
u.UU="31";u.ER="32";u.FI="33";u.CK="34";u.CY="35";u.$W="36";u.F$="36.5";u.$v="37";u.UB="37.5";u.Z$z="37.6";
u.$e="38";u.CM="38.5";u.FA="38.6";u.jF="39";u.$V="40";u.ZZ_="41";u.Zfo="42";u.Cc="50";u.gr="51";u.Fk="52";
u.Fb="53";u.qs="54";u.Zxt="54.5";u.Zuy="54.6";u.ZCG="54.7";u.gZ="54.8";u.$J="55";u.SU="56";u.Un="57";
u.Fc="58";u.q$="59";function vH(){this.depth=0;this.index=-1;this.$=null;this.ZrC=null;this.Mf=-1;this.children=null;
this.parent=null;this.Mx=null}vH.prototype.ZyW=function(){var e=0;if(this.$.CQ()){for(var j=0;j<this.children.length;
j++)e+=this.children[j].ZyW()}else if(this.$.buffer)e+=this.$.buffer.length;return e};vH.prototype.oA=function(e){var j=this.Mx[e];
return this.Mx[e]};vH.prototype.Zgc=function(e,j){var g=this.$;if(!g.Je()||g.Ku(2)||g.Ku(31))return null;
if(g.yp()){var P=g._.rect.cV(e);if(!P&&g._.color==0)return}if(g.CQ()){for(var p=0;p<this.children.length;
p++){var v=this.children[p];v.Zgc(e,j)}}else if(g.rect.cV(e))j.push(this.index)};vH.prototype.hE=function(e,j){var g=this.$;
if(!g.Je()||g.Ku(2)||g.Ku(31))return null;if(g.yp()){if(g._.rect.uC(e)){if(!Z.hE(e,g._.channel,g._.rect))return null}else if(g._.color==0)return null}if(g.CQ()){for(var P=this.children.length-1;
P>=0;P--){var p=this.children[P],v=p.hE(e,j);if(v&&j==null)return v}return null}else if(g.add.TySh&&g.rect.uC(e)||Z.Zne(e,g.buffer,g.rect)){if(j==null)return this;
else j.push(this.index)}return null};vH.prototype.Zyh=function(e){var j=this.$;if(!j.Je()||j.Ku(2)||j.Ku(31))return null;
var g=j.add.vmsk;if(g&&g.isEnabled){var P=Z.f.hE(g.F,e).VS;if(P!=-1)return{ZiN:this,ZiD:P}}if(j.CQ()){for(var p=this.children.length-1;
p>=0;p--){var v=this.children[p],x=v.Zyh(e);if(x)return x}return null}return null};vH.prototype.ZBg=function(e,j){e.push(this.index);
if(this.$.CQ()){e.push(this.Mf);if(j)if(this.$.TM==1&&this.$.ou().Hm==!1)return;for(var g=0;g<this.children.length;
g++)this.children[g].ZBg(e)}};vH.prototype.Qf=function(e,j,g){var P=this.$,p,v;if(P.CQ()&&P.add.artb!=null)j=P.EX();
if(j.W>j.j){p=g;v=Math.floor(g*(j.j/j.W))}else{p=Math.floor(g*(j.W/j.j));v=g}if(P.dz()&&P.add.vmsk==null||P.add.TySh)p=v=Math.max(v,16);
var x=v,A=P.dz()&&P.add.vmsk;if(A){var f=P.rect.clone(),m,R;if(f.tE())f=new G(0,0,20,20);var S=f.W,F=f.j;
if(S>F){m=g;R=Math.floor(g*(F/S))}else{m=Math.floor(g*(S/F));R=g}if(m*R==0)m=R=16;Z.jk.xt(P.$O,m,R,f,P.buffer,P.rect,!1);
Z.jk.ZsM(P.$O,m,R);x=R}else if(P.add.TySh){Z.jk.Zs_(P.$O,x,x,P.add.TySh)}else if(P.add.SoCo){x=Math.max(16,Math.min(p,v));
Z.jk.Zsl(P.$O,x,x,P.add.SoCo)}else if(P.add.GdFl){Z.jk.ZKc(P.$O,x,x,P.add.GdFl)}else if(P.add.PtFl){Z.jk.Z$U(P.$O,x,x,P.add.PtFl,e)}else if(Wj.get(P.add)!=null){Z.jk.ZKR(P.$O,x,x,P.add)}else if(P.add.SoLd){Z.jk.xt(P.$O,p,v,j,P.buffer,P.rect,!1);
Z.jk.Zsj(P.$O,p,v,P.add.SoLd)}else if(P.CQ()){x=16}else{if(P.EI())Z.jk.xt(P.$O,p,v,j,P.buffer,P.rect,!1);
else{Z.jk.ZKU(P.$O,x,x)}}var M=P.ou();if(M)Z.jk.xD(P.ZTf,p,v,j,M);if(P.f$()&&P.EK(e)&&P.EK(e)._){var b=P.EK(e)._;
Z.jk.xD(P.ZTX,p,v,j,b)}if(!A&&P.add.vmsk){Z.jk.xD(P.ZTq,p,v,j,P.add.vmsk.ou(),!0)}if(P.add.vmsk||M)x=Math.max(x,v);
P.ZTZ=Math.max(x,16);if(P.CQ()&&P.add.lsct==vC.x_)for(var s=0;s<this.children.length;s++)this.children[s].Qf(e,j,g)};
vH.prototype.ZGW=function(e,j,g,P){this.depth=g;var p=e[j];if(P==null)P=[];this.Mx=P;if(p.add.lsct==vC.EN){this.ZrC=p;
this.Mf=j-1;this.children=[];var v=j+1;while(!0){var x=e[v];if(x==null)console.log(v,e.length);if(x.add.lsct==vC.x_||x.add.lsct==vC.TC){if(p.add.lyid==x.add.lyid)p.add.lyid+=16777215;
this.$=x;this.index=v-1;P[this.index]=this;P[j-1]=this;break}var A=new vH;A.parent=this;v=A.ZGW(e,v,g+1,P);
this.children.push(A)}return v+1}else{this.$=p;this.index=j-1;P[this.index]=this;return j+1}};vH.prototype.qO=function(e,j,g,P){var p=this.oA(g),v=e;
while(p.parent!=null){v=p.$.ZgB(v,j,P);p=p.parent}return v};vH.prototype.SQ=function(e,j){var g=this.$,P=new G;
if(!g.Je())return P;var p=g.ou();if(g.CQ())for(var v=0;v<this.children.length;v++){var x=this.children[v].SQ(e,!0);
P=P.Gd(x)}else if(Wj.get(g.add)!=null)P=g.yp()&&g._.color==0?g._.SQ().clone():new G(0,0,e.W,e.j);else if(g.dz()&&g.add.vmsk&&g.add.vmsk.isEnabled&&g.add.vstk){P=g.rect.clone()}else if(g.dz()&&p&&p.isEnabled&&p.W_()!=0)P=new G(0,0,e.W,e.j);
else{P=g.Eu(e,!1,!0);if(g.add.vmsk)P=Z.g.FD(P)}return j?g.ZgB(P,e):P};vH.prototype.ZIg=function(e,j,g,P,p){var v=this.$,x=Wi.xK(v);
if(!v.Je())return;if(v.opacity==255){this.ZVr(e,j,g,P,p);return}var A=Z.clone(e);this.ZVr(A,j,g,P,p);
Z.Y.aE(A,j,e,j,null,null,0,g,v.opacity/255,v.T$=="diss")};vH.prototype.ZVr=function(e,j,g,P,p){var v=this.$,x=Wi.xK(v),A=Wj.get(v.add)!=null,m,b;
if(v.CQ()&&v.T$=="pass"&&!v.yp()&&!(p.length>0||x.fill!=1||v.eh())){this.oU(e,j,g,P);return}var f=v.CQ()&&v.T$=="pass"&&(p.length>0||x.fill!=1||v.eh()),S=v.rect,F=v.buffer;
if(v.CQ()){S=this.SQ(P,!1);var R=Z.V(S.h()*4);m=Z.V(S.h());this.oU(R,S,g,P);Z.bF(R,m,3)}else if(A){S=j.clone();
m=Z.V(S.h());Z.set(m,255)}else{S=v.rect;m=Z.V(S.h());Z.bF(F,m,3)}if(v.yp()){var M=v._.Eb(S);Z.sN(M,m)}if(v.eh())b=Wi.Lx(v.add.lmfx,v.add.fxrp,m,S,P);
if(v.eh())Wi.ZHb(v.add.lmfx,b,S,e,j,g);if(v.CQ()){F=Z.V(S.h()*4);if(v.T$=="pass")Z.Vy(e,j,F,S);if(f){var R=Z.V(S.h()*4);
this.oU(R,S,g,P);var s=Z.V(S.h());Z.bF(R,s,3);Z.yF(s,S,F,S)}this.oU(F,S,g,P)}if(A){F=Z.clone(e);Z.XC(F,4278190080,16777215);
var K=Wj.get(v.add),X=Wj.fN(K,v.add[K]);Wj.eI(X,F,F,S)}var d=Z.clone(F);Z.XC(d,4278190080,16777215);
for(var W=0;W<p.length;W++)p[W].ZIg(d,S,g,P,[]);var O=Z.V(S.h()*4);Z.Vy(e,j,O,S);if(A)x.sV=!0;Z.Y.$Q(v.T$=="pass"?"norm":v.T$,d,S,O,S,g,1,x);
if(v.eh()){var H=v.Q.Dw.type.FrFX,Y=null;if(H.length!=0){Y=H[0];for(var W=0;W<H.length;W++)if(H[W].OS.W>Y.OS.W)Y=H[W];
var y=Z.V(Y.OS.W*Y.OS.j*4);Z.Vy(e,j,y,Y.OS)}Wi.ZsP(v.add.lmfx,b,S,e,j,g,O,y,Y?Y.OS:null)}Z.Y.aE(O,S,e,j,m,S,0,g,1,v.T$=="diss")};
vH.prototype.oU=function(e,j,g,P){var p=this.children;for(var v=0;v<p.length;v++){var x=[];for(var A=v+1;
A<p.length;A++)if(p[A].$.qX)x.push(p[A]);else break;p[v].ZIg(e,j,g,P,x);v+=x.length}};vH.os={delete:function(e){if(e&&e.W)e.delete()},V:function(e,j){return l.Hf?new l.il(e,j):Z.V(e*j*4)},aM:function(e,j,g){if(l.Hf){if(e==null||e.W!=j||e.j!=g){vH.os.delete(e);
return new l.il(j,g)}}else{if(e==null||!(e instanceof Uint8Array)||e.length!=j*g*4){vH.os.delete(e);
return Z.V(j*g*4)}}return e},Oo:function(e,j,g,P,p){(l.Hf?l.ul:Z.Vy)(e,j,g,P,p)},aE:function(e,j,g,P,p,v,x,A,f,S){(l.Hf?l.Y.Oh:Z.Y.aE)(e,j,g,P,p,v,x,A,f,S)},$Q:function(e,j,g,P,p,v,x,A){if(l.Hf)l.Y.Np(e,j,g,P,p,v,x,A);
else Z.Y.$Q(e,j,g,P,p,v,x,A)},XC:function(e,j,g){if(l.Hf){l.pW(e);l.qp(j,g)}else Z.XC(e,j,g)},ZyM:function(e,j,g,P,p){if(l.Hf){l.Y.Oh(null,null,P,p,e,j,g,p,1,!1)}else{if(g==255)Z.yF(e,j,P,p);
else{var v=Z.V(j.h());Z.uw(P,p,v,j);Z.sN(e,v);Z.XC(P,0,16777215);Z.Ql(v,j,P,p)}}},u_:function(e,j,g,P){if(l.Hf)l.Y.Oh(null,null,g,P,e,j,0,P,1,!1);
else Z.u_(e,j,g,P)}};vH.prototype.qj=function(e,j,g,P,p,v){var x=typeof v=="number";if(!this.$.CQ()&&(x&&this.index>v||!x&&v.indexOf(this.index)==-1)){return}var A=this.$,f=Wi.xK(A),S=vH.os,F=A.dz()?A.ou():A._;
if(!A.Je())return;if(A.yp()&&F.rect.tE()){return}if(A.add.vstk==null&&this.SQ(P,!1).tE()&&A.add.artb==null){return}var m=this.SQ(P,!0).zx(g);
if(!j.iJ(g)&&!g.cV(m)&&A.add.artb==null)return;if(A.CQ()&&A.add.artb){var R=A.EX(),b=0;g=g.zx(R);var M=A.add.artb.artboardBackgroundType.v;
if(M==1)b=4294967295;else if(M==2)b=4278190080;else if(M==3)b=0;else if(M==4){b=A.add.artb.Clr.v;b=255<<24|b.Bl.v<<16|b.Grn.v<<8|b.Rd.v}else throw M;
if(l.Hf){l.pW(e,g);l.qp(b)}else Z.ZCL(e,j,g,b)}var s=vH.ZCI(A,p);if(!s){this.Zgn(e,j,g,P,p,v);return}A.Q.uE=S.aM(A.Q.uE,m.W,m.j);
S.Oo(e,j,A.Q.uE,m,g);this.Zgn(A.Q.uE,m,g,P,p,v);S.aE(A.Q.uE,m,e,j,null,null,0,g,A.opacity/255,A.T$=="diss")};
vH.ZCI=function(e,j){return e.opacity!=255&&(j.length!=0||e.CQ()||e.eh())};vH.Zyw={Q:{}};vH.prototype.Zgn=function(e,j,g,P,p,v){var x=this.$,A=Wi.xK(x),f=Wj.get(x.add)!=null,S=vH.os,F=vH.ZCI(x,p),m=F?1:x.opacity/255,R=x.dz()?x.ou():x._,M=x.CQ()&&x.T$=="pass"&&!(p.length>0||A.fill!=1||x.eh()),b=!x.CQ()&&!f&&!x.eh()&&p.length==0,s=f&&!x.eh()&&p.length==0,H=null,Y=null,y=null,I;
if(M||b||s){var K=e,X=j;if(x.yp()){X=this.SQ(P,!1);K=x.Q.u$=S.aM(x.Q.u$,X.W,X.j);S.Oo(e,j,x.Q.u$,X)}if(M)this.qP(K,X,g,P,v);
if(b)S.$Q(x.T$,x.ZZl(P),x.rect,K,X,g,m,A);if(s){var d=x.yp()&&R.W_()==0?R.SQ().clone():X.clone(),W=x.Q;
if(d.iJ(new G(0,0,P.W,P.j)))W=vH.Zyw;W.CN=this.ZnC(K,X,W.CN,d,x.add);A.sV=!0;S.$Q(x.T$,W.CN,d,K,X,g,m,A)}if(x.yp())S.aE(K,X,e,j,x.ZCn(),R.SQ(),R.W_(),g,1,x.T$=="diss");
x.Q.ZeX();return}var O=x.CQ()&&x.T$=="pass"&&(p.length>0||A.fill!=1||x.eh()),d=x.rect;if(x.CQ()){d=this.SQ(P,!1);
y=x.Q.CN=S.aM(x.Q.CN,d.W,d.j);S.XC(y,0);this.qP(y,d,d,P,v);Y=S.aM(x.Q.Af,d.W,d.j);S.Oo(y,d,Y,d)}else if(f){d=x.yp()&&R.W_()==0?R.SQ().clone():j.clone();
Y=S.aM(x.Q.Af,d.W,d.j);S.XC(Y,4294967295)}else{d=x.rect;H=x.ZZl(P);Y=S.aM(x.Q.Af,d.W,d.j);S.Oo(H,d,Y,d)}x.Q.Af=Y;
if(x.yp())S.ZyM(x.ZCn(),R.SQ(),R.W_(),Y,d);if(x.eh())if(x.Q.kX||x.Q.VK||x.Q.yR!=l.Hf||x.Q.oB||x.CQ()){var B=Z.V(d.W*d.j);
if(l.Hf){if(!x.CQ()&&x.ou()==null&&x.rect.iJ(d))Z.bF(x.buffer,B,3);else{var c=Z.V(d.W*d.j*4);Y.get(c);
Z.bF(c,B,3)}}else Z.bF(Y,B,3);if(x.Q.VK||x.Q.yR!=l.Hf||!Z.iJ(B,x.Q.hM)){var $=null;if(x.dz()&&x.add.vmsk&&x.add.vmsk.isEnabled&&x.add.vmsk.ou().color==0)$=x.add.vmsk.ou().rect;
Wi.Zah(x.Q.Dw,B,d,x.add.lmfx,x.add.fxrp,P,$);x.Q.hM=B}}if(x.eh())Wi.ZHb(x.add.lmfx,x.Q.Dw,d,e,j,g);if(x.CQ()){H=S.aM(x.Q.u$,d.W,d.j);
S.XC(H,0);if(x.T$=="pass")S.Oo(e,j,H,d);if(O)S.u_(y,d,H,d);this.qP(H,d,g,P,v);x.Q.u$=H}if(f){H=x.Q.u$=this.ZnC(e,j,x.Q.u$,d,x.add)}if(x.CQ()||f)I=H;
else{I=S.aM(x.Q.u$,d.W,d.j);S.Oo(H,d,I,d,g);x.Q.u$=I}S.XC(I,4278190080,16777215);for(var r=0;r<p.length;
r++)p[r].qj(I,d,g,P,[],v);var i=x.Q.ZX=S.aM(x.Q.ZX,d.W,d.j);S.Oo(e,j,i,d,g);if(f)A.sV=!0;S.$Q(x.T$=="pass"?"norm":x.T$,I,d,i,d,g,1,A);
if(x.eh()){var U=x.Q.Dw.type.FrFX,N=null;if(U.length!=0){N=U[0];for(var r=0;r<U.length;r++)if(U[r].OS.W>N.OS.W)N=U[r];
x.Q.oS=S.aM(x.Q.oS,N.OS.W,N.OS.j);S.Oo(e,j,x.Q.oS,N.OS,g);x.Q.hw=S.aM(x.Q.hw,N.OS.W,N.OS.j)}Wi.ZsP(x.add.lmfx,x.Q.Dw,d,e,j,g,i,x.Q.oS,x.Q.hw,N?N.OS:null)}if(!l.Hf){var C=Z.V(d.h());
Z.bF(Y,C,3);Y=C}S.aE(i,d,e,j,Y,d,0,g,1,x.T$=="diss");x.Q.ZeX()};vH.prototype.ZnC=function(e,j,g,P,p){var v=Wj.get(p),x;
if(v)x=Wj.fN(v,p[v]);var A=vH.os;g=A.aM(g,P.W,P.j);if(!(l.Hf&&j.iJ(P)))A.Oo(e,j,g,P);if(x){if(l.Hf){var f=P.clone();
f.x=f.y=0;if(j.iJ(P)){l.pW(g,f);Wj.XX(x,e.FL,f)}else{l.pW(g,P);g.qz(P);Wj.XX(x,g.Hj,f)}}else Wj.eI(x,g,g,P)}return g};
vH.prototype.qP=function(e,j,g,P,p){var v=this.children;for(var x=0;x<v.length;x++){var A=[];for(var f=x+1;
f<v.length;f++)if(v[f].$.qX)A.push(v[f]);else break;v[x].qj(e,j,g,P,A,p);x+=A.length}};function ZT(e){this.name=e;
this.Ng=-1;this.$_=null;this.pp=null;this.OZ=null;this.OL=null;this.W=0;this.j=0;this.T=[];this.Sw={};
this.add={};this.buffer=null;this.Nd=4;this.lj=null;this.aY=72;this.fn={};this.b=[];this.TY=[[],[]];
this.iZ=[];this.Tt=[];this.Bd=[ZT.Uq("Work Path")];this.QL=[];this.Bm=null;this.TF={classID:"CompList",list:{t:"VlLs",v:[]}};
this.root=null;this.zZ=null;this.Vo=!1;this.ZSG=!1;this.hR=!1;this.f_=!1;this.tI=!1;this.YX=!1;this.zz=!1;
this.Qq=!1;this.FH=!1;this.kX=null;this.Mv=null;this.JD={};this.Z=null;this.xr=[];this.HO=[];this.n={Fj:{},$d:[],Zrg:[],pm:[],qy:[],eP:null,Bx:null,TW:null,KJ:null,RO:[],tx:[]};
this.history=[new ZU([1,0],null)];this.dT=0;this.qD=0;this.N=new VI(this)}ZT.prototype.iE=function(){var e=this.xr,j=this.xr.length;
if(j!=0&&e[j-1].name=="Quick Mask")return e[j-1]};ZT.prototype.ZdZ=function(){var e=this.name;return e.slice(0,e.length-4).endsWith("-sketch")};
ZT.prototype.gU=function(e){this.add.artd={classID:"null",Cnt:{t:"long",v:e},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},canvasColorMode:{t:"enum",v:{canvasColorType:"Cstm"}},canvasColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:220},Grn:{t:"doub",v:220},Bl:{t:"doub",v:220}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}}};
ZT.prototype.US=function(e){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(e)==-1)this.add.FEid.push(e)};
ZT.prototype.qY=function(e){var j=this.add.FEid.indexOf(e);this.add.FEid.splice(j,1);if(this.add.FEid.length==0)delete this.add.FEid};
ZT.prototype.H=function(e){if(e==null)e=new G(0,0,this.W,this.j);if(this.kX==null)this.kX=e;else this.kX=this.kX.Gd(e)};
ZT.prototype.Zyl=function(e){return this.kX!=null};ZT.prototype.oW=function(e){var j=this.T[e],g=this.root.oA(e);
if(g==null)return!1;if(j.CQ()||g.parent.children.indexOf(g)==0)return!1;return!0};ZT.Zax=function(e){if(e.add.lnk2)for(var j=0;
j<e.add.lnk2.length;j++){var g=e.add.lnk2[j].Bv;e.add.lnk2[j].Bv=ZT.iK()+g.slice(8);for(var P=0;P<e.T.length;
P++){var p=e.T[P].add.SoLd;if(p&&p.Idnt.v==g)p.Idnt.v=e.add.lnk2[j].Bv}}};ZT.prototype.ZDm=function(e,j,g){e.sort(function(R,M){return R-M});
var top=e[e.length-1],P=this.T.slice(0),p=this.b.slice(0),v=[],x=[];for(var A=0;A<this.T.length;A++){if(e.indexOf(A)!=-1)x.push(this.T[A]);
else v.push(this.T[A])}this.jy(x);this.b=[];var f=this.root.SQ(this,!0);if(j)f=f.zx(j);if(g)f=f.Gd(g);
if(f.tE())f=new G(0,0,100,100);var S=new G(-f.x,-f.y,this.W,this.j),F=new Uint8Array(Wg.PSD.si(this,0,0,[!0,!1]));
this.jy(P);this.b=p;var m=new ZT(this.T[top].getName());Wg.PSD.vn(F.buffer,m);delete m.add.artd;m.TY=[[],[]];
m.iZ=[];m.jy(m.T);ZT.Zax(m);o.oo.vH(m,f);m.H();m.Nf();m.Gj();return[m,f,v,top]};ZT.prototype.Zrq=function(e,j){var g=this.ZDm(e),P=g[0],p=g[1],v=g[2],top=g[3],x=new Uint8Array(Wg.PSD.si(P));
if(j)v=this.T.slice(0);var A=this.UF(x,P.name,p.x,p.y);if(top==this.T.length-1)v.push(A);else v.splice(j?top+1:top-e.length+1,0,A);
this.jy(v);this.b=[v.indexOf(A)]};ZT.iK=function(){var e="";for(var j=0;j<8;j++)e+=Math.floor(Math.random()*16).toString(16);
return e};ZT.prototype.SN=function(e){if(e==null)return;if(this.add.Patt==null)this.add.Patt=[];var j=this.add.Patt;
for(var g=0;g<j.length;g++)if(j[g].id==e.id)return;j.push(e)};ZT.prototype.UF=function(e,j,g,P,p){if(this.add.lnk2==null)this.add.lnk2=[];
var v=null,R=!1;for(var x=0;x<this.add.lnk2.length;x++)if(Z.iJ(e,this.add.lnk2[x].raw)){v=this.add.lnk2[x].Bv;
break}if(v==null){var A=Wg.uK(e.buffer);v=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f";var f=new u.uN;f.Bv=v;
f.Yo=A=="psd"?"8BIM":"    ";f.ib=j+"."+A;f.Tm=A=="psd"?"8BPB":"    ";f.open=0;f.raw=e;f.type="liFD";
f.iw=2;this.add.lnk2.push(f)}var S=this.om(v),F=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f",m=this.Rz();m.tG(j);
if(S!=null){var M=m.rect=S.YA[1].clone();m.rect.offset(g,P);var b=Math.max(M.W/this.W,M.j/this.j),R=p&&b>1.0001;
if(R){M.W=Math.round(M.W/b);M.j=Math.round(M.j/b);M.x=Math.round((this.W-M.W)/2);M.y=Math.round((this.j-M.j)/2)}m.buffer=Z.V(m.rect.h()*4);
if(!R)Z.Ue(S.YA[0],m.buffer)}m.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:v},placed:{t:"TEXT",v:F},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:Z.xL.V(m.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:m.rect.W},Hght:{t:"doub",v:m.rect.j}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:72}}};
var s=Z.g.B$(m.rect).u;m.add.SoLd.Trnf=o.t.Pn(s);m.add.SoLd.nonAffineTransform=o.t.Pn(s);if(R)m.yM(this,!1);
return m};ZT.prototype.Gj=function(e){if(e!=null){this.H();this.Nf(e);var j=this.buffer;if(l.Hf)this.zZ.get(j);
else j=j.slice(0);this.H();this.Nf();return j}if(this.kX){this.Nf();this.kX=null}if(l.Hf&&this.Mv){this.zZ.get(this.buffer);
this.Mv=null;this.YX=!0}return this.buffer};ZT.prototype.ZWy=function(){for(var e=0;e<this.T.length;
e++)this.T[e].ZCW();this.H()};ZT.prototype.ZWp=function(){for(var e=0;e<this.T.length;e++)if(this.T[e].add.lmfx)this.T[e].Q.VK=!0};
ZT.prototype.oe=function(){var e=this.Sw.r1044;if(e==null){e=this.Sw.r1044=new Uint8Array(4);var j=0;
for(var g=0;g<this.T.length;g++)j=Math.max(j,this.T[g].add.lyid);T.Sz(e,0,j)}var P=T.o(e,0);T.Sz(e,0,P+1);
return P+1};ZT.prototype.TA=function(e,j,g){if(e==null)e=!0;var P=this;if(P.HO.length!=0)return!0;if(P.b.length!=1){if(e)alert(P.b.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.od(e,j,g)};ZT.prototype.od=function(e,j,g){if(e==null)e=!0;if(j==null)j=!1;var P=this;
if(P.HO.length!=0)return!0;for(var p=0;p<P.b.length;p++){var v=P.T[P.b[p]],x=j||v.TM<=0;if(v.add.lsct!=null&&v.add.lsct!=vC.qg&&v.TM!=1){if(e)alert(Zr.get([15,7,2]));
return!1}if(x&&!v.EI()){if(e)alert(Zr.get([15,7,2]));return!1}if(x&&v.add.TySh){return this.Zea(e,[15,7,3],g)}if(x&&v.add.SoLd){return this.Zea(e,[15,7,4],g)}if(v.Ku(1)||v.Ku(31)){if(e)alert(Zr.get([6,57,0]));
return!1}}return!0};ZT.prototype.Zea=function(e,j,g){if(e&&typeof e=="object"){var P=window.confirm(Zr.get(j)+". "+Zr.get([6,8])+"?");
if(P){var p=new z(V.E.$E,!0);p.data={Wi:"rasterizeLayer",HR:{classID:"rasterizeLayer",null:vT.EG("Lyr",!0)}};
e.P(p)}return g?P:!1}if(e)alert(Zr.get(j));return!1};ZT.prototype.ZVn=function(e){var j=this.root.oA(e);
if(j.parent)return j.$.Je()&&this.ZVn(j.parent.index);else return j.$.Je()};ZT.prototype.ZCH=function(e){var j=this.root.oA(e);
if(j==null)return null;var g=j.$;if(g.add.artb)return g.EX();if(j.parent)return this.ZCH(j.parent.index);
return null};ZT.prototype.ZgW=function(){var e=this.T[this.b[0]];if(e.TM<=0&&!e.rect.cV(this.Z.rect)){alert("Selected area is empty.");
return!1}if(this.b.length==1&&this.Z){var j=Z.V(this.Z.channel.length);Z.uw(e.buffer,e.rect,j,this.Z.rect);
Z.sN(this.Z.channel,j);if(Z.HI(j,0)){alert("Selected area is empty.");return!1}}return!0};ZT.prototype.Ul=function(){if(this.Sw["r"+1037]==null)this.oa(30);
return T.UZ(this.Sw["r"+1037],0)};ZT.prototype.oa=function(e){if(this.Sw["r"+1037]==null)this.Sw["r"+1037]=new Uint8Array(4);
if(T.UZ(this.Sw["r"+1037],0)==e)return;T.kU(this.Sw["r"+1037],0,e);this.ZWp()};ZT.prototype.gv=function(){if(this.Sw["r"+1049]==null)this.oh(30);
return T.UZ(this.Sw["r"+1049],0)};ZT.prototype.oh=function(e){if(this.Sw["r"+1049]==null)this.Sw["r"+1049]=new Uint8Array(4);
if(T.UZ(this.Sw["r"+1049],0)==e)return;T.kU(this.Sw["r"+1049],0,e);this.ZWp()};ZT.prototype.Sb=function(e){if(this.add.lnk2==null)return null;
for(var j=0;j<this.add.lnk2.length;j++)if(this.add.lnk2[j].Bv==e)return this.add.lnk2[j];return null};
ZT.prototype.ZaW=function(e){var j=this.Sb(e);if(j==null)return!1;var g=Wg.uK(j.raw.buffer);if(g==null)return!1;
if(Wg.Hr(g)!=null||g=="psd")return!0;return!1};ZT.prototype.om=function(e,j){var g=this.Sb(e);if(g==null)return null;
g.Gj(j);if(g.YA)return g};ZT.prototype.Nf=function(e){if(e==null)e=1e9;var j=this.W,g=this.j,P=new G(0,0,j,g),p=P.zx(this.kX);
if(l.Hf&&this.zZ==null)this.zZ=new l.il(j,g,!0);if(this.buffer==null||this.buffer.length!=j*g*4||l.Hf&&(this.zZ.W!=j||this.zZ.j!=g)){this.buffer=Z.V(j*g*4);
if(this.zZ)this.zZ.delete();if(l.Hf)this.zZ=new l.il(j,g,!0)}if(p.tE())return;if(!p.iJ(P)){if(!l.Hf){var v=Z.vK(p.h()*4);
Z.Vy(v,p,this.buffer,P)}if(l.Hf){l.pW(this.zZ,p);l.qp(0)}}else{if(l.Hf){this.zZ.set(null)}else{Z.set(this.buffer,0)}}var x=Date.now(),A=l.Hf?this.zZ:this.buffer;
this.root.qj(A,P,p,this,[],e);this.Mv=this.kX.clone()};ZT.prototype.Rz=function(e){var j=new u;j.rect=new G(0,0,0,0);
j.buffer=Z.V(1);j.add.luni=new Uc(0,0);if(e!=!0)j.add.lyid=this.oe();j.add.lsct=vC.qg;j.add.lclr=0;j.add.fxrp=new Uc(0,0);
return j};ZT.prototype.Rt=function(e){var j=this.Rz(e);j.tG("</Layer group>");j.add.lsct=vC.EN;j.Oz=24;
return j};ZT.prototype.hr=function(){return this.dT!=this.qD};ZT.prototype.sz=function(e){while(this.history.length>this.dT+1)this.history.pop();
if(this.qD>this.dT)this.qD=-1;if(e.X.id!=o.Pv){this.hR=!0;if(this.TF.lastAppliedComp){delete this.TF.lastAppliedComp;
this.YX=!0}}this.history.push(e);this.dT++;this.YX=!0;var j=Ws.Lq()?60:30,g=0;for(var P=this.history.length-1;
P>=0;P--){var p=this.history[P];if(p.hF)continue;g++;if(g==j){this.dT-=P;this.history=this.history.slice(P);
break}}};ZT.prototype.iY=function(){if(this.dT!=this.history.length-1)return null;return this.history[this.history.length-1]};
ZT.prototype.RH=function(e,j,g,P){if(e==null)e=!1;var p=j!=null?[j]:this.b.slice(0);if(P){var v=[];for(var x=0;
x<p.length;x++){var A=this.T[p[x]].fw;if(A!=0&&v.indexOf(A)==-1)v.push(A)}for(var x=0;x<this.T.length;
x++){var A=this.T[x].fw;if(A!=0&&v.indexOf(A)!=-1&&p.indexOf(x)==-1)p.push(x)}}var f=[];for(var x=0;
x<p.length;x++){var S=this.gD(p[x],e);for(var F=0;F<S.length;F++)if(f.indexOf(S[F])==-1)f.push(S[F]);
if(g){var m=this.root.oA(p[x]);while(m.parent!=null&&m.parent.parent!=null){m=m.parent;if(f.indexOf(m.index)==-1){f.push(m.index,m.Mf)}}}}return f};
ZT.prototype.gn=function(e,j,g){var P=this,p=P.RH(!1,e,null,g);p.sort(function(d,W){return d-W});var v={};
for(var x=0;x<P.T.length;x++){var A=P.T[x].getName();v[A]=!0}var f=[];for(var S=0;S<p.length;S++){var F=P.T[p[S]].clone(),K,X;
F.add.lyid=P.oe();F.add.lspf=0;if(F.f$()){var m=F.EK(P),R=ZT.Zgd(m);P.US(R);F.add.SoLd.placed.v=R.id}F.d$(P);
var M=F.getName(),b=M.length;while(48<=M.charCodeAt(b-1)&&M.charCodeAt(b-1)<=57)b--;var s=parseInt(M.slice(b));
if(isNaN(s)){if(M.endsWith(" copy")){s=1;K=M.slice(0,M.length-5)}else{s=0;K=M}}else if(M.slice(0,b).endsWith(" copy ")){s=s;
K=M.slice(0,b-6)}else{s=0;K=M}s++;while(!0){X=K+" copy"+(s==1?"":" "+s);if(v[X]==null)break;s++}if(M=="Background"&&v["Layer 1"]==null)X="Layer 1";
if(j!=!0)F.tG(X);v[X]=!0;f.push(F)}return f};ZT.Zgd=function(e){return{id:ZT.iK()+e.id.slice(8),buffer:Z.clone(e.buffer),rect:e.rect.clone(),_:e._?e._.clone():null}};
ZT.ZnJ=function(e){return{id:e,rect:new G,buffer:Z.V(1),_:new u.IP}};ZT.Uq=function(e,j){if(j==null)j={vmsk:new u.nt};
if(j.vogk==null){j.vogk=[];var g=Z.f.iI(j.vmsk.F);for(var P=0;P<g;P++)j.vogk.push(Z.uF.vK())}return{name:e,VS:0,add:j}};
ZT.prototype.OK=function(e){var j=[],g=[],P=this,x=0;for(var p=1;p<P.Bd.length;p++){var v=P.Bd[p];v.VS=-1-p;
j.push(v);if(P.QL.indexOf(p)!=-1)g.push(j.length-1)}if(P.Bd[0].add.vmsk.F.length>2){var v=P.Bd[0];v.VS=-1;
j.push(v);if(P.QL.indexOf(0)!=-1)g.push(j.length-1)}var A=P.Bm==null;if(A)P.Bm=[];for(var p=P.b.length-1;
p>=0;p--){var f=P.T[P.b[p]],S=f.add.TySh;if(f.add.vmsk!=null&&(f.iD||f.dz())){var v=ZT.Uq("\""+f.getName()+"\" Shape Path",f.add);
v.VS=P.b[p];j.push(v);if(A)P.Bm.push(x);if(P.Bm.indexOf(x)!=-1)g.push(j.length-1);x++}if(e!=!0&&S&&S.add&&Z.xL.Xx(S.pJ)){var v=ZT.Uq("\""+f.getName().slice(0,10)+"..\" Text Path",S.add);
v.VS=1e6+P.b[p];j.push(v);g.push(j.length-1);x++}}if(g.length==0&&e){P.Bd[0].VS=-1;P.QL=[0];g.push(j.length);
j.push(P.Bd[0])}return[j,g]};ZT.prototype.gD=function(e,j){var g=[],P=this.root.oA(e);if(P)P.ZBg(g,j);
return g};ZT.prototype.hx=function(){this.root.Qf(this,new G(0,0,this.W,this.j),32)};ZT.prototype.jy=function(e){for(var j=0;
j<this.T.length;j++){var g=this.T[j];if(e.indexOf(g)==-1){g.Q.ZBd();g.H()}}this.T=e.slice(0);this.Ub()};
ZT.prototype.Ub=function(){var e=this.T,j=e.length;this.root=new vH;var g=this.Rz(!0);g.T$="pass";g.add.lsct=vC.x_;
var P=this.Rt(!0),p=[P];for(var v=0;v<j;v++)p.push(e[v]);p.push(g);this.root.ZGW(p,0,0);if(this.b.length==0)this.b=[j-1]};
ZT.prototype.qF=function(){if(this.b.length!=1)return;var e=this.root.oA(this.b[0]);while(e.parent!=null){var j=e.parent.$;
j.add.lsct=vC.x_;e=e.parent}this.tI=this.Zis=!0};ZT.prototype.Zay=function(){this.Ub();var e=[this.root],j=0;
while(e.length!=0){var top=e.pop();j++;if(top.$.add.lsct==vC.x_)for(var g=0;g<top.children.length;g++)e.push(top.children[g])}if(j>1e3){var P=this.root.children;
for(var g=0;g<P.length;g++)if(P[g].$.add.lsct==vC.x_)P[g].$.add.lsct=vC.TC}};ZT.qM=function(e,j,g,P,p){var v={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:P},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:e}},Hght:{t:"UntF",v:{type:"#Rlt",val:j}},Rslt:{t:"UntF",v:{type:"#Rsl",val:g}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:p}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:"sRGB IEC61966-2.1"}}}};
return{Wi:"make",HR:v}};ZT.Zaa=function(e,j){var g=0,P=0,p=72,v=j.ZIW,x=e.preset&&e.preset.v=="Clipboard";
if(x){g=v.W;P=v.j}else{g=e.Wdth.v.val;P=e.Hght.v.val;p=e.Rslt.v.val}var A=new ZT((e.Nm?e.Nm.v:Zr.get([11,7]))+".psd");
A.W=g;A.j=P;A.aY=p;var f=A.Rz();f.tG("Background");A.jy([f]);f.add.lspf=1<<2;var S=e.Fl?e.Fl.v.Fl:"Wht";
if(S!="Trns"){var F=j.gK;F=(F&255)<<16|(F>>>8&255)<<8|F>>>16;f.rect=new G(0,0,g,P);f.buffer=Z.V(g*P*4);
Z.XC(f.buffer,{Wht:4294967295,BckC:255<<24|F}[S])}A.buffer=Z.V(g*P*4);return A};function VI(e){this.vs=e;
this.d=0;this.R=new Uc(0,0);this.oJ=[1,1,1];this.A=new G(0,0,1,1);this.MV=new G(0,0,e.W,e.j);this.cT=null;
this.TK=null;this.Ax=new Uint32Array(0);this.Xk=null;this.av=null;this.CE=Z.V(0);this.pZ=null;this.qR=null}VI.prototype.IR=function(e,j){var g=Math.round((this.A.W-this.vs.W*this.d)/2+this.R.x),P=Math.round((this.A.j-this.vs.j*this.d)/2+this.R.y),p=(e-g)/this.d,v=(j-P)/this.d;
return new Uc(p,v)};VI.prototype.p$=function(e,j){var g=Math.round((this.A.W-this.vs.W*this.d)/2+this.R.x),P=Math.round((this.A.j-this.vs.j*this.d)/2+this.R.y),p=e*this.d+g,v=j*this.d+P;
return new Uc(p,v)};VI.prototype.$u=function(){var e=this.vs,j=this.d,g=this.A.W,P=this.A.j,p=Math.floor(e.W*j),v=Math.floor(e.j*j);
if(j<.99){var x=Z.Qh(null,new G(0,0,e.W,e.j),j).rect;p=x.W;v=x.j}return new G(Math.round((g-p)/2+this.R.x),Math.round((P-v)/2+this.R.y),p,v)};
VI.prototype.hU=function(){var e=this.vs,j=this,g=1/j.d,P=this.$u();return new G(Math.floor((j.A.x-P.x)*g),Math.floor((j.A.y-P.y)*g),Math.ceil(j.A.W*g)+1,Math.ceil(j.A.j*g)+1)};
function Wr(){}Wr.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");Wr.uM="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
Wr.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];Wr.Znq=["DrSh","IrSh","SoFi","GrFl","FrFX"];
Wr.VP=["Clr"];Wr.PV="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");Wr.PM=["Ptrn","Scl","Algn","phase"];
Wr.oP={SI:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ZnL:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Two Color\",\"t\":\"TEXT\"},\"GrdF\":{\"v\":{\"GrdF\":\"CstS\"},\"t\":\"enum\"},\"Intr\":{\"v\":4096,\"t\":\"doub\"},\"Clrs\":{\"v\":[{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",Zdi:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"v\":\"Foreground to Background\",\"t\":\"TEXT\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",hu:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
Wr.oP.SI="\"Clr\": "+Wr.oP.SI;Wr.oP.c="\"Grad\":"+Wr.oP.ZnL+",\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
Wr.oP.hu="\"Ptrn\":"+Wr.oP.hu+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
Wr.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
Wr.ea=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+Wr.oP.SI+","+Wr.oP.c+","+Wr.oP.hu+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+Wr.oP.SI+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+Wr.oP.c+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+Wr.oP.hu+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
Wr.c={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
Wr.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],qb:["SClr","GrFl","Ptrn"],Zai:[[13,0],[12,37],[12,62]]};
Wr.$g={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],Zyd:["SrcC","SrcE"],ZaN:[[19,5,1],[12,69]]};Wr.Wu={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ZyS:["SfBL","PrBL","Slmt"],Zaz:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
Wr.hg={SH:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],IS:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],dE:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:4.38}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+Wr.oP.SI+"}")},strokeStyleResolution:{t:"doub",v:72}}};
Wr.Wx=[{classID:"null",Clr:JSON.parse(Wr.ea[5]).Clr},{classID:"null",Grad:JSON.parse(Wr.ea[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:60}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(Wr.ea[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var Wi={};Wi.ZOJ=function(e,j,g){if(e.tE())return;var P=Z.f.ZiX(e.F);P.x=Math.floor(P.x*j);P.W=Math.ceil(P.W*j);
P.y=Math.floor(P.y*g);P.j=Math.ceil(P.j*g);e.rect=P;e.channel=Z.V(P.h());Z.KM.width=P.W;Z.KM.height=P.j;
var p=Z.A;p.fillStyle="#ffffff";Z.f.ZiY(p,e.F,j,g,-P.x,-P.y);p.fill();var v=p.getImageData(0,0,P.W,P.j).data;
Z.bF(v,e.channel,3)};Wi.qw=function(e,j){function g(e,M){if(e==null)return null;var b=e[M].v,s;if(b.length!=0){s=b[0].v;
if(!s.enab.v)s=null}return s}var P=j.SoCo,p=j.GdFl,v=g(e,"solidFillMulti"),x=g(e,"gradientFillMulti");
if(v==null&&x==null)return[P,p];var A=Wi.ZaO;if(P&&v&&x==null){var f=JSON.parse(JSON.stringify(P));f.Clr.v=A(v.Clr.v,P.Clr.v,v);
return[f,null]}if(p&&v&&x==null){var S=JSON.parse(JSON.stringify(p)),F=S.Grad.v.Clrs.v;for(var m=0;m<F.length;
m++){var R=F[m].v.Clr;R.v=A(v.Clr.v,R.v,v)}return[null,S]}if(P&&x){var S=JSON.parse(JSON.stringify(x)),F=S.Grad.v.Clrs.v;
for(var m=0;m<F.length;m++){var R=F[m].v.Clr;R.v=A(R.v,P.Clr.v,x)}return[null,S]}return[v,x]};Wi.ZaG={gt:Z.V(4),Ia:Z.V(4),k:new G(0,0,1,1)};
Wi.ZaO=function(e,j,g){var P=WF.TG(g.Md.v.BlnM),p=g.Opct.v.val/100,v=Wi.ZaG;e=Z.c.W_(e);j=Z.c.W_(j);
v.gt[0]=e.k;v.gt[1]=e.z;v.gt[2]=e.e;v.gt[3]=255;v.Ia[0]=j.k;v.Ia[1]=j.z;v.Ia[2]=j.e;v.Ia[3]=255;Z.Y.$Q(P,v.gt,v.k,v.Ia,v.k,v.k,p);
return{classID:"RGBC",Rd:{t:"doub",v:v.Ia[0]},Grn:{t:"doub",v:v.Ia[1]},Bl:{t:"doub",v:v.Ia[2]}}};Wi.ZyI=function(e,j,g){var P=e;
e=e.slice(0);var p=WF.jS[WF.LN.indexOf(j.Md.v.BlnM)],v=Z.c.W_(j.Clr.v),x=4278190080|Math.round(v.e)<<16|Math.round(v.z)<<8|Math.round(v.k),A=Z.V(g.h()*4);
Z.XC(A,x);Z.Y.$Q(p,A,g,e,g,g,j.Opct.v.val/100);for(var f=0;f<e.length;f+=4)e[f+3]=P[f+3];return e};Wi.Zyj=function(e,j){var g=["Sz","blur","Sftn","Dstn"];
for(var P=0;P<Wr.order.length;P++){var p=Wr.order[P],v=e[Wr.uM[P]].v;for(var x=0;x<v.length;x++){var A=v[x].v;
for(var f=0;f<g.length;f++){var S=A[g[f]];if(S){var F=S.v.val,m=F;m=Math.max(F==0?0:1,m*j);if(p=="ChFX")m=Math.min(m,250);
if(p=="ebbl"){if(g[f]=="blur")m=Math.min(m,250);if(g[f]=="Sftn")m=Math.min(m,16)}S.v.val=Math.round(m)}}if(p=="ebbl"||p=="patternFill"||p=="FrFX")if(A.Ptrn&&A.Scl)A.Scl.v.val=Math.max(1,Math.min(1e3,A.Scl.v.val*j))}}};
Wi.ZaP=function(e,j,g){var P=new G(-.5,-.5,1,1),p=e.add.lmfx;for(var v=0;v<Wr.order.length;v++){var x=Wr.order[v],A=p[Wr.uM[v]].v;
for(var f=0;f<A.length;f++){var S=A[f].v,M;if(!S.enab.v)continue;var F=S.blur?S.blur.v.val+1:0,m=S.Ckmt?S.Ckmt.v.val/100:0,R=Math.round(F*m);
if(x=="DrSh"||x=="IrSh"&&g){M=new G(-.5,-.5,1,1);M.F_(F,F);Wi.WT(M,S,j,0)}if(x=="OrGl"||x=="IrGl"&&g){M=new G(-.5,-.5,1,1);
M.F_(F,F)}if(x=="FrFX"){var b=Wi.hC(S),s=b[1];if(g)s=Math.max(b[0],s);M=new G(-.5,-.5,1,1);M.F_(Math.ceil(s),Math.ceil(s))}if(x=="ebbl"){var F=S.blur.v.val,K=S.bvlS.v.BESl;
if(K=="Embs"||K=="PlEb")F/=2;var X=["OtrB","InrB","Embs","PlEb","strokeEmboss"],d=["SfBL","PrBL","Slmt"],W=["In","Out"],O=S.bvlT.v.bvlT!="SfBL"?F:F*.43,H=Math.round(F);
M=new G(-H-1,-H-1,2*H+2,2*H+2)}if(g&&x=="ChFX"){M=new G(-.5,-.5,1,1);M.F_(F,F);var Y=M.clone();Wi.WT(M,S,j,0);
Wi.WT(Y,S,j,Math.PI);M=M.Gd(Y)}if(M)P=P.Gd(M)}}if(P.x!=Math.ceil(P.x)){P.x=Math.ceil(P.x);P.W-=1}if(P.y!=Math.ceil(P.y)){P.y=Math.ceil(P.y);
P.j-=1}return P};Wi.hC=function(e){var j=0,g=0,P=e.Styl.v.FStl,p=e.Sz.v.val;if(P=="OutF")g=p;if(P=="InsF")j=p;
if(P=="CtrF")j=g=p/2;return[j,g]};Wi.ZN$=function(e){if(e.all==null)return;for(var j=0;j<e.all.length;
j++){var g=e.all[j];if(g.Zb)g.Zb.delete();if(g.qh)g.qh.delete();if(g.ql)g.ql.delete()}};Wi.Zah=function(e,j,g,P,p,v,x){Wi.ZN$(e);
var A=Wi.Lx(P,p,j,g,v,x);e.type=A.type,e.all=A.all;if(l.Hf)for(var f=0;f<e.all.length;f++){var S=e.all[f];
S.Zb=new l.il(S.UE.W,S.UE.j);S.Zb.set(S.C$);delete S.C$;if(S.q_){S.qh=new l.GN(S.UE.W,S.UE.j);S.qh.set(S.q_);
delete S.q_}if(S.qm){S.ql=new l.GN(S.UE.W,S.UE.j);S.ql.set(S.qm);delete S.qm}}};Wi.Lx=function(e,j,g,P,p,v){if(v==null)v=P;
var x=0,A=0;for(var f=0;f<Wr.order.length;f++){var S=Wr.order[f],F=Wr.uM[f],m=e[F].v;for(var R=0;R<m.length;
R++){var M=m[R].v;if(S=="DrSh"&&M.enab.v&&M.Ckmt.v.val>0&&M.blur.v.val>0)x=Math.max(x,Math.ceil(M.Ckmt.v.val*M.blur.v.val/100));
if(S=="OrGl"&&M.enab.v&&M.Ckmt.v.val>0&&M.blur.v.val>0&&M.GlwT.v.BETE=="SfBL")x=Math.max(x,Math.ceil(M.Ckmt.v.val*M.blur.v.val/100));
if(S=="OrGl"&&M.enab.v&&M.blur.v.val>0&&M.GlwT.v.BETE=="PrBL")x=Math.max(x,M.blur.v.val);if(S=="FrFX"&&M.enab.v&&M.Sz.v.val>0){if(M.Styl.v.FStl=="OutF")x=Math.max(x,M.Sz.v.val);
if(M.Styl.v.FStl=="CtrF")x=Math.max(x,Math.ceil(M.Sz.v.val/2));A=Math.max(A,Wi.hC(M)[1])}}}var b=new Wi.II(g,P,x),s={type:{},all:[]};
for(var K=0;K<Wr.order.length;K++){var S=Wr.order[K],F=Wr.uM[K];s.type[S]=[];for(var X=e[F].v.length-1;
X>=0;X--){var d=e[F].v[X].v;if(!d.enab.v)continue;var W=d.blur?d.blur.v.val:0,O=d.Ckmt?d.Ckmt.v.val/100:0,H=W*O;
if(S=="DrSh"){var Y=b.$h(H,W-H,!0),y=Y.kk,B=Y.B;B.offset(-b.rect().x-1,-b.rect().y-1);Wi.$o(y,d,!1);
Wi.WT(B,d,p,0);var c=Z.V(B.h()*4);Wi.Rc(c,d.Clr.v);Z.sH(y,c,3);var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100,ZHf:d.layerConceals.v};
s.type[S].push($);s.all.push($)}if(S=="IrSh"){var Y=b.$h(H,W-H,!1);Wi.WT(Y.B,d,p,0);var B=b.rect().clone(),y=Z.V(B.h());
Z.set(y,255);Z.Oo(Y.kk,Y.B,y,B);Wi.$o(y,d,!0);var c=Z.V(B.h()*4);Wi.Rc(c,d.Clr.v);Z.sH(y,c,3);B.offset(-b.rect().x-1,-b.rect().y-1);
var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};s.type[S].push($);s.all.push($)}if(S=="GrFl"){var c=Z.V(b.rect().h()*4);
Wi.$F(d,c,b.rect(),p,null,v);var B=b.rect().clone();B.offset(-b.rect().x-1,-b.rect().y-1);var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};
s.type[S].push($);s.all.push($)}if(S=="SoFi"){var c=Z.V(b.kk().length*4);Wi.Rc(c,d.Clr.v);var B=b.rect().clone();
B.offset(-b.rect().x-1,-b.rect().y-1);var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};s.type[S].push($);
s.all.push($)}if(S=="ebbl"){var I=!1;if(I)console.log(d);var r=Date.now(),i=d.bvlS.v.BESl;if(i=="strokeEmboss"){var U=e.frameFXMulti.v;
if(U.length==0)continue;U=U[0].v;if(!U.enab.v)continue;var N=U.Styl.v.FStl;if(N=="OutF")i="OtrB";if(N=="CtrF")i="Embs";
if(N=="InsF")i="InrB"}var W=d.blur.v.val;if(W==0)W=.7;if(i=="Embs"||i=="PlEb")W/=2;var C=["OtrB","InrB","Embs","PlEb","strokeEmboss"],D=["SfBL","PrBL","Slmt"],n=["In","Out"],w=d.bvlT.v.bvlT!="SfBL"?W:W*.45,k=Math.round(W),h=b.rect().clone(),t=h.clone();
t.F_(k,k);var a=t.W,_=t.j,E=a*_,WW=Z.V(E);Z.Oo(b.kk(),h,WW,t);var Wx=new Float64Array(E),WU=new Float64Array(E);
Z.style.zD(WW,Wx,a,_);Z.OF(WW);Z.style.zD(WW,WU,a,_);if(I)console.log("distTransform computed",Date.now()-r);
for(var f=0;f<E;f++)WU[f]=WU[f]-Wx[f];for(var f=0;f<E;f++){var We=WU[f];if(We<-w)WU[f]=-w;else if(We>w)WU[f]=w}if(I)console.log("summing + cropping",Date.now()-r);
if(d.bvlT.v.bvlT=="SfBL"){var Wv=Math.pow(W*.21,1.22);if(!0)Wv=Math.max(Wv,2);var L=Z.blur.Kx(Wv,2);
Z.blur.ZR(WU,Wx,t,L[0]>>>1);Z.blur.ZR(Wx,WU,t,L[1]>>>1)}if(I)console.log("blurring",Date.now()-r);var J=WU,WZ=J.slice(0);
if(d.useShape.v){var WJ=Math.min(100,d.Inpr.v.val+1)/100;if(i!="OtrB"&&i!="InrB")WJ=1;var Wu=Z.jM.xB(d.MpgS.v.Crv.v,2e3),WC=Math.round(2e3/WJ);
Wu=Z.jM.ZsC(Wu,WC,i=="InrB");var Wn=.5/w;for(var f=0;f<E;f++){var WB=J[f],Wt=.99999*(WB+w)*Wn;J[f]=-w+2*w*Wu[~~(Wt*(WC-1))]}if(I)console.log("applying shape",Date.now()-r)}if(d.useTexture.v){var Wy=Z.V(a*_*4);
Wi.wy(d,Wy,t,p,j);var Wz=Z.V(a*_);Z.hv(Wy,Wz);var WG=Z.V(a*_);Z.blur.cn(Wz,WG,t,1);Wz=WG;var Wq=W*d.textureDepth.v.val*(1/100)*(1/255);
if(d.InvT.v)Wq=-Wq;for(var f=0;f<E;f++)J[f]+=-Wq*Wz[f];if(I)console.log("applying texture",Date.now()-r)}var Wa=(d.bvlT.v.bvlT=="SfBL"?1:.5)*(d.bvlD.v.BESs=="In"?1:-1)*d.srgR.v.val/100;
for(var f=0;f<E;f++)J[f]*=Wa;if(I)console.log("scaling",Date.now()-r);var WK=d.uglg&&d.uglg.v?p.Ul():d.lagl.v.val;
WK=WK*(Math.PI/180);var Wd=d.uglg&&d.uglg.v?p.gv():d.Lald.v.val;Wd=Wd*(Math.PI/180);var WD=Math.cos(WK)*Math.cos(Wd),W$=-Math.sin(WK)*Math.cos(Wd),Zg=Math.sin(Wd),WL=new Float64Array(E),WY=new Float64Array(E),WA=i=="PlEb";
for(var Wb=0;Wb<_;Wb++)for(var WX=0;WX<a;WX++){var f=Wb*a+WX,fI=0,Ww=0,W_=1;if(Wb!=0&&Wb!=_-1&&WX!=0&&WX!=a-1){var vW=J[f-a-1],vL=J[f-a+1],vV=J[f+a-1],Wo=J[f+a+1];
fI=-.125*(vL+2*J[f+1]+Wo-(vW+2*J[f-1]+vV));Ww=-.125*(vV+2*J[f+a]+Wo-(vW+2*J[f-a]+vL))}else{var WT=J[f];
Ww=-(Wb==0?J[f+a]-WT:Wb==_-1?WT-J[f-a]:.5*(J[f+a]-J[f-a]));fI=-(WX==0?J[f+1]-WT:WX==a-1?WT-J[f-1]:.5*(J[f+1]-J[f-1]))}var WH=1/Math.sqrt(fI*fI+Ww*Ww+1);
fI*=WH;Ww*=WH;W_*=WH;var WS=fI*WD+Ww*W$+W_*Zg,ve=WS;if(WA)ve=-fI*WD-Ww*W$+W_*Zg;if(WS>0)WL[f]=WS;if(ve>0)WY[f]=ve}if(I)console.log("raycasting",Date.now()-r);
if(d.Sftn.v.val!=0){Z.blur.Rl(WL,Wx,t,d.Sftn.v.val*.43);var Zi=Wx,Wx=WL,WL=Zi;if(WA){Z.blur.Rl(WY,Wx,t,d.Sftn.v.val*.43);
var Zi=Wx,Wx=WY,WY=Zi}else Z.Ue(WL,WY)}if(I)console.log("softening",Date.now()-r);var Wu=Z.jM.xB(d.TrnS.v.Crv.v,1024);
for(var f=0;f<E;f++){WL[f]=Wu[~~(WL[f]*1024)];WY[f]=Wu[~~(WY[f]*1024)]}if(I)console.log("contour remap",Date.now()-r);
a=Math.round(a);_=Math.round(_);var WQ=Z.V(a*_*4);Wi.Rc(WQ,d.hglC.v);var vZ=Z.V(a*_*4);Wi.Rc(vZ,d.sdwC.v);
var fH=Z.V(a*_*4);Wi.Rc(fH,d.hglC.v);var vg=Z.V(a*_*4);Wi.Rc(vg,d.sdwC.v);var vI=1/Zg,ZL=1/(1-Zg),Wn=1/w,vu=new Float64Array(1e3);
for(var f=0;f<1e3;f++)vu[f]=Math.pow(f*.001,.2);for(var Wb=0;Wb<_;Wb++)for(var WX=0;WX<a;WX++){var f=Wb*a+WX,vS=4*f+3,Zd=0,ZO=0;
Zd=WL[f];ZO=WY[f];var vF=Math.max(0,Math.min(.9999,(WZ[f]+w*.993)*Wn));vF=vu[Math.floor(vF*1e3)];var ZE=vF*(1-Math.min(1,Zd*vI)),ZZ=vF*(1-Math.min(1,(1-Zd)*ZL)),Z$=vF*(1-Math.min(1,ZO*vI)),vd=vF*(1-Math.min(1,(1-ZO)*ZL));
vZ[vS]=Math.round(255*ZE);WQ[vS]=Math.round(255*ZZ);vg[vS]=Math.round(255*Z$);fH[vS]=Math.round(255*vd)}if(I)console.log("baking textures",Date.now()-r);
t=b.rect().clone();t.F_(k,k);t.offset(-b.rect().x-1,-b.rect().y-1);var xd={Zrn:d.bvlS.v.BESl=="strokeEmboss"};
if(["InrB","Embs","PlEb"].indexOf(i)!=-1){xd.qQ={C$:WQ,UE:t,Ea:WF.TG(d.hglM.v.BlnM),sb:d.hglO.v.val/100};
xd.LZ={C$:vZ,UE:t,Ea:WF.TG(d.sdwM.v.BlnM),sb:d.sdwO.v.val/100};s.all.push(xd.qQ,xd.LZ)}if(["OtrB","Embs","PlEb"].indexOf(i)!=-1){xd.Le={C$:fH,UE:t,Ea:WF.TG(d.hglM.v.BlnM),sb:d.hglO.v.val/100};
xd.LT={C$:vg,UE:t,Ea:WF.TG(d.sdwM.v.BlnM),sb:d.sdwO.v.val/100};s.all.push(xd.Le,xd.LT)}if(I)console.log(Date.now()-r);
s.type[S].push(xd)}if(S=="patternFill"){var xg=b.rect(),c=Z.V(xg.h()*4);Wi.wy(d,c,xg,p,j);var B=xg.clone();
B.offset(-xg.x-1,-xg.y-1);var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};s.type[S].push($);
s.all.push($)}if(S=="ChFX"){var c=Z.V(b.kk().length*4);Wi.Rc(c,d.Clr.v);var W=d.blur.v.val,vU=b.rect().clone();
vU.F_(W,W);var fZ=Z.V(vU.h()),VA=Z.V(vU.h());Z.Oo(b.kk(),b.rect(),VA,vU);Z.blur.Mj(VA,fZ,vU,W*.43);var vj=Z.jM.zv(d.MpgS.v.Crv.v,256,!0);
Z.Qm(fZ,vj);var Zp=Z.V(b.kk().length),vy=Z.V(b.kk().length),vX=b.rect().clone();Wi.WT(vX,d,p,0);Z.Oo(fZ,vU,Zp,vX);
vX=b.rect().clone();Wi.WT(vX,d,p,Math.PI);Z.Oo(fZ,vU,vy,vX);var va=Zp.length;for(var f=0;f<va;f++)c[4*f+3]=Math.abs(Zp[f]-vy[f]);
if(d.Invr.v)for(var f=0;f<va;f++)c[4*f+3]=255-c[4*f+3];var B=b.rect().clone();B.offset(-b.rect().x-1,-b.rect().y-1);
var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};s.type[S].push($);s.all.push($)}if(S=="OrGl"){var Y;
if(d.GlwT.v.BETE=="SfBL")Y=b.$h(H,W-H,!0);else Y=b.Zus(W,O,!0);var y=Y.kk,B=Y.B,vq=y.slice(0);Wi.ZUY(y,d);
var c=Z.V(B.h()*4);if(d.Grad==null){Wi.Rc(c,d.Clr.v);Wi.$o(y,d,!1)}else{Wi.$o(y,d,null);var Zz={yL:y,SZ:255,SK:0,tz:B};
Wi.$F(d,c,B,p,Zz);var eE=d.Nose.v.val/100,eO=B.W;for(var f=0;f<vq.length;f++){var ZF=255,xN=vq[f];if(xN<32){var vk=(xN+vq[f-1]+vq[f+1]+vq[f-eO]+vq[f+eO])*.2-1;
ZF=Math.min(255,Math.round(Math.max(0,vk)*8))}y[f]=ZF}Wi.ZLI(y,d)}Z.sH(y,c,3);B.offset(-b.rect().x-1,-b.rect().y-1);
var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};s.type[S].push($);s.all.push($)}if(S=="IrGl"){var Y;
if(d.GlwT.v.BETE=="SfBL")Y=b.$h(H,W-H,!1);else Y=b.Zus(W,O,!1);var y=Y.kk,B=Y.B;Wi.ZUY(y,d);if(d.glwS.v.IGSr=="SrcC")Z.OF(y);
var c=Z.V(B.h()*4);if(d.Grad==null){Wi.Rc(c,d.Clr.v);Wi.$o(y,d,!0)}else{Wi.$o(y,d,null);var Zz={yL:y,SZ:255,SK:0,tz:B};
Wi.$F(d,c,B,p,Zz);Z.set(y,255);Wi.ZLI(y,d)}Z.sH(y,c,3);B.offset(-b.rect().x-1,-b.rect().y-1);var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100};
s.type[S].push($);s.all.push($)}if(S=="FrFX"){var eB=Wi.hC(d),fJ=eB[0],eI=eB[1],B=b.rect().clone(),ed=null,fx=null;
B.F_(Math.ceil(A),Math.ceil(A));if(eI>0){var Y=b.$h(eI,0,!0);fx=Y.kk;if(fx.length<B.h()){fx=Z.V(B.h());
Z.Oo(Y.kk,Y.B,fx,B)}}if(fJ>0){var Y=b.$h(fJ,0,!1);ed=Z.V(B.h());Z.set(ed,255);Z.Oo(Y.kk,Y.B,ed,B)}B.offset(-b.rect().x-1,-b.rect().y-1);
var c=Z.V(B.h()*4),ZR=d.PntT.v.FrFl;if(ZR=="SClr")Wi.Rc(c,d.Clr.v);if(ZR=="GrFl")Wi.$F(d,c,B,p,b.ZiJ(fJ,eI));
if(ZR=="Ptrn")Wi.wy(d,c,B,p,j);var $={C$:c,UE:B,Ea:WF.TG(d.Md.v.BlnM),sb:d.Opct.v.val/100,qm:fx,q_:ed};
s.type[S].push($);s.all.push($)}}}return s};Wi.kq=function(e){var j=1/Math.sqrt(e.x*e.x+e.y*e.y+e.SL*e.SL);
e.x*=j;e.y*=j;e.SL*=j};Wi.ZOB=function(e,j){return{x:e.y*j.SL-e.SL*j.y,y:e.SL*j.x-e.x*j.SL,SL:e.x*j.y-e.y*j.x}};
Wi.ZOa=function(e,j){return e.x*j.x+e.y*j.y+e.SL*j.SL};Wi.ZLI=function(e,j){var g=j.Nose.v.val/100;if(g>0)for(var P=0;
P<e.length;P++){var p=e[P];p=Math.min(510-(1+g)*Z.style.Pj(P),p);e[P]=p}};Wi.xK=function(e){var j=Wi.$a(),g=e.xg,P=!1;
for(var p=0;p<32;p+=8)if(g[p]+g[p+1]+g[4]+g[5]!=0||g[p+2]+g[p+3]+g[6]+g[7]!=1020)P=!0;if(P){g=g.slice(0);
for(var p=0;p<40;p+=4){var v=g[p]/255,x=g[p+1]/255,A=g[p+2]/255,f=g[p+3]/255;g[p]=v-1e-4;g[p+1]=v==x?1e9:1/(x-(v-1e-4));
g[p+2]=A==f?-1e9:1/(A-(f+1e-4));g[p+3]=f+1e-4}}var S=e.add.iOpa!=null?e.add.iOpa/255:j.fill,F=e.add.vstk;
if(F&&!F.fillEnabled.v&&(!F.strokeEnabled.v||F.strokeStyleLineWidth.v.val==0))S=0;return{fill:S,su:P?g:null,ZHd:e.add.brst!=null?e.add.brst:j.ZHd,ZHA:e.add.knko!=null?e.add.knko:j.ZHA,style:!1,sV:!1}};
Wi.$a=function(){return{fill:1,su:null,ZHd:[1,1,1],ZHA:0,style:!1,sV:!1}};Wi.XY=function(e,j){if(j==null)return null;
var g=e.Idnt.v,P=null;for(var p=0;p<j.length;p++)if(j[p].id==g)return j[p];return null};Wi.ZzZ=function(e,j,g){var P=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var p=0;p<P.length;p++){var v=e.v[P[p]].v;for(var x=0;x<v.length;x++)if(v[x].v.Ptrn)j.SN(Wi.XY(v[x].v.Ptrn.v,g))}};
Wi.Zal=function(e,j,g){var P=["patternFillMulti","ebblMulti","frameFXMulti"];for(var p=0;p<P.length;
p++){var v=e.v[P[p]].v;for(var x=0;x<v.length;x++)if(v[x].v.Ptrn){var A=v[x].v.Ptrn.v,f=Wi.XY(A,g),S=Wi.XY(A,j.add.Patt);
if(f==null&&S)g.push(S)}}};Wi.wy=function(e,j,g,P,p){var v=Wi.XY(e.Ptrn.v,P.add.Patt);if(v!=null&&!g.tE()){var x=v.vf,A=x[0],f=x[1],S=0;
Z.ZG(x);var F=e.Scl.v.val/100;while((F<.3||F==.5)&&x[S+2]){F*=f.W/x[S+3].W;S+=2;A=x[S];f=x[S+1]}var m=Z.scale.wy(A,f.W,f.j),R=-g.x+e.phase.v.Hrzn.v-1,M=-g.y+e.phase.v.Vrtc.v-1;
if(e.Algn!=null&&!e.Algn.v){}else{R+=p.x;M+=p.y}Z.scale.ZS_(m,j,g.W,g.j,F,F,R+1,M+1)}};Wi.$F=function(e,j,g,P,p,v){if(v==null)v=g;
var x=e.Type?e.Type.v.GrdT:"shapeburst",A=e.Algn&&e.Algn.v?v:new G(0,0,P.W,P.j),f=e.Angl?Z.c.C_(e,A):[new Uc(0,0),new Uc(100,0)],S=f[0].x,F=f[0].y,m=f[1].x-S,R=f[1].y-F,M=Math.sqrt(m*m+R*R);
M=1/(2*M*M);var b=[m*M,R*M,-R*M,m*M],s=e.Rvrs?e.Rvrs.v:!1,K=e.Dthr?e.Dthr.v:!1;Z.c.ff(e.Grad.v,j,g,b,S,F,s,Wr.c.types.indexOf(x),0,0,p,K)};
Wi.ZiW=function(e,j){for(var g=0;g<e.all.length;g++){var P=e.all[g];P.OS=P.UE.clone();P.OS.offset(j.x,j.y)}};
Wi.ZHb=function(e,j,g,P,p,v){var x=l.Hf?Wi.ZxD:Wi.ZOO;Wi.ZiW(j,g);var A=j.type.DrSh;for(var f=0;f<A.length;
f++)if(!A[f].ZHf)x(A[f],P,p,v)};Wi.ZsP=function(e,j,g,P,p,v,x,A,f,S){var F=g,m=l.Hf?Wi.ZxD:Wi.ZOO,R=l.Hf?l.Y.Oh:Z.Y.aE,M;
M=j.type.DrSh;for(var b=0;b<M.length;b++)if(M[b].ZHf)m(M[b],P,p,v);M=j.type.OrGl;for(var b=0;b<M.length;
b++)m(M[b],P,p,v);var s="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var K=0;K<s.length;K++){var M=j.type[s[K]];
for(var b=0;b<M.length;b++)m(M[b],x,F,v)}var X=j.type.ebbl[0],d=X!=null&&X.Zrn;M=j.type.FrFX;for(var b=0;
b<M.length;b++){var W=M[b];vH.os.Oo(A,S,f,S,v);m(W,f,S,v);if(d&&b==M.length-1){if(X.LT)m(X.LT,f,S,v);
if(X.Le)m(X.Le,f,S,v);if(X.LZ)m(X.LZ,f,S,v);if(X.qQ)m(X.qQ,f,S,v)}if(W.q_||W.qh)R(f,S,x,F,l.Hf?W.qh:W.q_,W.OS,0,v,1);
if(W.qm||W.ql)R(f,S,P,p,l.Hf?W.ql:W.qm,W.OS,0,v,1)}if(!d&&X!=null){if(X.LT)m(X.LT,P,p,v);if(X.Le)m(X.Le,P,p,v);
if(X.LZ)m(X.LZ,x,F,v);if(X.qQ)m(X.qQ,x,F,v)}};Wi.ZOO=function(e,j,g,P){var p=Wi.$a();p.fill=e.sb;p.style=!0;
Z.Y.$Q(e.Ea,e.C$,e.OS,j,g,P,1,p)};Wi.ZxD=function(e,j,g,P){var p=Wi.$a();p.fill=e.sb;p.style=!0;l.Y.Np(e.Ea,e.Zb,e.OS,j,g,P,1,p)};
Wi.ZUY=function(e,j){var g=1-j.Inpr.v.val/100,P=1+Math.tan(g*(Math.PI/2)),p=e.length;for(var v=0;v<p;
v++)e[v]=Math.min(255,Math.round(e[v]*P))};Wi.$o=function(e,j,g){var P=j.blur.v.val,p=Math.round(P*(j.Ckmt.v.val/100));
if(P>p){var v=Z.jM.zv(j.TrnS.v.Crv.v,256,!0);Z.Qm(e,v)}if(g!=null&&j.Nose.v.val>0)Z.style.nV(e,j.Nose.v.val/100,g)};
Wi.Rc=function(e,j,g){if(g==null)g=255;var P=Z.c.W_(j),p=g<<24|P.e<<16|P.z<<8|P.k;Z.XC(e,p)};Wi.WT=function(e,j,g,P){var p=j.uglg&&j.uglg.v?g.Ul():j.lagl.v.val;
p=p*Math.PI/180+P;var v=Math.cos(p)*j.Dstn.v.val,x=Math.sin(p)*j.Dstn.v.val;e.x-=Math.round(v);e.y+=Math.round(x)};
Wi.LU=function(e){if(e==null)return null;var j=e.frameFXMulti.v;if(j.length==0)return null;j=j[0].v;
var g=JSON.parse(JSON.stringify(Wr.hg.default));Wi.Zee(j,g);return g};Wi.Zee=function(e,j){var g=Wr.stroke.qb.indexOf(e.PntT.v.FrFl),P=[Wr.VP,Wr.PV,Wr.PM][g],p=j.strokeStyleContent.v={classID:Wr.hg.dE[g]};
for(var v=0;v<P.length;v++)p[P[v]]=e[P[v]];j.strokeEnabled=e.enab;j.strokeStyleLineWidth=e.Sz;j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wr.hg.IS[Wr.stroke.types.indexOf(e.Styl.v.FStl)];
j.strokeStyleOpacity=e.Opct;j.strokeStyleBlendMode=e.Md};Wi.ha=function(e,j){var g=[];for(var P=0;P<e.length;
P++)g.push({t:"UntF",v:{type:"#Nne",val:Math.round(e[P]*j)}});return g};Wi.II=function(e,j,g){this.ZQ=j.clone();
this.ZQ.F_(1,1);this.ZKg=j.clone();this.ZKg.F_(g,g);this.ZKd=Z.V(this.ZQ.h());Z.Oo(e,j,this.ZKd,this.ZQ);
this.Lz=null;this.LG=null;this.LS=null};Wi.II.prototype.kk=function(){return this.ZKd};Wi.II.prototype.rect=function(){return this.ZQ};
Wi.II.prototype.ht=function(){return this.ZKg};Wi.II.prototype.sj=function(){if(this.Lz)return this.Lz;
this.Lz=Z.clone(this.kk());Z.OF(this.Lz);return this.Lz};Wi.II.prototype.hO=function(){if(this.LG)return this.LG;
this.LG=new Float64Array(this.rect().h());Z.style.zD(this.sj(),this.LG,this.rect().W,this.rect().j);
return this.LG};Wi.II.prototype.LK=function(){if(this.LS)return this.LS;var e=this.ht(),j=Z.V(e.h());
Z.Oo(this.kk(),this.rect(),j,e);this.LS=new Float64Array(e.h());Z.style.zD(j,this.LS,e.W,e.j);return this.LS};
Wi.II.prototype.ZiJ=function(e,j){var g={SZ:-j,SK:e,tz:null,yL:null};if(j==0){g.tz=this.rect();g.yL=this.hO();
return g}var P=this.LK().slice(0),p=this.ht();g.tz=p;g.yL=P;for(var v=0;v<P.length;v++)P[v]=-P[v];if(e==0)return g;
var x=this.hO(),A=this.rect();for(var f=0;f<A.j;f++)for(var S=0;S<A.W;S++){var F=f*A.W+S,m=(f+A.y-p.y)*p.W+S+A.x-p.x;
P[m]+=x[F]}return g};Wi.II.prototype.$h=function(e,j,g){var P=Math.ceil(e+j),p={B:this.rect().clone(),kk:null};
p.B.F_(P,P);p.kk=Z.V(p.B.h());if(e==0&&j==0)Z.Ue(g?this.kk():this.sj(),p.kk);else{var v=Z.V(p.B.h());
Z.Oo(this.kk(),this.rect(),v,p.B);if(!g)Z.OF(v);if(e!=0){if(g)Z.style.nv(v,p.B,this.LK(),this.ht(),e);
else Z.style.nv(v,p.B,this.hO(),this.rect(),e)}if(j!=0)Z.blur.Mj(v,p.kk,p.B,Math.max(1,j*.43));else p.kk=v}return p};
Wi.II.prototype.Zus=function(e,j,g){var P=e*(j-.5),p={B:this.rect().clone(),kk:null};if(g)p.B.F_(e,e);
p.kk=Z.V(p.B.h());var v=p.B.W,x=p.B.j,A=g?this.LK():this.hO(),f=g?this.ht():this.rect(),S=p.B,F=S.zx(f),v=F.W,x=F.j,m=F.x-S.x,R=F.y-S.y,M=F.x-f.x,b=F.y-f.y,s=1-j*2;
for(var K=0;K<x;K++)for(var X=0;X<v;X++){var d=A[(K+b)*f.W+X+M],W=d/e;p.kk[(K+R)*S.W+X+m]=Math.max(0,Math.min(255,255-255*((W+s)/(1+s))))}return p};
Wi.ZnD=function(e,j,g){var P=e.Lefx,p=e.blendOptions;if(P){var v=j.add.lmfx;if(g==null)g=v?v.Scl.v.val:100;
j.add.lmfx=JSON.parse(JSON.stringify(P.v));Wi.Zyj(j.add.lmfx,g/j.add.lmfx.Scl.v.val);if(v)j.add.lmfx.Scl.v.val=v.Scl.v.val}else delete j.add.lmfx;
if(p){p=p.v;if(p.Md)j.T$=WF.TG(p.Md.v.BlnM);if(p.Opct)j.opacity=Math.round(p.Opct.v.val*255/100);if(p.fillOpacity)j.add.iOpa=Math.round(p.fillOpacity.v.val*255/100);
if(p.Blnd){var x=[];for(var A=0;A<10;A++)x.push(0,0,255,255);var f=p.Blnd.v,S="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var A=0;A<f.length;A++){var F=f[A].v,m=8*["Gry","Rd","Grn","Bl"].indexOf(F.Chnl.v[0].v.enum);for(var R=0;
R<8;R++){x[m+R]=F[S[R]].v}}j.xg=x}}};Wi.ZdJ=function(e){var j="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),g=[],P=e.xg;
for(var p=0;p<4;p++){var v=p*8;if(P[v]+P[v+1]+P[v+4]+P[v+5]==0&&P[v+2]+P[v+3]+P[v+6]+P[v+7]==4*255)continue;
var x={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][p]}}]}}};
g.push(x);for(var A=0;A<8;A++)x.v[j[A]]={t:"long",v:P[p*8+A]}}var f={classID:"blendOptions"};if(e.T$!="norm")f.Md={t:"enum",v:{BlnM:WF.HH(e.T$)}};
if(e.opacity!=255)f.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(e.opacity*100/255)}};if(e.add.iOpa!=null)f.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(e.add.iOpa*100/255)}};
if(g.length!=0)f.Blnd={t:"VlLs",v:g};var S={Il:{classID:"null",Idnt:{t:"TEXT",v:ZT.iK()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},hf:{classID:"Styl",blendOptions:{t:"Objc",v:f}}},F=e.add.lmfx;
if(F)S.hf.Lefx={t:"Objc",v:F};return S};function eC(){}eC.We=function(e){return JSON.parse(JSON.stringify(e))};
eC.gE=function(e){var j=eC.We(eC.Ziu),g=j.Brsh.v;if(e!=null){delete g.Hrdn;g.classID="sampledBrush";
g.Nm={t:"TEXT",v:"layer.png"},g.sampledData={t:"TEXT",v:e}}return j};eC.Ziu={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
eC.kq={};eC.kq.check=function(e){var j=eC.kq.Lp;for(var g=0;g<j.length;g++)if(e[j[g]]==null)e[j[g]]=JSON.parse(eC.kq.hP[j[g]]);
var P=[];for(var g=0;g<j.length;g++)P.push(j[g]);var p=eC.kq.Zit;for(var g=0;g<p.length;g++){var v=p[g][0],x=p[g][1],A=!0;
for(var f=0;f<v.length;f++)A=A&&e[v[f]].v==!0;if(A)for(var f=0;f<x.length;f++){if(e[x[f]]==null)console.log("Missing conditional parameter "+x[f]);
else P.push(x[f])}}for(var S in e)if(P.indexOf(S)==-1)console.log("Extra parameter "+S);e=e.Brsh.v;j=eC.kq.Zc.Lp;
for(var g=0;g<j.length;g++)if(e[j[g]]==null)e[j[g]]=JSON.parse(eC.kq.Zc.hP[j[g]]);P=[];for(var g=0;g<j.length;
g++)if(e[j[g]])P.push(j[g]);else console.log("Missing default parameter "+j[g]);p=eC.kq.Zc.ZiC[e.classID];
for(var g=0;g<p.length;g++)if(e[p[g]]==null&&p[g]!="dtipsGridSize"&&p[g]!="dtipsErodibleTipHeightMap"&&e.ZNv!=1)console.log("Missing conditional parameter "+p[g]);
else P.push(p[g]);for(var S in e)if(P.indexOf(S)==-1)console.log("Extra parameter "+S)};eC.kq.L$=function(e){var j=eC.kq.Zit;
for(var g=0;g<j.length;g++){var P=j[g][0],p=j[g][1],v=!0;for(var x=0;x<P.length;x++)v=v&&e[P[x]]&&e[P[x]].v==!0;
if(v){for(var x=0;x<p.length;x++)if(e[p[x]]==null){e[p[x]]=JSON.parse(eC.kq.hP[p[x]])}}else for(var x=0;
x<p.length;x++)if(e[p[x]]!=null){delete e[p[x]]}}};eC.kq.Zc={};eC.kq.Zc.Lp="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
eC.kq.Zc.hP={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};eC.kq.Zc.ZiC={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
eC.kq.Zit=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
eC.kq.Lp="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
eC.kq.hP={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function Jw(e){this.LI=e;this.dir=0}Jw.prototype.hY=function(e,j){if(this.dir==0&&!this.LI.iJ(e))this.dir=Math.abs(this.LI.x-e.x)<Math.abs(this.LI.y-e.y)?1:2;
var g=e;if(j.v(q.Ag)){if(this.dir==1)g=new Uc(this.LI.x,e.y);if(this.dir==2)g=new Uc(e.x,this.LI.y)}return g};
function WM(e,j,g,P,p,v,x,A){this.og=j;this.Zk=g;this.gK=v;this.ZY=P;if(P.mw==null)P.mw=[!1,!0];this.mn=null;
this.jl=null;this.fZ=0;this.Z$E=0;this.ZOc=0;this.fx=0;this.nM=0;this.ZNg=x;this.Fa=new G;this.fW=new G;
this.rect=new G;if(A!=null){this.C$=A}else{var f=WM.Z$m;if(f.length!=x.h()*4)f=Z.V(x.h()*4);else f.fill(0);
this.C$=WM.Z$m=f}this.rect=x.clone();this.LF=[];this.fv=[];this.Lt=null;this.Jm=0;this.e=null;this.Lh="";
this.yk=null;this.ZfT(e,p)}WM.Z$m=Z.V(16);WM.prototype.ZfT=function(e,j){this.Jm=j;this.e=e;this.Lh=JSON.stringify(e)+JSON.stringify(this.ZY.RB);
this.yk=WM.ZiS(e,this.og,this.Zk)};WM.prototype.moveTo=function(e,j,g){g=this.ZeA(g);this.fZ=g;var P=new Uc(e,j),p=this.e.Brsh.v.Dmtr.v.val;
this.mn=P.clone();this.jl=P.clone();this.Lt=P.clone();this.LF=[e,j];this.fv=[g];var v=this.ZY.mw;if(this.ZY.Rg!=WM._e)this.LA(this.ZNK(P,this.ZyP()*(v[1]?g:1),this.ZY.nD*(v[0]?g*.5:1),new Uc(0,0)));
this.fx=P.clone()};WM.prototype.lineTo=function(e,j,g){g=this.ZeA(g);var P=this.LF,p=P.length,v=P[p-2],x=P[p-1];
if(e==v&&j==x)return;var A=this.e.Brsh.v.Dmtr.v.val,f=Math.ceil(A)+1,S=new G(Math.round(v),Math.round(x),0,0);
S.F_(f,f);var F=new G(Math.round(e),Math.round(j),0,0);F.F_(f,f);this.ZzN(S.Gd(F));this.LF.push(e,j);
this.fv.push(g);p+=2;if(p>=6)this.LA(this.ZCu(p))};WM.prototype.ZeA=function(e){if(e==null)e=1;e=Math.max(.05,Math.min(5,e));
if(isNaN(e)){alert("Pressure is not a number");throw"e"}return e};WM.prototype.LA=function(e){this.Fa=e;
this.fW=this.fW.Gd(e)};WM.prototype.finish=function(){var e=this.LF,j=e.length,g;if(j==4)g=this.ZyV(e[j-2],e[j-1],this.fv[(j>>1)-1],!0);
if(j>4)g=this.ZCu(j+2);if(g)this.LA(g)};WM.prototype.ZCu=function(e){var j=this.LF,g=this.fv,P=j[e-6],p=j[e-5],v=j[e-4],x=j[e-3],A=g[(e>>1)-3],f=g[(e>>1)-2],S=new Uc(0,0),F=new Uc(0,0);
if(8<=e)S=WM.Zgj(j[e-8],j[e-7],P,p,v,x);if(e<=j.length)F=WM.Zgj(j[e-2],j[e-1],v,x,P,p);var m=P+S.x,R=p+S.y,M=v+F.x,b=x+F.y,s=new G;
for(var K=0;K<10;K++){var X=(K+1)*.1,d=1-X,W=d*d*d*P+3*X*d*d*m+3*X*X*d*M+X*X*X*v,O=d*d*d*p+3*X*d*d*R+3*X*X*d*b+X*X*X*x,H=this.ZyV(W,O,A+X*(f-A));
s=s.Gd(H)}return s};WM.Zgj=function(e,j,g,P,p,v){var x=e-g,A=j-P,f=p-g,S=v-P,F=Math.sqrt(x*x+A*A),m=Math.sqrt(f*f+S*S),R=Math.acos((x*f+A*S)/(F*m))/Math.PI,M=.35,b=.1;
R=b+R*(M-b);var s=p-e,K=v-j,X=Math.sqrt(s*s+K*K),d=R*m/X;return new Uc(s*d,K*d)};WM.prototype.ZyV=function(e,j,g,P){var p=new G,v=this.ZY.ZKO;
if(v==null)v=0;if(v==0||P){p=this.Zy$(e,j,g);return p}var x=this.Lt,A=e-x.x,f=j-x.y,S=Math.sqrt(A*A+f*f);
A/=S;f/=S;if(S>v){var F=x.x+A*(S-v),m=x.y+f*(S-v);p=this.Zy$(F,m,g);this.Lt.Ve(F,m)}return p};WM.prototype.Zy$=function(e,j,g){var P=new G,p=new Uc(e,j),v=this.e.Brsh.v.Dmtr.v.val,x=this.ZY.Rg,A=p.ki(this.jl);
A.normalize(1);var f=Uc.zG(this.jl,p),S=-this.Z$E,F=this.jl.clone(),m=this.ZY.mw;while(!0){var R=this.fZ+(g-this.fZ)*(Math.max(0,S)/f),M=this.ZyP()*(m[1]?R:1),b=this.Zig()*(M+this.ZOc)/2;
if(x==WM._e)b=1;if(S+b<f){S+=b;var s=new Uc(this.jl.x+A.x*S,this.jl.y+A.y*S),d=1;if(x==WM._e){var K=F.clone();
K.x+=A.x>0?1:-1;var X=F.clone();X.y+=A.y>0?1:-1;if(Uc.zG(K,s)<Uc.zG(X,s))s=K;else s=X;S=Uc.zG(s,this.jl)}if(this.e.useScatter.v==!0){d=this.e.Cnt.v;
var W=this.e.countDynamics.v.jitter.v.val/100,O=W*(-1+2*this.sE());d+=Math.round(d*O)}for(var H=0;H<d;
H++){var Y=this.ZNK(s,M,this.ZY.nD*(m[0]?R*.5:1),A);P=P.Gd(Y)}F=s}else break}this.Z$E=f-S;this.jl=p;
this.fZ=g;return P};WM.prototype.Zig=function(){var e=this.e.Brsh.v,j=e.Spcn.v.val,g=Math.max(5,e.Rndn.v.val);
return g/100*(j/100)};WM.prototype.ZyP=function(){var e=this.e,j=e.Brsh.v.Dmtr.v.val;if(e.useTipDynamics.v){var g=j*(e.minimumDiameter.v.val/100);
j=g+(j-g)*(1-this.sE()*(e.szVr.v.jitter.v.val/100))}return j};WM.prototype.ZNK=function(e,j,g,P){g=Math.min(1,g);
var p=this.e,v=this.e.Brsh.v,x=v.Dmtr.v.val,A=this.ZY,f=A.Rg,S=A.ZNi,F=new WE;F.translate(-this.yk.fV.W/2,-this.yk.fV.j/2);
F.scale(1/this.yk.ZxO,1/this.yk.ZxO);F.scale(j/x,j/x);F.scale(1,Math.max(5,v.Rndn.v.val)/100);if(p.useTipDynamics.v){var m=p.minimumRoundness.v.val/100;
F.scale(1,m+(1-m)*Math.round(100-this.sE()*p.roundnessDynamics.v.jitter.v.val)/100);F.rotate((-.5+this.sE())*4*Math.PI*(p.angleDynamics.v.jitter.v.val/100))}F.rotate(v.Angl.v.val*(Math.PI/180));
if(p.useScatter.v){var R=(-1+2*this.sE())*p.scatterDynamics.v.jitter.v.val/100;F.translate(-R*j*P.y,R*j*P.x)}F.translate(e.x,e.y);
var M=this.Zia(F,e);this.ZzN(M.rect);var b=M.rect.clone();if(f==null){var s=this.W_(p);Z.XC(M.aV,Math.round(s.e*255)<<16|Math.round(s.z*255)<<8|Math.round(s.k*255)<<0,4278190080);
if(this.fW.tE()&&this.rect.iJ(M.rect)&&g==1)this.C$=M.aV.slice(0);else Z.Y.Zdd(M.aV,M.rect,this.C$,this.rect,M.rect,g)}if(f==WM._e){var K=new Uc(M.rect.x+M.rect.W/2,M.rect.y+M.rect.j/2),X=Math.round(K.x-this.fx.x),d=Math.round(K.y-this.fx.y),W=M.rect.clone();
W.offset(-X,-d);var O=W.zx(this.rect);O.offset(X,d);Z.Vy(this.C$,this.rect,M.aV,W);Z.Y.cx(M.aV,M.rect,this.C$,this.rect,M.Hp,M.rect,g)}if(f==WM.vg||f==WM.vN||f==WM.hm){var H=M.rect.zx(this.rect),Y;
if(H.iJ(M.rect))Y=M.Hp;else{Y=Z.V(H.h());Z.Oo(M.Hp,M.rect,Y,H)}var y=Z.V(H.h()*4);Z.Vy(this.C$,this.rect,y,H);
if(f==WM.vN){var B=Z.clone(y),c=Z.Bz.Ti([-1,-1,-1,-1,25,-1,-1,-1,-1]);Z.Bz.kd(y,B,H.W,H.j,c,0);Z.Ue(B,y)}else if(f==WM.hm){var $=ZW.WX("UnsM");
$.Amnt.v.val=15;$.Thsh.v=0;$.Rds.v.val=5;var B=Z.V(y.length);ZW.eI("UnsM",{buffer:y,rect:H},$,0,0,{buffer:B,rect:H});
Z.Ue(B,y)}else{ZW.kv(1,Z.blur.cB,y,H)}Z.Y.cx(y,H,this.C$,this.rect,Y,H,g)}this.ZOc=j;this.fx=K;return b};
WM.prototype.W_=function(e){var j=WM.ZDD(this.Jm);if(e.useColorDynamics&&e.useColorDynamics.v){var g=1-this.sE()*e.clVr.v.jitter.v.val/100,P=WM.ZDD(this.gK);
j.k=g*j.k+(1-g)*P.k;j.z=g*j.z+(1-g)*P.z;j.e=g*j.e+(1-g)*P.e;var p=(-.5+this.sE())*e.H.v.val/100,v=(-1+2*this.sE())*e.Strt.v.val/100,x=(-1+2*this.sE())*e.Brgh.v.val/100,A=Z.LY(j.k,j.z,j.e);
A.GF=(A.GF+p+1)%1;A.nd=A.nd+v;if(A.nd<0)A.nd=-A.nd;if(A.nd>1)A.nd=1-(A.nd-1);A.Sq=A.Sq+x;if(A.Sq<0)A.Sq=-A.Sq;
if(A.Sq>1)A.Sq=1-(A.Sq-1);j=Z.yD(A.GF,A.nd,A.Sq)}return j};WM.prototype.kq=function(e){return Math.max(0,Math.min(1,e))};
WM.prototype.sE=function(){this.nM++;return WM.hash(this.nM)};WM.ZDD=function(e){return{k:(e>>16&255)/255,z:(e>>8&255)/255,e:(e>>0&255)/255}};
WM.hash=function(e){e=e^61^e>>16;e=e+(e<<3);e=e^e>>4;e=e*668265261;e=e^e>>15;return(e&16777215)/16777215};
WM.Gl=[];WM.prototype.Zia=function(e,j){var g=null,x;for(var P=0;P<WM.Gl.length;P++)if(WM.Gl[P].Lh==this.Lh){g=WM.Gl[P];
WM.Gl.splice(P,1)}if(g==null)g={Sn:[],Lh:this.Lh,MJ:0};var p=g.Sn,v=this.ZY.RB;if(v){e=e.clone();e.vR=Math.floor(e.vR);
e.LV=Math.floor(e.LV)}var A=WM.Ztc(e.vR,e.LV);for(var P=0;P<p.length;P++){var f=p[P];if(!(f.KN.Fl==e.Fl&&f.KN.e==e.e&&f.KN.Ug==e.Ug&&f.KN.LC==e.LC))continue;
if(WM.Zii(f.cO,A)<.2||f.rect.h()>1e4){x=f;break}}var S=Math.round(this.e.Brsh.v.Dmtr.v.val);if(x){x.rect.x=Math.round(x.$U.x-x.KN.vR+e.vR);
x.rect.y=Math.round(x.$U.y-x.KN.LV+e.LV);if(v){x.rect.x=Math.round(j.x-S/2);x.rect.y=Math.round(j.y-S/2)}}else{var F;
if(v&&S<=3){F={buffer:Z.V(S*S*4),rect:new G(Math.round(j.x-S/2),Math.round(j.y-S/2),S,S)};Z.XC(F.buffer,4278190080)}else if(e.Fl==1&&e.e==0&&e.Ug==0&&e.LC==1){F={buffer:this.yk.aV,rect:this.yk.fV.clone()};
F.rect.x=Math.round(e.vR);F.rect.y=Math.round(e.LV)}else F=o.t.Ge([this.yk.aV,this.yk.fV],e);if(v){for(var P=0;
P<F.buffer.length;P++)F.buffer[P]=F.buffer[P]>127?255:0}if(F==null)F={buffer:Z.V(0),rect:new G};var m=e.vR-Math.floor(e.vR),R=e.LV-Math.floor(e.LV);
x={aV:F.buffer,Hp:Z.V(F.rect.h()),rect:F.rect,$U:F.rect.clone(),KN:e,cO:WM.Ztc(e.vR,e.LV)};Z.bF(x.aV,x.Hp,3);
p.push(x);if(p.length>200)p=p.slice(100)}g.Sn=p;g.MJ=Date.now();WM.Gl.push(g);WM.Gl.sort(function(M,b){return b.MJ-M.MJ});
while(WM.Gl.length>3)WM.Gl.pop();return x};WM.Ztc=function(e,j){return new Uc(e-Math.floor(e),j-Math.floor(j))};
WM.Zii=function(e,j){var g=j.x,P=j.y,p=Math.abs(g-e.x),v=Math.abs(P-e.y);if(Math.abs(g-1-e.x)<p)g--;
else if(Math.abs(g+1-e.x)<p)g++;if(Math.abs(P-1-e.y)<v)P--;else if(Math.abs(P+1-e.y)<v)P++;p=e.x-g;v=e.y-P;
return Math.sqrt(p*p+v*v)};WM.prototype.ZzN=function(e){};WM.ZiS=function(e,j,g){var P,p,v,x=e.Brsh.v.Dmtr.v.val;
if(e.Brsh.v.classID=="computedBrush"){var A=e.Brsh.v.Hrdn.v.val/100,f=1+.55*(1-A);v=x<100?1.2:1;var S=Math.round(v*x*f);
p=new G(0,0,S,S);P=Z.V(S*S*4);var F=new Uint32Array(P.buffer),m=S/2,R=f/m,M=Date.now(),b=WM.XL(A),s=Math.round(8e3/m),j=b[0],K=b[1]-s,X=b[2]+s,d=Math.min(S,(S>>>1)+1);
for(var W=0;W<d;W++){var O=R*(W-m+.25);O*=O;var H=R*(W-m+.75);H*=H;var Y=W*S,y=(S-1-W)*S;for(var B=0;
B<d;B++){var c=R*(B-m+.25),$=Math.floor(Math.sqrt(c*c+O)*(4e3/1.55));if(X<$)continue;else if($<K){var I=4278190080;
while(B<d){var r=S-1-B;F[Y+B]=I;F[Y+r]=I;F[y+B]=I;F[y+r]=I;B++}break}else{var i=R*(B-m+.75),U=Math.floor(Math.sqrt(i*i+O)*(4e3/1.55)),N=Math.floor(Math.sqrt(c*c+H)*(4e3/1.55)),C=Math.floor(Math.sqrt(i*i+H)*(4e3/1.55)),I=~~(.5+255*.25*(j[$]+j[U]+j[N]+j[C]))<<24,r=S-1-B;
F[Y+B]=I;F[Y+r]=I;F[y+B]=I;F[y+r]=I}}}}if(e.Brsh.v.classID=="sampledBrush"){var D;for(var W=0;W<j.length;
W++)if(j[W].id==e.Brsh.v.sampledData.v)D=j[W];p=new G(0,0,D.B.W,D.B.j);v=Math.max(p.W,p.j)/x;P=Z.V(p.h()*4);
Z.sH(D.channel,P,3)}while(Math.min(p.W,p.j)>x*2){var n=new G(p.x,p.y,Math.floor(p.W/2),Math.floor(p.j/2)),w=o.t.Ge([P,p],new WE(n.W/p.W,0,0,n.j/p.j,0,0));
v*=n.W/p.W;p=w.rect;P=w.buffer}return{ZxO:v,fV:p,aV:P}};WM.LP=[];WM.XL=function(e){if(WM.LP[e])return WM.LP[e];
var j=Math.pow(e,.55),g=new Float64Array(8e3),P=0,p=8e3;for(var v=0;v<8e3;v++){var x=WM.Zi$(v*(1.55/4e3),j);
if(x>=1)P=v;else if(x<=0&&p==8e3)p=v;g[v]=x}var A=[g,P,p];WM.LP[e]=A;return A};WM.Zi$=function(e,j){var g=e<j?1:WM.ZNL((e-j)/Math.pow(1.001-j,.86));
return g};WM.ZNL=function(e){var j=e*.85;return Math.exp(-(j*j)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))};
WM.prototype.SQ=function(){return this.rect.clone()};WM.prototype.Lo=function(){return this.Fa.zx(this.rect)};
WM.prototype.Ox=function(){return this.fW.zx(this.rect)};WM.prototype.Wz=function(){return this.C$};
WM.O$=null;WM.kl=null;WM.Qf=function(e,j,g,P,p,v){var x=WM.O$,A=WM.kl;if(x==null){WM.O$=x=V.M("canvas","");
WM.kl=A=x.getContext("2d")}if(v==null)v=P;if(x.width!=v||x.height!=p){x.width=v;x.height=p}else A.clearRect(0,0,v,p);
A.fillStyle="#000000";A.font=Math.floor(10*V.I())+"px sans-serif";var f=e.Brsh.v.Dmtr.v.val,S=""+f,F=A.measureText(S);
A.fillText(S,(P-F.width)/2,p-2);var m=P,R=p-10*V.I(),M=Math.min(m,R),b=e.Brsh.v.classID;if(b=="computedBrush"){A.translate(m/2,R/2);
A.rotate(-e.Brsh.v.Angl.v.val*Math.PI/180);A.scale(1,.1+.9*e.Brsh.v.Rndn.v.val/100);var s=Math.min(.95*M/2,f/2)+.5,K=.9*e.Brsh.v.Hrdn.v.val/100,X=A.createRadialGradient(0,0,0,0,0,s);
X.addColorStop(K,"rgba(0,0,0,1)");X.addColorStop((.5+K)/1.5,"rgba(0,0,0,.5)");X.addColorStop(1,"rgba(0,0,0,0)");
A.fillStyle=X;A.fillRect(-s,-s,2*s,2*s);A.setTransform(1,0,0,1,0,0)}else if(b=="sampledBrush"){var d,B=0;
for(var W=0;W<j.length;W++)if(j[W].id==e.Brsh.v.sampledData.v)d=j[W];var O=d.ZrB;if(O==null){O=d.ZrB=[d.channel,d.B];
Z.ZCM(O)}var H=d.channel,Y=d.B.W,y=d.B.j;while((Y>m||y>R)&&O[B+2]){B+=2;H=O[B];Y=O[B+1].W;y=O[B+1].j}if(Y*y!=0){var c=Z.V(Y*y*4);
Z.sH(H,c,3);var $=new ImageData(new Uint8ClampedArray(c.buffer),Y,y);A.putImageData($,Math.round((m-Y)/2),Math.round((R-y)/2))}}else{}return x.toDataURL()};
WM.Tr=function(e,j,g,P){if(g==0)g=1;var p=e.Brsh.v,v=p.Dmtr.v.val,x=p.Dmtr.v.val=Math.min(P!=null?Math.round(P*2.6):3e3,v*g),A=p.Hrdn?p.Hrdn.v.val/100:1,f=P!=null?P:Math.round(x*(1+.55*(1-A)))+4,m;
f=Math.max(15,Math.min(f,3e3));var S=new G(0,0,f,f),F=new WM(e,j,null,{nD:1},16711712,0,S);p.Dmtr.v.val=v;
F.moveTo(S.W/2,S.j/2);var R=F.Wz(),M=F.SQ();if(S.iJ(M))m=R;else{m=Z.V(S.h()*4);Z.Vy(R,M,m,S)}return[m,S,x]};
WM.TZ=function(e,j,g,P){var p=WM.Tr(e,j,g),v=p[0],x=p[1],A=p[2],f=x.h(),S=Z.V(f);Z.bF(v,S,3);var F=Z.V(f);
Z.Z.ZIH(S,F,x);if(A<3||Z.HI(F,0)||P&&A>12){var m=x.W,R=m>>>1,M=F,b=255;for(var s=0;s<4;s++){M[m*(R-6+s)+R]=b;
M[m*R+R-6+s]=b;M[m*R+R+6-s]=b;M[m*(R+6-s)+R]=b}}var K=[1,2,1,2,8,2,1,2,1];K=Z.Bz.Ti(K);Z.Bz.ZtA(F,S,x.W,x.j,K);
Z.XC(v,4294967295);Z.sH(S,v,3);for(var s=0;s<f;s++)if(F[s]==255){v[s<<2]=v[(s<<2)+1]=v[(s<<2)+2]=0;v[(s<<2)+3]=255}return{WE:v,B:x,Va:new Uc(x.W/2,x.j/2)}};
WM._e="0";WM.vg="1";WM.vN="2";WM.hm="3";var vs={};vs.Mc=function(e,j){var g=e.MC(),f;if(g.x==Infinity||g.tE())return{C$:Z.V(0),B:new G,GC:new G};
var P=e.MC(),p=vs.hQ(e,j),v=Z.g.bO(p.u);if(v.tE())return{C$:Z.V(0),B:new G,GC:new G};var x=V.M("canvas","");
x.width=v.W;x.height=v.j;var A=x.getContext("2d");A.translate(-v.x,-v.y);vs.ZNp(p,A);if(e.kw.length!=0){var S=Wf.zl(j),F=A.getImageData(0,0,v.W,v.j);
f=new Uint8Array(F.data.buffer);if(S==0)for(var m=0;m<f.length;m+=4)f[m+3]=f[m+3]>80?255:0;if(S==3)for(var m=0;
m<f.length;m+=4)f[m+3]=Math.min(255,f[m+3]*1.5)}else f=Z.V(v.h()*4);return{C$:f,B:v,GC:P}};vs.hQ=function(e,j){var g={L:[],u:[]},P=j.K,p=Wf.zl(j),v=Math.max(P.e*P.e,P.Ug*P.Ug)<1e-9?P:null;
if(p==3||p==4)v=null;vs.ZNA(e,g,v);if(!Z.xL.Xx(j.pJ)){var x=Z.g.XI(g.u);g=Z.g.fY(g);g=Z.g.fR(g,Math.min(x.W,x.j)/8);
var A=Wf.SQ(j,e),f=Z.xL.pT(j.pJ,A);Z.ie.apply(f,g.u,A)}Z.g.K(g.u,P,g.u);return g};vs.ZNp=function(e,j){Typr.U.pathToContext({crds:e.u,cmds:e.L},j)};
vs.ZEB=!1;vs.Og=function(e,j){if(vf.ZUB==null){if(!vs.ZEB){vf.ZqX();vs.ZEB=!0}return!1}var g=e.xe,P=g.ResourceDict.FontSet,p=g.ResourceDict.StyleSheetSet[0].StyleSheetData,v=g.EngineDict.StyleRun.RunLengthArray,x=g.EngineDict.StyleRun.RunArray,A=Wf.UW(g),f=!0,S={},F=0;
for(var m=0;m<x.length;m++){var R=x[m].StyleSheet.StyleSheetData.Font;if(R==null)R=p.Font;for(var M=0;
M<v[m];M++){var b=A.charCodeAt(F+M),s=R+","+(b>128?b:-1);if(S[s]==null){S[s]=1;if(j.Io(P[R].Name,b)==null)f=!1}}F+=v[m]}return f};
vs.ZNA=function(e,j,g){var P=new WE;for(var p=0;p<e.eJ.length;p++)vs.ZDg(e.kw,e.eJ[p],j,P,g)};vs.ZDg=function(e,j,g,P,p){P.translate(j.cO.x,j.cO.y);
for(var v=0;v<j.vM.length;v++){var x={},A=j.vM[v];if(!A.Lb)break;var f=P.clone();f.translate(A.cO.x,A.cO.y);
if(p){var S=p.LV+f.LV*p.LC;f.LV=(Math.round(S)-p.LV)/p.LC}for(var F=A.start;F<A.end;F++)vs.ZDa(e,j.jW[F],j,x,g,f)}P.translate(-j.cO.x,-j.cO.y)};
vs.ZDd="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
vs.ZDa=function(e,j,g,P,p,v){v.translate(j.cO.x,j.cO.y);for(var x=j.o_;x<=j.CH;x++){var A=g.pC[x],f=A.B.W,S=e[g.ZUL+A.pz];
if(S.V$=="\n")continue;var F=S.va.FontSize/S.xZ.head.unitsPerEm,m=Wf.W_(S.va),R=(Math.round(m.k)<<16)+(Math.round(m.z)<<8)+Math.round(m.e);
p.L.push("#"+Z.jz(R));var M=v.clone();M.translate(A.cO.x+A.hl*F,A.cO.y-A.hc*F);var b=new WE;b.scale(F,-F);
if(S.gm==1&&vs.ZDd.indexOf(S.V$)!=-1)b.concat(new WE(-1,0,0,1,f,0));if(S.va.FauxItalic)b.concat(new WE(1,0,-Math.tan(.18),1,0,0));
b.translate(0,S.MB);b.scale(S.scale.x,S.scale.y);if(S.va.BaselineShift!=null)b.translate(0,-S.va.BaselineShift);
if(A.uR!=0){b.rotate(-A.uR)}b.concat(M);if(A.path.L.length!=0&&S.V$!="\t"){if(S.va.FauxBold){var s=S.va.FontSize/2048*27*S.scale.x;
b.vR+=s;Z.g.concat(p,A.path,b);b.vR-=s+s;Z.g.concat(p,A.path,b)}else Z.g.concat(p,A.path,b)}if(S.V$!="\n"){if(S.va.Underline){if(P.My==null)P.My=S.xZ.post.underlineThickness;
if(P.ZUT==null)P.ZUT=S.xZ.post.underlinePosition;var K=0,X=P.ZUT-P.My/2,d=A.QB*1.05,W=-P.My;Z.g.concat(p,{L:["M","L","L","L","Z"],u:[K,X,K+d,X,K+d,X+W,K,X+W]},b)}if(S.va.Strikethrough){var O=S.xZ["OS/2"].yStrikeoutSize,H=S.xZ["OS/2"].yStrikeoutPosition,K=0,X=H+O/2,d=A.QB*1.05,W=-O;
Z.g.concat(p,{L:["M","L","L","L","Z"],u:[K,X,K+d,X,K+d,X+W,K,X+W]},b)}}p.L.push("X")}v.translate(-j.cO.x,-j.cO.y)};
function vf(e,j){var g=Wf.FN(e),P,p,v=Wf.JQ(e),f;if(e.Curve)p=vf.MW(e.Curve);if(g!=0){P=new G(v[0],v[1],v[2],v[3]);
if(g==2){P.W=p[5]-p[4];P.j=9999}}this.eJ=[];this.kw=[];this.Gm=g;var x=Wf.UW(e),A=-1;for(var S=0;S<x.length;
S++){var F=f,m=Wf.ZVk(e,S),W=0;if(m!=A){A=m;F=f=Wf.ZLr(e,S)}var R={V$:x.charAt(S),va:F,xZ:null,fJ:-1,MB:0,scale:new Uc(0,0),a$:0,lineHeight:0,gm:0},M=e.ResourceDict.FontSet[F.Font].Name,b=R.xZ=j.Io(M,x.charCodeAt(S));
R.scale.x=F.HorizontalScale==null?1:F.HorizontalScale;R.scale.y=F.VerticalScale==null?1:F.VerticalScale;
var s=b["OS/2"],K=b.hhea;if(F.FontCaps==1&&R.V$!=R.V$.toUpperCase()){var X=s.sxHeight?s.sxHeight/s.sTypoAscender:.76;
R.scale.x*=X;R.scale.y*=X}var d=1/b.head.unitsPerEm*F.FontSize;if(F.FontBaseline==1){var X=e.ResourceDict.SuperscriptSize;
R.scale.x*=X;R.scale.y*=X;R.MB-=e.ResourceDict.SuperscriptPosition*F.FontSize}if(F.FontBaseline==2){var X=e.ResourceDict.SubscriptSize;
R.scale.x*=X;R.scale.y*=X;R.MB+=e.ResourceDict.SubscriptPosition*F.FontSize}if(W==0&&s&&s.sxHeight&&M.toLowerCase().indexOf("capitals")!=-1)W=s.sxHeight;
if(W==0&&s&&s.sCapHeight)W=s.sCapHeight;if(W==0&&s&&s.sTypoAscender)W=s.sTypoAscender;if(W==0)W=K.ascender;
R.a$=W*d;R.lineHeight=F.FontSize*1.2;if(F.AutoLeading==!1)R.lineHeight=F.Leading;this.kw.push(R)}var O=this.eJ,H=[0];
for(var S=0;S<e.EngineDict.ParagraphRun.RunLengthArray.length;S++){var Y=new vf.zV(e,j,this.kw,S,P,H,g==1?p:null);
O.push(Y)}if(g==2){var y=e.Curve.Points,B=p[0],c=p[1],$=p[2],I=p[3],r=p[4],i=p[5];for(var S=0;S<O.length;
S++)for(var U=0;U<O[S].vM.length;U++)if(!(S==0&&U==0))O[S].vM[U].Lb=!1;var Y=O[0],N=Y.vM[0];Y.cO.Ve(0,0);
N.cO.Ve(0,0);for(var U=N.start;U<N.end;U++){var C=Y.jW[U],D=C.cO.x;C.cO.x=0;for(var n=C.o_;n<=C.CH;n++){var w=Y.pC[n],k=w.B.W/2;
w.cO.x+=D;var h=vf.ZDY(B,(r+w.cO.x+k)%I);w.cO.x=h[0]-k*h[2];w.cO.y=h[1]-k*h[3];w.uR=Math.atan2(h[3],h[2])}}}}vf.prototype.ZDL=function(){return!this.ZSf(0)};
vf.prototype.ZDj=function(){return this.ZSf(1)};vf.prototype.ZSf=function(e){var j=this.eJ,g=!0,P=0;
for(var p=0;p<j.length;p++){var v=j[p].vM,x=v.length;P+=x;for(var A=0;A<x;A++)g&=v[A].Lb}return[g,P][e]};
vf.MW=function(e){var j=e.Points,g=j.length,P=g>>>3,p=e.TextOnPathTRange,v=e.Reversed,m=0,R=0;if(v){var x=j.slice(0);
for(var A=0;A<g;A+=2){x[A]=j[g-2-A];x[A+1]=j[g-1-A]}j=x;p=[P-p[1]%P,P-p[0]%P]}var f=[],S=[0],F=[0];for(var A=0;
A<g;A+=8){var M=j[A+6]-j[A+0],b=j[A+7]-j[A+1],s=Math.round(4*Math.sqrt(M*M+b*b));for(var K=0;K<s;K++){var X=K/s,d=1-X,W=d*d*d*j[A+0]+3*d*d*X*j[A+2]+3*d*X*X*j[A+4]+X*X*X*j[A+6],O=d*d*d*j[A+1]+3*d*d*X*j[A+3]+3*d*X*X*j[A+5]+X*X*X*j[A+7];
f.push(W,O);if(A+K!=0){var M=W-m,b=O-R;F.push(F[F.length-1]+Math.sqrt(M*M+b*b));S.push((A>>>3)+X)}m=W;
R=O}}var H=F.length,Y=F[H-1],y=vf.Tf(p[0],S),B=vf.Tf(p[1]%P,S),c=F[y%H],$=F[B%H];if(c>=$)$+=Y;return[f,S,F,Y,c,$]};
vf.Tf=function(e,j){var g=0;while(j[g]<e)g++;return g};vf.ZDY=function(e,j){var g=0,P=0,p,v,x;while(g<j){p=e[P+2]-e[P];
v=e[P+3]-e[P+1];x=Math.sqrt(p*p+v*v);g+=x;P+=2}return[e[P],e[P+1],p/x,v/x]};vf.prototype.ZDo=function(e){return this.kw[e]};
vf.prototype.Ztv=function(e){for(var j=0;j<this.eJ.length;j++){var g=this.eJ[j];for(var P=0;P<g.vM.length;
P++){var p=g.vM[P],v=g.jW[p.start].start,x=g.jW[p.end-1].end;if(v<e&&e<x)return[v,x-1]}}return[0,1]};
vf.prototype.Zxq=function(e,j){var g=-1,P=this.eJ;if(this.Gm==2){var p=1e9,v=0,x=P[0],A=x.vM[0];for(var f=A.start;
f<A.end;f++){var S=x.jW[f];for(var F=S.o_;F<=S.CH;F++){var m=x.pC[F],R=m.B.W,M=e.x-m.cO.x,b=e.y-m.cO.y,s=M*M+b*b;
if(s<p){p=s;v=m.pz}}}return v}for(var K=0;K<P.length;K++){var x=P[K];for(var X=0;X<x.vM.length;X++){g++;
var A=x.vM[X],d=x.vM[X+1];if(d==null&&K<P.length-1)d=P[K+1].vM[0];if(j!=null){if(g!=j)continue}else{if(d!=null&&x.cO.y+A.cO.y<e.y)continue}for(var f=A.start;
f<A.end;f++){var S=x.jW[f];for(var F=S.o_;F<=S.CH;F++){var m=x.pC[F],R=m.B.W,W=x.cO.x+A.cO.x+S.cO.x,O=W+m.cO.x,H=W+(F<S.CH?x.pC[F+1].cO.x:m.cO.x+R);
if(e.x<=H||f+1==A.end&&F==S.CH){var Y=x.ZUL+m.pz,y=this.kw[Y],B=y.gm&1;if(y.V$!="\n"&&(B==0&&e.x>O+R/2||B==1&&e.x<O+R/2))Y++;
return Y}}}}}};vf.prototype.Mu=function(e){var j={B:new G,Qa:0},g=0;for(var P=0;P<this.eJ.length;P++){var p=this.eJ[P];
for(var v=0;v<p.vM.length;v++){var x=p.vM[v];j.Qa=g;g++;for(var A=x.start;A<x.end;A++){var f=p.jW[A];
for(var S=f.start;S<f.end;S++){if(S==e){var F=this.kw[S],m=F.fJ,R=p.pC[m].pz,M=1;while(p.pC[m]!=null&&p.pC[m].pz==R){var b=p.pC[m],s=p.cO.x+x.cO.x+f.cO.x+b.cO.x,K=p.cO.y+x.cO.y+f.cO.y+b.cO.y;
j.B=j.B.Gd(new G(s,K-F.lineHeight,b.B.W,F.lineHeight));j.uR=b.uR;m+=M}return j}}}}}};vf.prototype.MC=function(){var e=Infinity,j=Infinity,g=-Infinity,P=-Infinity;
for(var p=0;p<this.eJ.length;p++){var v=this.eJ[p];for(var x=0;x<v.vM.length;x++){var A=v.vM[x];if(!A.Lb)break;
for(var f=A.start;f<A.end;f++){var S=v.jW[f];for(var F=S.o_;F<=S.CH;F++){var m=v.pC[F],R=m.B,M=v.cO.x+A.cO.x+S.cO.x+m.cO.x,b=v.cO.y+A.cO.y+S.cO.y+m.cO.y;
e=Math.min(e,M+R.x);j=Math.min(j,b+R.y);g=Math.max(g,M+R.x+R.W);P=Math.max(P,b+R.y+R.j)}}}}return new G(e,j,g-e,P-j)};
vf.ZUD=function(e){return 19968<=e&&e<=40959||12288<=e&&e<=12543};vf.Zty=function(e,j,g,P,p,v,x){var A=[v],f=0;
for(var S=v;S<x;S++){if(g[S]==null)console.log(S,v,x,g);var F=g[S].V$,m=F.charCodeAt(0);if(m==32||m==9){A.push(f,S,1,S+1);
f=0}else if(m==3851){A.push(f+1,S+1);f=0}else if(vf.ZUD(m)){A.push(f,S);f=1}else if(S!=v&&g[S].gm!=g[S-1].gm){A.push(f,S);
f=1}else f++}A.push(f);var R=[];for(var S=0;S<A.length;S+=2){var M=A[S],b=A[S+1];if(b==0)continue;R.push(new vf.ZqG(e,j,g,P,p,M,b))}return R};
vf.Zti=function(e,j,g,P,p,v,x){var A=[0,j?j.W:1e9],f=[];if(P){var S=e[v].a$,F=p+(p==0?S:e[v].lineHeight),m=F-S*.9,R=Z.g.xc(P[0],m),M=R.length,b=Z.g.xc(P[0],F),s=b.length;
if(M!=0&&s!=0){var K=0,X=0;A=[];while(K<M&&X<s){var d=Math.max(R[K],b[X]),W=R[K+1],O=b[X+1],H=Math.min(W,O);
if(d<H)A.push(d,H);if(W<O)K+=2;else X+=2}}}for(var Y=0;Y<A.length;Y+=2){var y=A[Y+1]-A[Y],B=0,c=v,$=j?y-g.StartIndent-g.EndIndent-(v==0?g.FirstLineIndent:0):Infinity;
while(v!=e.length){var I=e[v],r=B==0||(I.Au||I.RD)||B+I.B.W<$;if(!r)break;B+=I.B.W;v++}f.push(v-c)}x[0]=f;
x[1]=A;x[2]=v};vf.Ztj=function(e,j){var g=e.length,P=new Uint32Array(g),p=new Uint8Array(g),v=0;for(var x=0;
x<g;x++){p[x]=0;var A=e.charCodeAt(x);P[x]=A;if(A>v)v=A}if(v>1424)p=vf.Zry(P,j);return p};vf.zV=function(e,j,g,P,p,v,x){this.jW=[];
this.vM=[];this.cO=new Uc(0,0);this.pC=null;this.jW=null;this.va=Wf.ZLW(e,P);var A=this.va,m=0,s="",O=0,H=1,t=0;
if(P!=0){var f=A.SpaceBefore;if(f!=null)v[0]+=f}var S=e.EngineDict.ParagraphRun.RunLengthArray,F=S[P];
for(var R=0;R<P;R++)m+=S[R];var M=A._Direction?A._Direction:0;this.ZUL=m;var b=Wf.UW(e).slice(m,m+F);
for(var K=0;K<b.length;K++){var X=b.charAt(K);s+=g[m+K].va.FontCaps==0?X:X.toUpperCase()}b=s;var d=vf.Ztj(b,M),W=[],Y=d[R]&1,y=g[m].xZ;
g[m].gm=d[0];for(var R=1;R<b.length;R++){var X=g[m+R],B=d[R];X.gm=B;if(B!=Y||X.xZ!=y){W.push(O,H);O=R;
H=1;Y=B;y=X.xZ}else H++}W.push(O,H);var c=this.pC=[];for(var R=0;R<W.length;R+=2){var $=W[R],I=W[R+1],r=(g[m+$].gm&1)==0,i=b.slice($,$+I),U=vf.ZUB(g[m+$].xZ,i,r),N=[],n=0;
for(var K=0;K<U.length;K++){var C=U[K];N.push({z:C.g,pz:C.cl,QB:C.ax,$t:C.ay,hl:C.dx,hc:C.dy})}U=N;var D=U.slice(0);
if(!r)D.reverse();for(var K=0;K<i.length;K++){while(n+1<D.length&&D[n+1].pz<=K){n++}while(n>0&&D[n-1].pz==K)n--;
g[m+$+K].fJ=c.length+(r?n:D.length-n-1)}for(var K=0;K<U.length;K++){c.push(U[K]);U[K].pz+=$;var X=g[m+U[K].pz];
if(X.V$=="\n")U[K].QB=0;if(X.V$=="\t")U[K].QB=X.xZ.head.unitsPerEm*2}}var w=Wf.gp(A),k=this.jW=vf.Zty(e,j,g,m,c,m,m+F),h=this.vM,a=-1,s=[null,null,0];
while(t<k.length){vf.Zti(k,p,A,x,v[0],t,s);a++;var _={start:t,end:0,B:new G,cO:new Uc(0,0),Lb:!0},WB=0,Wt=0;
h.push(_);_.end=s[2];var E=_.end==k.length;function WW(D,$,WG){var Wq=WG-$>>>1;for(var R=0;R<Wq;R++){var Wa=D[$+R];
D[$+R]=D[WG-1-R];D[WG-1-R]=Wa}}for(var Wx=1;Wx<5;Wx++){var WU=-1;for(var R=_.start;R<_.end;R++){var B=g[k[R].start].gm;
if(WU==-1&&B>=Wx)WU=R;else if(WU!=-1&&B<Wx){WW(k,WU,R);WU=-1}}var We=_.end;if(M==0&&k[We-1].Au)We--;
if(WU!=-1)WW(k,WU,We)}var Wv=s[0],L=s[1],WU=t,J=t;for(var WZ=0;WZ<Wv.length;WZ++){var WJ=L[WZ*2+1]-L[WZ*2],Wu=0;
WU=J;J+=Wv[WZ];var WC=this.ZqT(WU,J,k,M,p!=null);if(p){if(w==1||E&&w==4)Wu=WC[1]+(WJ-WC[0]);if(w==2||E&&w==5)Wu=WC[1]+(WJ-WC[0])/2;
if(a==0)Wu+=A.FirstLineIndent;Wu+=A.StartIndent}else{if(w==0)Wu=A.StartIndent+A.FirstLineIndent;if(w==1)Wu=-WC[0]-A.EndIndent;
if(w==2)Wu=-WC[0]/2}Wu+=L[WZ*2];if(p&&w>2&&(w==6||!E))this.Zqz(WU,J,k,WJ,M,Wu);else{var Wn=Wu;for(var R=WU;
R<J;R++){k[R].cO.x=Wn;Wn+=k[R].B.W}}}t=_.end;for(var R=_.start;R<_.end;R++){var Wy=k[R].B.clone();Wy.sD(k[R].cO);
_.B=_.B.Gd(Wy);WB=Math.max(WB,k[R].a$);Wt=Math.max(Wt,k[R].lineHeight)}_.cO.y=a==0?0:h[a-1].cO.y+Wt;
if(a==0){if(P==0&&p)v[0]+=WB;if(P!=0)v[0]+=Wt;this.cO.y=v[0]}else v[0]+=Wt;if(p)_.Lb=this.cO.y+_.cO.y<p.y+p.j}var Wz=A.SpaceAfter;
if(Wz!=null)v[0]+=Wz};vf.zV.prototype.ZqT=function(e,j,g,P,p){var v=0,x=0;for(var A=e;A<j;A++)v+=g[A].B.W;
if(p){if(P==0)for(var A=j-1;A>=e;A--)if(g[A].Au||g[A].RD)v-=g[A].B.W;else break;if(P==1)for(var A=e;
A<j;A++)if(g[A].Au||g[A].RD){var f=g[A].B.W;v-=f;x-=f}else break}return[v,x]};vf.zV.prototype.Zqz=function(e,j,g,P,p,v){var x=0,A=0,f=0,S=0;
for(var F=e;F<j;F++)if(g[F].Au)f++;else{x+=g[F].B.W;A++}if(p==0)for(var F=j-1;F>=e;F--)if(g[F].Au||g[F].RD){if(g[F].Au){f--}}else break;
if(p==1)for(var F=e;F<j;F++)if(g[F].Au||g[F].RD){if(g[F].Au){f--;S++}}else break;if(A<=1||f==0){if(A==1)g[e].cO.x=v;
return}var m=(P-x)/f,R=-S*m;for(var F=e;F<j;F++){if(g[F].Au)this.pC[g[F].o_].B.W=g[F].B.W=m;g[F].cO.x=v+R;
R+=g[F].B.W}};vf.ZqG=function(e,j,g,P,p,v,x){this.kg="";for(var A=0;A<x;A++)this.kg+=g[v+A].V$;this.Au=x==1&&(g[v].V$==" "||g[v].V$=="\t");
this.RD=x==1&&g[v].V$=="\n";this.start=v;this.end=v+x;this.B=new G;this.cO=new Uc(0,0);this.a$=0;this.lineHeight=0;
var f=0,S=0;if(x==0){this.lineHeight=g[v].lineHeight;this.a$=g[v].a$;this.B=new G(0,-g[v].lineHeight,0,g[v].lineHeight)}var F=g[v].fJ,m=g[v+x-1].fJ;
if(m<F){var R=F;F=m;m=R}while(m+1<p.length&&p[m].pz==p[m+1].pz){m++}this.o_=F;this.CH=m;for(var M=F;
M<=m;M++){var b=p[M],s=g[P+b.pz],K=1/s.xZ.head.unitsPerEm*s.va.FontSize,O=0;if(!s.va.AutoKerning)f+=s.va.Kerning*2*K*s.scale.x;
var X=b.QB*K*s.scale.x;b.cO=new Uc(f,0);b.uR=0;b.B=new G(0,-s.lineHeight,X,s.lineHeight);var d=Typr.U.glyphToPath(s.xZ,b.z);
b.path={L:d.cmds,u:d.crds};var W=b.B.clone();W.sD(b.cO);if(s.va.Tracking!=null)O=s.va.Tracking*.001*s.va.FontSize;
if(s.va.FauxBold==!0)O+=.027*s.va.FontSize;f+=X+O;if(x==1&&(s.V$==" "||s.V$=="\t"))W.W+=2*O;else if(x==1&&s.V$!=null&&vf.ZUD(s.V$.charCodeAt(0)))W.W+=O;
this.B=this.B.Gd(W);this.a$=Math.max(this.a$,s.a$);this.lineHeight=Math.max(this.lineHeight,s.lineHeight)}};
vf.ZqX=function(){fetch("code/external/hb.wasm").then(function(e){return e.arrayBuffer()}).then(function(e){return WebAssembly.instantiate(e)}).then(function(e){e.instance.exports.memory.grow(700);
vf.Zrt=hbjs(e.instance);vf.ZUB=function(){var j=function(g){var P=0;if((g&4294967295-(1<<7)+1)==0){P=1}else if((g&4294967295-(1<<11)+1)==0){P=2}else if((g&4294967295-(1<<16)+1)==0){P=3}else if((g&4294967295-(1<<21)+1)==0){P=4}return P};
return function(g,P,p){var v=vf.Zrt,x=g._data,A=Wl.tB(g),f=vf.ZrL,K=0,X=0;if(vf.ZrT!=A){if(f!=null){f[0].free();
f[1].free();f[2].free()}var S=v.createBlob(x),F=v.createFace(S,0),m=v.createFont(F);vf.ZrL=f=[S,F,m];
vf.ZrT=A}var m=f[2],R=v.createBuffer(),M=T.WJ(P);R.addText(M);R.setDirection(p?"ltr":"rtl");R.guessSegmentProperties();
R.shape(m);var b=R.json(m);R.free();var s=b.slice(0);if(!p)s.reverse();for(var d=1;d<s.length;d++){var W=s[d],O=W.cl;
while(!0){var H=P.codePointAt(K),Y=j(H);if(X+Y<=O){X+=Y;K+=H<=65535?1:2}else break}W.cl=K}return b}}();
fetch("code/external/fribidi.wasm").then(function(j){return j.arrayBuffer()}).then(function(j){return WebAssembly.instantiate(j)}).then(function(e){var j=e.instance.exports,g=j.memory,v=16,x=256,A=1;
g.grow(400);var P=new Uint8Array(g.buffer),p=new Uint32Array(g.buffer),f=v|x,S=v|x|A;vf.Zry=function(m,R){var M=m.length,b=j.calloc(M*4+4+M*4+M*4+M,1),s=b+M*4,K=s+4,X=K+M*4,d=X+M*4;
p.set(m,b>>>2);p[s>>>2]=R==0?f:S;j.fribidi_get_bidi_types(b,M,K);j.fribidi_get_bracket_types(b,M,K,X);
j.fribidi_get_par_embedding_levels_ex(K,X,M,s,d);var W=P.slice(d,d+M);j.free(b);return W};var F=new z(V.E.O,!0);
F.data={U:V.a.du,$_:"add",im:WV.Zo,Sp:null};Wl.in.P(F)})})};function Wf(){}Wf.We=function(e){return JSON.parse(JSON.stringify(e))};
Wf.gH=function(e,j){for(var g in j)e[g]=j[g]};Wf.Ik=function(e,j,g){var P=Wf.ZLa();if(g)Wf.MM(P,0,0,g);
var p={K:new WE(1,0,0,1,Math.round(e),Math.round(j)),xe:P};p.ia=Wf.ZgF();p.pJ=Z.xL.V();p.GC=new G;return p};
Wf.Zez=function(e){var j=["CharacterDirection",0];for(var g=0;g<j.length;g+=2){if(e[j[g]]!=null&&e[j[g]]!=j[g+1]){throw"e";
console.log(j[g],e[j[g]])}}if(e instanceof Array)for(var g=0;g<e.length;g++)Wf.Zez(e[g]);else if(e instanceof Object)for(var P in e)Wf.Zez(e[P])};
Wf.gp=function(e,j){if(j==null)j=e.Justification;var g=e._Direction?e._Direction:0;if(g==1){if(j==0||j==3)j++;
else if(j==1||j==4)j--}return j};Wf.gP=function(e){if(e.add==null)return;var j=e.xe,g=j.Curve,P=e.add.vmsk,p=P.F,v=Z.g.bg(p,!0).u,x=e.K.clone();
x.OF();Z.g.K(v,x,v);var A=v.slice(0,8);for(var f=8;f<v.length;f+=6)A.push(v[f-2],v[f-1],v[f],v[f+1],v[f+2],v[f+3],v[f+4],v[f+5]);
g.Points=A;g.TextOnPathTRange=P.sG.slice(0);g.Reversed=P.CI;if(Wf.FN(j)==1){var g=vf.MW(j.Curve),S=Z.g.XI(g[0]);
Wf.kJ(j,[0,0,S.W,S.j].map(Math.round));for(var F=0;F<A.length;F+=2){A[F]-=S.x;A[F+1]-=S.y}var m=new WE(1,0,0,1,S.x,S.y);
m.concat(e.K);e.K=m}};Wf.cw=function(e){if(e.add==null)return;var j=e.add.vmsk,g=e.xe.Curve,P=g.Points,p={L:["M"],u:[P[0],P[1]]};
for(var v=0;v<P.length;v+=8){p.L.push("C");p.u.push(P[v+2],P[v+3],P[v+4],P[v+5],P[v+6],P[v+7])}Z.g.K(p.u,e.K,p.u);
var x=Z.g.br(p,!0);j.F=x;j.CI=g.Reversed;j.sG=g.TextOnPathTRange.slice(0);e.add.vogk=u.Vd(x)};Wf.W_=function(e){var j={k:0,z:0,e:0};
if(e.FillColor){var g=e.FillColor,P=g.Values;if(g.Type==1)j={k:P[1]*255,z:P[2]*255,e:P[3]*255};else if(g.Type==2){var p={classID:"CMYC",Cyn:{t:"doub",v:P[1]*100},Mgnt:{t:"doub",v:P[2]*100},Ylw:{t:"doub",v:P[3]*100},Blck:{t:"doub",v:P[4]*100}};
j=Z.c.W_(p)}else console.log("Unknown color type")}return j};Wf.Zqk=function(e){for(var j=0;j<e.length;
j++){var g=e[j].StyleSheet.StyleSheetData,P=g.FillColor;if(P&&P.Type==2){var p=Wf.W_(g);P.Type=1;P.Values=[1,p.k/255,p.z/255,p.e/255]}}};
Wf.SQ=function(e,j){var g;if(Wf.FN(e.xe)==1){var P=Wf.JQ(e.xe);g=new G(0,0,P[2]-P[0],P[3]-P[1])}else g=j.MC();
return g};Wf.TS=function(e){var j=e[0];for(var g=0;g<e.length;g++)j=Wf.Zqo(j,e[g]);return j};Wf.Zqo=function(e,j){var g={};
for(var P in e)if(JSON.stringify(e[P])==JSON.stringify(j[P]))g[P]=e[P];return g};Wf.JJ=function(e,j){var g=e.mp,P=-1;
for(var p=0;p<g.length;p++)if(g[p].Name==j)P=p;if(P==-1){P=g.length;g.push({FontType:1,Name:j,Script:0,Synthetic:0})}e.kw.Font=P};
Wf.UW=function(e){return e.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};Wf.zu=function(e,j){e.EngineDict.Editor.Text=j.replace(/\n/g,"\r")};
Wf.FN=function(e){return e.Curve&&e.Curve.TextOnPathTRange[0]>=0?2:e.EngineDict.Rendered.Shapes.Children[0].ShapeType};
Wf.oc=function(e,j){var g=e.EngineDict.Rendered.Shapes.Children[0];g.ShapeType=j;var P=g.Cookie.Photoshop;
P.ShapeType=j;P.Base.ShapeType=j;if(j==0){delete P.BoxBounds;P.PointBase=[0,0]}if(j==1){delete P.PointBase;
P.BoxBounds=[0,0,1,1]}};Wf.JQ=function(e){return e.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
Wf.kJ=function(e,j){e.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=j};Wf.ZLr=function(e,j){return Wf.ZLf(e,Wf.ZVk(e,j))};
Wf.ZVk=function(e,j){var g=e.EngineDict.StyleRun.RunLengthArray;return Wf.Fe(g,j).Pf};Wf.ZLf=function(e,j){var g=e.ResourceDict.StyleSheetSet[0].StyleSheetData,P={};
for(var p in g)P[p]=g[p];var v=e.EngineDict.StyleRun.RunArray[j].StyleSheet.StyleSheetData;Wf.gH(P,v);
return P};Wf.ZLW=function(e,j){var g=e.ResourceDict.ParagraphSheetSet[0].Properties,P={};for(var p in g)P[p]=g[p];
var v=e.EngineDict.ParagraphRun.RunArray[j].ParagraphSheet.Properties;Wf.gH(P,v);var x=["StartIndent","EndIndent","FirstLineIndent"];
for(var A=0;A<3;A++)if(P[x[A]]==null)P[x[A]]=0;return P};Wf.hX=function(e,j,g){if(g=="")return;var P=Wf.UW(e);
Wf.zu(e,P.substring(0,j)+g+P.substring(j,P.length));var p=e.EngineDict.StyleRun,v=p.RunLengthArray,x=Wf.Fe(v,j-1);
v[x.Pf]+=g.length;var A=e.EngineDict.ParagraphRun,v=A.RunLengthArray,f=Wf.Fe(v,j),S=g.split("\n");if(S.length==1){v[f.Pf]+=g.length;
return}v.splice(f.Pf+1,0,v[f.Pf]-(j-f.h$));A.RunArray.splice(f.Pf+1,0,Wf.We(A.RunArray[f.Pf]));v[f.Pf]-=v[f.Pf+1];
v[f.Pf]+=S[0].length+1;for(var F=1;F<S.length-1;F++){A.RunArray.splice(f.Pf+F,0,Wf.We(A.RunArray[f.Pf+F-1]));
A.RunLengthArray.splice(f.Pf+F,0,S[F].length+1)}v[f.Pf+S.length-1]+=S[S.length-1].length};Wf.zC=function(e,j,g){var P=Wf.UW(e);
Wf.zu(e,P.substring(0,j)+P.substring(g,P.length));Wf.Zuv(e.EngineDict.ParagraphRun,j,g,!0);Wf.Zuv(e.EngineDict.StyleRun,j,g,!1)};
Wf.Zuv=function(e,j,g,P){var p=e.RunLengthArray,v=Wf.Fe(p,j),x=Wf.Fe(p,g),A=[];for(var f=0;f<p.length;
f++)for(var S=0;S<p[f];S++)A.push(f);A.splice(j,g-j);var F=[];for(var f=0;f<p.length;f++)F.push(0);for(var f=0;
f<A.length;f++)F[A[f]]++;for(var f=0;f<p.length;f++){if(F[f]==0){F.splice(f,1);p.splice(f,1);e.RunArray.splice(f,1);
f--}else if(F[f]<p[f])p[f]=F[f]}if(P&&v.Pf!=x.Pf&&v.h$!=j){p[v.Pf]+=p[v.Pf+1];p.splice(v.Pf+1,1);e.RunArray.splice(v.Pf+1,1)}};
Wf.MM=function(e,j,g,P){var p=e.EngineDict.Editor.Text.length;if(g==p-2)g++;if(P.kw.Font!=null)e.ResourceDict.FontSet=P.mp.slice(0);
if(j<=g)Wf.ZuG(e.EngineDict.StyleRun,P.kw,j,g,!0);Wf.ZuG(e.EngineDict.ParagraphRun,P.eJ,j,g,!1)};Wf.ZuG=function(e,j,g,P,p){var v=e.RunLengthArray;
if(p){var x=Wf.Fe(v,g);if(x.h$!=g){var A=v[x.Pf];v.splice(x.Pf,0,g-x.h$);v[x.Pf+1]=A-v[x.Pf];e.RunArray.splice(x.Pf+1,0,Wf.We(e.RunArray[x.Pf]))}var f=Wf.Fe(v,P);
if(f.h$+v[f.Pf]-1!=P){var A=v[f.Pf];v.splice(f.Pf,0,P-f.h$+1);v[f.Pf+1]=A-v[f.Pf];e.RunArray.splice(f.Pf+1,0,Wf.We(e.RunArray[f.Pf]))}}var x=Wf.Fe(v,g),f=Wf.Fe(v,P);
if(p)for(var S=x.Pf;S<=f.Pf;S++)Wf.gH(e.RunArray[S].StyleSheet.StyleSheetData,j);else for(var S=x.Pf;
S<=f.Pf;S++)Wf.gH(e.RunArray[S].ParagraphSheet.Properties,j)};Wf.ZLv=function(e,j,g){var P=e.EngineDict.StyleRun.RunLengthArray,p=[],v=0;
for(var x=0;x<P.length;x++){var A=P[x];for(var f=0;f<A;f++)if(j<=v+f&&v+f<g)p.push(x);v+=A}var S=p[0],F=[];
for(var x=0;x<p.length;x++){var m=p[x]-S;if(m==F.length)F.push(0);F[m]++}return F};Wf.ZLe=function(e){var j=e.EngineDict.StyleRun,g=j.RunArray,P=j.RunLengthArray;
for(var p=0;p<P.length-1;p++){var v=g[p].StyleSheet.StyleSheetData,x=g[p+1].StyleSheet.StyleSheetData;
if(JSON.stringify(v)==JSON.stringify(x)){g.splice(p+1,1);P[p]+=P[p+1];P.splice(p+1,1);p--}}};Wf.zl=function(e){var j=e.ia.AntA.v.Annt;
j=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(j);if(j==-1)j=1;return j};Wf.z_=function(e,j){e.ia.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][j]};
Wf.vD=function(e,j,g){var P={mp:e.ResourceDict.FontSet.slice(0),kw:[],eJ:[]},p=e.EngineDict.StyleRun.RunLengthArray,v=Wf.Fe(p,j).Pf,x=Wf.Fe(p,g).Pf;
for(var A=v;A<=x;A++){var f=Wf.We(e.ResourceDict.StyleSheetSet[0].StyleSheetData),S=e.EngineDict.StyleRun.RunArray;
if(S.length==0)continue;var F=S[A].StyleSheet.StyleSheetData;Wf.gH(f,F);P.kw.push(f)}var m=e.EngineDict.ParagraphRun.RunLengthArray,R=Wf.Fe(m,j).Pf,M=Wf.Fe(m,g).Pf;
for(var A=R;A<=M;A++){var b=e.EngineDict.ParagraphRun.RunArray;if(b.length==0)continue;P.eJ.push(Wf.We(b[A].ParagraphSheet.Properties))}P.kw=P.kw.length==0?{}:Wf.TS(P.kw);
P.eJ=P.eJ.length==0?{}:Wf.TS(P.eJ);return P};Wf.Gu=function(e,j){var g,P;g=["FontSize","Leading","BaselineShift"];
P=e.kw;for(var p=0;p<g.length;p++)if(P[g[p]]!=null)P[g[p]]*=j;g=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
P=e.eJ;for(var p=0;p<g.length;p++)if(P[g[p]]!=null)P[g[p]]*=j};Wf.ZLJ=function(){return Wf.vD(Wf.Ztg,0,0)};
Wf.ZgF=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
Wf.Fe=function(e,j){var g=0,P=0;while(g+e[P]<=j){g+=e[P];P++}return{Pf:P,h$:g}};Wf.ZLa=function(){var e=Wf.We(this.Ztg);
return e};Wf.ZiO={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0};
Wf.ZLE={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
Wf.Ztg={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(Wf.ZiO))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(Wf.ZiO))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(Wf.ZLE))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var vB={};vB.ZLO=function(e,j,g){var P={};P._98={_0:"i7"};P._0=vB.ZLp(e,j,g?g._0:null);P._1=vB.ZTV(e,j,P._0,g?g._1:null);
return P};vB.ZLp=function(e,j,g){var P={};P._1=vB.ZLj(e,g?g._1:null);P._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};
P._3=JSON.parse(JSON.stringify(vB.ZTC));P._4=JSON.parse(JSON.stringify(vB.ZTs));P._5=vB.ZLY(e,P._1._0,g?g._5:null);
P._6=vB.ZLo(e,g?g._6:null);P._8=vB.ZTx(e,j,g?g._8:null);P._9=vB.ZTK;return P};vB.ZLj=function(e,j){var g=[],P=[];
for(var p=0;p<e.length;p++){var v=e[p].ResourceDict.FontSet;for(var x=0;x<v.length;x++){var A=v[x];if(P.indexOf(A.Name)!=-1)continue;
g.push(A);P.push(A.Name)}}var f={_0:[]};for(var p=0;p<g.length;p++){var S=g[p],F={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+S.Name,_1:"i"+S.Script,_2:"i"+S.FontType}}};
if(S.Script==0)delete F._0._0._1;f._0.push(F)}return f};vB.ZLY=function(e,j,g){var P={_0:[],_1:[]},p={_0:JSON.parse(JSON.stringify(vB.Zza))};
vB.Zzy(p._0,e[0].ResourceDict.StyleSheetSet[0],j,e[0].ResourceDict.FontSet);P._0.push(p);P._1.push({_0:"i0"});
P._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});P._1.push({_0:"i1"});return P};vB.ZLo=function(e,j){var g={_0:[],_1:[]},P={_0:JSON.parse(JSON.stringify(vB.GL))};
vB.GD(P._0,e[0].ResourceDict.ParagraphSheetSet[0]);g._0.push(P);g._1.push({_0:"i0"});P={_0:JSON.parse(JSON.stringify(vB.GL))};
vB.GD(P._0,e[0].ResourceDict.ParagraphSheetSet[0]);P._0._0="sBasic Paragraph";P._0._6="i0";g._0.push(P);
g._1.push({_0:"i1"});return g};vB.ZTx=function(e,j,g){var P={_0:[]};for(var p=0;p<e.length;p++){var v=e[p].Curve,x={};
P._0.push({_0:x});var A=Wf.FN(e[p]);x._2={};x._2._0="i"+A;if(A==0){x._2._6=["f-1","f-1"];x._2._11={_4:"i-1",_7:!1}}else if(A==1&&v==null){var f=Wf.JQ(e[p]),S=f[2],F=f[3];
x._1={_0:vB.gk("f",[0,0,0,0,S,0,S,0,S,0,S,0,S,F,S,F,S,F,S,F,0,F,0,F,0,F,0,F,0,0,0,0])};x._2._6=["f-2","f-2"];
x._2._11={_4:"i-2",_7:!1}}else if(A==1){var f=Wf.JQ(e[p]),S=f[2],F=f[3];x._1={_0:vB.gk("f",v.Points)};
x._2._6=["f-3","f-3"];x._2._11={_4:"i-3",_7:!1}}else if(A==2){x._1={_0:vB.gk("f",v.Points)};x._2._6=vB.gk("f",v.TextOnPathTRange);
x._2._11={_0:v.Reversed,_3:"i0",_5:"f0",_7:!1}}}return P};vB.ZTV=function(e,j,g,P){var p={};p._0=JSON.parse(JSON.stringify(vB.ZTP));
p._1=vB.ZTu(e,j,g,P?P._1:null);p._2=JSON.parse(JSON.stringify(vB.Zza._6));p._3=JSON.parse(JSON.stringify(vB.GL._5));
return p};vB.ZTu=function(e,j,g,P){var p=[],v=g._1._0;for(var x=0;x<e.length;x++){var A=e[x],f={_0:{}};
p.push(f);var S=P?P[x]:null;f._0._0="s"+A.EngineDict.Editor.Text;f._0._0=f._0._0;var F={_0:[]};f._0._5=F;
var m=A.EngineDict.ParagraphRun;for(var R=0;R<m.RunArray.length;R++){var M={_0:{}};F._0.push(M);M._0._0={_0:"s",_5:{},_6:"i1"};
vB.GD(M._0._0,A.EngineDict.ParagraphRun.RunArray[R].ParagraphSheet);M._1="i"+m.RunLengthArray[R]}var b={_0:[]};
f._0._6=b;var s=S?S._0._6:null;m=A.EngineDict.StyleRun;for(var R=0;R<m.RunArray.length;R++){var K={_0:{}};
b._0.push(K);var X=s?s._0:null;K._0._0={_0:"s",_5:"i1",_6:{}};vB.Zzy(K._0._0,A.EngineDict.StyleRun.RunArray[R].StyleSheet,v,A.ResourceDict.FontSet,X?K._0._0:null);
K._1="i"+m.RunLengthArray[R]}f._0._10={_0:"i4",_2:!0};f._1=vB.view.Zzv(A,null,x,null)}return p};vB.Zzy=function(e,j,g,P,p){e._0="s"+(j.Name?j.Name:"");
var v=e._6,x=p?p._6:null,A=j.StyleSheetData;if(A.Font==null)return;var f=P[A.Font].Name,S=-1;for(var F=0;
F<g.length;F++)if("s"+f==g[F]._0._0._0){S=F;break}v._0="i"+S;if(A.FontSize!=null)v._1="f"+A.FontSize;
if(A.FauxBold!=null)v._2=A.FauxBold;if(A.FauxItalic!=null)v._3=A.FauxItalic;if(A.AutoLeading!=null)v._4=A.AutoLeading;
if(A.Leading!=null)v._5="f"+A.Leading;if(A.HorizontalScale!=null)v._6="f"+A.HorizontalScale;if(A.VerticalScale!=null)v._7="f"+A.VerticalScale;
if(A.Tracking!=null)v._8="i"+A.Tracking;if(A.BaselineShift!=null)v._9="f"+A.BaselineShift;if(A.AutoKerning!=null)v._11="i"+(A.AutoKerning?1:0);
if(A.FontCaps!=null)v._12="i"+A.FontCaps;if(A.FontBaseline!=null)v._13="i"+A.FontBaseline;if(A.Strikethrough!=null)v._15="i"+(A.Strikethrough?1:0);
if(A.Underline!=null)v._16="i"+(A.Underline?2:0);if(A.Ligatures!=null)v._18=A.Ligatures;if(A.DLigatures!=null)v._19=A.DLigatures;
if(A.Language!=null)v._38="i"+A.Language;if(A.FillColor!=null)v._53={_99:"/SimplePaint",_0:{_0:"i1",_1:vB.gk("f",A.FillColor.Values)}}};
vB.GD=function(e,j){e._0="s"+(j.Name?j.Name:"");var g=e._5,P=j.Properties;if(P.Justification!=null)g._0="i"+P.Justification;
if(P.FirstLineIndent!=null)g._1="f"+P.FirstLineIndent;if(P.StartIndent!=null)g._2="f"+P.StartIndent;
if(P.EndtIndent!=null)g._3="f"+P.EndtIndent;if(P.SpaceBefore!=null)g._4="f"+P.SpaceBefore;if(P.SpaceAfter!=null)g._5="f"+P.SpaceAfter;
if(P.AutoHyphenate!=null)g._9=P.AutoHyphenate;if(P._Direction!=null)g._33="i"+P._Direction};vB.gk=function(e,j){var g=[];
for(var P=0;P<j.length;P++)g.push(e+j[P]);return g};vB.ZTC={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
vB.ZTs={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
vB.Zza={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
vB.GL={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
vB.ZTK={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
vB.ZTP={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var v_={};v_.ZTk=function(e){return v_.GO(e,v_.hL)};v_.ZOq=function(e){return v_.Gp(e,v_.hL)};v_.GO=function(e,j){var g;
if(typeof e=="string")return e;if(e instanceof Array){g=[];for(var P=0;P<e.length;P++)g[P]=v_.GO(e[P],j)}else{g={};
var p={};for(var v in j){var x=j[v],A="_"+x[0];if(e[A]!=null){g[v]=x[1]?v_.GO(e[A],x[1]):e[A];p[A]=!0}}for(var v in e){if(p[v]==null){console.log(p);
console.log(v,e,j);throw"e"}}}return g};v_.Gp=function(e,j){var g;if(e instanceof Array){g=[];for(var P=0;
P<e.length;P++)g[P]=v_.Gp(e[P],j)}else{g={};var p={};for(var v in j){var x=j[v],A="_"+x[0];if(e[v]!=null){g[A]=x[1]?v_.Gp(e[v],x[1]):e[v];
p[v]=!0}}for(var v in e){if(p[v]==null){console.log(p);console.log(v,e);throw"e"}}}return g};v_.I_={_StreamTag:[99],_Color:[0,{_Type:[0],_Values:[1]}]};
v_.LN={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,v_.I_],_StrokeColor:[54,v_.I_],_Blend:[55,{_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,v_.I_],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_87:[87],_88:[88]};
v_.ZEy={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,v_.LN],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_40:[40]};
v_.ZEG={_Name:[0],_Features:[5,v_.ZEy],_Parent:[6]};v_.Zfa={_Name:[0],_Parent:[5],_Features:[6,v_.LN]};
v_.hL={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4]}]}]}],_1:[1,{_0:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,v_.Zfa]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,v_.ZEG]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_7:[7]}],_12:[12]}]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_PredefinedTag:[6]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_11:[11],_15:[15,{_0:[0]}],_16:[16],_17:[17]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,v_.ZEG]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,v_.Zfa]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_9:[9],_StorySheet:[10,{_AntiAlias:[0],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}]}],_OriginalNormalStyleFeatures:[2,v_.LN],_OriginalNormalParagraphFeatures:[3,v_.ZEy]}]};
vB.view={};vB.view.Zzv=function(e,j,g,P){var p={},v=Wf.FN(e);p._0=[{_0:"i"+g}];return p};function CSS(){}CSS.Zzn=function(e,j){var g=e.add,P=g.vmsk,p=g.vstk,v=g.lmfx,x=g.TySh,A=[],f=CSS.ZzR(v,g);
if(e.dz()&&P){var S=Z.f.Gx(P.F);if(!S.tE()){A.push("width: "+Math.round(S.W)+"px");A.push("height: "+Math.round(S.j)+"px")}var F=Z.f.Z$c(P.F);
if(F>0)A.push("border-radius: "+Math.round(F)+"px")}else if(x){var m=x.xe;if(Wf.FN(m)==1){var S=Wf.JQ(m);
A.push("width: "+Math.round(S[2])+"px");A.push("height: "+Math.round(S[3])+"px")}CSS.ZUy(A,Wf.vD(m,0,0),x.K,!1,!1,f[0])}var R=[],M=v?v.dropShadowMulti.v:0;
for(var b=0;b<M.length;b++){var s=M[b].v;if(s.enab.v){var K=s.Dstn.v.val,X=s.lagl.v.val*Math.PI/180;
if(s.uglg&&s.uglg.v)X=j.Ul()*Math.PI/180;var d=K*Math.cos(X),W=K*Math.sin(X);R.push("drop-shadow("+(d==0?"0 ":CSS.ac(-d)+"px ")+(W==0?"0 ":CSS.ac(W)+"px ")+s.blur.v.val/2+"px "+CSS.HZ(s.Clr.v,s.Opct.v.val/100)+")")}}if(R.length!=0)A.push("filter: "+R.join(" "));
if(x==null)CSS.Zzo(f,A);if(p==null||!p.strokeEnabled.v)p=Wi.LU(v);if(p&&p.strokeEnabled.v){var O=p.strokeStyleContent.v,H=O.classID,Y=Wr.hg.SH.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType),y=Wr.hg.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType),B=p.strokeStyleOpacity.v.val/100,c=p.strokeStyleLineWidth.v.val,$="";
if(H=="solidColorLayer")$=CSS.HZ(O.Clr.v,B);A.push("border: "+c+"px solid "+$)}return A};CSS.ZzR=function(e,j){var g=Wi.qw(e,j),P=g[0],p=g[1],v,x;
if(P){v=CSS.HZ(P.Clr.v,j.iOpa!=null?j.iOpa/255:1)}else if(p){x=CSS.AP(p)}return[v,x]};CSS.Zzo=function(e,j){if(e[0])j.push("background-color: "+e[0]);
if(e[1])j.push("background-image: "+e[1])};CSS.OM={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.ac=function(e){return""+parseFloat(e.toFixed(3))};CSS.oQ=function(e){if(e==null)return{k:0,z:0,e:0};
if(e.slice(0,4)=="rgb("){var j=e.slice(4,e.length-1).split(",").map(parseFloat);return{k:j[0],z:j[1],e:j[2]}}if(e.charAt(0)!="#"){var g=CSS.OM;
if(g[e])e=g[e];else console.log("unknown color "+e)}e=e.slice(1);if(e.length==3)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2];
e=parseInt(e,16);return{k:e>>16&255,z:e>>8&255,e:e&255}};CSS.HZ=function(e,j){return CSS.Uh(Z.c.W_(e),j)};
CSS.Uh=function(e,j){if(j==null)j=1;var g=Math.round(e.k),P=Math.round(e.z),p=Math.round(e.e),v=g<<16|P<<8|p;
return j==1?"#"+Z.jz(v):"rgba("+g+","+P+","+p+","+j+")"};CSS.AP=function(e){var j=e.Grad.v;if(j.Clrs==null)return"";
var g=j.Clrs.v.slice(0),P=j.Trns.v.slice(0),p=e.Ofst.v,v=e.Type.v.GrdT=="Rdl"?1:0,x=(v==1?"radial":"linear")+"-gradient",A=v==0?Math.round(-e.Angl.v.val+90)+"deg":"circle at center",f=e.Rvrs.v;
if(f){g.reverse();P.reverse()}for(var S=0;S<g.length;S++){var F=g[S].v,m=S<P.length?P[S].v.Opct.v.val/100:1,R=F.Lctn.v/4096;
if(f)R=1-R;A+=", "+CSS.HZ(F.Clr.v,m)+" "+Math.round(R*100)+"%"}return x+"("+A+")"};CSS.ZUy=function(e,j,g,P,p,v){var x=j.kw,A=P?1:o.t.em(g),f=Math.round(x.FontSize*A);
e.push("font-size: "+f+"px");var S=x.Tracking;if(!P&&S!=null&&S!=0)e.push("letter-spacing: "+Math.round(S*f/1e3)+"px");
if(!x.AutoLeading)e.push("line-height: "+Math.round(x.Leading*A)+"px");if(x.Strikethrough)e.push("text-decoration: line-through");
var F=Wf.W_(x);F=[F.k,F.z,F.e].map(Math.round);e.push((P?"fill: ":"color: ")+(v?v:"#"+Z.jz(F[0]<<16|F[1]<<8|F[2])));
var m=j.mp[x.Font].Name;if(m){var R=p,M=Wl.in.Io(m);if(M!=null&&m!=Wl.tB(M))M=null;if(R&&M==null)R=!1;
if(R)e.push("font-family: \""+m+"\"");else{var b=null,s=null,K=m.toLowerCase();if(M){b=Wl.ma(M)[0];if(M["OS/2"])s=M["OS/2"].usWeightClass}else{b=CSS.Zzl(m);
if(K.indexOf("light")!=-1)s=300;else if(K.indexOf("medium")!=-1)s=500;else if(K.indexOf("black")!=-1||K.indexOf("extrabold")!=-1)s=800;
else if(K.indexOf("bold")!=-1)s="bold"}if(b!=null)e.push("font-family: \""+b+"\"");if(s!=null)e.push("font-weight: "+s);
if(K.indexOf("italic")!=-1||K.indexOf("oblique")!=-1)e.push("font-style: italic")}}var X=j.eJ.Justification;
if(X!=null&&X!=0)if(P)e.push("text-anchor: "+["start","end","middle"][X%3]);else e.push("text-align: "+["left","right","center"][X%3])};
CSS.Zzl=function(e){e=e.split("-")[0];while(e.endsWith("MT")||e.endsWith("PS"))e=e.slice(0,e.length-2);
var j=!0;for(var g=0;g<e.length;g++){var P=e.charAt(g);if(!j&&P.toLowerCase()!=P){e=e.slice(0,g)+" "+e.slice(g);
g++;j=!0}else j=!1}return e};function ZH(){}ZH.Mg={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0};
ZH.GY=function(e,j){var g=Date.now(),P;try{P=acorn.parse(e)}catch(Z){console.log(Z);return}var p=JSON.parse(JSON.stringify(ZH.ej.GM));
p.__return=!1;p.__break=!1;p.__throw=!1;p.__fs={};p.__window={};ZH.eval(P,j,p);var v=p.__fs;if(Object.keys(v).length!=0){var x=UZIP.encode(v);
Wc.save(x,"output.zip")}};ZH.eval=function(e,j,g){var P=e.type;if(!1){}else if(P=="Program"||P=="BlockStatement"){var p=e.body;
for(var v=0;v<p.length;v++){var x=p[v].type;if(x=="FunctionDeclaration")g[p[v].id.name]=p[v]}for(var v=0;
v<p.length;v++){var x=p[v].type,A=ZH.eval(p[v],j,g);if(g.__return||g.__break||g.__throw)return A}}else if(P=="ReturnStatement"){g.__return=!0;
return e.argument?ZH.pK(e.argument,j,g):null}else if(P=="BreakStatement"){g.__break=!0}else if(P=="VariableDeclaration"){var f=e.declarations;
for(var v=0;v<f.length;v++)ZH.eval(f[v],j,g)}else if(P=="VariableDeclarator"){g[e.id.name]=e.init?ZH.pK(e.init,j,g):null}else if(P=="FunctionDeclaration"){g[e.id.name]=e}else if(P=="MemberExpression"){var S=ZH.pK(e.object,j,g),F=e.computed?ZH.pK(e.property,j,g):ZH.eval(e.property,j,g),A;
if(S.oJ!=null)A=ZH.ej.DY(S,F,j,g);else if(S==window&&ZH.Mg[F]){}else A=S[F];return A}else if(P=="ArrayExpression"){var m=[],R=e.elements;
for(var v=0;v<R.length;v++)m.push(ZH.pK(R[v],j,g));return m}else if(P=="ObjectExpression"){var m={},R=e.properties;
for(var v=0;v<R.length;v++){var M=R[v],b=R[v].key.name?R[v].key.name:R[v].key.value;m[b]=ZH.pK(R[v].value,j,g)}return m}else if(P=="ExpressionStatement"){return ZH.eval(e.expression,j,g)}else if(P=="NewExpression"){var s=e.arguments,K=e.callee,X=K.type,m=null;
if(X=="Identifier")m=ZH.ej.ZGC(K.name,s,j,g);else throw"e";if(m==null)throw"new "+K.name;return m}else if(P=="CallExpression"){var s=e.arguments,K=e.callee,X=K.type,d={};
for(var W in g)d[W]=g[W];var O=[];for(var v=0;v<s.length;v++)O.push(ZH.pK(s[v],j,g));if(X=="Identifier"){var H=K.name,Y=g[H];
if(Y){if(Y.params){var y=Y.params;for(var v=0;v<y.length;v++)d[y[v].name]=O[v];return ZH.eval(Y.body,j,d)}else{return Y.apply(null,O)}}else if(ZH.ej.ZGy.indexOf(H)!=-1)return ZH.ej.PG({oJ:"Application"},H,O,j,g);
else if(window[H]==null)console.log("Unknown function "+H);else if(ZH.Mg[H])alert(H+"() not available");
else{var B=window[H].apply(window,O);return B}}else if(X=="MemberExpression"){var S=ZH.pK(K.object,j,g),F=K.computed?ZH.pK(K.property,j,g):ZH.eval(K.property,j,g);
if(S==window&&ZH.Mg[F])return;if(S.oJ!=null)return ZH.ej.PG(S,F,O,j,g);else return S[F].apply(S,O)}else console.log(e)}else if(P=="AssignmentExpression"){var c=e.operator,$=e.left,I=$.type,r=ZH.pK($,j,g),i=ZH.pK(e.right,j,g),A=null;
if(!1){}else if(c=="=")A=i;else if(c=="+=")A=r+i;else if(c=="-=")A=r-i;else if(c=="*=")A=r*i;else if(c=="/=")A=r/ i;
else if(c=="%=")A=r%i;else if(c=="&=")A=r&i;else if(c=="|=")A=r|i;else if(c=="&&=")A=r&&i;else if(c=="||=")A=r||i;
else console.log(e);if(I=="Identifier"){var U=$.name;if(g.hasOwnProperty(U))g[U]=A;else g.__window[U]=A}else if(I=="MemberExpression"){var N=ZH.eval($.property,j,g),C=ZH.pK($.object,j,g);
if(C.oJ!=null)ZH.ej.ZGt(C,N,A,j,g);else C[N]=A}else console.log(e)}else if(P=="Identifier")return e.name;
else if(P=="Literal")return e.value;else if(P=="UpdateExpression"){var c=e.operator,D=e.argument.name,m=ZH.pK(e.argument,j,g);
if(!1){}else if(c=="++"){g[D]++;return e.prefix?g[D]:g[D]-1}else if(c=="--"){g[D]--;return e.prefix?g[D]:g[D]+1}else console.log(e)}else if(P=="UnaryExpression"){var c=e.operator,n=ZH.pK(e.argument,j,g);
if(n.oJ=="UnitValue"){if(c=="-")return-n.r;else return ZH.ZWS(n.r,c)}else return ZH.ZWS(n,c)}else if(P=="BinaryExpression"||P=="LogicalExpression"){var c=e.operator,$=ZH.pK(e.left,j,g),n=ZH.pK(e.right,j,g);
if($==null||n==null)return ZH.gF($,n,c);else if($.oJ=="UnitValue"&&n.oJ=="UnitValue")return ZH.gF($.r,n.r,c);
else if($.oJ=="UnitValue")return ZH.gF($.r,n,c);else if(n.oJ=="UnitValue"){if(c=="-")return-($-n.r);
else return ZH.gF($,n.r,c)}else return ZH.gF($,n,c)}else if(P=="IfStatement"||P=="ConditionalExpression"){var w=ZH.pK(e.test,j,g);
if(w)return ZH.eval(e.consequent,j,g);else if(e.alternate)return ZH.eval(e.alternate,j,g)}else if(P=="ForInStatement"){ZH.eval(e.left,j,g);
var k=e.left.declarations[0].id.name,h=ZH.pK(e.right,j,g);for(var W in h){g[k]=W;var t=ZH.eval(e.body,j,g);
if(g.__break)break;if(g.__return)return t}g.__break=!1}else if(P=="ForStatement"){ZH.eval(e.init,j,g);
while(ZH.eval(e.test,j,g)){var t=ZH.eval(e.body,j,g);if(g.__break)break;if(g.__return)return t;ZH.eval(e.update,j,g)}g.__break=!1}else if(P=="DoWhileStatement"){do{var t=ZH.eval(e.body,j,g);
if(g.__break)break;if(g.__return)return t}while(ZH.eval(e.test,j,g));g.__break=!1}else if(P=="TryStatement"){ZH.eval(e.block,j,g);
if(g.__throw){var a=e.handler;g[a.param.name]=g.__throw;g.__throw=!1;ZH.eval(a.body,j,g);delete g[a.param.name]}}else if(P=="EmptyStatement"){}else console.log(e)};
ZH.gF=function(e,j,g){if(g=="+")return e+j;else if(g=="-")return e-j;else if(g=="*")return e*j;else if(g=="/")return e/j;
else if(g=="%")return e%j;else if(g=="^")return e^j;else if(g=="&")return e&j;else if(g=="&&")return e&&j;
else if(g=="|")return e|j;else if(g=="||")return e||j;else if(g=="<")return e<j;else if(g==">")return e>j;
else if(g=="==")return e==j;else if(g=="<=")return e<=j;else if(g==">=")return e>=j;else if(g=="!=")return e!=j;
else if(g=="!==")return e!==j;else if(g=="<<")return e<<j;else if(g==">>")return e>>j;else console.log(g)};
ZH.ZWS=function(e,j){if(j=="-")return-e;else if(j=="!")return!e;else if(j=="~")return~e;else if(j=="+")return e;
else console.log(obj)};ZH.pK=function(e,j,g){var P=e.type;if(P=="Identifier")return ZH.ZGZ(e.name,j,g);
else return ZH.eval(e,j,g)};ZH.ZGZ=function(e,j,g){if(e=="undefined")return undefined;else if(g.hasOwnProperty(e))return g[e];
else if(e=="app")return{oJ:"Application"};else if(ZH.ej.ZGd.indexOf(e)!=-1)return ZH.ej.DY({oJ:"Application"},e,j,g);
else if(window[e]&&!ZH.Mg[e])return window[e];else{g[e]=null;return null}};ZH.ej={};ZH.ej.ZGC=function(e,j,g,P){var p;
if(e=="SolidColor")p={oJ:e,r:[1,0,0,0]};if(e=="Window")p={oJ:e,r:new xC(ZH.eval(j[0],g,P),ZH.eval(j[1],g,P),ZH.eval(j[2],g,P))};
if(e=="ExportOptionsSaveForWeb")p={oJ:e,r:{QJ:"png",Lw:100}};if(e=="JPEGSaveOptions")p={oJ:e,r:{QJ:"jpg",Lw:100}};
if(e=="File")p={oJ:e,r:ZH.eval(j[0],g,P)};if(e=="ActionReference")p={oJ:e,r:[]};if(e=="ActionDescriptor")p={oJ:e,r:{}};
return p};ZH.ej.ZGd="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor".split(" ");
ZH.ej.ZGy=["charIDToTypeID","stringIDToTypeID","executeAction","doAction"];ZH.ej.DY=function(e,j,g,P){var p=g.k_,v=g.TD();
if(!1){}else if(j=="typename"){if(e.oJ=="Layer")return e.r.CQ()?"LayerSet":"ArtLayer";else return e.oJ}else if(["Document","Layer"].indexOf(e.oJ)!=-1&&["layers","artLayers","layerSets"].indexOf(j)!=-1){var x=v.root,A={oJ:"Layers",gQ:j,r:[]};
if(e.oJ=="Layer")x=v.root.oA(v.T.indexOf(e.r));for(var f=0;f<x.children.length;f++){var S=x.children[f].$,F=S.CQ();
if(F&&j=="artLayers"||!F&&j=="layerSets")continue;A.r.push({oJ:"Layer",r:S})}A.r.reverse();return A}else if(e.oJ=="Documents"||e.oJ=="Layers"||e.oJ=="HistoryStates"){if(!1){}else if(j=="length")return e.r.length;
else if(Number.isInteger(j))return e.r[j];else console.log(e.oJ+": unknown property ",j)}else if(e.oJ=="Application"){if(!1){}else if(j=="activeDocument")return{oJ:"Document",r:g.TD()};
else if(j=="documents"){var A={oJ:"Documents",r:[]};for(var f=0;f<g.al.length;f++)A.r.push({oJ:"Document",r:g.al[f]});
return A}else if(j=="fonts")return{oJ:"TextFonts"};else if(j=="preferences")return{oJ:"Preferences"};
else if(j=="displayDialogs")return{oJ:"DialogModes"};else if(j=="foregroundColor"||j=="backgroundColor"){var m=j[0]=="f"?p.Jm:p.gK;
return{oJ:"SolidColor",r:[1,(m>>>16&255)/255,(m>>>8&255)/255,(m>>>0&255)/255]}}else if(j=="UI")return{oJ:"UI"};
else console.log(e,j)}else if(e.oJ=="Document"){var v=e.r;if(!1){}else if(j=="activeLayer"){var S=v.T[v.b[0]];
return{oJ:"Layer",r:S}}else if(j=="resolution")return v.aY;else if(j=="width")return v.W;else if(j=="height")return v.j;
else if(j=="name")return v.name;else if(j=="saved")return!v.hr();else if(j=="selection")return{oJ:"Selection"};
else if(j=="activeHistoryState")return{oJ:"HistoryState",VS:v.dT};else if(j=="source")return v.pp;else if(j=="historyStates"){var R=[];
for(var f=0;f<v.history.length;f++)R.push({oJ:"HistoryState",VS:f});return{oJ:"HistoryStates",r:R}}else console.log(e,j)}else if(e.oJ=="Layer"){var M={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},S=e.r;
if(!1){}else if(j=="visible")return S.Je();else if(j=="selected")return v.b.indexOf(v.T.indexOf(S))!=-1;
else if(j=="grouped")return S.qX;else if(M[j]!=null)return S.Ku(M[j]);else if(j=="opacity")return S.opacity*100/255;
else if(j=="blendMode")return S.T$;else if(j=="name")return S.getName();else if(j=="textItem")return{oJ:"TextItem",r:S};
else if(j=="bounds"){var b=o.t.SQ(v,[v.T.indexOf(S)]);return ZH.ej.Zuc(b,v)}else if(j=="parent"){var s=g.al;
for(var f=0;f<s.length;f++)if(s[f].T.indexOf(S)!=-1)return{oJ:"Document",r:s[f]}}else if(j=="kind"){var K=ZH.ej.nW;
for(var f=0;f<K.length;f++)if(S.add[K[f]]!=null)return f;return 0}else console.log(e,j)}else if(e.oJ=="Selection"){if(!1){}else if(j=="bounds")return ZH.ej.Zuc(g.TD().Z.rect,v);
else console.log(e,j)}else if(e.oJ=="TextItem"){var X=e.r.add.TySh,d=X.xe,W=Wf.UW(d),O=X.K.em(),H=Wf.vD(d,0,Math.max(0,W.length-2));
if(j=="contents")return W.slice(0,W.length-1).replace(/\n/g,"\r");else if(j=="font")return H.kw.Font!=null?H.mp[H.kw.Font].Name:null;
else if(j=="size")return ZH.ej.nf(H.kw.FontSize*O,v);else if(j=="leading")return ZH.ej.nf(H.kw.Leading*O,v);
else if(j=="tracking")return ZH.ej.nf(H.kw.Tracking);else if(j=="kind")return 1-Wf.FN(d);else if(j=="useAutoLeading")return H.eJ.AutoLeading;
else if(j=="hyphenation")return H.eJ.AutoHyphenate;else if(j=="color")return{oJ:"SolidColor",r:H.kw.FillColor.Values.slice(0)};
else if(j=="width"||j=="height"){var Y=Wf.JQ(d),y=(Y[2]-Y[0])*O,B=(Y[3]-Y[1])*O;return ZH.ej.nf(j=="width"?y:B,v)}else if(j=="position"){var c=X.K;
return ZH.ej.Znf([c.vR,c.LV],v)}else if(j=="horizontalScale"||j=="verticalScale"){var $=j[0].toUpperCase()+j.slice(1);
return Math.round(H.kw[$]*100)}else console.log(e,j)}else if(e.oJ=="Preferences"){if(j=="rulerUnits")return p.ka.AG;
else console.log(e,j)}else if(e.oJ=="SolidColor"){if(j=="rgb")return{oJ:"RGBColor",r:e.r};else console.log(e,j)}else if(e.oJ=="RGBColor"){var b=Math.round(255*e.r[1]),I=Math.round(255*e.r[2]),r=Math.round(255*e.r[3]);
if(!1){}else if(j=="red")return b;else if(j=="green")return I;else if(j=="blue")return r;else if(j=="hexValue")return"#"+Z.jz(b<<16|I<<8|r).toUpperCase();
else console.log(e,j)}else if(e.oJ=="UnitValue"){if(j=="value")return e.r;else throw"e"}else if(e.oJ=="ExportOptionsSaveForWeb"){if(j=="format")return e.r.QJ;
else if(j=="PNG8")return!1;else if(j=="quality")return e.r.Lw;else throw j}else if(e.oJ=="JPEGSaveOptions"){return 0}else console.log(e,j)};
ZH.ej.Zuc=function(e,j){return ZH.ej.Znf([e.x,e.y,e.x+e.W,e.y+e.j],j)};ZH.ej.Znf=function(e,j){var g=[];
for(var P=0;P<e.length;P++)g.push(ZH.ej.nf(e[P],j));return g};ZH.ej.ZGN=function(e){var j=[];for(var g=0;
g<e.length;g++)j.push(e[g].oJ?e[g].r:e[g]);return j};ZH.ej.nf=function(e,j){return{oJ:"UnitValue",r:e}};
ZH.ej.ZOS=function(e,j){if(e.oJ=="UnitValue")return e.r;return e};ZH.ej.ZGt=function(e,j,g,P,p){var v=new z(V.E.s,!0),x=new z(V.E.O,!0),A=P.TD(),f=P.k_;
if(!1){}else if(e.oJ=="Application"){if(!1){}else if(j=="activeDocument"){x.data={U:V.a.HA,vs:g.r};P.P(x)}else if(j=="displayDialogs"){}else console.log(e,j,g)}else if(e.oJ=="Document"){var S=e.r;
if(!1){}else if(j=="name"){v.X=o.jE;v.data={U:u.CM,r:g,ZOl:!0,Ys:S};A.YX=!0}else if(j=="source")S.pp=g;
else if(j=="activeLayer"){S.b=[S.T.indexOf(g.r)]}else if(j=="activeHistoryState"){v.X=o.Fy;v.data={U:"h_itemchange",index:g.VS}}else console.log(e,j)}else if(e.oJ=="Layer"){v.X=o.jE;
var F={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},m=e.r,R=A.T.indexOf(m);
if(!1){}else if(j=="visible"){if(m.Je()!=g)v.data={U:u.EY,$:R}}else if(j=="opacity"){v.data={U:u.Ux,$:R,Hy:Math.round(255*g/100)}}else if(j=="blendMode"){v.data={U:u.xY,$:R,Hy:WF.jS.indexOf(g)}}else if(j=="name"){v.data={U:u.$e,$:R,name:g}}else if(F[j]!=null){v.data={U:u.$x,$:R,Hy:[[g],[F[j]]]}}else if(j=="kind"){v.data={U:u.Fq,$:R,ZW:ZH.ej.nW[g]}}else if(j=="grouped"){v.data={U:u.UU,$:R,Hy:g}}else console.log(e,j,g)}else if(e.oJ=="TextItem"){v.X=o.TR;
var m=e.r,M=m.add.TySh,b=JSON.parse(JSON.stringify(M.xe)),s=M.K.clone(),K=M.K.em(),X=Wf.UW(b),d=Wf.vD(b,0,X.length-2),W=!1;
if(!1){}else if(j=="contents"){Wf.zC(b,0,X.length-1);Wf.hX(b,0,g.replace(/\r/g,"\n"))}else if(j=="size"){d.kw.FontSize=(g.r!=null?g.r:g)/K;
W=!0}else if(j=="leading"){d.kw.Leading=(g.r!=null?g.r:g)/K;W=!0}else if(j=="tracking"){d.kw.Tracking=g.r!=null?g.r:g;
W=!0}else if(j=="kind"){var O=Wf.FN(b);if(O==1&&g==1){var H=new vf(b,P.k_.Fz).eJ[0],Y=H.vM[0].end,y=H.jW[Y-1].end;
Wf.zC(b,0,X.length-1);Wf.hX(b,0,X.slice(0,y-1))}if(O==g)Wf.oc(b,1-g)}else if(j=="useAutoLeading"){d.eJ.AutoLeading=g;
W=!0}else if(j=="hyphenation"){d.eJ.AutoHyphenate=g;W=!0}else if(j=="font"){Wf.JJ(d,g);W=!0}else if(j=="color"){d.kw.FillColor.Values=g.r.slice(0);
W=!0}else if(j=="width"||j=="height"){var B=Wf.JQ(b).slice(0);if(j=="width")B[2]=Math.round(B[0]+g/K);
else B[3]=Math.round(B[1]+g/K);Wf.kJ(b,B)}else if(j=="position"){s.vR=g[0];s.LV=g[1]}else if(j=="horizontalScale"||j=="verticalScale"){var c=j[0].toUpperCase()+j.slice(1);
d.kw[c]=g/100;W=!0}else console.log(e,j,g);if(W)Wf.MM(b,0,X.length-1,d);v.data={U:"newED",gu:A.T.indexOf(m),RX:b,K:s}}else if(e.oJ=="Preferences"){if(!1){}else if(j=="rulerUnits"){var $=JSON.parse(JSON.stringify(f.ka));
$.AG=g;x.data={U:V.a.du,im:WV.Jf,Hy:$};P.P(x)}else console.log(e,j,g)}else if(e.oJ=="RGBColor"){if(!1){}else if(j=="red")e.r[1]=g/255;
else if(j=="green")e.r[2]=g/255;else if(j=="blue")e.r[3]=g/255;else if(j=="hexValue"){var I=Z.QA(g.slice(1));
e.r[1]=(I>>>16&255)/255;e.r[2]=(I>>>8&255)/255;e.r[3]=(I>>>0&255)/255}else console.log(e,j)}else if(e.oJ=="ExportOptionsSaveForWeb"){if(j=="format")e.r.QJ=g;
else if(j=="PNG8"){}else if(j=="quality")e.r.Lw=g;else throw"e"}else if(e.oJ=="JPEGSaveOptions"){if(j=="quality")e.r.Lw=Math.round(100*g/12)}else console.log(e,j,g);
if(v.data!=null)P.P(v)};ZH.ej.PG=function(e,j,g,P,p){var v=e.oJ,x=null,A=new z(V.E.s,!0),f=new z(V.E.$E,!0),S=new z(V.E.O,!0),F=P.TD(),m=P.al;
if(!1){}else if(v=="Application"){if(!1){}else if(j=="charIDToTypeID"){var R=g[0].trim();if(R=="Lvls")R="levels";
return R}else if(j=="stringIDToTypeID"){var M=g[0].trim(),b={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},s=b[M];
return s==null?M:s}else if(j=="executeAction"){console.log(g);var K;if(g[1]){K=g[1].r;K.classID=g[0]}var X={setd:"set"},d=X[g[0]];
if(d==null)d=g[0];f.data={Wi:d,HR:K}}else if(j=="doAction"){S.data={U:V.a.Ix,ZY:[g[0],g[1]]}}else if(j=="open"){S.data={U:V.a.MQ,im:{url:g[0]}};
if(g[2]&&m.length!=0)S.data.im.FF=m.indexOf(F)}else if(j=="echoToOE"){if(window.parent!=window)window.parent.postMessage(g[0],"*")}else console.log(j)}else if(v=="Document"){var F=e.r;
if(!1){}else if(j=="trim"){var W=[];for(var O=0;O<4;O++)W.push(g[O+1]!=null?g[O+1]:!0);f.data=o.oo.ag(g[0]!=null?g[0]:0,W)}else if(j=="save"){S.data={U:V.a.vW}}else if(j=="saveToOE"){S.data={U:V.a.vW,ZW$:g}}else if(j=="rotateCanvas"){f.data=o.t.SD(!0,g[0])}else if(j=="resizeImage"||j=="resizeCanvas"){var H=g[0],Y=g[1];
if(typeof H!="number"){H=F.W*parseFloat(H.slice(0,H.length-1))/100;Y=F.j*parseFloat(Y.slice(0,Y.length-1))/100}if(j=="resizeCanvas")f.data=o.oo.Zxa(Math.round(H),Math.round(Y),g[2]);
else f.data=o.oo.Zug(Math.round(H),Math.round(Y),null,1)}else if(j=="paste"){S.data={U:V.a.O_}}else if(j=="close"){S.data={U:V.a.SC,Kg:F}}else if(j=="exportDocument"||j=="saveAs"){var y=p.__fs,B=g[0].r.replace(":","").replace("~/",""),c=j=="exportDocument"?g[2].r:g[1].r,$=Wg.qU(F,c.QJ,null,null,[c.Lw],P.k_);
y[B]=new Uint8Array($)}else console.log(e,j,g)}else if(v=="Layer"){var I=e.r,r=F.T.indexOf(I);if(!1){}else if(j=="copy"){ZH.ej.Md(F,P,0);
S.data={U:V.a.vv,PA:g[0],BQ:r};P.P(S);delete S.data;ZH.ej.Md(F,P,1)}else if(j=="clear"){ZH.ej.Md(F,P,0);
f.data={Wi:"delete"};P.P(f);delete f.data;ZH.ej.Md(F,P,1)}else if(j=="duplicate"){if(g.length==0){A.data={U:u.hq,$:r};
A.X=o.jE;P.P(A);A.data=null;x={oJ:"Layer",r:F.T[F.b[0]]}}else if(g[0].oJ=="Document"){A.data={U:u.Cs,T:F.gn(r),BO:F,Zi:g[0].r};
A.X=o.jE}}else if(j=="merge"||j=="remove"){A.data={U:j=="merge"?u.xN:u.Es,$:r};A.X=o.jE;if(j!="remove")x={oJ:"Layer",r:F.T[F.b[0]]}}else if(j=="move"){A.data={U:u.$W,source:r,target:F.T.indexOf(g[0].r),hN:g[1]!=3?.6:.3};
A.X=o.jE}else if(j=="rasterize"){f.data={Wi:"rasterizeLayer",HR:{classID:"rasterizeLayer",null:vT.EG("Lyr",!0)}}}else if(j=="rotate"){A.data={U:"rot",de:[2,5],r:-g[0]*Math.PI/180,HY:g[1],$:r};
A.X=o.Sf}else if(j=="resize"){A.data={U:"scl",de:[2,4],r:new Uc(g[0]/100,g[1]/100),HY:g[2],$:r};A.X=o.Sf}else if(j=="translate"){var i=ZH.ej.ZGN(g);
A.data={U:"trsl",$:r,ZUt:i[0],ZUq:i[1]};A.X=o.Xe}else if(j=="link"){A.data={U:u.sm,ZDs:[r,F.T.indexOf(g[0].r)]};
A.X=o.jE}else console.log(e,j,g)}else if(v=="Documents"){if(j=="getByName"){for(var O=0;O<m.length;O++)if(m[O].name==g[0])return{oJ:"Document",r:m[O]};
return null}else if(j=="add"){var U=g[5];if(U==null)U=1;f.data=ZT.qM(g[0],g[1],g[2],g[3],["Wht","Trns","BckC"][U])}else throw"e"}else if(v=="Layers"){if(j=="getByName"){for(var O=0;
O<e.r.length;O++)if(e.r[O].r.getName()==g[0]){x=e.r[O];break}if(x==null)p.__throw={message:"No layer with a name "+g[0]}}else if(j=="add"){A.data={U:e.gQ=="layerSets"?u.FI:u.ER};
A.X=o.jE;P.P(A);A.data=null;x={oJ:"Layer",r:F.T[F.b[0]]}}else console.log(e,j,g)}else if(e.oJ=="Selection"){if(j=="select"){var N=g[0],C=[];
for(var O=0;O<N.length;O++)C.push(N[O][0],N[O][1]);f.data=o.gs.vI(C)}else if(j=="selectAll"){f.data=o.gs.CP(!0)}else if(j=="invert"){f.data={Wi:"inverse"}}else if(j=="copy"){S.data={U:V.a.vv}}else if(j=="deselect"){f.data=o.gs.CP()}else if(j=="fill"){var D=g[0].r;
D=Z.c.Op({k:D[1]*255,z:D[2]*255,e:D[3]*255});f.data=o.sB.Tb("Clr",g[1],g[2]==null?1:g[2]/100,D)}else console.log(e,j,g)}else if(e.oJ=="Window"){if(j=="show"){S.data={U:V.a.LW,aj:e.r}}else throw"e"}else if(e.oJ=="ActionReference"){if(j=="putProperty"){e.r.push({t:"prop",v:{classID:g[0],keyID:g[1]}})}else if(j=="putClass"){e.r.push({t:"Clss",v:{classID:g[0]}})}else console.log(j,g)}else if(e.oJ=="ActionDescriptor"){if(j=="putReference"){e.r[g[0]]={t:"obj ",v:g[1].r}}else if(j=="putDouble"){e.r[g[0]]={t:"doub",v:g[1]}}else if(j=="putUnitDouble"){e.r[g[0]]={t:"UntF",v:{type:g[1],val:g[2]}}}else if(j=="putObject"){var n=g[2].r;
n.classID=g[1];e.r[g[0]]={t:"Objc",v:n}}else if(j=="putBoolean"){e.r[g[0]]={t:"bool",v:g[1]}}else console.log(j,g)}else if(e.oJ=="UI"){var w;
if(j=="zoomIn"||j=="zoomOut"){w={U:"zoom",lO:j=="zoomIn"}}else if(j=="fitTheArea"){w={U:"adapt",r:"fitscr"}}else if(j=="pixelToPixel"){w={U:"adapt",r:"pixel"}}A.X=o.Cb;
A.data=w}else console.log(e,j,g);if(A.data)P.P(A);if(f.data)P.P(f);if(S.data)P.P(S);return x};ZH.ej.Md=function(e,j,g){var P=new z(V.E.s,!0);
P.X=o.IJ;var p=new z(V.E.$E,!0);if(g==0){ZH.ej.Znu=e.Z;p.data=o.gs.CP(!0)}else{var v=ZH.ej.Znu;if(v)P.data={U:"setsel",de:"Restore Selection",Z:{rect:v.rect.clone(),channel:v.channel.slice(0)}};
else p.data=o.gs.CP()}j.P(P.data?P:p)};ZH.ej.Znu=null;ZH.ej.GM={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{RGB:0},NewDocumentMode:{RGB:0},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "}};
ZH.ej.GM.ColorBlendMode=ZH.ej.GM.BlendMode;ZH.ej.nW="---- SoLd TySh SoCo GdFl PtFl".split(" ");function Uk(){}Uk.W$={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18]};
Uk.Zns=function(e,j){if(j==null)j={};var g=new DOMParser,P=g.parseFromString(e,"image/svg+xml"),p=P.getElementsByTagName("rdf:Description")[0];
if(p==null)return j;var v=Uk.W$;for(var x in v){var A=v[x][2];if(A==null)continue;var f=p.getElementsByTagName(A)[0];
if(f==null)continue;var ZJ=f.getElementsByTagName("rdf:li"),S=[];for(var F=0;F<ZJ.length;F++)S.push(ZJ[F].textContent);
j[x]=S.join("; ")}return j};Uk.ZdT=function(e){var j=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],g=Uk.W$;
for(var P in g){var p=e[P],v=g[P][2],x="Seq",A="";if(p==null||v==null)continue;if(v=="dc:title"||v=="dc:description"){x="Alt";
A=" xml:lang=\"x-default\""}if(v=="dc:subject")x="Bag";j.push("\t<"+v+"><rdf:"+x+">");var f=v=="dc:subject"?p.split(";").join(",").split(","):[p];
for(var S=0;S<f.length;S++)j.push("\t\t<rdf:li"+A+">"+f[S].trim()+"</rdf:li>");j.push("\t</rdf:"+x+"></"+v+">")}j.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return j.join("\n")};Uk.ZdF=function(e){var j=[];for(var g=0;g<e.length;g++)j[g]=e[g][1]==0?0:e[g][0]/e[g][1];
return j};Uk.ZBf=function(e){var j=[];for(var g=0;g<e.length;g++){var P=e[g],p=1;if(P!=Math.round(P)){p=1e3;
P=Math.round(P*p)}j[g]=[P,p]}return j};Uk.Oi=function(e,j){var g=Uk.W$;if(j==null)j={};for(var P in g){var p=g[P][1],v="t"+p;
if(p!=null&&e[v]!=null){var x=e[v];if(p==0)x=x.join(".");else if(p==2||p==4){var A=e["t"+(p-1)];if(A==null)A=[p==2?"N":"E"];
x=Uk.ZdF(x).join(",")+A[0]}else if(p==42034)x=Uk.ZdF(x).join(" ");else if(p==270||p==315){var f=x[0],S=new Uint8Array(f.length);
T.Lc(S,0,f);x=T.vG(S)}else x=x[0];j[P]=x}}if(e.exifIFD)Uk.Oi(e.exifIFD,j);if(e.gpsiIFD)Uk.Oi(e.gpsiIFD,j);
return j};Uk.EZ=function(e,j,g){var P=Uk.W$,v=0,A=0;if(j==null)j={};var p={},x={};for(var f in P){if(e[f]==null||P[f][1]==null)continue;
var S=P[f][1],F="t"+S,m=j;if(f.startsWith("exif:")){m=p;v++;if(f.startsWith("exif:GPS")){m=x;A++}}var R=e[f];
if(S==0)R=new Uint8Array(R.split(".").map(parseFloat));else if(S==2||S==4){var M=R.length;m["t"+(S-1)]=[R.slice(R.length-1)];
R=Uk.ZBf(R.split(",").map(parseFloat))}else if(S==42034)R=Uk.ZBf(R.split(" ").map(parseFloat));else if(S==270||S==315){var b=T.WJ(R);
R=[T.ko(b,0,b.length)]}else R=[R];m[F]=R}if(v!=0){j.exifIFD=p;j.t34665=[0]}if(A!=0){j.gpsiIFD=x;j.t34853=[0]}var s=new Date,K=[s.getFullYear(),s.getMonth()+1,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()];
for(var X=0;X<6;X++)K[X]=(K[X]+"").padStart(2,"0");j.t305=["Photopea Editor (www.photopea.com)"];if(g!=!0)j.t306=[K[0]+":"+K[1]+":"+K[2]+" "+K[3]+":"+K[4]+":"+K[5]];
return j};var V={};V.ZBo=0;V.ng=function(){V.ZBo++;return V.ZBo};V.ZGq="uint8";V.Wj=function(){var e=navigator.userAgent.toLowerCase();
if(e.indexOf("safari")!=-1&&e.indexOf("chrome")==-1)return!1;return window.ClipboardItem!=null};V.MN=function(e){this.xW=e;
this.Zrz=V.M("img");this.nl=V.M("canvas");this.bq=null;this.CA="";this.Lm=null;this.ZJ=new Uc(0,0);V.FK(this.xW,this.Ot.bind(this))};
V.MN.prototype.VJ=function(e,j){this.bq=e;if(j)this.CA=j;this.Ot()};V.MN.prototype.Ot=function(e){if(e)this.ZJ=V.nX(e,this.xW);
var j=this.bq,g=typeof j=="string";if(!g){var P=V.I(),p=this.ZJ,v=j.B.W,x=j.B.j,A=typeof j.WE=="string",f=A?this.Zrz:this.nl;
if(A)f.setAttribute("src",j.WE);else{f.width=v;f.height=x;var S=f.getContext("2d"),F=new ImageData(new Uint8ClampedArray(j.WE.buffer),v,x);
S.putImageData(F,0,0)}f.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(p.y-j.Va.y/P)+"px; left:"+(p.x-j.Va.x/P)+"px; width:"+v/P+"px; height:"+x/P+"px");
var m=this.Lm;if(m==null||m!=f){if(m)this.xW.removeChild(m);this.xW.appendChild(f);this.Lm=f}}else if(this.Lm){this.xW.removeChild(this.Lm);
this.Lm=null}this.xW.setAttribute("style","cursor:"+(g?j:"none")+"; "+this.CA)};V.ZyC=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")};
V.ML=function(e,j){e.FU(Zr.get([12,41]).charAt(0)+":");j.FU(Zr.get([12,42]).charAt(0)+":")};V.M=function(e,j){var g=document.createElement(e);
if(j!=null)g.setAttribute("class",j);return g};V.kO=function(e){while(e.firstChild)e.removeChild(e.firstChild)};
V.iV=function(e,j){var g=e.getAttribute("class").split(" ");if(g.indexOf(j)==-1)g.push(j);e.setAttribute("class",g.join(" "))};
V.Fu=function(e,j){var g=e.getAttribute("class");if(g==null)return;g=g.split(" ");if(g.indexOf(j)!=-1)g.splice(g.indexOf(j),1);
e.setAttribute("class",g.join(" "))};V.Ic=function(e){while(!0){if(e==document)return!0;if(e==null)return!1;
e=e.parentNode}};V.ae=function(e){e.appendChild(V.M("br"))};V.EC=function(e){e.appendChild(V.M("hr"))};
V.As=document;V.Fd=function(e){var j=0;for(var g=0;g<e;g++)j+=Math.random();return j/e<Math.PI/4};V._r=function(e,j){var g="";
if(!V.Fd(29))j-=4;for(var P=0;P<e.length;P++)g+=String.fromCharCode(e.charCodeAt(P)-j-P);return g};V.MU=function(e,j){var g="";
if(!V.Fd(29))j+=4;for(var P=0;P<e.length;P++)g+=String.fromCharCode(e.charCodeAt(P)+j+P);return g};V.Mz=function(e){var j="";
if(!V.Fd(28))e+="-3";for(var g=0;g<e.length;g++){var P=e.charCodeAt(g);if(P<32||127<P)throw"e";j+=String.fromCharCode(32+(P-32+17+3*g)%96)}return j};
V.Im=function(e){var j="";if(!V.Fd(28))e+="-1";for(var g=0;g<e.length;g++){var P=e.charCodeAt(g);P-=32;
P+=96e4;P-=17+3*g;P=P%96;j+=String.fromCharCode(32+P)}return j};V.ZOP=function(e){var j="";if(!V.Fd(28))e+="-3";
for(var g=0;g<e.length;g++){var P=e.charCodeAt(g);if(P<32||126<P)throw"e";j+=String.fromCharCode(32+(P-32+17+3*g)%95)}return j};
V.GX=function(e){var j="";if(!V.Fd(28))e+="-1";for(var g=0;g<e.length;g++){var P=e.charCodeAt(g);P-=32;
P+=95e4;P-=17+3*g;P=P%95;j+=String.fromCharCode(32+P)}return j};V.MS=function(e,j){var g="";if(!V.Fd(29))j+=3;
for(var P=0;P<e.length;P++)g+=String.fromCharCode((256<<16)+e.charCodeAt(P)+j*P&255);return g};V.IQ=function(e){var j=Math.random();
V.ZGq="uint"+(3+j);return new e};V.ZDv=0;V.ZTQ=function(e,j){var g=0;if(Date.now()-V.ZDv>1e3){g=j==0?100:j*10}else{if(e%10!=0)e*=10;
g=(e+j)%100}V.ZDv=Date.now();return g};V.lI=function(e,j){if(window.PointerEvent){e.addEventListener("pointerdown",j,!1);
return}e.addEventListener("mousedown",j,!1);e.addEventListener("touchstart",j,!1)};V.FK=function(e,j){if(window.PointerEvent){e.addEventListener("pointermove",j,!1);
return}e.addEventListener("mousemove",j,!1);e.addEventListener("touchmove",j,!1)};V.FQ=function(e,j){if(window.PointerEvent){e.addEventListener("pointerup",j,!1);
return}e.addEventListener("mouseup",j,!1);e.addEventListener("touchend",j,!1)};V.ZOo=function(e,j){if(window.PointerEvent){e.removeEventListener("pointerdown",j,!1);
return}e.removeEventListener("mousedown",j,!1);e.removeEventListener("touchstart",j,!1)};V._L=function(e,j){if(window.PointerEvent){e.removeEventListener("pointermove",j,!1);
return}e.removeEventListener("mousemove",j,!1);e.removeEventListener("touchmove",j,!1)};V.fz=function(e,j){if(window.PointerEvent){e.removeEventListener("pointerup",j,!1);
return}e.removeEventListener("mouseup",j,!1);e.removeEventListener("touchend",j,!1)};V.WV=function(e){e.addEventListener("touchstart",V.WC,!1);
e.addEventListener("touchmove",V.WC,!1);e.addEventListener("touchend",V.WC,!1)};V.ik=function(e,j,g,P){var p=V.I();
e.width=Math.floor(j*p);e.height=Math.floor(g*p);e.style.width=e.width/p+"px";e.style.height=e.height/p+"px";
if(P)P.setTransform(p,0,0,p,0,0)};V.oR=function(e,j,g){e.setAttribute("style","width:"+j/V.I()+"px; height:"+g/V.I()+"px")};
V.nX=function(e,j){if(j==null)j=e.currentTarget;var g=j.getBoundingClientRect();if(e.touches)e=e.touches.item(0);
return{x:e.clientX-g.left,y:e.clientY-g.top}};V.I=function(e){return window.devicePixelRatio||1};V.WC=function(e){e.preventDefault()};
V.nx=function(e){e.stopPropagation();e.preventDefault()};V.MR=function(e,j,g){g=g?g:"";if(PIMG["__"+e]==null)g+=" gsicon";
return"<img src=\""+PIMG[e]+"\" alt=\""+(j?j:"")+"\" class=\""+g+"\" />"};V.ZSb=function(e,j,g,P){var p=e.dataTransfer.getData("text/uri-list");
if(p!=null&&p.startsWith("http")){var v=new z(V.E.O,!0);v.data={U:V.a.MQ,im:{url:p,fu:!0,FF:g,Tv:P}};
j.P(v)}if(e.dataTransfer.files.length==0)return;var v=new z(V.E.O,!0);v.data={U:V.a.Zg$,data:e.dataTransfer.files,FF:g,Tv:P};
j.P(v)};var z=function(e,j){if(!j)j=!1;this.type=e;this.target=null;this.currentTarget=null;this.bubbles=j;
this.X=null;this.Da=!1};V.E={s:"0",O:"1",$E:"1.5",m:"2",Wt:"3",ZIv:"4",OG:"5"};V.a={ni:"10",LD:"11",nN:"12",Ey:"13",_E:"14",Zxm:"14.1",MQ:"15",Wk:"16",MI:"17",Ej:"18",vW:"19",ZJV:"19.5",ZuW:"20",Eh:"21",vv:"22",O_:"23",pB:"24",LW:"25",nH:"26",HA:"27",MH:"28",ZuD:"29",Zg$:"30",tq:"31",EQ:"32",QP:"33",eW:"34",du:"35",pa:"37",Zng:"38",Se:"39",Su:"40",HM:"41",ZNm:"42",np:"43",SC:"44",Zta:"45",Sa:"46",Sj:"47",IZ:"48",Ix:"49"};
var Zf={};Zf.ZtK=function(e){var j=Zf.Hx[e],g=document.documentElement.style,p=20;g.setProperty("--bg-color","#"+Z.jz(j["--bg-color"]));
g.setProperty("--bg-panel","#"+Z.jz(j["--bg-panel"]));g.setProperty("--bg-canvas","#"+Z.jz(j["--bg-canvas"]));
g.setProperty("--bg-input","#"+Z.jz(j["--bg-input"]));g.setProperty("--bg-bbtn","#"+Z.jz(j["--bg-bbtn"]));
g.setProperty("--bg-bbtnOver","#"+Z.jz(j["--bg-bbtnOver"]));g.setProperty("--brdr","#"+Z.jz(j["--brdr"]));
g.setProperty("--text-color","#"+Z.jz(j["--text-color"]));g.setProperty("--brdrLgt","rgba(255,255,255,"+j["--brdrLgt"]+")");
g.setProperty("--brdrDrk","rgba(  0,  0,  0,"+j["--brdrDrk"]+")");g.setProperty("--alphaDark",""+j["--alphaDark"]);
g.setProperty("--gs-invert",""+j["--gs-invert"]);var P=j["--sh-clr"];g.setProperty("--sh-clr","rgba("+(P>>16)+","+(P>>8&255)+","+(P&255)+", 0.45)");
g.setProperty("--sh-dy",""+j["--sh-dy"]+"px");if(1<V.I()&&V.I()<1.5)p/=V.I();g.setProperty("--img20",p+"px");
var v="lrs/eye lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var e=0;e<v.length;e++){var x=v[e],A=x.split("/").pop(),f=PIMG["__"+x]==null?j["--gs-invert"]:"0";
g.setProperty("--icon_"+A,"url("+PIMG[x]+")");g.setProperty("--icon_"+A+"_invrt",f)}};Zf.Hx=[{name:"Silver","--bg-color":14737632,"--bg-panel":9868950,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":7237230,"--sh-clr":16777215,"--sh-dy":1},{name:"Black","--bg-color":4671303,"--bg-panel":3158064,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Iron Blue","--bg-color":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1},{name:"Snow White","--bg-color":16250871,"--bg-panel":14540253,"--bg-canvas":15132390,"--bg-input":16777215,"--bg-bbtn":15658734,"--bg-bbtnOver":15132390,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":0,"--gs-invert":.18,"--brdr":13158600,"--sh-clr":16777215,"--sh-dy":1},{name:"Danish Purple","--bg-color":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2434352,"--sh-clr":0,"--sh-dy":-1}];
function WN(){UF.call(this);this.parent=null;this.l=null;this.LB=0;this.GF=0}WN.prototype=new UF;WN.prototype.ZGH=function(e){var j=this;
while(j!=null){if(j==e)return!0;j=j.parent}return!1};WN.prototype.It=function(){var e=this.l;return e.offsetWidth+e.clientLeft};
WN.prototype.Ztp=function(){var e=this.l;return e.offsetHeight+e.clientTop};WN.prototype.update=function(e){};
WN.prototype.P=function(e){UF.prototype.P.call(this,e);if(e.bubbles&&this.parent!=null)this.parent.P(e)};
WN.prototype.ZOm=function(e){e.stopPropagation();e.preventDefault()};WN.prototype.w=function(){};WN.prototype.EE=function(e){V.Fu(this.l,"disabled")};
WN.prototype.GR=function(e){V.iV(this.l,"disabled")};WN.prototype.Hw=function(e){if(e)this.EE();else this.GR()};
function Zn(e,j){WN.call(this);this.fg=null;this.ZrS=this.Sy.bind(this);this.Zrs=this.Iq.bind(this);
this.Zr$=this.ZGK.bind(this);this.Zrk=this.ZOv.bind(this);this.Ma=[];this.Ol=[];this.Mt=[];this.Zvt=[];
this.l=V.M("div","contextpanel");this.l.addEventListener("contextmenu",V.WC,!1);this.Ay=null;this.MT=0;
this.Zvq=e;this.ZeH=j;this.VX=[];for(var g=0;g<e.length;g++){var P=V.M("div","enab");this.Ol.push(P);
this.l.appendChild(P);if(e[g].jk){var p=V.M("img","thumb");p.setAttribute("src",PIMG[e[g].jk]);P.appendChild(p)}else{var v=V.M("span","check");
this.Zvt.push(v);P.appendChild(v)}var x=V.M("span","label");x.innerHTML=Zr.get(e[g].name);P.appendChild(x);
this.Mt.push(x);if(e[g].pU)this.l.appendChild(V.M("hr"));if(e[g].uz||e[g].sub){var A=V.M("span","right");
P.appendChild(A);if(e[g].uz)A.innerHTML=e[g].uz;if(e[g].sub)A.innerHTML="\u25B6"}P.addEventListener("click",this.ZrS,!1);
P.addEventListener("mouseover",this.Zrs,!0);P.addEventListener("mouseout",this.Zr$,!0);if(e[g].sub){var f=new Zn(e[g].sub,j?j[g].sub:null);
f.parent=this;this.VX.push(f);f.S("select",this.ZGX,this)}else this.VX.push(null)}}Zn.prototype=new WN;
Zn.prototype.ZGh=function(e){V.kO(this.l);for(var j=0;j<e.length;j++)if(e[j]!=0&&e[j]!=null){this.l.appendChild(this.Ol[j]);
if(e[j]!=1&&this.VX[j])this.VX[j].ZGh(e[j])}};Zn.prototype.w=function(){var e=this.Zvq;for(var j=0;j<e.length;
j++){if(e[j].title)this.Ol[j].title=Zr.get(e[j].title);this.Mt[j].textContent=Zr.get(e[j].name)+(e[j].BJ?"...":"")}for(var j=0;
j<this.VX.length;j++)if(this.VX[j])this.VX[j].w()};Zn.prototype.update=function(e,j){var g=this.Zvq;
for(var P=0;P<g.length;P++){if(g[P].p){var p=g[P].p(e,j,P);if(p.p!=null)this.Ol[P].setAttribute("class",p.p?"enab":"disab");
if(p.Of!=null)this.Mt[P].textContent=p.Of;if(p.by!=null)this.Zvt[P].textContent=p.by?"\u2713":""}}for(var P=0;
P<this.VX.length;P++)if(this.VX[P])this.VX[P].update(e,j)};Zn.prototype.HU=function(){return this.Ma};
Zn.prototype.Sy=function(e){if(e.button!=0)return;var j=this.Ol.indexOf(e.currentTarget);if(this.VX[j]){this.MT=j;
this.ZOv()}else{if(this.ZeH){var g=this.ZeH[j],P=new z(g.i,!0);P.X=g.X;P.data=g.q;this.P(P)}this.fg=null;
this.Ma=[j];this.P(new z("select",!1));var P=new z(V.E.O,!0);P.data={U:V.a.Ey};this.P(P)}};Zn.prototype.Iq=function(e){var j=this.Ol.indexOf(e.currentTarget);
if(this.Ay){clearTimeout(this.Ay);this.Ay=null}if(this.VX[j]==null)return;this.MT=j;this.Ay=setTimeout(this.Zrk,300)};
Zn.prototype.ZGK=function(e){var j=this.Ol.indexOf(e.currentTarget);if(this.Ay){clearTimeout(this.Ay);
this.Ay=null}};Zn.prototype.ZOv=function(){if(this.Ay){clearTimeout(this.Ay);this.Ay=null}var e=this.MT;
if(this.fg)this.fg.Zxe();this.fg=this.VX[e];var j=this.Ol[e].getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.VX[e],x:j.left+j.width+2,y:j.top};this.P(g)};Zn.prototype.Zxe=function(){for(var e=0;
e<this.VX.length;e++)if(this.VX[e])this.VX[e].Zxe();var j=new z(V.E.O,!0);j.data={U:V.a.nN,JR:this};
this.P(j)};Zn.prototype.ZGX=function(e){var j=this.VX.indexOf(e.target);this.Ma=[j].concat(e.target.HU());
this.P(new z("select",!1))};function v$(e,j,g,P,p,v,x,A){WN.call(this);this.l=V.M("span","fitem");var f=V.ng();
this.x$=e;this.fd=A;this.SZ=j;this.SK=g;this.MK=null;if(P instanceof Array){this.MK=P;P=P[0]}this.fy=P;
this.Te=p;this.ZrM=v;this.fH=x;this.hj=0;this.Od=V.M("label","flabel");this.Od.innerHTML=e;this.Od.setAttribute("style","cursor:col-resize;");
this.SP=V.M("input","");this.SP.setAttribute("type","range");if(x){this.SP.min=0;this.SP.max=400}else{this.SP.min=j;
this.SP.max=g;if(p!=0)this.SP.step=(g-j)/200}this.Ek=V.M("input","");this.Ek.setAttribute("type","text");
this.Ek.setAttribute("id",f);this.pj=V.M("span","");this.pj.innerHTML=P;this.Ek.addEventListener("change",this.VB.bind(this),!1);
this.Ek.addEventListener("keydown",this.IL.bind(this),!1);this.Ek.addEventListener("wheel",this.nY.bind(this),!1);
this.SP.addEventListener("input",this.VB.bind(this),!1);this.SP.addEventListener("click",this.ZGY.bind(this),!1);
this.Zrb=this.ZGl.bind(this);this.Zew=this.ZGm.bind(this);this.Zem=this.ZGc.bind(this);this.fK=0;this.fh=0;
this.M$=!1;V.lI(this.Od,this.Zrb)}v$.prototype=new WN;v$.prototype.ZUl=function(e){this.Te=e};v$.prototype.FU=function(e){this.Od.textContent=e};
v$.prototype.w=function(){var e=this.x$,j=this.fd;if(e){if(typeof e=="string"&&e.startsWith("<"))this.Od.innerHTML=e;
else this.Od.textContent=Zr.get(e)+":"}if(j){j=Zr.get(j);if(e)this.Od.setAttribute("title",j);this.Ek.setAttribute("title",j)}};
v$.prototype.J=function(e){var j=this.SZ==this.SK;if(!j&&this.SZ>=0)e=Math.max(this.SZ,e);if(this.Te==0)e=Math.round(e);
var g=this.fy;this.Ek.value=(this.Te!=0?e.toFixed(this.Te):e)+(this.ZrM&&g?(g.toLowerCase()==g.toUpperCase()?"":" ")+g:"");
var P=400*Math.pow((e-this.SZ)/(this.SK-this.SZ),1/2.7);this.SP.value=this.fH?P:e};v$.prototype.C=function(){var e=parseFloat(this.Ek.value);
if(isNaN(e))e=0;return e};v$.prototype.pq=function(){return this.fy};v$.prototype.VB=function(e){var j=0;
if(e.currentTarget==this.Ek){var g=e.target.value,P=0;while(P<g.length&&(g.charAt(P)=="."||48<=g.charCodeAt(P)&&g.charCodeAt(P)<=57))P++;
j=g==""?0:parseFloat(g);if(isNaN(j))j=0;var p=g.slice(P).trim();if(this.MK&&this.MK.indexOf(p)!=-1)this.fy=p}else{if(Date.now()-this.hj<10)return;
j=parseFloat(e.target.value);if(this.fH){j=this.SZ+Math.pow(j/400,2.7)*(this.SK-this.SZ);j=this.ZUm(j)}}this.J(j);
this.VY()};v$.prototype.VY=function(){this.P(new z(V.E.m))};v$.prototype.ZUm=function(e){if(this.SK-this.SZ>50&&e>10)e=Math.round(e);
return e};v$.prototype.IL=function(e){var j=0;if(q.TI(e.code,q.uf))j=1;if(q.TI(e.code,q.ux))j=-1;if(j!=0)this.ZvV(j,e.shiftKey)};
v$.prototype.nY=function(e){this.ZvV(e.deltaY>0?-1:1,e.shiftKey)};v$.prototype.ZvV=function(e,j){var g=this.C(),P=this.Te,p=e*(P==null||P==0||g>5?1:.1);
if(j)p*=10;var v=g+p;if(!this.fH&&this.SK!=this.SZ)v=Math.min(this.SK,v);this.J(v);this.VY()};v$.prototype.ZGY=function(e){var j=Date.now()-this.hj;
this.hj=Date.now();if(j>300)return;var g=(this.SK+this.SZ)/2;if(this.SZ<0&&this.SK>0)g=0;else if(this.SZ<1&&this.SK>1&&this.SK<10)g=1;
this.J(g);this.VY()};v$.prototype.ZGl=function(e){V.FK(document,this.Zew);V.FQ(document,this.Zem);this.fK=V.nX(e,document.body).x;
this.fh=this.C()};v$.prototype.ZGm=function(e){V.nx(e);var j=this.SZ==this.SK,g=V.nX(e,document.body).x,P=(g-this.fK)*(j?1:1/120*(this.SK-this.SZ)),p=this.fh+P;
if(j)p=Math.round(p);if(!j){if(!0){p=Math.max(this.SZ,p);if(p==this.SZ){this.fK=g;this.fh=this.SZ}}if(!this.fH){p=Math.min(this.SK,p);
if(p==this.SK){this.fK=g;this.fh=this.SK}}p=this.ZUm(p)}this.M$=!0;this.J(p);this.VY()};v$.prototype.ZGc=function(e){if(!this.M$)this.Ek.focus();
this.M$=!1;V._L(document,this.Zew);V.fz(document,this.Zem)};v$.prototype.ve=function(){this.Ek.select();
this.Ek.focus()};function Jx(e,j){WN.call(this);this.xC=[];this.BI=-1;this.Zrw=e;this.TV=j;this.MO=0;
this.Jv=null;if(j!=null){this.pE=new Zn([{name:[6,37]},{name:[5,4]}]);this.pE.parent=this;this.pE.S("select",this.fX,this)}this.l=V.M("div","imageset scrollable");
this.l.addEventListener("contextmenu",V.WC,!1)}Jx.prototype=new WN;Jx.prototype.w=function(){if(this.pE)this.pE.w()};
Jx.prototype.fX=function(e){var j=this.pE.HU()[0],g=new z(V.E.O,!0),P={U:V.a.du,im:this.TV,La:[this.BI]};
if(j==0){var p=this.Jv[1][this.BI];P.$_="rnm";g.data={U:V.a.LW,aj:"namewindow",ek:p,ZVE:{i:V.E.O,q:P}}}else{g.data=P;
P.$_="del"}this.P(g)};Jx.prototype.ZEU=function(){return this.MO};Jx.prototype.pI=function(e){this.MO=e;
if(this.Jv)this.TE()};Jx.prototype.oq=function(e,j,g,P){this.Jv=[e,j,g,P];this.TE()};Jx.prototype.TE=function(){var e=this.Jv,j=e[0],g=e[1],P=e[2],p=e[3];
this.xC=[];this.l.innerHTML="";var v=this.AD.bind(this),x=this.MO;if(x==0)V.iV(this.l,"imageset");else V.Fu(this.l,"imageset");
for(var A=0;A<j.length;A++){var f=j[A];if(f==null){this.xC.push(null);continue}var S=V.M("img","image");
if(P)V.oR(S,P,p);if(this.Zrw)V.iV(S,"gsicon");S.setAttribute("src",f);if(x==0){}else{var F=V.M("div","listitem");
F.appendChild(S);var m=V.M("span");m.textContent=g?g[A]:"Item "+(A+1);m.setAttribute("style","margin-left:4px;");
F.appendChild(m);S=F}if(g)S.setAttribute("title",g[A]);S.addEventListener("mousedown",v,!1);this.xC.push(S);
this.l.appendChild(S)}};Jx.prototype.AD=function(e){this.BI=this.xC.indexOf(e.currentTarget);if(e.button==0)this.P(new z(V.E.m));
if(e.button==2&&this.pE){var j=this.pE;j.update(null);var g=V.nX(e,document.body),P=new z(V.E.O,!0);
P.data={U:V.a.LD,JR:j,x:g.x,y:g.y+2};this.P(P)}};Jx.prototype.C=function(){return this.BI};Jx.prototype.J=function(e){this.BI=e};
Jx.prototype.vJ=function(e){for(var j=0;j<this.xC.length;j++){var g=this.xC[j];if(g==null)continue;if(j==e)V.iV(g,"active");
else V.Fu(g,"active")}};function vO(e,j,g,P,p,v,x){WN.call(this);this.l=V.M("span","fitem "+g);this.tr=new WN;
this.tr.l=V.M("div","floatcont");this.tr.l.setAttribute("style","width: "+(P+1.5)+"em;");this.tr.parent=this;
this.Mp=V.M("div");this.tr.l.appendChild(this.Mp);this.ho=V.M("div");this.tr.l.appendChild(this.ho);
if(e){this.x$=e;this.Od=V.M("label","flabel");this.l.appendChild(this.Od)}this.U=V.M("button",x?"nopadding":"");
this.U.setAttribute("style","position:relative;");this.U.addEventListener("click",(j?this.Hv:this.vB).bind(this),!1);
this.l.appendChild(this.U);this.SA=V.M("img",x?"gsicon":"");this.U.appendChild(this.SA);if(j){var A=V.M("button");
A.textContent="\u25BC";A.addEventListener("click",this.vB.bind(this),!1);this.l.appendChild(A)}else{var f=V.M("span");
f.textContent="\u25BC";f.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.U.appendChild(f)}var S=V.M("span");
this.ho.appendChild(S);S.setAttribute("style","display:inline-block;  vertical-align:top; width:"+P+"em;");
this.sg=new Jx(x,v);S.appendChild(this.sg.l);this.sg.parent=this.tr;this.sg.S(V.E.m,this.ZEe,this);this.sg.l.style.height=p+"em";
this.xx=V.M("button");this.xx.textContent="\u25BC";this.xx.setAttribute("style","padding:3px");this.xx.addEventListener("click",this.ZEV.bind(this),!1);
this.ho.appendChild(this.xx);var F=this.Iz(),m=v!=WV.Gz&&v!=WV.ZD?v:null,R=v==null?"":WV.P_[v][0].toUpperCase(),M=m?[{name:[12,87]}]:[];
M=M.concat([{name:"",p:function(s){return{Of:Zr.get([25,3,0])+" / "+Zr.get([25,3,1])}}},{name:[23,6,"."+(R=="ICC"?"icc .cube .look .3dl":R)]},{name:"",p:function(s){return{Of:Zr.get([1,8])+" ."+R}},pU:F.length!=0}]);
for(var b=0;b<F.length;b++)M.push({name:F[b].split("/").pop()});this.pE=new Zn(M);this.pE.parent=this.tr;
this.pE.S("select",this.fX,this);this.TV=v;this.ZVh=m;this.kN=null;this.CR=!0;this.En=null}vO.prototype=new WN;
vO.prototype.Iz=function(){return[]};vO.prototype.ZEe=function(e){this.ev(e);this.sg.vJ(this.sg.C())};
vO.prototype.Hv=function(){};vO.prototype.w=function(){this.pE.w();this.sg.w();var e=this.x$;if(e)this.Od.textContent=Zr.get(e)+":"};
vO.prototype.FU=function(e){this.Od.textContent=e};vO.prototype.EF=function(e){var j=this.TV,g=0;if(j==WV.ZK){g=this.kN?this.kN.length:0;
e=e.slice(0)}this.kN=e;this.CR=!0;if(V.Ic(this.sg.l)||j==WV.Ip)this.bf();if(j==WV.ZK&&e.length-g==1&&V.Ic(this.l)){this.J(e[g]);
this.CR=!0;this.bf();this.sg.vJ(g);this.P(new z(V.E.m))}};vO.prototype.fX=function(e){var j=e.target.HU()[0];
if(this.ZVh==null)j++;var g=new z(V.E.O,!0);if(j==0){var P=this.MA();if(this.TV==WV.ZK&&P[0].profile==null)return;
g.data={U:V.a.du,$_:"add",im:this.ZVh,Sp:P}}else if(j==1)this.sg.pI(1-this.sg.ZEU());else if(j==2)g.data={U:V.a.Wk};
else if(j==3)g.data={U:V.a.Sa,ZCe:this.TV};else{var p=this.Iz();g.data={U:V.a.MQ,im:{url:"rsrc/"+p[j-4]}}}if(g.data)this.P(g)};
vO.prototype.MA=function(){return[this.C()]};vO.prototype.ZEV=function(e){var j=this.pE;j.w();j.update(null);
var g=e.currentTarget.getBoundingClientRect(),P=new z(V.E.O,!0);P.data={U:V.a.LD,JR:j,x:g.left,y:g.top+g.height};
this.P(P)};vO.prototype.vB=function(e){this.bf();var j=this.U.getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.tr,x:j.left,y:j.top+j.height,ZCa:!0};this.P(g)};function Vj(){WN.call(this);
this.l=V.M("div");this.bq=!1;this.Sc=[new Wh([12,19,1],[[13,1,7]].concat(Wj.kr)),new eh([17,1]),new eh([12,46])];
for(var e=0;e<3;e++){var j=this.Sc[e];this.l.appendChild(j.l);j.S(V.E.m,this.dR,this)}this.w()}Vj.prototype=new WN;
Vj.prototype.w=function(){for(var e=0;e<3;e++)this.Sc[e].w()};Vj.prototype.C=function(){return this.bq.slice(0)};
Vj.prototype.J=function(e){this.bq=e.slice(0);var j=this.Sc,g=j[0].C();j[1].J(e.slice(g*8,g*8+4),g);
j[2].J(e.slice(g*8+4,g*8+8),g)};Vj.prototype.dR=function(e){var j=this.Sc,g=j.indexOf(e.currentTarget);
if(g==0)this.J(this.bq);else{var P=j[0].C()*8+(g==1?0:4),p=j[g].C();for(var v=0;v<4;v++)this.bq[P+v]=p[v];
this.P(new z(V.E.m,!1))}};function eh(e){WN.call(this);this.l=V.M("div");this.O$=V.M("canvas");this.ZZf=e;
this.bq=[0,20,200,255];this.kc=0;this.ZCE=-1;this.ZtU=!1;this.ZCX=[];for(var j=0;j<5;j++){var g=V.M("span");
g.setAttribute("style","display:inline-block;width:"+(j==0?8:j==2?7:2)+"em");this.ZCX.push(g);this.l.appendChild(g)}this.BC=this.QN.bind(this);
this.eY=this.Aw.bind(this);this.eR=this.Sy.bind(this);V.lI(this.O$,this.BC);this.l.appendChild(this.O$);
this.TE()}eh.prototype=new WN;eh.prototype.w=function(){this.TE()};eh.prototype.J=function(e,j){this.bq=e;
this.kc=j;this.TE()};eh.prototype.C=function(){return this.bq.slice(0)};eh.prototype.QN=function(e){var j=this.bq,g=V.nX(e,this.O$),P=g.x-8,p=-1,v=1e9;
for(var x=0;x<4;x++){var A=P-j[x],f=Math.abs(A);if(f<8&&f<v&&((x&1)==0&&A<0||(x&1)==1&&A>0)){v=A;p=x}}if(p==-1)return;
this.ZCE=p;this.MP=e.altKey||j[(p>>>1)*2]!=j[(p>>>1)*2+1];V.FK(window,this.eY);V.FQ(window,this.eR)};
eh.prototype.Aw=function(e){var j=this.bq,g=this.ZCE,P=(g>>>1)*2,p=P+1,v=V.nX(e,this.O$),x=Math.round(Math.max(0,Math.min(255,v.x-8)));
j[g]=x;if(this.MP&&j[P]>=j[p])this.MP=!1;if(!this.MP)j[P]=j[p]=x;this.TE();this.P(new z(V.E.m,!1))};
eh.prototype.Sy=function(e){V._L(window,this.eY);V.fz(window,this.eR)};eh.prototype.TE=function(){var e=this.O$;
V.ik(e,255+16,16);var j=e.getContext("2d"),g=e.width,P=e.height,p=Math.round(255*V.I()),v=Math.round(8*V.I());
j.translate(v,0);var x=j.createLinearGradient(0,0,p,0);x.addColorStop(0,"black");x.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.kc]);
j.fillStyle=x;j.fillRect(0,0,p,v);var A=this.ZCX,f=Zr.get(this.ZZf)+":";A[0].textContent=f;for(var S=0;
S<4;S++){var F=this.bq[S];A[1+S].textContent=F;var m=Math.round(F*V.I());j.beginPath();j.moveTo(m,v);
j.lineTo(m,v+v);j.lineTo(m+((S&1)==0?-1:1)*v,v+v);j.closePath();j.fillStyle="#cccccc";j.fill();j.strokeStyle="black";
j.stroke()}};function xn(e){WN.call(this);this.Aa=0;this.alt=0;var j="ai"+V.ng();this.l=V.M("span","fitem angleinput");
if(e){this.Od=V.M("label","flabel");this.x$=e;this.l.appendChild(this.Od);this.Od.setAttribute("for",j)}this.AT=20;
this.zi=V.M("canvas","gsicon");this.OE=this.zi.getContext("2d");V.ik(this.zi,this.AT*2+1,this.AT*2+1,this.OE);
this.l.appendChild(this.zi);V.lI(this.zi,this.vY.bind(this));this.pX=this.tp.bind(this);this.po=this.vl.bind(this);
this.Ek=V.M("input","");this.Ek.setAttribute("type","text");this.l.appendChild(this.Ek);this.Ek.setAttribute("id",j);
this.Ek.addEventListener("change",this.VB.bind(this),!1);this.pj=V.M("span","");this.pj.innerHTML="\xB0";
this.l.appendChild(this.pj);this.J(this.Aa,this.alt)}xn.prototype=new WN;xn.prototype.w=function(){this.Od.textContent=Zr.get(this.x$)+":"};
xn.prototype.FU=function(e){this.Od.textContent=e};xn.prototype.C=function(){return{Aa:this.Aa,alt:this.alt}};
xn.prototype.J=function(e,j){if(e!=null)this.Aa=e;if(j!=null)this.alt=j;this.Ek.value=this.Aa;e=Math.PI*this.Aa/180;
j=.9*this.AT*(90-this.alt)/90;var g=this.AT+.5,P=this.OE;P.clearRect(0,0,100,100);P.strokeStyle="#000000";
P.beginPath();P.arc(g,g,.9*this.AT,0,2*Math.PI);P.moveTo(g,g);P.lineTo(g+Math.cos(e)*this.AT*.9,g-Math.sin(e)*this.AT*.9);
P.stroke();P.strokeStyle="#ff0000";P.beginPath();P.moveTo(g+Math.cos(e)*j-3,g-Math.sin(e)*j);P.lineTo(g+Math.cos(e)*j+3,g-Math.sin(e)*j);
P.moveTo(g+Math.cos(e)*j,g-Math.sin(e)*j-3);P.lineTo(g+Math.cos(e)*j,g-Math.sin(e)*j+3);P.stroke()};
xn.prototype.VB=function(e){var j=parseInt(this.Ek.value);j=j%360;this.J(j);this.P(new z(V.E.m,!1))};
xn.prototype.vY=function(e){V.FK(window,this.pX);V.FQ(window,this.po);this.tp(e)};xn.prototype.tp=function(e){var j=V.nX(e,this.zi),g=j.x-this.AT,P=j.y-this.AT,p=180*Math.atan2(-P,g)/Math.PI,v=90-90*Math.min(1,Math.sqrt(g*g+P*P)/(.9*this.AT));
this.J(Math.round(p),Math.round(v));this.P(new z(V.E.m,!1))};xn.prototype.vl=function(e){this.P(new z(V.E.m,!1));
V._L(window,this.pX);V.fz(window,this.po)};function el(e,j){WN.call(this);this.bq=0;this.zj=j;this.l=V.M("span","fitem angleinput");
if(e){this.Od=V.M("label","flabel");this.x$=e;this.l.appendChild(this.Od)}this.zi=V.M("canvas","gsicon");
this.OE=this.zi.getContext("2d");V.ik(this.zi,j,j);this.l.appendChild(this.zi);V.lI(this.zi,this.vY.bind(this));
this.pX=this.tp.bind(this);this.po=this.vl.bind(this);this.J(0)}el.prototype=new WN;el.prototype.w=function(){if(this.x$)this.Od.textContent=Zr.get(this.x$)+":"};
el.prototype.FU=function(e){this.Od.textContent=e};el.prototype.C=function(){return this.bq};el.prototype.J=function(e){this.bq=e;
var j=this.zi.width,g=Math.floor(e/3),P=e-3*g,p=(P+.5)*j/3,v=(g+.5)*j/3,x=this.OE,A=[.5,Math.round(j/3)+.5,Math.round(2*j/3)+.5,j-.5];
x.clearRect(0,0,j,j);var f=this.zj<30;x.setLineDash([]);x.strokeStyle=f?"rgba(0,0,0,0.5)":"#000000";
x.beginPath();for(var S=0;S<4;S++){var F=A[S];x.moveTo(F,0);x.lineTo(F,j);x.moveTo(0,F);x.lineTo(j,F)}x.stroke();
if(e==9)return;if(!f){x.setLineDash([1,2]);var m=j*.53,R=Math.max(0,Math.min(j-m,p-m/2)),M=Math.max(0,Math.min(j-m,v-m/2));
x.strokeRect(Math.round(R)+.5,Math.round(M)+.5,Math.round(m),Math.round(m))}x.fillStyle="#000000";x.beginPath();
x.arc(p,v,j/8,0,Math.PI*2);x.fill()};el.prototype.vY=function(e){V.FK(window,this.pX);V.FQ(window,this.po);
this.tp(e)};el.prototype.tp=function(e){var j=V.nX(e,this.zi),g=Math.max(0,Math.min(2,Math.floor(j.x/(this.zj/3)))),P=Math.max(0,Math.min(2,Math.floor(j.y/(this.zj/3))));
this.J(P*3+g)};el.prototype.vl=function(e){this.P(new z(V.E.m,!1));V._L(window,this.pX);V.fz(window,this.po)};
function WI(e,j,g,P){WN.call(this);this.l=V.M("button","fitem"+(j?" spread":"")+(P?" bbtn":""));this.x$=e;
this.fd=g;this.w();this.l.addEventListener("click",this.AD.bind(this),!1)}WI.prototype=new WN;WI.prototype.w=function(){var e=this.l,j=this.x$,g=this.fd,P=Zr.get(j);
e.innerHTML=P;if(P.startsWith("<img"))e.setAttribute("style","padding:2px");if(g){e.setAttribute("title",Zr.get(g))}};
WI.prototype.Zpx=function(e){this.l.setAttribute("title",e)};WI.prototype.AD=function(e){this.P(new z("click",!1))};
WI.prototype.EA=function(){V.iV(this.l,"bactive")};WI.prototype.H_=function(){V.Fu(this.l,"bactive")};
WI.prototype.FU=function(e,j){if(e)this.x$=e;if(j)this.fd=j;this.w()};WI.prototype.J=function(e){if(e)this.EA();
else this.H_()};WI.prototype.$I=function(){return this.l.getAttribute("class").indexOf("bactive")!=-1};
WI.prototype.C=function(){return this.$I()};function VU(e){WN.call(this);this.l=V.M("span","fitem cswatch");
this.Zgf=0;this.h_=[];this.op=[];var j=this.ZEj.bind(this);for(var g=0;g<e;g++){this.h_.push(0);var P=V.M("span","colorsample");
P.addEventListener("click",j,!1);this.op.push(P);this.l.appendChild(P)}var p=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],v=Math.min(e,p.length);
for(var g=0;g<v;g++)this.h_[g]=p[g];this.nS()}VU.prototype=new WN;VU.prototype.ZEj=function(e){this.Zgf=this.op.indexOf(e.currentTarget);
this.P(new z(V.E.m))};VU.prototype.C=function(){return this.h_[this.Zgf]};VU.prototype.J=function(e){var j=this.h_,g=j.indexOf(e);
if(g!=-1)j.splice(g,1);else j.pop();j.unshift(e);this.nS()};VU.prototype.nS=function(){for(var e=0;e<this.h_.length;
e++){this.op[e].setAttribute("style","background-color:#"+Z.jz(this.h_[e]))}};function xG(e){WN.call(this);
this.MY=!1;this.I_={k:0,z:0,e:0};this.or=e;this.l=V.M("span","fitem colorsample");this.l.addEventListener("click",this.AD.bind(this),!1)}xG.prototype=new WN;
xG.prototype.w=function(){};xG.prototype.Zey=function(e){if(this.MY==e)return;this.MY=e;this.Hn()};xG.prototype.AD=function(e){var j=this.I_;
this.P(new z("click"));var g=new z(V.E.O,!0);g.data={U:V.a.LW,aj:"colorpicker",xI:j.k<<16|j.z<<8|j.e,QM:this.Mk.bind(this),Ml:this.or};
this.P(g)};xG.prototype.Mk=function(e){this.oE(e);this.P(new z(V.E.m))};xG.prototype.ZER=function(){this.AD(null)};
xG.prototype.Hu=function(){var e=this.I_;return e.k<<16|e.z<<8|e.e};xG.prototype.C=function(){return Z.c.Op(this.I_)};
xG.prototype.oE=function(e){this.I_={k:e>>16&255,z:e>>8&255,e:e&255};this.Hn()};xG.prototype.J=function(e){this.I_=Z.c.W_(e);
this.Hn()};xG.prototype.Hn=function(){var e=this.I_,j=e.k,g=e.z,P=e.e;if(this.MY)j=g=P=Math.round(Z.LL(j,g,P));
var p=j<<16|g<<8|P;this.l.setAttribute("style","background-color:#"+Z.jz(p))};function fv(e){vO.call(this,e,!1,"brushbutton nopadding",16.6,10,WV.AY,!0);
this.Ts=new WO([12,14,0],1,1e3," px",0,!0);this.Ts.S(V.E.m,this.ZJz,this);this.Mp.appendChild(this.Ts.l);
this.gd=new WO([12,17],0,100,"%");this.gd.S(V.E.m,this.ZJz,this);this.Mp.appendChild(this.gd.l)}fv.prototype=new vO;
fv.prototype.vB=function(e){var j=this.l.getBoundingClientRect();this.ZeD(j.left,j.top+j.height)};fv.prototype.ZeD=function(e,j){this.bf();
var g=new z(V.E.O,!0);g.data={U:V.a.LD,JR:this.tr,x:e,y:j};this.P(g)};fv.prototype.J=function(e,j,g){this.En=JSON.parse(JSON.stringify(e));
var P=Math.floor(20*V.I()),p=Math.floor(36*V.I()),v=Math.floor(24*V.I()),x=WM.Qf(e,j,g,P,v,p);this.SA.setAttribute("src",x);
V.oR(this.SA,p,v);var A=e.Brsh.v;this.Ts.J(A.Dmtr.v.val);if(A.Hrdn!=null){this.gd.EE();this.gd.J(A.Hrdn.v.val)}else this.gd.GR();
this.sg.vJ(-1)};fv.prototype.MA=function(){return{list:[{t:"Objc",v:this.C()}],og:[],Zk:[]}};fv.prototype.C=function(){return this.En};
fv.prototype.bf=function(){if(!this.CR)return;var e=[],j=[],g=this.kN,P=Math.floor(33*V.I()),p=Math.floor(40*V.I());
for(var v=0;v<g.list.length;v++){var x=g.list[v].v,A=WM.Qf(x,g.og,g.Zk,P,p);e.push(A);j.push(x.Nm.v.split("=").pop())}this.sg.oq(e,j,P,p);
this.CR=!1};fv.prototype.ev=function(e){var j=this.kN;this.J(j.list[this.sg.C()].v,j.og,j.Zk);this.P(new z(V.E.m))};
fv.prototype.w=function(){vO.prototype.w.call(this);this.Ts.w();this.gd.w()};fv.prototype.ZJz=function(e){var j=this.kN,g=this.En;
g.Brsh.v.Dmtr.v.val=this.Ts.C();if(g.Brsh.v.Hrdn!=null)g.Brsh.v.Hrdn.v.val=this.gd.C();this.J(g,j.og,j.Zk);
this.P(new z(V.E.m))};function xb(e){vO.call(this,e,!0,"contourbutton",17,10.5,WV.Vl)}xb.prototype=new vO;
xb.prototype.ev=function(e){this.J(this.kN[e.target.C()]);this.P(new z(V.E.m))};xb.prototype.Hv=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.LW,aj:"contoureditor",A:this.En,response:this.ZEh.bind(this)};this.P(j)};xb.prototype.ZEh=function(e){this.J(e);
this.P(new z(V.E.m))};xb.prototype.bf=function(){if(!this.CR)return;var e=Math.floor(38*V.I()),j=Math.floor(38*V.I()),g=[],P=[],p=this.kN;
for(var v=0;v<p.length;v++){P.push(p[v].Nm?p[v].Nm.v:"");g.push(Z.jM.Qf(p[v].Crv.v,e,j))}this.sg.oq(g,P,e,j);
this.CR=!1};xb.prototype.J=function(e){this.En=JSON.parse(JSON.stringify(e));var j=this.En.Crv.v;for(var g=0;
g<j.length;g++)if(j[g].v.Cnty==null)j[g].v.Cnty={t:"bool",v:!0};this.Zy()};xb.prototype.Zy=function(){var e=Math.floor(30*V.I()),j=Math.floor(30*V.I()),g=Z.jM.Qf(this.En.Crv.v,e,j);
this.SA.setAttribute("src",g);V.oR(this.SA,e,j)};xb.prototype.C=function(){return JSON.parse(JSON.stringify(this.En))};
function fy(e){WN.call(this);this.Mn=null;this.tS=null;this.fp=null;this.xu=null;this.ZgN=[];this.ZgK=[];
this.l=V.M("span","fitem fillbutton");this.tr=new WN;this.tr.l=V.M("div","floatcont form");this.tr.l.setAttribute("style","width: 21em;");
this.tr.parent=this;this.Ce=e;this.Od=this.Od=V.M("label","flabel");this.l.appendChild(this.Od);this.zi=V.M("canvas");
this.OE=this.zi.getContext("2d");this.Zgo=null;this.l.appendChild(this.zi);this.zi.addEventListener("click",this.vB.bind(this),!1);
this.IW=new xI([12,66],["","Color","Grad","Patt"]);this.tr.l.appendChild(this.IW.l);this.IW.S(V.E.m,this.dR,this);
this.tr.l.appendChild(V.M("hr"));this.ZZv=V.M("span");this.I$=new xG(!0);this.I$.parent=this.tr;this.I$.S(V.E.m,this.dR,this);
this.xn=new VU(10);this.xn.S(V.E.m,this.dR,this);this.gT=V.M("div","marged hiline");this.gT.appendChild(this.I$.l);
V.ae(this.gT);this.gT.appendChild(this.xn.l);this.me=new vc("GrFl",!0);this.me.parent=this.tr;this.me.S(V.E.m,this.dR,this);
this.Tj=V.M("div","marged hiline");var j="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var g=0;
g<j.length;g++){var P=this.me.uV[j[g]].l;this.Tj.appendChild(P)}this.mi=new vc("patternFill",!0);this.mi.parent=this.tr;
this.mi.S(V.E.m,this.dR,this);this.TP=V.M("div","marged hiline");var j=["Ptrn","Scl","Algn","phase"];
for(var g=0;g<j.length;g++){var P=this.mi.uV[j[g]].l;this.TP.appendChild(P)}}fy.prototype=new WN;fy.prototype.wY=function(e,j){if(j==WV.Zd){this.ZgN=[];
this.ZgK=[];if(this.Mn)this.J(this.fp,this.C(),this.Mn)}this.tS=e;this.me.wY(e,j);this.mi.wY(e,j)};fy.prototype.w=function(){this.Od.textContent=Zr.get(this.Ce)+": ";
this.IW.w();this.I$.w();this.me.w();this.mi.w()};fy.prototype.dR=function(e){var j=e.currentTarget;if(j==this.IW){var g=this.IW.C(),P={Tm:g,am:this.Mn[g]};
if(g>0&&P.am==null)P.am=JSON.parse(JSON.stringify(Wr.Wx[g-1]));if(this.Mn)this.J(this.fp,P,this.Mn)}if(j==this.xn)this.I$.oE(j.C());
this.P(new z(V.E.m,!1))};fy.prototype.vB=function(e){var j=this.zi.getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.tr,x:j.left,y:j.top+j.height+4};this.P(g);this.xn.J(this.I$.Hu())};fy.prototype.J=function(e,j,g){this.Mn=g;
this.fp=e;var P=[[13,1,0],[13,0],[12,37],[12,62]],p=this.ZgN,v=this.ZgK,x=!1,m;for(var A=0;A<4;A++){var f={Tm:A,am:g[A]},S=fy.ZuV(f);
if(v[A]==S)continue;x=!0;var F=fy.ZuB(null,f,this.tS,this.fp,22,22,!1);p[A]="<img width=\"22\" height=\"22\" src=\""+F+"\" />";
v[A]=S}if(x)this.IW.ph(p,P);this.IW.J(j.Tm);var S=fy.ZuV(j);if(S!=this.Zgo)fy.ZuB(this.OE,j,this.tS,this.fp,30,23,!0);
this.Zgo=S;var R=j.Tm;if(R==0){m=this.ZZv}if(R==1){this.I$.J(j.am.Clr.v);m=this.gT}if(R==2){this.me.update(e,j.am);
m=this.Tj}if(R==3){this.mi.update(e,j.am);m=this.TP}if(m!=this.xu){if(this.xu!=null){this.tr.l.removeChild(this.xu)}this.tr.l.appendChild(m);
this.xu=m}};fy.prototype.C=function(){var e={Tm:this.IW.C()};if(e.Tm==1){e.am=JSON.parse(JSON.stringify(Wr.Wx[0]));
e.am.Clr.v=this.I$.C()}if(e.Tm==2){e.am=this.me.C()}if(e.Tm==3){e.am=this.mi.C()}return e};fy.ZuV=function(e){var j=e.Tm,g=e.am,P="empty";
if(j==1){P=Z.c.W_(g.Clr.v);P=P.k+","+P.z+","+P.e}if(j==2)P=JSON.stringify(g.Grad.v);if(j==3)P=g.Ptrn.v.Idnt.v;
return P};fy.ZuB=function(e,j,g,P,p,v,x){if(e==null)e=fy.OE;var A=Math.floor(p*V.I()),f=Math.floor(v*V.I()),S=e.canvas,F;
S.width=A;S.height=f;V.oR(S,A,f);var m=j.Tm;if(m==0){e.fillStyle="#ffffff";e.fillRect(0,0,A,f);e.strokeStyle="#ff0000";
e.lineWidth=2;e.moveTo(0,0);e.lineTo(A,f);e.moveTo(0,f);e.lineTo(A,0);e.stroke()}if(m==1){var R=j.am.Clr.v;
R=Z.c.W_(R);e.fillStyle="#"+Z.jz(R.k<<16|R.z<<8|R.e);e.fillRect(0,0,A,f)}if(m==2){o.dF.Qf(j.am.Grad.v,A,f,0,g.Jm,g.gK,S)}if(m==3){var M=j.am.Ptrn.v,b;
if(P!=null)b=Wi.XY(M,P.add.Patt);if(b==null)b=Wi.XY(M,g.Ju);ev.Qf(b,A,f,S)}if(x){e.beginPath();e.strokeStyle="#000000";
e.fillStyle="#ffffff";e.lineWidth=2;var s=A*.7,K=Math.floor(f*.7),X=7*V.I();e.moveTo(s,K);e.lineTo(s+X,K);
e.lineTo(s+X/2,K+X/2);e.closePath();e.stroke();e.fill()}if(e==fy.OE)return S.toDataURL()};fy.OE=V.M("canvas").getContext("2d");
function ev(e){vO.call(this,e,!1,"patternbutton",18,10,WV.Zd);this.M_=null}ev.prototype=new vO;ev.prototype.ev=function(e){var j=this.kN[this.sg.C()];
this.En={classID:"Ptrn",Nm:{t:"TEXT",v:j.name},Idnt:{t:"TEXT",v:j.id}};this.P(new z(V.E.m));this.Zy()};
ev.nR=!1;ev.prototype.bf=function(){if(!this.CR)return;var e=this.kN;if(e==null||!ev.nR){var j=new z(V.E.O,!0);
j.data={U:V.a.MQ,im:{url:"rsrc/basic/basic.pat"}};this.P(j);ev.nR=!0;return}var g=Math.floor(34*V.I()),P=Math.floor(34*V.I()),p=[],v=[];
for(var x=0;x<e.length;x++){p.push(ev.Qf(e[x],g,P));v.push(e[x].name)}this.sg.oq(p,v,g,P);this.CR=!1};
ev.prototype.J=function(e,j){if(this.En&&e.Idnt.v==this.En.Idnt.v)return;this.En=JSON.parse(JSON.stringify(e));
this.Zy(j)};ev.prototype.C=function(){return JSON.parse(JSON.stringify(this.En))};ev.prototype.MA=function(){return this.M_?[this.M_]:[]};
ev.prototype.Zy=function(e){var j=Math.floor(50*V.I()),g=Math.floor(50*V.I()),P;if(e!=null)P=Wi.XY(this.En,e.add.Patt);
if(P==null)P=Wi.XY(this.En,this.kN);this.M_=P;var p=ev.Qf(P,j,g);this.SA.setAttribute("src",p);V.oR(this.SA,j,g)};
ev.O$=V.M("canvas","");ev.Qf=function(e,j,g,P){if(P==null)P=ev.O$;var p=P.getContext("2d");P.width=j;
P.height=g;if(e){var v=e.vf[1],x=v.W,A=v.j,f=e.vf[0],S=Math.min(j/x,g/A),F=S;if(F*x<2)F=2/x;var m=S;
if(m*A<2)m=2/A;var R=o.t.Ge([f,v],new WE(F,0,0,m,0,0),!1),M=R.rect.W,b=R.rect.j,s=p.createImageData(M,b);
Z.Ue(R.buffer,s.data);p.putImageData(s,Math.floor((j-M)/2),Math.floor((g-b)/2))}return P.toDataURL()};
function ec(e){vO.call(this,e,!1,"patternbutton",24.2,17,WV.Gz);this.v_=""}ec.prototype=new vO;ec.prototype.ev=function(e){this.En=JSON.parse(JSON.stringify(this.kN[0][this.sg.C()]));
this.P(new z(V.E.m))};ec.prototype.bf=function(){var e=this.kN;if(e==null||!this.CR)return;var j=Math.floor(50*V.I()),g=Math.floor(50*V.I()),P=[],p=[];
for(var v=0;v<e[0].length;v++){P.push(ec.Qf(this.kN[0][v].hf,j,g,this.kN[1]));p.push(e[0][v].Il.Nm.v.split("=").pop())}this.sg.oq(P,p,j,g);
this.CR=!1};ec.prototype.J=function(e,j,g,P){var p=JSON.stringify(e.hf)+","+g+","+P;if(this.v_!=p){this.v_=p;
this.En=JSON.parse(JSON.stringify(e));this.Zy(j,g,P)}this.sg.vJ(-1)};ec.prototype.C=function(){return JSON.parse(JSON.stringify(this.En))};
ec.prototype.Zy=function(e,j,g){var P=Math.floor(68*V.I()),p=Math.floor(68*V.I()),v=ec.Qf(this.En.hf,P,p,e?e:this.kN[1],j,g);
this.SA.setAttribute("src",v);V.oR(this.SA,P,p)};ec.Qf=function(e,j,g,P,p,v){var x=new ZT;x.W=j;x.j=g;
x.buffer=Z.V(j*g*4);x.add.Patt=P;x.oa(p==null?90:p);x.oh(v==null?30:v);var A=new G(0,0,Math.round(j*.5),Math.round(g*.5));
A.x=Math.round((j-A.W)/2);A.y=Math.round((g-A.j)/2);var f=x.Rz();f.rect=A;f.buffer=Z.V(A.h()*4);Z.XC(f.buffer,4284045657);
Wi.ZnD(e,f,.5*100);x.T.push(f);x.Ub();x.H();var S=l.Hf;l.Hf=!1;x.Nf();var F=x.Gj();l.Hf=S;var m=Wg.Zt(F.buffer,x.W,x.j);
return m};function Uw(e){vO.call(this,null,!1,"tpresetbutton",18,24,WV.hJ,!0);V.Fu(this.l,"fitem");this.sg.pI(1);
this.id=e;this.Zy();this.T_=new Wk([15,7,9]);this.T_.J(!0);this.T_.S(V.E.m,this.ZSx,this);this.ho.appendChild(this.T_.l)}Uw.prototype=new vO;
Uw.prototype.ZEw=function(e){if(this.id==e)return;this.id=e;this.EF(this.kN)};Uw.prototype.ev=function(e){var j=this.kN[this.sg.C()],g=new z(V.E.O,!0);
g.data={U:V.a.du,$_:"set",im:WV.hJ,Sp:j};this.P(g)};Uw.prototype.w=function(){vO.prototype.w.call(this);
this.T_.w()};Uw.prototype.ZSx=function(){this.CR=!0;this.bf()};Uw.prototype.bf=function(){if(!this.CR)return;
var e=Math.floor(16*V.I()),j=Math.floor(16*V.I()),g=[],P=[],p=this.kN,v=this.T_.C();for(var x=0;x<p.length;
x++){var A=o.ZfY(p[x]);if(!v||A==this.id){P.push(p[x][0]?p[x][0].split("=").pop():"");g.push(A==-1?"":PIMG[o.Zz[A][0]])}else{g.push(null);
P.push(null)}}this.sg.oq(g,P,e,j);this.CR=!1};Uw.prototype.Zy=function(){var e=this.SA;e.setAttribute("src",PIMG[o.Zz[this.id][0]]);
V.iV(e,"toolicon")};Uw.prototype.MA=function(){return null};Uw.hL={};Uw.Qf=function(e,j,g){var P=Uw.kl,p=Uw.hL,v=Z.jz(e.k<<16|e.z<<8|e.e);
if(p[v])return p[v];if(P==null){var x=V.M("canvas");P=Uw.kl=x.getContext("2d")}var x=P.canvas;x.width=j;
x.height=g;P.fillStyle="#"+v;P.fillRect(0,0,j,g);var A=p[v]=x.toDataURL();return A};function xe(e,j){WN.call(this);
this.l=V.M("span","fitem curveeditor");this.Gl=null;this.ZnU=0;this.kc="";this.mode=0;this.xy=e;this.ZZe=j;
this.tZ=null;this.xd=null;this.jl=new Uc;this.AZ=this.tp.bind(this);this.AW=this.vl.bind(this);this.zi=V.M("canvas","");
this.OE=this.zi.getContext("2d");V.WV(this.zi);V.ik(this.zi,256,256,this.OE);this.l.appendChild(this.zi);
V.lI(this.zi,this.vY.bind(this))}xe.prototype=new WN;xe.prototype.J=function(e,j){var g=JSON.stringify(e);
if(g==JSON.stringify(this.tZ))return;this.mode=e.length==256?1:0;this.tZ=JSON.parse(g);if(j!=null)this.xd=this.tZ[j];
this.fc()};xe.prototype.AI=function(e,j,g){this.Gl=e;this.ZnU=j;this.kc=g;this.fc()};xe.prototype.C=function(){return JSON.parse(JSON.stringify(this.tZ))};
xe.prototype.ZCO=function(){return this.tZ.indexOf(this.xd)};xe.prototype.vY=function(e){var j=V.nX(e,this.zi),g=j.x,P=256-j.y;
if(this.xy){var p=g;g=256-P;P=p}this.jl.Ve(g,P);if(this.mode==0){var v=null;for(var x=0;x<this.tZ.length;
x++){var A=this.tZ[x].v,f=A.Hrzn.v-g,S=A.Vrtc.v-P,F=Math.sqrt(f*f+S*S);if(F<5)v=this.tZ[x]}if(v==null){v=Z.jM.oM(g,P,!0);
this.tZ.push(v)}this.xd=v}V.FK(document.body,this.AZ);V.FQ(document.body,this.AW);this.tp(e)};xe.prototype.tp=function(e){var j=V.nX(e,this.zi),g=j.x,P=256-j.y;
if(this.xy){var p=g;g=256-P;P=p}if(this.mode==0){var v=this.tZ,x=this.ZZe,A=v.indexOf(this.xd),f=A==0||A==v.length-1,S=0,F=255,m=!0;
if(f){S=1;F=254}if(!x||!f)this.xd.v.Hrzn.v=Math.max(S,Math.min(F,Math.round(g)));this.xd.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(P)));
for(var R=0;R<v.length;R++){if(v[R]==this.xd)continue;if(Math.abs(v[R].v.Hrzn.v-this.xd.v.Hrzn.v)<2)m=!1}if(g<0||g>255||P<0||P>255)m=!1;
if(m&&v.indexOf(this.xd)==-1)v.push(this.xd);if(!m&&v.indexOf(this.xd)!=-1&&v.length>2&&(!x||!f))v.splice(v.indexOf(this.xd),1);
if(v[0].v.Hrzn.v==v[1].v.Hrzn.v)if(v[0].v.Hrzn.v==0)v[1].v.Hrzn.v=1;else v[0].v.Hrzn.v--;v.sort(function(d,W){return d.v.Hrzn.v-W.v.Hrzn.v})}else{g=Math.round(g);
P=Math.round(P);g=Math.max(0,Math.min(255,g));P=Math.max(0,Math.min(255,P));var M=this.jl.x,b=g,s=this.jl.y,K=P;
if(g<this.jl.x){b=M;M=g;K=s;s=P}this.tZ[g]=P;if(M!=b)for(var X=M;X<=b;X++)this.tZ[X]=Math.round(s+(X-M)*(K-s)/(b-M))}this.jl.Ve(g,P);
this.fc();this.P(new z(V.E.m))};xe.prototype.vl=function(e){V._L(document.body,this.AZ);V.fz(document.body,this.AW);
this.P(new z(V.E.m))};xe.prototype.fc=function(){var e=this.OE;e.fillStyle="#ffffff";e.fillRect(0,0,256,256);
if(this.Gl){e.translate(0,256);e.scale(1,-1);xt.ZyL(e,this.Gl,5700/this.ZnU,this.kc);e.scale(1,-1);e.translate(0,-256)}e.strokeStyle="#aaaaaa";
e.lineWidth=1;e.beginPath();for(var j=1;j<4;j++){e.moveTo(0,64*j-.5);e.lineTo(255,64*j-.5);e.moveTo(64*j-.5,0);
e.lineTo(64*j-.5,255)}e.stroke();if(this.xy){e.save();e.transform(0,1,-1,0,256,0)}if(this.mode==0){var g=this.tZ,P=Z.jM.zv(g,256);
e.strokeStyle="#000000";e.beginPath();e.moveTo(0,255.5-P[0]);for(var j=0;j<256;j++)e.lineTo(j,255.5-P[j]);
e.stroke();e.lineWidth=2;for(var j=0;j<g.length;j++){var p=g[j].v;e.fillStyle=this.xd==g[j]?"#333":"#fff";
e.beginPath();e.moveTo(p.Hrzn.v,255.5-p.Vrtc.v);e.arc(p.Hrzn.v,255.5-p.Vrtc.v,3,0,2*Math.PI);e.stroke();
e.fill()}}else{var P=this.tZ;e.strokeStyle="#000000";e.beginPath();e.moveTo(0,255.5-P[0]);for(var j=0;
j<256;j++)e.lineTo(j,255.5-P[j]);e.stroke()}if(this.xy)e.restore()};function xt(e){WN.call(this);this.l=V.M("span","");
this.zg=new Wh([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.zg.S(V.E.m,this.TE,this);this.l.appendChild(this.zg.l);
V.ae(this.l);this.O$=V.M("canvas");var j=this.O$;this.l.appendChild(j);j.width=Math.round(e*V.I());j.height=Math.round(100*V.I());
V.oR(j,j.width,j.height);this.kl=j.getContext("2d");this.Gl=null;this.Ep=0}xt.prototype=new WN;xt.prototype.w=function(){this.zg.w()};
xt.prototype.pI=function(e){this.zg.J(e);this.TE()};xt.prototype.J=function(e){this.Gl=e;this.TE()};
xt.prototype.oE=function(e){if(e==this.Ep)return;this.Ep=e;this.TE()};xt.prototype.TE=function(){if(this.Gl==null)return;
var e=this.O$,j=this.kl,g=this.Gl,P=this.zg.C(),p=6e3/g[4],v="#"+Z.jz(this.Ep),x=xt.ZyL;e.width=e.width;
j.setTransform(e.width/256,0,0,-e.height/100,0,e.height);j.globalCompositeOperation="lighter";if(P==0)x(j,g[0],p/3,v);
else if(P<4)x(j,g[P],p,v);else{x(j,g[1],p,"#ff0000");x(j,g[2],p,"#00ff00");x(j,g[3],p,"#0000ff")}j.setTransform(1,0,0,1,0,0)};
xt.ZyL=function(e,j,g,P){e.beginPath();e.moveTo(0,0);for(var p=0;p<256;p++)e.lineTo(p,j[p]*g);e.lineTo(256,0);
e.closePath();e.fillStyle=P;e.fill()};function ee(e){WN.call(this);this.KV={k:0,z:0,e:0};if(Math.abs(e-256/V.I())<10)e=256/V.I();
var j=this.l=V.M("div","flexrow");this.A_=new Uc;this.MD=new Uc;this.pX=this.ZiG.bind(this);this.po=this.ZSD.bind(this);
this.zi=V.M("canvas","");this.OE=this.zi.getContext("2d");this.zi.width=this.zi.height=256;this.ZZV=this.OE.getImageData(0,0,256,256);
this.Znp=-1;V.WV(this.zi);V.lI(this.zi,this.ZSi.bind(this));j.appendChild(this.zi);this.ZnR=this.ZNq.bind(this);
this.Zno=this.ZS$.bind(this);this.Jn=V.M("canvas","");this.Cq=this.Jn.getContext("2d");this.Jn.width=20;
this.Jn.height=256;this.ZdV=this.Cq.getImageData(0,0,20,256);this.ZSg(this.ZdV.data,20,256);V.WV(this.Jn);
V.lI(this.Jn,this.ZSH.bind(this));j.appendChild(this.Jn);this.zi.setAttribute("style","width:"+e+"px; height:"+e+"px");
this.Jn.setAttribute("style","width:"+20/V.I()+"px; height:"+e+"px")}ee.prototype=new WN;ee.prototype.Ov=function(e,j){this.zi.style.width=e+"px"};
ee.prototype.J=function(e){this.KV=e;this.update()};ee.prototype.C=function(){return JSON.parse(JSON.stringify(this.KV))};
ee.prototype.update=function(){var e=this.KV,j=Z.LY(e.k,e.z,e.e);if(j.Sq==0)j.nd=this.A_.x/255;if(j.nd==0||j.Sq==0)j.GF=(255-this.kq(this.MD.y))/255;
if(j.Sq!=0)this.A_.x=j.nd*255;this.A_.y=(1-j.Sq)*255;this.MD.y=(1-j.GF)*255;var g=this.ZZV;if(Math.abs(j.GF-this.Znp)>.002){this.ZSJ(g.data,256,256,j.GF);
this.Znp=j.GF}this.OE.putImageData(g,0,0);this.OE.strokeStyle="#000000";this.OE.beginPath();this.OE.arc(this.A_.x+1,this.A_.y+1,5,0,2*Math.PI);
this.OE.stroke();this.OE.strokeStyle="#ffffff";this.OE.beginPath();this.OE.arc(this.A_.x,this.A_.y,5,0,2*Math.PI);
this.OE.stroke();var g=this.ZdV;this.Cq.putImageData(g,0,0);this.Cq.strokeStyle="#ffffff";this.Cq.beginPath();
this.Cq.moveTo(0,this.MD.y);this.Cq.lineTo(20,this.MD.y);this.Cq.lineWidth=2;this.Cq.stroke()};ee.prototype.ZSJ=function(e,j,g,P){var p=1/j,v=1/g;
for(var x=0;x<g;x++)for(var A=0;A<j;A++){var f=Z.yD(P,A*p,(g-x-1)*v),S=x*j+A<<2;e[S+0]=~~(f.k*255);e[S+1]=~~(f.z*255);
e[S+2]=~~(f.e*255);e[S+3]=255}};ee.prototype.ZSg=function(e,j,g){var P=new Uint32Array(e.buffer);for(var p=0;
p<g;p++){var v=Z.yD(1-p/g,1,1),x=255<<24|v.e*255<<16|v.z*255<<8|v.k*255;for(var A=0;A<j;A++)P[p*j+A]=x}};
ee.prototype.ZSi=function(e){V.FK(window,this.pX);V.FQ(window,this.po);this.ZiG(e)};ee.prototype.ZSD=function(e){V._L(window,this.pX);
V.fz(window,this.po)};ee.prototype.ZiG=function(e){var j=V.nX(e,this.zi);j.x=j.x*(256/parseFloat(this.zi.style.width));
j.y=j.y*(256/parseFloat(this.zi.style.height));this.A_.Ve(this.kq(j.x),this.kq(j.y));this.VY()};ee.prototype.VY=function(){this.KV=this.ZST();
this.P(new z(V.E.m))};ee.prototype.ZST=function(){var e=Z.yD((255-this.kq(this.MD.y))/255,this.AA(this.A_.x/255),this.AA(1-this.A_.y/255));
return{k:e.k,z:e.z,e:e.e}};ee.prototype.ZSH=function(e){V.FK(window,this.ZnR);V.FQ(window,this.Zno);
this.ZNq(e)};ee.prototype.ZS$=function(e){V._L(window,this.ZnR);V.fz(window,this.Zno)};ee.prototype.ZNq=function(e){var j=V.nX(e,this.Jn);
j.y=j.y*(256/parseFloat(this.Jn.style.height));this.MD.Ve(this.kq(j.x),this.kq(j.y));this.VY()};ee.prototype.kq=function(e){return Math.max(0,Math.min(255,e))};
ee.prototype.AA=function(e){return Math.max(0,Math.min(1,e))};function xI(e,j,g){WN.call(this);if(!j)return;
this.BI=0;this.l=V.M("span","fitem bbmenu");if(e){this.x$=e;this.Od=V.M("label","flabel");this.Od.textContent=e+":";
this.l.appendChild(this.Od)}this.bk=[];this.zn=null;this.ph(j,g);this.J(0)}xI.prototype=new WN;xI.prototype.FU=function(e){this.x$=e;
this.w()};xI.prototype.w=function(){if(this.x$!=null){this.Od.textContent=Zr.get(this.x$)+": "}for(var e=0;
e<this.bk.length;e++)this.bk[e].w()};xI.prototype.C=function(){return this.BI};xI.prototype.ph=function(e,j){while(this.bk.length>0)this.l.removeChild(this.bk.pop().l);
this.zn=e;for(var g=0;g<e.length;g++){var P=new WI(e[g],!1,j?j[g]:null);P.S("click",this.VB,this);this.l.appendChild(P.l);
this.bk.push(P)}this.w()};xI.prototype.J=function(e){this.BI=e;for(var j=0;j<this.bk.length;j++)this.bk[j].H_();
this.bk[e].EA()};xI.prototype.VB=function(e){var j=this.bk.indexOf(e.target);this.J(j);this.P(new z(V.E.m,!1))};
function Va(e,j,g,P){if(P==null)P=16;var p=Va.nl,v=p.getContext("2d"),x=P>>>1;p.width=p.height=P;var A=[];
for(var f=0;f<j.length;f++){if(j[f]=="checker"){v.fillStyle="white";v.fillRect(0,0,P,P);v.fillStyle="#bbbbbb";
v.fillRect(x,0,x,x);v.fillRect(0,x,x,x)}else{v.fillStyle=j[f];v.fillRect(0,0,P,P)}A.push("<img src=\""+p.toDataURL()+"\" />")}xI.call(this,e,A,g)}Va.prototype=new xI;
Va.nl=V.M("canvas");function Wh(e,j,g,P){WN.call(this);if(!j)return;if(g==null)g=!1;this.BI=0;this.ZZJ=g;
this.x$=e;this.xa=null;this.ZdH=P;var p="dd"+V.ng();this.l=V.M("span","fitem ddmenu");if(e&&!g){this.Od=V.M("label","flabel");
this.l.appendChild(this.Od);this.Od.setAttribute("for",p)}this.aw=V.M("select","bbtn");this.aw.setAttribute("id",p);
this.l.appendChild(this.aw);this.aw.addEventListener("change",this.VB.bind(this),!1);this.bk=[];this.zn=null;
this.ph(j,P);this.w()}Wh.prototype=new WN;Wh.prototype.FU=function(e){this.x$=e;this.w()};Wh.prototype.w=function(){if(this.x$!=null){var e=Zr.get(this.x$);
if(this.ZZJ)this.aw.setAttribute("title",e);else this.Od.textContent=e+":"}if(this.zn)this.ph(this.zn,this.ZdH);
this.J(this.BI)};Wh.prototype.C=function(){return this.BI};Wh.prototype.ph=function(e,j){V.kO(this.aw);
var g=[],p=0;if(j){g.push(j[0]);for(var P=1;P<j.length;P++)g.push(g[P-1]+j[P])}this.zn=e;this.xa=[];
this.ZdH=j;for(var P=0;P<e.length;P++){var v=V.M("option");v.textContent=Zr.get(e[P]);v.setAttribute("value",P);
this.aw.appendChild(v);this.bk.push(v);this.xa.push(P+p);if(g.indexOf(P+1)!=-1&&P!=e.length-1){var x=V.M("option");
x.setAttribute("disabled","");x.textContent="";this.aw.appendChild(x);p++}}};Wh.prototype.J=function(e){this.BI=e;
this.aw.selectedIndex=this.xa[e]};Wh.prototype.VB=function(e){this.BI=this.xa.indexOf(this.aw.selectedIndex);
this.P(new z(V.E.m,!1))};function VL(){WN.call(this);this.ES=null;this.gY=new ZM;this.gY.S(V.E.m,this.ZSR,this);
this.gY.parent=this;this.nn=new vz([12,14,0],1,150,"px",0,!0);this.nn.S(V.E.m,this.uo,this);this.nn.parent=this;
this.nB=new vz([16,0],0,100,"px",2,!0,null,5);this.nB.S(V.E.m,this.uo,this);this.nB.parent=this;this.zd=new Wk("Auto");
this.zd.S(V.E.m,this.uo,this);this.ny=new vz([16,1],-500,5e3,"%",0,!0);this.ny.S(V.E.m,this.uo,this);
this.ny.parent=this;this.MG=new vz("\u2B0D",1,300,"%",null,null,null,null,[2,7,[22,4,3]]);this.MG.S(V.E.m,this.uo,this);
this.MG.parent=this;this.MX=new vz("\u2B0C",1,300,"%",null,null,null,null,[2,7,[22,4,2]]);this.MX.S(V.E.m,this.uo,this);
this.MX.parent=this;this.Mo=new vz([16,2],-10,10,"px");this.Mo.S(V.E.m,this.uo,this);this.Mo.parent=this;
this.nI=new xG(!0);this.nI.S(V.E.m,this.ZSM,this);this.nI.parent=this;this.xq=new WI("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.xP=new WI("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.xh=new WI("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.xQ=new WI("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.Uf=new WI("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.UJ=new WI("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.Uu=new WI("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.Ua=new WI("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var e=[this.xq,this.xP,this.xh,this.xQ,this.Uf,this.UJ,this.Uu,this.Ua];
for(var j=0;j<e.length;j++)e[j].S("click",this.ZSX,this);this.Mm=new WI("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.bU=new WI("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.be=new WI("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.ZiZ=new WI("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.ZiA=new WI("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.ZNS=new WI("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ZDf=new WI("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.bV=[this.Mm,this.bU,this.be,this.ZiZ,this.ZiA,this.ZNS,this.ZDf];for(var j=0;j<this.bV.length;j++)this.bV[j].S("click",this.uo,this);
var g=["lind","rind","flind","bind","aind"],P=[];for(var j=0;j<5;j++)P.push("<img src=\""+PIMG["par/"+g[j]]+"\" class=\"autoscale gsicon\" /> ");
this.zB=new vz(P[0],-20,20,"px");this.zB.S(V.E.m,this.uo,this);this.zB.parent=this;this.za=new vz(P[1],-20,20,"px");
this.za.S(V.E.m,this.uo,this);this.za.parent=this;this.zN=new vz(P[2],-20,20,"px");this.zN.S(V.E.m,this.uo,this);
this.zN.parent=this;this.zt=new vz(P[3],-20,20,"px");this.zt.S(V.E.m,this.uo,this);this.zt.parent=this;
this.zq=new vz(P[4],-20,20,"px");this.zq.S(V.E.m,this.uo,this);this.zq.parent=this;this.bs=new xI([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.bs.S(V.E.m,this.uo,this);this.bs.parent=this}VL.prototype=new WN;VL.prototype.w=function(){this.gY.w();
this.nn.w();this.nB.w();this.ny.w();this.Mo.w();this.MG.w();this.MX.w();this.bs.w()};VL.prototype.J=function(e,j,g){this.sT=JSON.parse(JSON.stringify(e));
var P=this.sT,p=P.kw,v=P.eJ;this.xq.J(p.FauxBold!=null?p.FauxBold:!1);this.xP.J(p.FauxItalic!=null?p.FauxItalic:!1);
this.xh.J(p.FontCaps==2);this.xQ.J(p.FontCaps==1);this.UJ.J(p.FontBaseline==1);this.Uf.J(p.FontBaseline==2);
this.Uu.J(p.Underline);this.Ua.J(p.Strikethrough);this.gY.J(p.Font==null?null:P.mp[p.Font].Name,j,g);
var x=p.FontSize==null?20:p.FontSize;this.nn.J(x);var A=p.Tracking;this.ny.J(A==null?0:A);this.nB.J(p.Leading!=null?p.Leading:0);
this.zd.J(p.AutoLeading);this.MG.J((p.VerticalScale!=null?p.VerticalScale:0)*100);this.MX.J((p.HorizontalScale!=null?p.HorizontalScale:0)*100);
this.Mo.J(p.BaselineShift!=null?p.BaselineShift:0);if(p.FillColor){var f=Wf.W_(p);this.nI.oE(Math.round(f.k)<<16|Math.round(f.z)<<8|Math.round(f.e))}else this.nI.oE(0);
var S=v._Direction!=null?v._Direction:0,F=Wf.gp(v);for(var m=0;m<this.bV.length;m++)this.bV[m].J(F==m);
this.bs.J(S);this.zB.J(v.StartIndent!=null?v.StartIndent:0);this.za.J(v.EndIndent!=null?v.EndIndent:0);
this.zN.J(v.FirstLineIndent!=null?v.FirstLineIndent:0);this.zt.J(v.SpaceBefore!=null?v.SpaceBefore:0);
this.zq.J(v.SpaceAfter!=null?v.SpaceAfter:0)};VL.prototype.BM=function(){var e=new z(V.E.O,!0);e.data={U:V.a.du,im:WV.VQ,sT:this.sT};
this.P(e);var e=new z(V.E.s,!0);e.X=o.TR;e.data={U:"updateStyles"};this.P(e)};VL.prototype.ZSX=function(e){var j=this.sT.kw,g=e.target,P=!g.$I();
if(g==this.xq)j.FauxBold=P;if(g==this.xP)j.FauxItalic=P;if(g==this.xh)j.FontCaps=P?2:0;if(g==this.xQ)j.FontCaps=P?1:0;
if(g==this.UJ)j.FontBaseline=P?1:0;if(g==this.Uf)j.FontBaseline=P?2:0;if(g==this.Uu)j.Underline=P;if(g==this.Ua)j.Strikethrough=P;
this.BM()};VL.prototype.uo=function(e){var j=this.sT.kw,g=this.sT.eJ,P=e.target;if(P==this.ny){var p=this.ny.C();
if(p==null)window.ZtD("An error occured. Please, write us an email to support@photopea.com and describe what you did.");
j.Tracking=p}if(P==this.nB){j.AutoLeading=!1;j.Leading=this.nB.C()}if(P==this.zd){j.AutoLeading=this.zd.C()}if(P==this.nn)j.FontSize=P.C();
if(P==this.MG)j.VerticalScale=P.C()/100;if(P==this.MX)j.HorizontalScale=P.C()/100;if(P==this.Mo)j.BaselineShift=P.C();
if(this.bV.indexOf(P)!=-1){g.Justification=Wf.gp(g,this.bV.indexOf(P))}if(P==this.zB)g.StartIndent=P.C();
if(P==this.za)g.EndIndent=P.C();if(P==this.zN)g.FirstLineIndent=P.C();if(P==this.zt)g.SpaceBefore=P.C();
if(P==this.zq)g.SpaceAfter=P.C();if(P==this.bs)g._Direction=P.C();this.BM()};VL.prototype.ZSR=function(e){var j=this.sT,g=this.gY.C(),P=-1;
for(var p=0;p<j.mp.length;p++)if(j.mp[p].Name==g)P=p;if(P==-1){P=j.mp.length;var v=JSON.parse(JSON.stringify(j.mp[0]));
v.Name=g;j.mp.splice(P,0,v)}j.kw.Font=P;this.BM()};VL.prototype.ZSM=function(e){var j=this.nI.Hu(),g={Type:1,Values:[1,(j>>16&255)/255,(j>>8&255)/255,(j>>0&255)/255]};
for(var P=0;P<4;P++)g.Values[P]=Math.round(g.Values[P]*1e3)/1e3;this.sT.kw.FillColor=g;this.BM()};function ZM(){WN.call(this);
this.l=V.M("span","fontinput");this.mu=null;this.bJ=null;this.AC=null;this.b$="";this.xC={};this.bC=[];
this.Zts={};this.bn=!1;this.dv=V.M("button","fitem");this.dv.setAttribute("style","width:9em;");this.dv.textContent="Family Name \u25BC";
this.l.appendChild(this.dv);V.lI(this.dv,this.ZNh.bind(this));this.a_=new WN;this.a_.parent=this;this.a_.l=V.M("div","floatcont");
this.a_.l.addEventListener("keyup",this.ZIZ.bind(this),!1);this.xF=new vb(6.8);this.a_.l.appendChild(this.xF.ZHJ());
this.xF.parent=this.a_;this.xF.S(V.E.m,this.Ak,this);var e=V.M("div","form");this.a_.l.appendChild(e);
this.wZ=new WI(V.MR("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.wZ.S("click",this.ZIL,this);
e.appendChild(this.wZ.l);this.ji=new xH([12,86],null,9);this.ji.S("input",this.Hi,this);e.appendChild(this.ji.l);
var j=this.ZZu=new WI([23,6,[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);j.S("click",this.ZIu,this);
j.l.style.marginLeft="1.5em";e.appendChild(j.l);this.Ui=V.M("span","fitem imageset scrollable marged");
this.Ui.style.height="30em";this.a_.l.appendChild(this.Ui);this.wW=V.M("button","fitem");this.wW.setAttribute("style","width:7em;");
this.wW.textContent="SubFamily Name \u25BC";this.l.appendChild(this.wW);V.lI(this.wW,this.ZNh.bind(this));
this.zE=new WN;this.zE.parent=this;this.zE.l=V.M("div","floatcont");this.ba=V.M("span","fitem imageset scrollable marged");
this.zE.l.appendChild(this.ba)}ZM.prototype=new WN;ZM.prototype.ZIZ=function(e){var j=0;if(q.TI(e.code,q.uf))j=-1;
if(q.TI(e.code,q.ux))j=1;if(j!=0){var g=this.bC,P=g.length,p=this.mu.OY()[this.AC];if(p==null&&P==0)return;
var v=g.indexOf(p[0]);if(v==-1)return;v=(v+j+P)%P;this.HN(g[v],null)}};ZM.prototype.ZIu=function(){var e=new z(V.E.O,!0);
e.data={U:V.a.Wk,ZZC:".otf,.ttf,.ttc"};this.P(e)};ZM.prototype.w=function(){this.xF.w();this.ZZu.w();
this.wZ.FU(V.MR("tools/cshape",null,"autoscale"))};ZM.prototype.ZIL=function(e){this.wZ.J(!this.wZ.$I());
this.Ak()};ZM.prototype.Hi=function(e){this.b$=this.ji.C().toLowerCase();this.Ak()};ZM.prototype.ZNh=function(e){V.nx(e);
var j=e.currentTarget,g=j.getBoundingClientRect(),P=j==this.dv,p=P?this.a_:this.zE;if(V.Ic(p.l)){this.ZDI(p);
return}if(!P&&this.mu.OY()[this.AC]==null)return;var v=new z(V.E.O,!0);v.data={U:V.a.LD,JR:p,x:g.left,y:g.top+g.height};
this.P(v);if(P){this.Ak();this.ji.ve()}};ZM.prototype.ZIo=function(e){var j=e.currentTarget.firstChild.nextSibling.textContent;
if(e.target.tagName.toLowerCase()=="button"){var g=this.bJ.slice(0),P=g.indexOf(j);if(P==-1){g=g.slice(Math.max(0,g.length-29));
g.push(j)}else g.splice(P,1);var p=new z(V.E.O,!0);p.data={U:V.a.du,im:WV.Jr,Hy:g};this.P(p);this.bn=!0;
this.Ak()}else{this.HN(j,null);this.ji.ve()}};ZM.prototype.ZIl=function(e){this.HN(null,e.currentTarget.firstChild.textContent)};
ZM.prototype.HN=function(e,j){var g=e==null?this.zE:this.a_,P=this.mu;if(e==null)e=P.OY()[this.AC][0];
else{var p=P.mG(e),v=P.OY()[this.AC];j=Wl.mL(p,v?v[1]:"regular")}var x=P.ur(e,j)[2];this.J(x,P);this.P(new z(V.E.m,!1));
this.ZDI(g);this.Ak()};ZM.prototype.ZDI=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.nN,JR:e};this.P(j)};
ZM.prototype.C=function(){return this.AC};ZM.prototype.J=function(e,j,g){var P=this.mu;if(e!=null)this.AC=e;
else e=this.AC;this.mu=j;this.bJ=g;if(e!=null){var p=j.OY()[e],v,x;if(p==null){v="- "+e;x="-------"}else{v=p[0];
x=p[1];var A=j.mG(v);A.sort(Wl.ZZr);var f=A.indexOf(x),S=this.ZIl.bind(this);this.ba.textContent="";
for(var F=0;F<A.length;F++){var p=j.ur(v,A[F]);if(!this.xF.Hs(p))continue;var m=this.ZtZ(p,p[1],S,!1);
this.ba.appendChild(m)}}this.dv.textContent=v.substring(0,15)+" \u25BC";this.dv.setAttribute("title",v);
this.wW.textContent=x.substring(0,10)+" \u25BC";this.wW.setAttribute("title",x)}};ZM.prototype.Ak=function(){var e=this.mu.OY()[this.AC],j=this.bJ,g=null,P=this.mu.ZxL(),p=this.ZIo.bind(this);
this.bC=[];for(var v in P){var x=Wl.mL(P[v],"regular"),A=this.mu.ur(v,x),f=j.indexOf(v)!=-1,S=!0;if(this.b$.length>0&&A[0].toLowerCase().indexOf(this.b$)==-1)S=!1;
else if(!this.xF.Hs(A))S=!1;else if(this.wZ.$I()&&!f)S=!1;var F=this.xC[v];if(F==null){var F=this.ZtZ(A,v,p,!0);
this.xC[v]=F;this.Ui.appendChild(F)}if(S)this.bC.push(v);var m=S?"":"display:none; ",R="opacity: "+(f?"1":"0.2");
if(e&&e[0]==v){m+="background-color:rgba(0,0,0,0.13);";g=F}if(this.Zts[v]!=m+R){F.setAttribute("style",m);
F.firstChild.setAttribute("style",R);this.Zts[v]=m+R}}if(g&&!this.bn)this.Ui.scrollTop=g.offsetTop-210;
this.bn=!1};ZM.prototype.ZtZ=function(e,j,g,P){var p=V.M("div","fontitem"),f="";p.addEventListener("click",g,!1);
if(P)p.appendChild(V.M("button","star"));var v=V.M("span","label");v.setAttribute("title",j);v.textContent=j;
p.appendChild(v);var x=V.I(),A=1/x,S=Wl.J_*A,F=Wl.ZU*A;if(1<x&&x<1.5)f="width:"+S+"px; height:"+F+"px;";
var m=V.M("span","thumb gsicon");if(e.ZzV){f+="background: url("+e.ZzV+");";if(1<x&&x<1.5)f+="background-size: "+S+"px "+F+"px;"}else{var R=Math.ceil(FNTS.list.length/Wl.cols),M=Math.floor(e.VS/R),b=e.VS%R,s=M*Wl.J_,K=b*Wl.ZU;
if(1<x&&x<1.5){f+="background-size: "+Wl.cols*S+"px "+R*F+"px;";s*=A;K*=A}f+="background-position:-"+s+"px -"+K+"px;"}m.setAttribute("style",f);
p.appendChild(m);return p};function vb(e){WN.call(this);this.l=V.M("button","fitem bbtn");this.l.addEventListener("click",this.ZHC.bind(this),!1);
this.tr=new WN;this.tr.l=V.M("div","floatcont");this.tr.parent=this;this.bi=V.M("div","flexrow");this.tr.l.appendChild(this.bi);
this.zS=[];this.dA=[];var j=this.bi,g=V.M("div",""),P=V.M("div","");j.appendChild(g);j.appendChild(P);
this.fP=[];for(var p=0;p<FNTS.cats.length;p++)this.fP.push({name:FNTS.cats[p],index:p,ad:0});this.bN=new Wk([7,0]);
this.bN.S(V.E.m,this.ZHN,this);g.appendChild(this.bN.l);this.bt=V.M("div","vlist marged scrollable");
this.bt.setAttribute("style","width:10.85em; height:"+e+"em; ");g.appendChild(this.bt);this.bT=[];for(var p=0;
p<this.fP.length;p++){var v=this.fP[p],x=new Wk(v.name);this.bT.push(x);x.S(V.E.m,this.ZHL,this);x.J(!0);
this.bt.appendChild(x.l);this.zS.push(1)}this.Zqe=new Wk([7,0]);this.Zqe.S(V.E.m,this.ZHt,this);this.bE=V.M("div","vlist marged scrollable");
this.bE.setAttribute("style","width:8.6em; height:"+(e+1.5)+"em; ");P.appendChild(this.bE);this.UD=[];
for(var p=0;p<FNTS.subsetNames.length;p++){var x=new Wk(FNTS.subsetNames[p]);this.UD.push(x);x.S(V.E.m,this.ZHz,this);
x.J(!1);this.bE.appendChild(x.l);this.dA.push(0)}}vb.prototype=new WN;vb.prototype.ZHW=function(e){var j=this.UD;
for(var g=0;g<j.length;g++){var P=(e>>>g&1)==1;this.dA[g]=P;j[g].J(P)}};vb.prototype.ZHJ=function(){return this.bi};
vb.prototype.w=function(){this.l.textContent=Zr.get([25,1,0])+" \u25BC";this.bN.w();this.Zqe.w()};vb.prototype.ZHC=function(e){var j=this.l.getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.tr,x:j.left,y:j.top+j.height,ZCa:!1};this.P(g)};vb.prototype.Hs=function(e){if(this.zS[e[4]]==0)return!1;
else for(var j=0;j<this.dA.length;j++)if(this.dA[j]==1&&(e[3]>>>j&1)==0)return!1;return!0};vb.prototype.ZHN=function(e){var j=e.target.C(),g=this.bT,P=this.zS;
for(var p=0;p<g.length;p++){g[p].J(j);P[p]=j?1:0}this.P(new z(V.E.m,!1))};vb.prototype.ZHt=function(e){var j=e.target.C(),g=this.UD,P=this.dA;
for(var p=0;p<g.length;p++){g[p].J(j);P[p]=j?1:0}this.P(new z(V.E.m,!1))};vb.prototype.ZHL=function(e){var j=this.bT.indexOf(e.target),g=this.fP[j].index;
this.zS[g]=1-this.zS[g];this.P(new z(V.E.m,!1))};vb.prototype.ZHz=function(e){var j=this.UD.indexOf(e.target);
this.dA[j]=1-this.dA[j];this.P(new z(V.E.m,!1))};function eF(e,j,g){vO.call(this,j,!0,"gradientbutton",18,10,WV.IK);
this.Jm=-1;this.gK=-1;this.ZqV=null;this.ZZB=e;this.or=g}eF.prototype=new vO;eF.prototype.ev=function(e){var j=this.kN;
this.J(j[this.sg.C()]);this.P(new z(V.E.m))};eF.prototype.Hv=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.LW,aj:"gradienteditor",c:this.En,QM:this.ZHG.bind(this),Ml:this.or};
this.P(j)};eF.prototype.ZHG=function(e){this.J(e);this.P(new z(V.E.m))};eF.prototype.bf=function(){if(!this.CR)return;
var e=Math.floor(36*V.I()),j=Math.floor(36*V.I()),g=[],P=[],p=this.kN;for(var v=0;v<p.length;v++){var x=p[v];
P.push(x.Nm?x.Nm.v.split("=").pop():"");var A=o.dF.Qf(x,e,j,Math.PI/4,this.Jm,this.gK);g.push(A)}this.sg.oq(g,P,e,j);
this.CR=!1};eF.prototype.H$=function(e,j){this.ZtE(this.En,e,j)};eF.prototype.J=function(e){this.ZtE(e,this.Jm,this.gK)};
eF.prototype.ZtE=function(e,j,g){this.Jm=j;this.gK=g;if(e==null)return;var P=JSON.stringify(e),p=P+j+","+g;
if(p==this.ZqV)return;this.ZqV=p;this.En=JSON.parse(P);var v=Math.floor(80*V.I()),x=Math.floor(16*V.I()),A=o.dF.Qf(this.En,v,x,0,this.Jm,this.gK);
this.SA.setAttribute("src",A);V.oR(this.SA,v,x)};eF.prototype.C=function(){var e;if(this.ZZB)e=o.dF.ZUK(this.En,this.Jm,this.gK);
else e=JSON.parse(JSON.stringify(this.En));return e};function Vd(e){vO.call(this,e,!1,"swatchbutton",16,8.75,WV.Ip)}Vd.prototype=new vO;
Vd.prototype.ev=function(e){this.J(this.kN[e.target.C()]);this.P(new z(V.E.m))};Vd.prototype.bf=function(){if(!this.CR)return;
var e=Date.now(),j=Math.floor(10*V.I()),g=Math.floor(10*V.I()),P=[],p=[],v=this.kN;for(var x=0;x<v.length;
x++){p.push(v[x].YN?v[x].YN.split("=").pop():"");P.push(Vd.Qf(v[x],j,g))}this.sg.oq(P,p,j,g);this.CR=!1};
Vd.prototype.J=function(e){this.En=JSON.parse(JSON.stringify(e));this.Zy()};Vd.prototype.Zy=function(){var e=Math.floor(24*V.I()),j=Math.floor(20*V.I()),g=Vd.Qf(this.En,e,j);
this.SA.setAttribute("src",g);V.oR(this.SA,e,j)};Vd.prototype.C=function(){return JSON.parse(JSON.stringify(this.En))};
Vd.hL={};Vd.Qf=function(e,j,g){var P=Vd.kl,p=Vd.hL,v=Z.jz(e.k<<16|e.z<<8|e.e);if(p[v])return p[v];if(P==null){var x=V.M("canvas");
P=Vd.kl=x.getContext("2d")}var x=P.canvas;x.width=j;x.height=g;P.fillStyle="#"+v;P.fillRect(0,0,j,g);
var A=p[v]=x.toDataURL();return A};function Wk(e,j,g){WN.call(this);this.l=V.M("span","fitem cbox");
if(j==null)j=!0;if(g==null)g="flabel";var P="cb"+V.ng();this.Ek=V.M("input","");this.Ek.setAttribute("type","checkbox");
this.Ek.setAttribute("id",P);this.l.appendChild(this.Ek);this.x$=e;this.Od=V.M("label",g);if(j)this.Od.setAttribute("for",P);
this.l.appendChild(this.Od);this.w();this.Ek.addEventListener("change",this.VB.bind(this),!1)}Wk.prototype=new WN;
Wk.prototype.ZtI=function(){return this.x$};Wk.prototype.FU=function(e){this.Od.textContent=e};Wk.prototype.w=function(){var e=this.x$;
if(typeof e=="string"&&e.startsWith("<"))this.Od.innerHTML=e;else this.Od.textContent=Zr.get(e)};Wk.prototype.EA=function(){this.Ek.checked=!0};
Wk.prototype.H_=function(){this.Ek.checked=!1};Wk.prototype.$I=function(){return this.Ek.checked};Wk.prototype.J=function(e){this.Ek.checked=e};
Wk.prototype.C=Wk.prototype.$I;Wk.prototype.VB=function(e){this.P(new z(V.E.m,!1))};function eP(e,j,g,P){WN.call(this);
this.l=V.M("span","fitem mbox");this.ZZi=g;if(e){this.x$=e;this.Od=V.M("label","flabel");this.l.appendChild(this.Od)}this.Ai=j;
this.Lu=[];for(var p=0;p<j.length;p++){var v=g?new WI(j[p],!1,P?P[p]:null):new Wk(j[p]);v.S(g?"click":V.E.m,this.VB,this);
this.Lu.push(v);this.l.appendChild(v.l)}this.w()}eP.prototype=new WN;eP.prototype.J=function(e){for(var j=0;
j<this.Ai.length;j++)this.Lu[j].J(e[j])};eP.prototype.C=function(){var e=[];for(var j=0;j<this.Ai.length;
j++)e[j]=this.Lu[j].C();return e};eP.prototype.w=function(){if(this.x$)this.Od.innerHTML=Zr.get(this.x$)+": ";
for(var e=0;e<this.Lu.length;e++)this.Lu[e].w()};eP.prototype.VB=function(e){var j=this.Lu.indexOf(e.currentTarget);
if(this.ZZi)this.Lu[j].J(!this.Lu[j].C());this.P(new z(V.E.m,!1))};function vD(e,j,g,P,p,v){v$.call(this,e,j,g,P,p,!1,v);
this.l.appendChild(this.Od);var x=V.M("span","rangecont");this.l.appendChild(x);x.appendChild(this.SP);
this.l.appendChild(this.Ek);this.Ek.setAttribute("style","width:3.3em");if(this.fy)this.l.appendChild(this.pj)}vD.prototype=new v$;
function eN(e,j,g,P){if(e==null)e=!1;if(j==null)j=!1;if(g==null)g=!1;WN.call(this);this.jH=new Uc;this.kP=new Uc;
this.bS=72;this.wV=72;this.zI=!0;this.l=V.M("span","");this.dG=new vz([12,41],0,0,null,0,!1,!0);this.l.appendChild(this.dG.l);
this.dG.S(V.E.m,this.dR,this);var p=["px","%"];if(e)p=p.concat(["mm","in"]);this.nq=new Wh(null,p);this.l.appendChild(this.nq.l);
V.ae(this.l);this.nq.S(V.E.m,this.dR,this);this.Zm=new vz([12,42],0,0,null,0,!1,!0);this.l.appendChild(this.Zm.l);
this.Zm.S(V.E.m,this.dR,this);var v=new WI("\u21F5",!1,null,!0);v.S("click",this.Zsv,this);this.AN=new WI("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.AN.S("click",this.dR,this);this.ZqJ=new vQ("");if(j){this.l.appendChild(this.AN.l);this.l.appendChild(this.ZqJ.l);
this.AN.EA()}else this.l.appendChild(v.l);this.AS=new vz("DPI",0,0,null,3,!1,!0,4);if(e&&P==null){V.ae(this.l);
this.l.appendChild(this.AS.l)}this.AS.S(V.E.m,this.dR,this);this.wJ=new Wk([12,23,1]);this.wJ.S(V.E.m,this.dR,this);
if(g){V.ae(this.l);this.l.appendChild(this.wJ.l)}V.ae(this.l)}eN.prototype=new WN;eN.prototype.ZHK=function(){this.zI=!1;
if(this.nq.C()==0){this.nq.J(3);this.Ab()}};eN.prototype.ZH$=function(){this.zI=!0};eN.prototype.ZH_=function(e){this.AN.J(e)};
eN.prototype.w=function(){this.dG.w();this.Zm.w();this.AS.w();this.AN.w();this.wJ.w()};eN.prototype.Zsv=function(e){var j=this.kP.x;
this.kP.x=this.kP.y;this.kP.y=j;this.Ab();this.P(new z(V.E.m,!1))};eN.prototype.dR=function(e){if(e.target==this.nq&&!this.zI&&this.nq.C()==0)this.nq.J(3);
if(e.target==this.nq||e.target==this.wJ){this.Ab();return}if(e.target==this.AN)e.target.J(!e.target.C());
var j=this.jH,g=parseFloat(this.dG.C());if(isNaN(g))g=1;var P=parseFloat(this.Zm.C());if(isNaN(P))P=1;
var p=this.nq.C();if(this.zI){var v=this.wV;if(p==1){g=this.jH.x*(g/100);P=this.jH.y*(P/100)}var x=[1,1,25.4/v,1/v][p];
g/=x;P/=x;if(this.wJ.C()){g+=this.jH.x;P+=this.jH.y}if(e.target==this.AS){var A=this.AS.C();if(!0){var f=A/v;
g*=f;P*=f}v=A}if(this.AN.C()){if(e.target==this.dG)P=g*(j.y/j.x);else g=P*(j.x/j.y)}g=Math.max(Math.abs(g),1);
P=Math.max(Math.abs(P),1)}else{var v=this.bS;if(e.target==this.AS)v=this.AS.C();else{if(this.AN.C()){if(e.target==this.dG)P=g*(j.y/j.x);
else g=P*(j.x/j.y)}var x=[1,1,25.4/v,1/v][p],S=g/(p==1?100:j.x*x);v=v/S}g=j.x;P=j.y}this.kP=new Uc(Math.round(g),Math.round(P));
this.wV=v;this.Ab();this.P(new z(V.E.m,!1))};eN.prototype.ZsV=function(e){this.nq.J(e);this.Ab()};eN.prototype.J=function(e,j){this.jH=e.clone();
this.kP=e.clone();if(j!=null){this.bS=j;this.wV=j}this.Ab()};eN.prototype.Ab=function(){var e=this.kP.x,j=this.kP.y,g=this.wV,P=(e/j).toFixed(3);
while(P.charAt(P.length-1)=="0")P=P.substring(0,P.length-1);if(P.charAt(P.length-1)==".")P=P.substring(0,P.length-1);
var p="  "+P+" : 1",v=function(F,m){while(m!=0){var R=m;m=F%m;F=R}return F},x=v(e,j);if(Math.min(e,j)/x<10)p="  "+Math.round(e/x)+" : "+Math.round(j/x);
this.ZqJ.J(p);if(this.wJ.C()){e-=this.jH.x;j-=this.jH.y}var A=this.nq.C();if(A==1){if(this.zI){e=100*e/this.jH.x;
j=100*j/this.jH.y}else{e=j=100*this.bS/this.wV}}else{e=Math.round(e);j=Math.round(j)}var f=[1,1,25.4/g,1/g][A];
e*=f;j*=f;var S=A==1||A==3?2:0;this.dG.ZUl(S);this.Zm.ZUl(S);this.dG.J(e);this.Zm.J(j);this.AS.J(g)};
eN.prototype.C=function(){return this.kP.clone()};eN.prototype.ZLw=function(){return this.wV};function VH(){WN.call(this);
this.bH=0;this.d_=[0,0,1,1,100,100];this.l=V.M("span","fitem");this.Cd=new Wh(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.l.appendChild(this.Cd.l);this.Cd.S(V.E.m,this.dR,this);this.dG=new vz("W",0,0,null,0,!1,!0);this.l.appendChild(this.dG.l);
this.dG.S(V.E.m,this.dR,this);this.Zm=new vz("H",0,0,null,0,!1,!0);this.l.appendChild(this.Zm.l);this.Zm.S(V.E.m,this.dR,this);
this.J({kC:0,x:0,y:0})}VH.prototype=new WN;VH.prototype.w=function(){V.ML(this.dG,this.Zm);this.Cd.w()};
VH.prototype.dR=function(e){if(e.target==this.Cd){var j=this.C(),g=this.d_;g[this.bH*2]=j.x;g[this.bH*2+1]=j.y;
this.bH=j.kC;this.J({kC:j.kC,x:g[j.kC*2],y:g[j.kC*2+1]})}if(this.dG.C()<1)this.dG.J(1);if(this.Zm.C()<1)this.Zm.J(1);
this.P(new z(V.E.m,!1))};VH.prototype.J=function(e){this.Cd.J(e.kC);this.dG.J(e.x);this.Zm.J(e.y);if(e.kC==0){this.dG.GR();
this.Zm.GR()}else{this.dG.EE();this.Zm.EE()}};VH.prototype.C=function(){return{kC:this.Cd.C(),x:this.dG.C(),y:this.Zm.C()}};
function vQ(e,j){WN.call(this);this.x$=e;this.l=V.M("span","labelitem fitem"+(j?" spread":""));this.w()}vQ.prototype=new WN;
vQ.prototype.J=function(e){this.l.textContent=e};vQ.prototype.C=function(){return this.l.textContent};
vQ.prototype.EE=function(){this.l.removeAttribute("disabled")};vQ.prototype.GR=function(){this.l.setAttribute("disabled","")};
vQ.prototype.FU=function(e){this.l.textContent=e};vQ.prototype.w=function(){this.l.textContent=Zr.get(this.x$)};
vQ.prototype.ZtI=function(){return this.x$};function VR(e){WN.call(this);this.l=V.M("span","");this.ZqC=e;
this.pH=new vD("Off X",-100,100,e?"%":"px",0,!1);this.dm=new vD("Off Y",-100,100,e?"%":"px",0,!1);this.pH.S(V.E.m,this.dR,this);
this.dm.S(V.E.m,this.dR,this);this.l.appendChild(this.pH.l);this.l.appendChild(this.dm.l)}VR.prototype=new WN;
VR.prototype.w=function(){this.pH.w();this.dm.w()};VR.prototype.dR=function(e){this.P(new z(V.E.m,!1))};
VR.prototype.Zsn=function(e){this.pH.J(e.x);this.dm.J(e.y)};VR.prototype.ZpU=function(){return new Uc(this.pH.C(),this.dm.C())};
VR.prototype.J=function(e){var j=e.Hrzn.v,g=e.Vrtc.v;if(this.ZqC){j=j.val;g=g.val}this.pH.J(j);this.dm.J(g)};
VR.prototype.C=function(){var e=this.pH.C(),j=this.dm.C();if(this.ZqC)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:e}},Vrtc:{t:"UntF",v:{type:"#Prc",val:j}}};
else return{classID:"Pnt",Hrzn:{v:e,t:"doub"},Vrtc:{v:j,t:"doub"}}};function vz(e,j,g,P,p,v,x,A,f){v$.call(this,e,j,g,P,p,!0,v,f);
V.iV(this.l,"rangedropinput");this.l.appendChild(this.Od);this.Ek.setAttribute("style","width:"+(A?A:3.3)+"em");
this.l.appendChild(this.Ek);this.ZqB=V.M("span","rangecont");this.ZqB.appendChild(this.SP);this.bK=V.M("button");
this.bK.innerHTML="\u25BC";V.lI(this.bK,this.ZsD.bind(this));if(x!=!0)this.l.appendChild(this.bK);this.HW=new WN;
this.HW.l=this.ZqB}vz.prototype=new v$;vz.prototype.ZsD=function(e){if(V.Ic(this.HW.l))return;e.stopPropagation();
var j=this.l.getBoundingClientRect();this.SP.setAttribute("style","width:"+j.width+"px;");var g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.HW,x:j.left,y:j.top+j.height};this.P(g)};function VF(){WN.call(this);this.l=V.M("span","fitem strokebutton");
this.bp=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.VW=JSON.parse(JSON.stringify(Wr.hg.default));
this.zH=V.M("button");this.l.appendChild(this.zH);this.zH.addEventListener("click",this.vB.bind(this),!1);
var e=V.M("canvas","gsicon");this.OE=e.getContext("2d");this.zH.appendChild(e);var j=V.M("span");j.textContent=" \u25BC";
this.zH.appendChild(j);this.tr=new WN;this.tr.parent=this;this.tr.l=V.M("div","floatcont form");var g=this.tr.l;
g.setAttribute("style","width: 14em;");this.xC=[new Wh([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new xI([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new xI([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new xH([19,9,2])];
for(var P=0;P<this.xC.length;P++){var p=this.xC[P];g.appendChild(p.l);var v=P<4?V.E.m:"click";p.S(v,this.dR,this)}V.ae(g);
this.op=[];var x=this.Zs$.bind(this);for(var P=0;P<this.bp.length;P++){var A=V.M("button","fitem");this.op.push(A);
g.appendChild(A);A.addEventListener("click",x,!1);var e=V.M("canvas","gsicon"),f=e.getContext("2d");
A.appendChild(e);this.ZEN(f,40,20,this.bp[P])}}VF.prototype=new WN;VF.prototype.vB=function(e){var j=this.zH.getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.tr,x:j.left,y:j.top+j.height+4};this.P(g)};VF.prototype.dR=function(e){var ZJ=this.xC,j=ZJ.indexOf(e.target),g=[];
for(var P=0;P<4;P++)g.push(ZJ[P].C());this.VW=this.ZEa(g);this.P(new z(V.E.m,!1))};VF.prototype.Zs$=function(e){var j=this.op.indexOf(e.currentTarget);
this.J(this.ZEa(this.bp[j]));this.P(new z(V.E.m,!1))};VF.prototype.ZEa=function(e){var j=JSON.parse(JSON.stringify(this.VW)),g=e[0],P=e[1],p=e[2],v=e[3];
if(g!=null)j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=Wr.hg.IS[g];if(P!=null)j.strokeStyleLineCapType.v.strokeStyleLineCapType=Wr.hg.SH[P];
if(p!=null)j.strokeStyleLineJoinType.v.strokeStyleLineJoinType=Wr.hg.join[p];var x=j.strokeStyleLineDashSet.v=[];
v=v.split(" ");while((v.length&1)!=0)v.pop();for(var A=0;A<v.length;A++)x.push({t:"UntF",v:{type:"#Nne",val:parseInt(v[A])}});
return j};VF.prototype.w=function(){for(var e=0;e<this.xC.length;e++)this.xC[e].w()};VF.prototype.J=function(e){this.VW=JSON.parse(JSON.stringify(e));
var j=Wr.hg.IS.indexOf(e.strokeStyleLineAlignment.v.strokeStyleLineAlignment),g=Wr.hg.SH.indexOf(e.strokeStyleLineCapType.v.strokeStyleLineCapType),P=Wr.hg.join.indexOf(e.strokeStyleLineJoinType.v.strokeStyleLineJoinType),p=[],v=e.strokeStyleLineDashSet.v;
for(var x=0;x<v.length;x++)p.push(v[x].v.val);var ZJ=this.xC;ZJ[0].J(j);ZJ[1].J(g);ZJ[2].J(P);ZJ[3].J(p.join(" "));
var A=[];for(var f=0;f<4;f++)A.push(ZJ[f].C());this.ZEN(this.OE,40,16,A)};VF.prototype.C=function(){return JSON.parse(JSON.stringify(this.VW))};
VF.prototype.ZEN=function(e,j,g,P){var p=P[0],v=P[1],x=P[2],A=P[3].split(" ").map(parseFloat);V.ik(e.canvas,j,g);
var f=Math.min(5,this.VW.strokeStyleLineWidth.v.val);for(var S=0;S<A.length;S++)A[S]*=f;e.clearRect(0,0,j,g);
e.setLineDash(A);e.lineCap=["butt","round","square"][v];e.lineJoin=["miter","round","bevel"][x];e.lineWidth=f;
e.beginPath();e.moveTo(0,g/2);e.lineTo(j*2,g/2);e.stroke()};function er(e){vO.call(this,e,!1,"contourbutton",34,16,WV.ZD);
this.ji=new xH([12,86],null,16);this.ji.S("input",this.Hi,this);this.tr.l.appendChild(this.ji.l);this.bA=null;
this.b$="";this.AX=null;this.J(eU.WX())}er.prototype=new vO;er.prototype.w=function(){vO.prototype.w.call(this);
this.ji.w()};er.prototype.ev=function(e){this.J(this.bA[e.target.C()]);this.P(new z(V.E.m))};er.prototype.Hi=function(e){this.b$=this.ji.C().toLowerCase();
this.ZSl()};er.nR=!1;er.prototype.bf=function(){if(!this.CR)return;var e=this.kN;if(e==null||!er.nR){var j=new z(V.E.O,!0);
j.data={U:V.a.MQ,im:{url:"rsrc/basic/fa_basic.csh"}};this.P(j);er.nR=!0}else{var g=Math.floor(38*V.I()),P=Math.floor(38*V.I());
this.AX=[];for(var p=0;p<e.length;p++)this.AX.push(er.ZHU(e[p],g,P));this.ZSl();this.CR=!1}};er.prototype.ZSl=function(){var e=Math.floor(38*V.I()),j=Math.floor(38*V.I());
this.bA=[];var g=[],P=[],p=this.kN;for(var v=0;v<p.length;v++){if(p[v].pV.toLowerCase().indexOf(this.b$)==-1)continue;
this.bA.push(p[v]);g.push(this.AX[v]);P.push(p[v].pV)}this.sg.oq(g,P,e,j)};er.prototype.J=function(e){this.En=er.clone(e);
this.Zy()};er.prototype.Zy=function(){var e=Math.floor(23*V.I()),j=Math.floor(23*V.I()),g=er.ZHU(this.En,e,j);
this.SA.setAttribute("src",g);V.oR(this.SA,e,j)};er.prototype.C=function(){return er.clone(this.En)};
er.clone=function(e){return{pV:e.pV,Il:e.Il,F:u.nt.xm(e.F),jm:e.jm.clone()}};er.O$=null;er.sn=null;er.ZHU=function(e,j,g){var P=u.nt.xm(e.F),p=e.jm,v=Math.min(j/p.W,g/p.j)*.9,x=new WE;
x.translate(-.5,-.5);x.scale(.95,.95);x.translate(.5,.5);x.scale(v*p.W,v*p.j);Z.f.Ly(P,x);var A=new u.nt;
A.F=P;var f=A.ou();f.rect.x=Math.floor((j-f.rect.W)/2);f.rect.y=Math.floor((g-f.rect.j)/2);var S=Z.V(f.rect.h()*4);
Z.XC(S,4278190080);Z.OF(f.channel);Z.sH(f.channel,S,0);Z.sH(f.channel,S,1);Z.sH(f.channel,S,2);var F=er;
if(F.O$==null)F.O$=V.M("canvas");var m=F.O$,R=m.getContext("2d");if(m.width!=j||m.height!=g||F.sn==null){m.width=j;
m.height=g;F.sn=R.createImageData(j,g)}var M=F.sn;Z.XC(M.data,4294967295);Z.Vy(S,f.rect,M.data,new G(0,0,j,g));
R.putImageData(M,0,0);return m.toDataURL()};function et(e){vO.call(this,e,!1,"ICCButton",16,12,WV.ZK,!0);
this.sg.pI(1)}et.prototype=new vO;et.prototype.Iz=function(){var e="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var j=0;j<e.length;j++)e[j]="luts/"+e[j]+".CUBE";return e};et.prototype.ev=function(e){this.J(this.kN[e.target.C()]);
this.P(new z(V.E.m))};et.prototype.bf=function(){if(!this.CR)return;var e=Math.floor(1*V.I()),j=Math.floor(1*V.I()),g=[],P=[],p=this.kN;
for(var v=0;v<p.length;v++){var x=p[v].Nm.v.split("\\").pop().split("/").pop();P.push(x);g.push(et.Qf(p[v],e,j))}this.sg.oq(g,P,e,j);
this.CR=!1};et.prototype.J=function(e){this.En=JSON.parse(JSON.stringify(e));this.Zy()};et.Qf=function(e,j,g){var P=V.M("canvas"),x="ICC / 3DL / look / cube";
P.width=j;P.height=g;var p=P.getContext("2d"),v=Math.floor(14*V.I());p.font=v+"px sans-serif";if(e.Nm)x=e.Nm.v.split("\\").pop().split("/").pop();
p.fillText(x,10,v);return P.toDataURL()};et.prototype.Zy=function(){var e=Math.floor(120*V.I()),j=Math.floor(20*V.I());
this.SA.setAttribute("src",et.Qf(this.En,e,j));V.oR(this.SA,e,j)};et.prototype.C=function(){return JSON.parse(JSON.stringify(this.En))};
function Vh(){WN.call(this);this.KV=null;this.l=V.M("span","fitem");this.Ut=new fy([14,9]);this.bj=new vz(null,0,150,"pt",1,!0,null,null,[19,2,5]);
this.pk=new VF;this.UL=[this.Ut,this.bj,this.pk];for(var e=0;e<this.UL.length;e++){var j=this.UL[e];
this.l.appendChild(j.l);j.parent=this;j.S(V.E.m,this.dR,this)}}Vh.prototype=new WN;Vh.prototype.w=function(){for(var e=0;
e<this.UL.length;e++)this.UL[e].w()};Vh.prototype.wY=function(e,j){this.Ut.wY(e,j)};Vh.prototype.dR=function(e){var j=this.KV,g=this.Ut.C(),P=g.Tm;
j.strokeEnabled.v=P!=0;if(P!=0){j.strokeStyleContent.v=g.am;g.am.classID=Wr.hg.dE[P-1]}j.strokeStyleLineWidth.v.val=this.bj.C();
if(e.target==this.pk)j=this.pk.C();this.KV=j;this.P(new z(V.E.m,!1))};Vh.prototype.J=function(e,j,g){this.KV=JSON.parse(JSON.stringify(j));
var P=j.strokeEnabled.v,p=j.strokeStyleContent.v,v=P?{Tm:1+Wr.hg.dE.indexOf(p.classID),am:p}:{Tm:0};
this.Ut.J(e,v,g);this.bj.J(j.strokeStyleLineWidth.v.val);this.pk.J(j)};Vh.prototype.C=function(){return JSON.parse(JSON.stringify(this.KV))};
function JZ(e,j){WN.call(this);this.l=V.M("span","fitem");this.zP=["front","union","difference","intersection"];
var g=[[18,0],[18,1],[18,2],[18,3]];this.Ol=[];this.bY=0;for(var P=0;P<this.zP.length;P++){var p=new WI("<img src=\""+PIMG["set/"+this.zP[P]]+"\" class=\"autoscale gsicon\" />",!1,g[P]);
p.S("click",this.ZsA,this);this.l.appendChild(p.l);this.Ol.push(p)}this.Ol[0].EA()}JZ.prototype=new WN;
JZ.prototype.C=function(){return this.zP[this.bY]};JZ.prototype.J=function(e){this.bY=this.zP.indexOf(e);
for(var j=0;j<this.Ol.length;j++)this.Ol[j].H_();this.Ol[this.bY].EA()};JZ.prototype.ZsA=function(e){this.J(this.zP[this.Ol.indexOf(e.currentTarget)]);
this.P(new z(V.E.m,!1))};JZ.prototype.w=function(){for(var e=0;e<this.Ol.length;e++)this.Ol[e].w()};
function xH(e,j,g,P){WN.call(this);var p=V.ng(),v="";this.l=V.M("span","fitem tinput");if(e){this.x$=e;
this.Od=V.M("label","flabel");this.l.appendChild(this.Od);this.Od.setAttribute("for",p);this.w()}if(P==null){this.Ek=V.M("input","");
this.Ek.setAttribute("type","text")}else this.Ek=V.M("textarea","scrollable");this.Ek.setAttribute("id",p);
if(g)v+="width:"+g+"em;";if(P){this.Ek.setAttribute("rows",P)}if(v!="")this.Ek.setAttribute("style",v);
this.l.appendChild(this.Ek);if(j){this.pj=V.M("span","");this.pj.textContent=j;this.l.appendChild(this.pj)}this.Ek.addEventListener("change",this.VB.bind(this),!1);
this.Ek.addEventListener("input",this.ZsQ.bind(this),!1)}xH.prototype=new WN;xH.prototype.w=function(){if(this.x$)this.Od.textContent=Zr.get(this.x$)+":"};
xH.prototype.FU=function(e){this.Od.textContent=e};xH.prototype.J=function(e){this.Ek.value=e==null?"":e};
xH.prototype.C=function(){return this.Ek.value};xH.prototype.ve=function(){this.Ek.select();this.Ek.focus()};
xH.prototype.VB=function(e){this.P(new z(V.E.m,!1))};xH.prototype.ZsQ=function(e){this.P(new z("input",!1))};
function WO(e,j,g,P,p,v){v$.call(this,e,j,g,P,p,!0,v);V.iV(this.l,"trangeinput");this.l.appendChild(this.Od);
this.l.appendChild(this.Ek);var x=V.M("span","rangecont");this.l.appendChild(x);x.appendChild(this.SP);
this.SP.setAttribute("style","width:97%;")}WO.prototype=new v$;function Jc(){WN.call(this);this.Jv=[10,!0,!0];
this.l=V.M("span","");this.Sc=[new vz([12,24],0,255),new Wk("Anti-alias"),new Wk([12,25])];for(var e=0;
e<3;e++){var j=this.Sc[e];j.parent=this;j.J(this.Jv[e]);this.l.appendChild(j.l);j.S(V.E.m,this.dR,this)}}Jc.prototype=new WN;
Jc.prototype.dR=function(){for(var e=0;e<3;e++)this.Jv[e]=this.Sc[e].C();this.P(new z(V.E.m,!1))};Jc.prototype.J=function(e){this.Jv=e.slice(0);
for(var j=0;j<3;j++)this.Sc[j].J(e[j])};Jc.prototype.C=function(){return this.Jv.slice(0)};Jc.prototype.w=function(){for(var e=0;
e<3;e++)this.Sc[e].w()};function Vw(e,j){WN.call(this);if(j==null)j=!1;this.AX=[];this.Zqh=0;this.ZLU=0;
this.zY=0;this.HP=[];this.sK=[];for(var g in Z.xL.type){if(g=="warpCustom"&&!j)continue;this.HP.push(g);
this.sK.push(Z.xL.type[g])}this.l=V.M("span","fitem warpbutton");this.tr=new WN;this.tr.l=V.M("div","floatcont");
if(e){this.UT=e;this.Od=V.M("label","flabel");this.l.appendChild(this.Od)}this.U=V.M("button");this.l.appendChild(this.U);
this.U.addEventListener("click",this.vB.bind(this),!1);this.Uz=new Jx(!0);this.tr.l.appendChild(this.Uz.l);
this.Uz.S(V.E.m,this.ZKv,this);this.w()}Vw.prototype=new WN;Vw.prototype.FU=function(e){this.Od.textContent=e};
Vw.prototype.w=function(){if(this.UT)this.Od.innerHTML=Zr.get(this.UT)+":";this.AX=[];var e=V.M("canvas",""),j=e.getContext("2d"),g=0;
j.font=Math.floor(13*V.I())+"px sans-serif";for(var P=0;P<this.HP.length;P++){g=Math.max(g,j.measureText(Zr.get(Z.xL.type[this.HP[P]])).width)}var p=this.Zqh=Math.floor(50*V.I()+g),v=this.ZLU=Math.floor(23*V.I());
e.width=p;e.height=v;this.tr.l.setAttribute("style","width:"+Math.floor(8+p/V.I())+"px;");j.font=Math.floor(13*V.I())+"px sans-serif";
j.lineWidth=1;j.strokeStyle="#000000";var x=Math.floor(16*V.I()),A=new G(0,0,x,x);for(var P=0;P<this.HP.length;
P++){var f=this.HP[P];j.clearRect(0,0,e.width,e.height);var S=Z.xL.xL(A,f,!0,.3,0,0),F=Z.g.B$(A);F.L.push("M","L","M","L");
F.u.push(0,x/2,x,x/2);F.u.push(x/2,0,x/2,x);F=Z.g.fY(F);F=Z.g.fR(F,x/5);Z.ie.apply(S,F.u,A);Z.g.K(F.u,new WE(1,0,0,1,Math.floor(8*V.I())+.5,Math.floor(3*V.I())+.5),F.u);
j.beginPath();Typr.U.pathToContext({cmds:F.L,crds:F.u},j);j.stroke();j.fillText(Zr.get(Z.xL.type[f]),Math.floor(40*V.I()),Math.floor(16*V.I()));
this.AX.push(e.toDataURL())}this.Uz.oq(this.AX,null,p,v);this.Zy()};Vw.prototype.vB=function(e){var j=this.U.getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:this.tr,x:j.left,y:j.top+j.height+4};this.P(g)};Vw.prototype.ZKv=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.nN,JR:this.tr};this.P(j);this.zY=e.target.C();this.Zy();this.P(new z(V.E.m))};Vw.prototype.Zy=function(){this.Uz.vJ(this.zY);
this.U.innerHTML="<img src=\""+this.AX[this.zY]+"\" class=\"gsicon\" />";var e=this.Zqh,j=this.ZLU;V.oR(this.U.firstChild,e,j)};
Vw.prototype.C=function(){return this.HP[this.zY]};Vw.prototype.J=function(e){this.zY=this.HP.indexOf(e);
this.Zy()};function fr(e,j,g){WN.call(this);if(e==null)e=!1;if(j==null)j=!1;if(g==null)g=!1;this.ZZD=j;
this.xL=null;this.jr=new Vw([12,22],g);this.jr.parent=this;this.jr.S(V.E.m,this.BM,this);this.dQ=new Wh([22,0],[[22,4,0],[22,4,1]]);
this.dQ.S(V.E.m,this.BM,this);var P=e?vz:WO;this.jJ=new P([22,1],-100,100,"%");this.jC=new P("Horizontal Distortion:",-100,100,"%");
this.ja=new P("Vertical Distortion:",-100,100,"%");this.jJ.parent=this.jC.parent=this.ja.parent=this;
this.jJ.S(V.E.m,this.BM,this);this.jC.S(V.E.m,this.BM,this);this.ja.S(V.E.m,this.BM,this)}fr.prototype=new WN;
fr.prototype.w=function(){this.jr.w();this.dQ.w();this.jJ.w();var e=this.ZZD?1:100;this.jC.FU(Zr.get([22,2]).substring(0,e)+":");
this.ja.FU(Zr.get([22,3]).substring(0,e)+":")};fr.prototype.BM=function(){var e=this.xL,j=this.jr.C(),g=e.warpStyle.v.warpStyle;
if(j=="warpCustom")Z.xL.Jz(Z.xL.pT(e),e);else delete e.customEnvelopeWarp;e.warpStyle.v.warpStyle=this.jr.C();
e.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.dQ.C()];e.warpValue.v=this.jJ.C();e.warpPerspective.v=this.jC.C();
e.warpPerspectiveOther.v=this.ja.C();if(j=="warpNone"||j=="warpCustom"){e.warpValue.v=0;e.warpPerspective.v=0;
e.warpPerspectiveOther.v=0}else if(g=="warpNone"||g=="warpCustom")e.warpValue.v=50;this.P(new z(V.E.m,!1));
this.J(e)};fr.prototype.C=function(e){return JSON.parse(JSON.stringify(this.xL))};fr.prototype.J=function(e){this.xL=JSON.parse(JSON.stringify(e));
this.jr.J(e.warpStyle.v.warpStyle);this.dQ.J(e.warpRotate.v.Ornt=="Hrzn"?0:1);this.jJ.J(e.warpValue.v);
this.jC.J(e.warpPerspective.v);this.ja.J(e.warpPerspectiveOther.v);var j=e.warpStyle.v.warpStyle,g=j=="warpNone"||j=="warpCustom",P=[this.dQ,this.jJ,this.jC,this.ja];
for(var p=0;p<P.length;p++)if(g)P[p].GR();else P[p].EE()};function ew(e){WN.call(this);this.l=V.M("div");
this.bh=e;this.zk=!1;this.ZJ=new Uc(0,0);this.CA="position:relative;overflow:hidden;";this.un=null;this.UI=new V.MN(this.l);
this.nQ("grab");this.KM=V.M("canvas","canv");this.l.appendChild(this.KM);this.OE=this.KM.getContext("2d");
this.ZLS=null;this.jO=null;this.bM=null;this.wa=0;this.bb=0;this.bw=0;this.ZZt=this.ZfJ.bind(this);this.ZLK=null;
this.N=new VI({W:1,j:1});this.wD=null;this.CD=null;this.ZZL=this.QN.bind(this);this.ZLc=this.Aw.bind(this);
this.ZTL=this.Sy.bind(this);this.ZZT=this.nY.bind(this);this.ZTp=0;this.UK=null;this.Z$W(this.KM);this.sd(this)}ew.prototype=new WN;
ew.prototype.Pm=function(e){var j=this.un;this.zk=e.v(q.Er);if(this.zk)j="grab";this.UI.VJ(j,this.CA);
if(e.v(q.kA)){var g=0;if(e.v(q.HB))g=1;if(e.v(q.ue))g=-1;if(g!=0){this.ZOV(new Uc(this.KM.width/2,this.KM.height/2),g==1)}}};
ew.prototype.nQ=function(e){this.un=e;this.UI.VJ(e,this.CA)};ew.prototype.Z$W=function(e){V.lI(e,this.ZZL);
V.WV(e);e.addEventListener("wheel",this.ZZT,!1)};ew.prototype.sd=function(e){e.S("viewchange",this.ZKB,this)};
ew.prototype.ZKB=function(e){var j=this.N.d,g=e.currentTarget.bZ();this.N.d=g.d;this.N.R=g.R.clone();
if(j!=g.d)this.st();this.fc()};ew.prototype.bZ=function(){return{d:this.N.d,R:this.N.R}};ew.prototype.J=function(e,j){var g=e[0].Fa;
if(this.jO!=null&&this.jO[0].Fa.iJ(g)){}else{this.N.vs={W:g.W,j:g.j};this.N.R=new Uc(0,0);this.N.d=1}this.jO=e;
this.st();this.bx();this.wa=0;this.bb=0;this.bw=j==null?0:j;this.ZfJ()};ew.prototype.nY=function(e){e.preventDefault();
if(e.deltaY==0||Date.now()-this.ZTp<100)return;var j=V.nX(e);j.x=V.I()*j.x;j.y=V.I()*j.y;this.ZTp=Date.now();
this.ZOV(j,e.deltaY<0)};ew.prototype.ZOV=function(e,j){o.ft.ec(this.N,e,j);this.Zpn()};ew.prototype.ZKL=function(){var e=this.N,j=e.vs;
this.N.d=o.ft.ip(j.W,j.j,e.A.W,e.A.j);this.Zpn()};ew.prototype.Zpn=function(){this.st();this.P(new z("viewchange"));
this.P(new z("zoom"))};ew.prototype.st=function(){this.bM=[];var e=this.N.d;for(var j=0;j<this.jO.length;
j++){var g=this.jO[j],P=new Uint8Array(g.data),p;if(e>=1)p={C$:P,rect:g.Fa};else p=Z.ub(P,g.Fa,e);this.bM.push(p)}};
ew.prototype.bx=function(){clearTimeout(this.ZLK)};ew.prototype.fc=function(){if(this.jO==null||!V.Ic(this.KM))return;
var e=this.ZLS,j=this.KM.width,g=this.KM.height,x,A;if(e==null||e.width!=j||e.height!=g){e=this.ZLS=this.OE.createImageData(j,g);
console.log("creating image data")}var P=this.jO[this.wa],p=this.bM[this.wa],v=this.N;if(v.d<=1){var f=p.rect.clone();
f.x=v.R.x+Math.floor((v.A.W-p.rect.W)/2);f.y=v.R.y+Math.floor((v.A.j-p.rect.j)/2);x=p.C$;A=f}else{var S=v.hU(),F=v.$u(),m=new G(0,0,S.W*v.d,S.j*v.d);
m.x=S.x*v.d+F.x;m.y=S.y*v.d+F.y;if(v.Ax==null||v.Ax.length!=S.h()*4){v.Ax=Z.V(S.h()*4)}if(v.TK==null||v.TK.length!=m.h()*4){v.TK=Z.V(m.h()*4)}Z.XC(v.Ax,0);
Z.Vy(p.C$,p.rect,v.Ax,S);Z.scale.Tl(v.Ax,S.W,S.j,v.TK,m.W,m.j,v.d);x=v.TK;A=m}var F=v.$u();Z.ZL(e.data,v.A.W,v.A.j,8,-F.x,-F.y);
Z.Y.$Q("norm",x,A,e.data,v.A,v.A,1);this.OE.setTransform(1,0,0,1,0,0);this.OE.putImageData(e,0,0);if(v.d<1)F=A;
var R=F.x,M=F.y,b=F.W,s=F.j;this.OE.clearRect(R,M,-1e3,s);this.OE.clearRect(R+b,M,1e3,s);this.OE.clearRect(R-1e3,M,b+2e3,-1e3);
this.OE.clearRect(R-1e3,M+s,b+2e3,1e3);var K=ew.Zff(v.d,"#ffffff");this.OE.putImageData(K,0,v.A.j-K.height)};
ew.Zfr={};ew.Zff=function(e,j){var g="z"+e+","+j,P=ew.Zfr[g];if(P)return P;var p=Math.round(50*V.I()),v=Math.round(18*V.I()),x=V.M("canvas"),A=x.getContext("2d");
x.width=p;x.height=v;A.fillStyle="rgba(1,1,1,1)";A.fillRect(0,0,p,v);A.font=Math.round(11*V.I())+"px monospace";
A.fillStyle=j;var f=e*100;if(f<100)f=f.toFixed(2);f=f+"%";var S=A.measureText(f).width;A.fillText(f,(p-S)/2,Math.round(v*.7));
P=ew.Zfr[g]=A.getImageData(0,0,p,v);return P};ew.prototype.ZfJ=function(){var e=this.jO,j=e.length,g=this.wa,P=this.jO[g],p=(g+1)%j;
this.fc();if(j!=1&&e[p].Fa.iJ(P.Fa)){var v=P.Z$?parseInt(P.Z$.split(",").pop()):30;if(v==0)v=16;if(p==0)this.bb++;
if(this.bw==0||this.bb<this.bw)this.ZLK=setTimeout(this.ZZt,v)}this.wa=p};ew.prototype.Ov=function(e,j){if(e<=0||j<=0)return;
var g=Math.floor(e*V.I()),P=Math.floor(j*V.I());this.N.A=new G(0,0,g,P);this.KM.width=g;this.KM.height=P;
this.KM.setAttribute("style","width:"+g/V.I()+"px; height:"+P/V.I()+"px; display:block;");this.fc()};
ew.prototype.QN=function(e){this.UK=e.target;V.FK(window,this.ZLc);V.FQ(window,this.ZTL);this.wD=V.nX(e,this.KM);
this.wD.x*=V.I();this.wD.y*=V.I();this.ZJ=this.wD;this.CD=this.N.R.clone();if(this.bh&&this.UK==this.KM&&!this.zk)this.P(new z("mousedown"))};
ew.prototype.Aw=function(e){var j=this.N,g=this.jO[this.wa].Fa.clone();g.W*=j.d;g.j*=j.d;var P=V.nX(e,this.KM);
P.x*=V.I();P.y*=V.I();this.ZJ=P;if(this.bh&&this.UK==this.KM&&!this.zk)this.P(new z("mousemove"));else if(!j.A.pY(g)){var p=P.x-this.wD.x,v=P.y-this.wD.y;
j.R.x=this.CD.x+Math.round(p);j.R.y=this.CD.y+Math.round(v);this.P(new z("viewchange"))}};ew.prototype.Sy=function(e){V._L(window,this.ZLc);
V.fz(window,this.ZTL);if(e.detail>1){this.N.d=1;this.N.R.Ve(0,0);this.fc()}if(this.bh&&this.UK==this.KM&&!this.zk)this.P(new z("mouseup"))};
ew.prototype.dU=function(){return this.N.IR(this.ZJ.x,this.ZJ.y)};function vw(){WN.call(this);this.U$=null;
this.jN=null;this.dc=null;this.UO=null;this.Zzr="";this.Up=[];this.Uj=0;this.zF=[];this.HJ=0;this.tS=null;
var e=this.l=V.M("div",""),j=this.ZZz=V.M("div","form");j.setAttribute("style","line-height:0; margin-bottom:0.5em;");
e.appendChild(j);var g=this.UT=V.M("span");j.appendChild(g);g.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var P=this.Zzs=new Wk([25,2,0]);P.J(!0);j.appendChild(P.l);P.S(V.E.m,this.nS,this);var p=this.b_=new Wk([25,2,1]);
p.J(!1);j.appendChild(p.l);p.S(V.E.m,this.nS,this);var v=new vQ(" ");j.appendChild(v.l);var x=this.bQ=new xH([25,1,1]);
j.appendChild(x.l);x.S(V.E.m,this.nS,this);this.xF=new vb(14);this.xF.ZHW(3);j.appendChild(this.xF.l);
this.xF.parent=this;this.xF.S(V.E.m,this.ZKp,this);var A=this.ZZG=new WI([25,1,2],null,null,!0);j.appendChild(A.l);
A.S("click",this.dW,this);this.ZZI=this.ZKj.bind(this);this.BW=V.M("div","svggallery scrollable");e.appendChild(this.BW);
this.BW.addEventListener("scroll",this.ZKT.bind(this))}vw.prototype=new WN;vw.prototype.wY=function(e){this.ZGf=e};
vw.prototype.w=function(){this.UT.textContent=Zr.get([25,0]);this.xF.w();this.Zzs.w();this.b_.w();this.bQ.w();
this.ZZG.w()};vw.prototype.Ov=function(e,j){j-=26;this.U$=new Uc(e,j);this.ZZz.setAttribute("style","width:"+e+"px");
this.BW.setAttribute("style","width:"+e+"px; height:"+j+"px");if(V.Ic(this.l))this.nS()};vw.prototype.J=function(e){this.jN=e;
this.nS()};vw.prototype.ZKT=function(e){var j=this.BW;if(j.scrollTop+j.clientHeight+10>=j.scrollHeight){this.nS(!0)}};
vw.prototype.ZKp=function(e){this.dc=null;this.nS()};vw.prototype.ZKj=function(e){if(Date.now()-this.HJ<2e3)return;
this.HJ=Date.now();this.Uj=this.zF.indexOf(e.currentTarget);var j=this.ss(this.jN.x,this.jN.y);if(j[1]){var g=j[1].largeImageURL,P=new XMLHttpRequest;
P.responseType="arraybuffer";P.open("GET",g,!0);P.onload=this.ZKX.bind(this);P.send();return}this.ZWZ(j)};
vw.prototype.ZKX=function(e){var j=e.target.response,g=Wg.uK(j),P=Wg.Hr(g),p=P.vn(j),v=this.ss(this.jN.x,this.jN.y,[j,p[0].Fa.W,p[0].Fa.j]);
this.ZWZ(v)};vw.prototype.ZWZ=function(e){var j=e[0],g=Wg.uK(j),P=Wg.Hr(g),p=new ZT("template.psd");
P.vn(j,p);var v=new z("tempready",!0);v.data={vs:p};this.P(v)};vw.prototype.dW=function(e){var j=e.target;
this.Up=[];this.nS()};vw.prototype.ZKh=function(e){console.log(e.target.response);var j=JSON.parse(e.target.response);
this.UO=j.hits;this.nS()};vw.prototype.nS=function(e){if(this.jN==null||this.U$==null||this.ZGf==null)return;
if(this.U$.x<=0)return;var j=this.jN.x,g=this.jN.y;if(Math.min(j,g)<50)return;if(e!=!0){this.zF=[];V.kO(this.BW);
this.BW.scrollTop=0}if(this.zF.length>300)return;var P=Math.min(1,300/Math.max(j,g)),p=this.U$.clone();
p.x-=20;var v=Math.max(1,Math.floor(p.x/(j*P))),x=Math.max(1,Math.ceil(p.y/(g*P)));P=p.x/v/j;var A=v*x;
if(this.dc==null){var f=this.ZGf.Fz.OY();this.dc=[];for(var S in f){var F=f[S],m=F[3];if(!this.xF.Hs(F))continue;
if(F[5]==null||F[5].slice(0,2)=="gf")continue;this.dc.push(F)}if(this.dc.length==0)this.dc.push(f.DejaVuSans)}var R=this.b_.C(),M=this.bQ.C().trim();
this.bQ.Hw(R);if(R&&(this.UO==null||M!=this.Zzr)){var b=new XMLHttpRequest,s="https://pixabay.com/api/?image_type=photo"+(M==""?"":"&q="+encodeURIComponent(M))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88";
if(M=="")s+="&safesearch=true";b.open("GET",s,!0);b.onload=this.ZKh.bind(this);b.onerror=function(Y){console.log(Y.target.response)};
b.send();this.Zzr=M;return}P*=(j*P-5)/(j*P);var K=this.zF.length;for(var X=0;X<A;X++){var d=this.Uj=K+X;
if(this.Up[d]==null)this.Up[d]=Math.floor(Math.random()*4294967295);var W=this.ss(Math.round(j*P),Math.round(g*P)),O=W[0];
O=T.vG(new Uint8Array(O));var H=V.M("span");H.innerHTML=O;this.zF.push(H);this.BW.appendChild(H);H.addEventListener("click",this.ZZI,!1)}};
vw.prototype.ss=function(e,j,g){var P=this.b_.C(),p=this.Zzs.C(),v=P&&this.UO.length!=0?this.UO:null;
if(p&&!P)v=null;if(p&&P&&(this.Uj&1)==0)v=null;return WR.vC(e,j,this.Up[this.Uj],this.dc,g?g:v)};function uf(){WN.call(this);
this.l=V.M("div");this.in=null;this.ZGp=null;this.wx=-1;this.jq={JPG:[{ij:new WO([12,52,0],0,100,"%"),$S:70},{ij:new Wk("attach metadata"),$S:!1}],TIFF:[{ij:new Wk("attach metadata"),$S:!1}],WEBP:[{ij:new WO([12,52,0],0,100,"%"),$S:70}],GIF:[{ij:new WO([12,52,0],0,100,"%"),$S:100}],PNG:[{ij:new WO([12,52,0],0,100,"%"),$S:100},{ij:new Wk("don't use palettes"),$S:!1}],PDF:[{ij:new xH([12,52,1]),$S:""},{ij:new WO([12,52,0],0,100,"%"),$S:100},{ij:new Wk("rasterize all"),$S:!1},{ij:new Wk("rasterize text"),$S:!1},{ij:new Wk("vectorize text"),$S:!1}],EMF:[{ij:new xH([12,52,1]),$S:""},{ij:new Wk("rasterize all"),$S:!1},{ij:new Wk("rasterize text"),$S:!1},{ij:new Wk("vectorize text"),$S:!1}],SVG:[{ij:new Wk("add raster graphics"),$S:!0},{ij:new Wk("add hidden layers"),$S:!1},{ij:new Wk("vectorize text"),$S:!1},{ij:new Wk("rasterize text"),$S:!1},{ij:new Wk("add layer names"),$S:!0},{ij:new Wk("pretty-print"),$S:!0}],RAW:[{ij:new xI([12,72],["1","3","4"]),$S:2},{ij:new xI([12,34],["8 Bits","16 Bits"]),$S:0},{ij:new xI("Byte Order",["12-34","34-12"]),$S:0}],anim:[{ij:new WO("Speed",10,800,"%",null,!0),$S:100},{ij:new vz("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),$S:0},{ij:new Wk("reverse frames"),$S:!1}],slcs:[{ij:new Wk("As Slices"),$S:!0}]};
for(var e in this.jq){var j=this.jq[e];for(var g=0;g<j.length;g++){j[g].ij.J(j[g].$S);j[g].ij.S(V.E.m,this.AQ,this)}}}uf.prototype=new WN;
uf.prototype.Z$v=function(){this.wx=-1};uf.prototype.w=function(){for(var e in this.jq)for(var j=0;j<this.jq[e].length;
j++)this.jq[e][j].ij.w()};uf.prototype.AQ=function(){this.nS();this.P(new z(V.E.m,!1))};uf.prototype.nS=function(){var e=this.in,j=e[0],g=e[1],P=e[2],p=this.jq[j];
if(p==null)p=[];else p=p.slice(0);if(g)p=p.concat(this.jq.anim);if(["GIF","PNG","JPG"].indexOf(j)!=-1&&P)p=p.concat(this.jq.slcs);
if(j+" "+g!=this.wx){this.wx=j+" "+g;V.kO(this.l);for(var v=0;v<p.length;v++){this.l.appendChild(p[v].ij.l);
V.ae(this.l)}}var x=this.ZGp=[];for(var v=0;v<p.length;v++)x.push(p[v].ij.C())};uf.prototype.ZvJ=function(e,j,g){this.in=[e,j,g];
this.nS()};uf.prototype.C=function(){return this.ZGp.slice(0)};function VY(){WN.call(this);this.l=V.M("span","fitem");
this.bq=!1;this.wU=new WI("No",!1,"Cancel");this.Oe=new WI("Yes",!1,"Confirm");this.l.appendChild(this.wU.l);
this.l.appendChild(this.Oe.l);this.wU.S("click",this.bv,this);this.Oe.S("click",this.bv,this);this.w()}VY.prototype=new WN;
VY.prototype.w=function(){this.wU.FU(V.MR("cross",null,"autoscale"));this.Oe.FU(V.MR("checkmark",null,"autoscale"))};
VY.prototype.bv=function(e){this.bq=e.target==this.Oe;this.P(new UIEvent("click"))};VY.prototype.C=function(){return this.bq};
function Q(e){WN.call(this);this.ZZY=e;this.l=V.M("div","");this.$H=[];this.ZEZ=[]}Q.prototype=new WN;
Q.prototype.sp=function(e){};Q.prototype.CO=function(){return!1};Q.prototype.Ov=function(e,j){};Q.prototype.wY=function(e,j){};
Q.prototype.AI=function(e){};Q.prototype.J=function(e,j,g,P,p,v){var x=[];this.Uy(e,x,v);for(var A=0;
A<this.$H.length;A++)this.$H[A].J(x[A])};Q.prototype.C=function(){var e=ZW.WX(this.ZZY),j=[];for(var g=0;
g<this.$H.length;g++)j.push(this.$H[g].C());this.fa(e,j);return e};Q.prototype.Pm=function(e){};Q.prototype.BM=function(e){var j=this.ZEZ;
for(var g=0;g<j.length;g+=2){var P=this.$H[j[g]],p=this.$H[j[g+1]],v=P.C(),x=p.C();if(e.target==P)p.J(Math.max(v,x));
else P.J(Math.min(v,x))}this.P(new z(V.E.m))};Q.prototype.w=function(){for(var e=0;e<this.$H.length;
e++)this.$H[e].w()};Q.prototype.Jt=function(e){V.iV(this.l,"form");var j=this.$H;for(var g=0;g<j.length;
g++){var P=j[g];P.parent=this;P.S(V.E.m,this.BM,this);this.l.appendChild(P.l);if(P instanceof Wk&&j[g+1]instanceof xG)continue;
if(e&&e.indexOf(g)!=-1)V.EC(this.l);else V.ae(this.l)}};Q.prototype.eM=function(){return!1};Q.prototype.Lr=function(e,j,g,P,p){};
Q.prototype.tg=function(e,j,g,P,p){};Q.prototype.jT=function(e,j,g,P,p){};Q.prototype.fa=function(e,j){};
Q.prototype.Uy=function(e,j){};Q.Bokh=function(){Q.call(this,"Bokh");this.$H=[new Wh("Depth Map",["A","b"]),new WO("Focal Distance",0,255),new Wh([12,76,1],"Triangle (3),Square (4),Pentagon (5),Hexagon (6),Heptagon (7),Octagon (8)".split(",")),new WO([12,56],0,100),new WO([12,15],0,360),new WO([12,2],0,100),new WO([4,13],0,255),new WO([24,6],0,100),new xI([12,58],[[12,59,0],[12,59,1]]),new Wk([12,60])];
this.Jt([4,6])};Q.Bokh.prototype=new Q;Q.Bokh.prototype.Uy=function(e,j,g){var P=[[22,5,0],[6,5,3],[6,2]],p=e.BkDi.v.BtDi,v=e.BkDc,x=0;
if(p=="BeIn")x=0;else if(p=="BeIt"&&v.v.BtDc=="BeCt")x=1;else if(p=="BeIt"&&v.v.BtDc=="BeCm")x=2;else x=3+v.v;
for(var A=0;A<g[1].length;A++)P.push(g[1][A].name);this.$H[0].ph(P,[3]);j[0]=x;j[1]=e.BkDp.v;j[2]=parseInt(e.BkIs.v.BtIs.slice(3))-3;
j[3]=e.BkIb.v;j[4]=e.BkIr.v;j[5]=e.BkSb.v;j[6]=e.BkSt.v;j[7]=e.BkNa.v;j[8]=e.BkNt.v.BtNt=="BeNu"?0:1;
j[9]=e.BkNm.v};Q.Bokh.prototype.fa=function(e,j){var g;if(j[0]==0){g="BeIn";delete e.BkDc}else if(j[0]<3){g="BeIt";
e.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][j[0]-1]}}}else{g="BeIa";e.BkDc={t:"long",v:j[0]-3}}e.BkDi.v.BtDi=g;
e.BkDp.v=j[1];e.BkIs.v.BtIs="BeS"+(3+j[2]);e.BkIb.v=j[3];e.BkIr.v=j[4];e.BkSb.v=j[5];e.BkSt.v=j[6];e.BkNa.v=j[7];
e.BkNt.v.BtNt=["BeNu","BeNg"][j[8]];e.BkNm.v=j[9]};Q["\0\0\x03\xFD"]=function(){Q.call(this,"\0\0\x03\xFD");
this.$H=[new WO([12,56],.1,10,"px",!0),new WO("Cleanliness",0,10,"px",!0),new WO([12,38],.1,10,null,!0),new WO("Bristle Detail",0,10,null,!0),new Wk("Lighting"),new WO("Shine",0,10,null,!0),new xn([12,15])];
this.Jt()};Q["\0\0\x03\xFD"].prototype=new Q;Q["\0\0\x03\xFD"].prototype.Uy=function(e,j){var g="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<g.length;P++)j[P]=e[g[P]].v;j[6]=e.LghD.v};Q["\0\0\x03\xFD"].prototype.fa=function(e,j){var g="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<g.length;P++)e[g[P]].v=j[P];e.LghD.v=j[6].Aa};Q["\0\0\x03^"]=function(){Q.call(this,"\0\0\x03^");
this.$H=[new WO([24,3,1],0,30,"px"),new WO([12,38],0,200,"%"),new Wk([4,11]),new WO("High",0,100,"%"),new WO("Medium",0,100,"%"),new WO("Low",0,100,"%")];
this.Jt()};Q["\0\0\x03^"].prototype=new Q;Q["\0\0\x03^"].prototype.Uy=function(e,j){j[0]=e.blur.v;j[1]=e.textureScale.v*100;
j[2]=e.Scl.v==-1;var g=e.Dtl.v;j[3]=g[0].v*100;j[4]=g[1].v*100;j[5]=g[2].v*100};Q["\0\0\x03^"].prototype.fa=function(e,j){e.blur.v=j[0];
e.textureScale.v=j[1]/100;e.Scl.v=j[2]?-1:1;var g=e.Dtl.v;g[0].v=j[3]/100;g[1].v=j[4]/100;g[2].v=j[5]/100};
Q.LnsF=function(){Q.call(this,"LnsF");this.$H=[new WO([12,2],10,300,"%"),new xI([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new WO("Position X",0,100,"%"),new WO("Position Y",0,100,"%")];
this.Jt()};Q.LnsF.prototype=new Q;Q.LnsF.prototype.Uy=function(e,j){j[0]=e.Brgh.v;j[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(e.Lns.v.Lns);
var g=e.FlrC.v;j[2]=Math.round(g.Hrzn.v*100);j[3]=Math.round(g.Vrtc.v*100)};Q.LnsF.prototype.fa=function(e,j){e.Brgh.v=j[0];
e.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][j[1]];var g=e.FlrC.v;g.Hrzn.v=j[2]/100;g.Vrtc.v=j[3]/100};Q.LnCr=function(){Q.call(this,"LnCr");
this.$H=[new WO([12,57],-100,100),new WO([12,38],10,150,"%")];this.Jt()};Q.LnCr.prototype=new Q;Q.LnCr.prototype.Uy=function(e,j){j[0]=e.LnIa.v;
j[1]=e.LnSi.v};Q.LnCr.prototype.fa=function(e,j){e.LnIa.v=j[0];e.LnSi.v=j[1]};Q["\0\0\x02\xB1"]=function(){Q.call(this,"\0\0\x02\xB1");
this.$H=[new WO([12,56],1,200," px")];this.Jt()};Q["\0\0\x02\xB1"].prototype=new Q;Q["\0\0\x02\xB1"].prototype.Uy=function(e,j){j[0]=e.Rds.v.val};
Q["\0\0\x02\xB1"].prototype.fa=function(e,j){e.Rds.v.val=j[0]};Q.GsnB=function(){Q.call(this,"GsnB");
this.$H=[new WO([12,56],.1,400,"px",1,!0)];this.Jt()};Q.GsnB.prototype=new Q;Q.GsnB.prototype.Uy=function(e,j){j[0]=e.Rds.v.val};
Q.GsnB.prototype.fa=function(e,j){e.Rds.v.val=j[0]};Q.MtnB=function(){Q.call(this,"MtnB");this.$H=[new xn([12,15]),new WO([12,28],1,100," px")];
this.Jt()};Q.MtnB.prototype=new Q;Q.MtnB.prototype.Uy=function(e,j){j[0]=e.Angl.v;j[1]=e.Dstn.v.val};
Q.MtnB.prototype.fa=function(e,j){e.Angl.v=j[0].Aa;e.Dstn.v.val=j[1]};Q.RdlB=function(){Q.call(this,"RdlB");
this.$H=[new WO([12,57],1,100),new xI([12,36],["Spin","Zoom"]),new vD("Off X",0,1,null,2),new vD("Off Y",0,1,null,2)];
this.Jt()};Q.RdlB.prototype=new Q;Q.RdlB.prototype.Uy=function(e,j){j[0]=e.Amnt.v;j[1]=["Spn","Zm"].indexOf(e.BlrM.v.BlrM);
j[2]=e.Cntr.v.Hrzn.v;j[3]=e.Cntr.v.Vrtc.v};Q.RdlB.prototype.fa=function(e,j){e.Amnt.v=j[0];e.BlrM.v.BlrM=["Spn","Zm"][j[1]];
e.Cntr.v.Hrzn.v=j[2];e.Cntr.v.Vrtc.v=j[3]};Q.Dspl=function(){Q.call(this,"Dspl");this.$H=[new Wh([6,36,3],["a","b"]),new WO([22,4,0],-100,100,"px"),new WO([22,4,1],-100,100,"px"),new Wh([24,18,0],[[24,18,3],[24,18,2]])];
this.Jt()};Q.Dspl.prototype=new Q;Q.Dspl.prototype.Uy=function(e,j,g){this.ZEP=[];this.wO=[];var P=-1,p=g?g[0]:null;
if(p==null)p=this.ZZQ;else this.ZZQ=p;if(p)for(var v=0;v<p.length;v++){var x=p[v];this.ZEP.push(x.ib.trim());
this.wO.push(x.Bv);if(x.Bv==e.DspF.v.pth)P=v}this.$H[0].ph(this.ZEP);j[0]=P==-1?0:P;j[1]=e.HrzS.v;j[2]=e.VrtS.v;
j[3]=["WrpA","RptE"].indexOf(e.UndA.v.UndA)};Q.Dspl.prototype.fa=function(e,j){if(this.wO.length==0)return;
e.DspF.v.pth=this.wO[j[0]];e.HrzS.v=j[1];e.VrtS.v=j[2];e.UndA.v.UndA=["WrpA","RptE"][j[3]]};Q.Pnch=function(){Q.call(this,"Pnch");
this.$H=[new WO([12,57],-100,100,"%")];this.Jt()};Q.Pnch.prototype=new Q;Q.Pnch.prototype.Uy=function(e,j){j[0]=e.Amnt.v};
Q.Pnch.prototype.fa=function(e,j){e.Amnt.v=j[0]};Q["Plr "]=function(){Q.call(this,"Plr ");this.$H=[new xI(null,["Rect to Polar","Polar to Rect"])];
this.Jt()};Q["Plr "].prototype=new Q;Q["Plr "].prototype.Uy=function(e,j){j[0]=["RctP","PlrR"].indexOf(e.Cnvr.v.Cnvr)};
Q["Plr "].prototype.fa=function(e,j){e.Cnvr.v.Cnvr=["RctP","PlrR"][j[0]]};Q.Rple=function(){Q.call(this,"Rple");
this.$H=[new WO([12,57],-999,999),new Wh([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.Jt()};Q.Rple.prototype=new Q;
Q.Rple.prototype.Uy=function(e,j){j[0]=e.Amnt.v;j[1]=["Sml","Mdm","Lrg"].indexOf(e.RplS.v.RplS)};Q.Rple.prototype.fa=function(e,j){e.Amnt.v=j[0];
e.RplS.v.RplS=["Sml","Mdm","Lrg"][j[1]]};Q["Shr "]=function(){Q.call(this,"Shr ");this.$H=[new xe(!0,!0),new Wh([24,18,0],[[24,18,3],[24,18,2]])];
this.Jt()};Q["Shr "].prototype=new Q;Q["Shr "].prototype.Uy=function(e,j){var g=new WE(0,255/127,255/127,0,-2,128),P=JSON.parse(JSON.stringify(e.ShrP.v));
Z.jM.K(P,g);j[0]=P;j[1]=["WrpA","RptE"].indexOf(e.UndA.v.UndA)};Q["Shr "].prototype.fa=function(e,j){var g=new WE(0,255/127,255/127,0,-2,128);
g.OF();Z.jM.K(j[0],g);e.ShrP.v=j[0];e.ShrE.v=j[0].length-1;e.UndA.v.UndA=["WrpA","RptE"][j[1]]};Q.Sphr=function(){Q.call(this,"Sphr");
this.$H=[new WO([12,57],-100,100),new Wh([12,36],["Normal",[22,4,0],[22,4,1]])];this.Jt()};Q.Sphr.prototype=new Q;
Q.Sphr.prototype.Uy=function(e,j){j[0]=e.Amnt.v;j[1]=["Nrml","HrzO","VrtO"].indexOf(e.SphM.v.SphM)};
Q.Sphr.prototype.fa=function(e,j){e.Amnt.v=j[0];e.SphM.v.SphM=["Nrml","HrzO","VrtO"][j[1]]};Q.Twrl=function(){Q.call(this,"Twrl");
this.$H=[new WO([12,15],-999,999)];this.Jt()};Q.Twrl.prototype=new Q;Q.Twrl.prototype.Uy=function(e,j){j[0]=e.Angl.v};
Q.Twrl.prototype.fa=function(e,j){e.Angl.v=j[0]};Q.Wave=function(){Q.call(this,"Wave");this.ZEZ=[1,2,3,4];
this.$H=[new WO("Number of Generators",1,100),new vD("Min Length",1,999),new vD("Max Length",1,999),new vD("Min Ampl.",1,999),new vD("Max Ampl.",1,999),new vD("Scale X",1,100,"%"),new vD("Scale Y",1,100,"%"),new xI([12,44],["Sine","Triangle",[12,93,3]]),new Wh([24,18,0],[[24,18,3],[24,18,2]]),new xH("Randomizer Seed")];
this.Jt()};Q.Wave.prototype=new Q;Q.Wave.prototype.Uy=function(e,j){j[0]=e.NmbG.v;j[1]=e.WLMn.v;j[2]=e.WLMx.v;
j[3]=e.AmMn.v;j[4]=e.AmMx.v;j[5]=e.SclH.v;j[6]=e.SclV.v;j[7]=["WvSn","WvTr","WvSq"].indexOf(e.Wvtp.v.Wvtp);
j[8]=["WrpA","RptE"].indexOf(e.UndA.v.UndA);j[9]=e.RndS.v};Q.Wave.prototype.fa=function(e,j){e.NmbG.v=j[0];
e.WLMn.v=j[1];e.WLMx.v=j[2];e.AmMn.v=j[3];e.AmMx.v=j[4];e.SclH.v=j[5];e.SclV.v=j[6];e.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][j[7]];
e.UndA.v.UndA=["WrpA","RptE"][j[8]];var g=parseInt(j[9]);if(isNaN(g))g=248325464;g=Math.max(0,Math.min(268435455,g));
e.RndS.v=g;this.$H[9].J(g)};Q["\0\0\x02\xB5"]=function(){Q.call(this,"\0\0\x02\xB5");this.$H=[new WO([12,56],1,200," px"),new WO([4,13],1,255," px")];
this.Jt()};Q["\0\0\x02\xB5"].prototype=new Q;Q["\0\0\x02\xB5"].prototype.Uy=function(e,j){j[0]=e.Rds.v.val;
j[1]=e.Thsh.v};Q["\0\0\x02\xB5"].prototype.fa=function(e,j){e.Rds.v.val=j[0];e.Thsh.v=j[1]};Q.AdNs=function(){Q.call(this,"AdNs");
this.$H=[new WO([12,57],0,200," %"),new Wh([12,58],[[12,59,0],[12,59,1]]),new Wk([12,60])];this.Jt()};
Q.AdNs.prototype=new Q;Q.AdNs.prototype.Uy=function(e,j){j[0]=e.Nose.v.val;j[1]=["Unfr","Gsn"].indexOf(e.Dstr.v.Dstr);
j[2]=e.Mnch.v};Q.AdNs.prototype.fa=function(e,j){e.Nose.v.val=j[0];e.Dstr.v.Dstr=["Unfr","Gsn"][j[1]];
e.Mnch.v=j[2]};Q.DstS=function(){Q.call(this,"DstS");this.$H=[new WO([12,56],1,200," px"),new WO([4,13],1,255," px")];
this.Jt()};Q.DstS.prototype=new Q;Q.DstS.prototype.Uy=function(e,j){j[0]=e.Rds.v;j[1]=e.Thsh.v};Q.DstS.prototype.fa=function(e,j){e.Rds.v=j[0];
e.Thsh.v=j[1]};Q["Mdn "]=function(){Q.call(this,"Mdn ");this.$H=[new WO([12,56],1,200," px")];this.Jt()};
Q["Mdn "].prototype=new Q;Q["Mdn "].prototype.Uy=function(e,j){j[0]=e.Rds.v.val};Q["Mdn "].prototype.fa=function(e,j){e.Rds.v.val=j[0]};
Q.ClrH=function(){Q.call(this,"ClrH");this.$H=[new WO([12,56],4,100," px")];for(var e=1;e<4;e++)this.$H.push(new WO("Angle "+e,0,90," \xB0"));
this.Jt()};Q.ClrH.prototype=new Q;Q.ClrH.prototype.Uy=function(e,j){j[0]=e.Rds.v;for(var g=1;g<4;g++)j[g]=e["Ang"+g].v};
Q.ClrH.prototype.fa=function(e,j){e.Rds.v=j[0];for(var g=1;g<4;g++)e["Ang"+g].v=j[g]};Q.ClrH.prototype.w=function(){var e=this.$H;
e[0].w();for(var j=1;j<4;j++)e[j].FU(Zr.get([12,15])+" "+j)};Q.Crst=function(){Q.call(this,"Crst");this.$H=[new WO([12,61],3,100," px")];
this.Jt()};Q.Crst.prototype=new Q;Q.Crst.prototype.Uy=function(e,j){j[0]=e.ClSz.v};Q.Crst.prototype.fa=function(e,j){e.ClSz.v=j[0]};
Q.Mztn=function(){Q.call(this,"Mztn");this.$H.push(new Wh([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.wO="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Jt()};Q.Mztn.prototype=new Q;
Q.Mztn.prototype.Uy=function(e,j){j[0]=this.wO.indexOf(e.MztT.v.MztT)};Q.Mztn.prototype.fa=function(e,j){e.MztT.v.MztT=this.wO[j[0]]};
Q["Msc "]=function(){Q.call(this,"Msc ");this.$H=[new WO([12,61],2,200," px")];this.Jt()};Q["Msc "].prototype=new Q;
Q["Msc "].prototype.Uy=function(e,j){j[0]=e.ClSz.v.val};Q["Msc "].prototype.fa=function(e,j){e.ClSz.v.val=j[0]};
Q.Pntl=function(){Q.call(this,"Pntl");this.$H=[new WO([12,61],3,100," px")];this.Jt()};Q.Pntl.prototype=new Q;
Q.Pntl.prototype.Uy=function(e,j){j[0]=e.ClSz.v};Q.Pntl.prototype.fa=function(e,j){e.ClSz.v=j[0]};Q["\0\0\x03\xE8"]=function(){Q.call(this,"\0\0\x03\xE8");
this.$H=[new WO([12,57],1,200,"%"),new WO([12,56],0,200,"px",1,!0)];this.Jt()};Q["\0\0\x03\xE8"].prototype=new Q;
Q["\0\0\x03\xE8"].prototype.Uy=function(e,j){j[0]=e.Amnt.v.val;j[1]=e.Rds.v.val};Q["\0\0\x03\xE8"].prototype.fa=function(e,j){e.Amnt.v.val=j[0];
e.Rds.v.val=j[1]};Q.UnsM=function(){Q.call(this,"UnsM");this.$H=[new WO([12,57],1,200," %"),new WO([12,56],0,200," px"),new WO([4,13],0,255," ")];
this.Jt()};Q.UnsM.prototype=new Q;Q.UnsM.prototype.Uy=function(e,j){j[0]=e.Amnt.v.val;j[1]=e.Rds.v.val;
j[2]=e.Thsh.v};Q.UnsM.prototype.fa=function(e,j){e.Amnt.v.val=j[0];e.Rds.v.val=j[1];e.Thsh.v=j[2]};Q.HghP=function(){Q.call(this,"HghP");
this.$H=[new WO([12,56],1,200," px")];this.Jt()};Q.HghP.prototype=new Q;Q.HghP.prototype.Uy=function(e,j){j[0]=e.Rds.v.val};
Q.HghP.prototype.fa=function(e,j){e.Rds.v.val=j[0]};Q["Mxm "]=function(){Q.call(this,"Mxm ");this.$H=[new WO([12,56],1,200," px")];
this.Jt()};Q["Mxm "].prototype=new Q;Q["Mxm "].prototype.Uy=function(e,j){j[0]=e.Rds.v.val};Q["Mxm "].prototype.fa=function(e,j){e.Rds.v.val=j[0]};
Q["Mnm "]=function(){Q.call(this,"Mnm ");this.$H=[new WO([12,56],1,200," px")];this.Jt()};Q["Mnm "].prototype=new Q;
Q["Mnm "].prototype.Uy=function(e,j){j[0]=e.Rds.v.val};Q["Mnm "].prototype.fa=function(e,j){e.Rds.v.val=j[0]};
Q.Ofst=function(){Q.call(this,"Ofst");this.$H=[new WO([22,4,0],-1024,1024," px"),new WO([22,4,1],-1024,1024," px"),new Wh([24,18,0],[[24,18,1],[24,18,2],[24,18,3]])];
this.Jt()};Q.Ofst.prototype=new Q;Q.Ofst.prototype.Uy=function(e,j){j[0]=e.Hrzn.v;j[1]=e.Vrtc.v;j[2]=["Bckg","Rpt","Wrp"].indexOf(e.Fl.v.FlMd)};
Q.Ofst.prototype.fa=function(e,j){e.Hrzn.v=j[0];e.Vrtc.v=j[1];e.Fl.v.FlMd=["Bckg","Rpt","Wrp"][j[2]]};
Q.Rept=function(){Q.call(this,"Rept");this.$H=[new vD([12,38],1,300," %"),new vD("Row Shift",-50,50," %"),new vD("Space X",-99,200," %"),new vD("Space Y",-99,200," %"),new Wk([4,16,2]),new xn([12,15])];
this.Jt()};Q.Rept.prototype=new Q;Q.Rept.prototype.Uy=function(e,j){j[0]=e.Scl.v.val;j[1]=e.Rsft.v.val;
j[2]=e.SpcX.v.val;j[3]=e.SpcY.v.val;j[4]=e.SpcC.v;j[5]=e.Angl.v};Q.Rept.prototype.fa=function(e,j){e.Scl.v.val=j[0];
e.Rsft.v.val=j[1];e.SpcX.v.val=j[2];e.SpcY.v.val=j[3];e.SpcC.v=j[4];e.Angl.v=j[5].Aa;return e};Q.LqFy=function(){Q.call(this,"LqFy");
this.WO=!1;this.aS=null;this.ZfU=null;this.X=0;this.xE={wh:[[{X:{id:0,name:[24,1,0,1,0],jD:"liq/smudge"}}],[{X:{id:1,name:[24,1,0,1,1],jD:"liq/reconstruct"}}],[{X:{id:2,name:[24,1,0,1,2],jD:"liq/smooth"}}],[{X:{id:3,name:[24,1,0,1,3],jD:"liq/twirl"}}],[{X:{id:4,name:[24,1,0,1,4],jD:"liq/shrink"}}],[{X:{id:5,name:[24,1,0,1,5],jD:"liq/blow"}}],[{X:{id:6,name:[24,1,0,1,6],jD:"liq/pleft"}}]],keys:[]};
this.DR=new Vp(this.xE,!1);this.DR.lQ(0);this.DR.S(V.E.O,this.Z$q,this);this.wM=eC.gE();this.hL=null;
this.BL=[];this.gc=-1;this.tz=null;this.ZEM=null;this.lx=null;this.UY=null;this.lW=null;var e=V.M("div","flexrow");
this.xW=e;this.l.appendChild(e);e.appendChild(this.DR.l);this.view=new ew(!0);this.view.Ov(100,100);
this.view.S("mousedown",this.QN,this);this.view.S("mousemove",this.Aw,this);this.view.S("mouseup",this.Sy,this);
this.view.S("zoom",this.gB,this);e.appendChild(this.view.l);var j=V.M("div","form");e.appendChild(j);
this.wu=j;j.style.width="230px";this.Lu=[new WO([12,14,0],0,1e3,null,!1,!0),new WO([12,74],0,100,null,!1,!1),new WO([12,84],0,100,null,!1,!1),new Wk([12,46]),new WO([12,0],0,100,null,!1,!1)];
var g=this.wM.Brsh.v;g.Dmtr.v.val=100;var P=[100,50,100,!1,100];for(var p=0;p<this.Lu.length;p++){var v=this.Lu[p];
v.J(P[p]);v.S(V.E.m,this.Z$H,this);j.appendChild(v.l)}var x=new WI("Reset",!0,null,!0);x.S("click",this.dW,this);
j.appendChild(x.l);this.Bo=new WN;this.Bo.l=V.M("div","floatcont");this.UR=new WI("Menu",!1,null,!0);
this.UR.S("click",this.Z$D,this);var A=this.UR.l;A.setAttribute("style","position:absolute; right:13px; top:47px")};
Q.LqFy.prototype=new Q;Q.LqFy.prototype.CO=function(){return!0};Q.LqFy.prototype.sp=function(e){this.wu.appendChild(e)};
Q.LqFy.prototype.Z$D=function(e){var j=this.UR.l.getBoundingClientRect();this.Bo.l.appendChild(this.wu);
var g=new z(V.E.O,!0);g.data={U:V.a.LD,JR:this.Bo,x:j.right+j.width-290,y:j.top+j.height};this.P(g)};
Q.LqFy.prototype.Pm=function(e){this.WO=e.v(q.io);var j=o.sB.yh(this.wM,e);if(j!=null){this.wM=j;this.gB();
this.Lu[0].J(j.Brsh.v.Dmtr.v.val)}else if(e.v(q.kA)&&e.v(q.RF)){var g=this.BL;if(e.v(q.Ag)){if(this.gc+1<g.length)this.gc++}else if(this.gc>0)this.gc--;
this.hL.map=g[this.gc].slice(0);this.TE(null)}else this.view.Pm(e)};Q.LqFy.prototype.Z$q=function(e){if(e.data.U==V.a.tq){this.X=e.data.X;
this.DR.lQ(this.X)}};Q.LqFy.prototype.Z$H=function(e){var j=e.currentTarget,g=this.Lu.indexOf(j),P=this.wM.Brsh.v;
if(g==0){P.Dmtr.v.val=j.C();this.gB()}if(g>2)this.TE(null)};Q.LqFy.prototype.jP=function(){var e=this.BL;
this.gc++;e[this.gc]=this.hL.map.slice(0);while(e.length>this.gc+1)e.pop();while(e.length>50){e=e.slice(1);
this.gc--}};Q.LqFy.prototype.QN=function(e){this.bd();this.aS=this.view.dU();this.ZfU=new Uc(0,0);this.S(V.E.OG,this.dC,this)};
Q.LqFy.prototype.Aw=function(e){var j=this.view.dU(),g=new Uc(j.x-this.aS.x,j.y-this.aS.y);if(this.X==0||this.X==6)this.Zuj(g);
this.aS=j};Q.LqFy.prototype.Sy=function(e){this.jP();this.bd()};Q.LqFy.prototype.bd=function(){if(this.my(V.E.OG,this.dC))this.removeEventListener(V.E.OG,this.dC,this)};
Q.LqFy.prototype.dC=function(e){if(this.X!=0&&this.X!=6)this.Zuj(new Uc(0,0))};Q.LqFy.prototype.Zuj=function(e){var j=this.hL,g=j.LB/this.tz.W,P=this.aS,p=this.wM.Brsh.v,v=p.Dmtr.v.val,x=Date.now(),A=j.LB,f=j.GF,S=Math.sqrt(e.x*e.x+e.y*e.y),F=Math.max(1,Math.ceil(S/2)),m=e.x/F,R=e.y/F,M=P.clone(),b=this.X,s=this.Lu[1].C()/100,K=this.Lu[2].C()/100,X=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],d=X[b*2],W=X[b*2+1],O=(1-s)*d+s*W,H=v*g/2;
for(var Y=0;Y<F;Y++){var y=[];M.x+=m;M.y+=R;Z.Bq.Zzg(j.map,A,f,b,M.x*g,M.y*g,H,s,K,m*g,R*g,y,this.WO);
Z.Bq.ZTU(A,f,j.map,y,2*O*K)}var B=new G(0,0,A,f),c=new G(P.x*g,P.y*g,0,0);c.F_(v*g*.5,v*g*.5);var $=c.clone();
$.offset(e.x*g,e.y*g);c=c.Gd($);var I=new G(c.x/g,c.y/g,c.W/g,c.j/g);I=Z.g.FD(I).zx(this.tz);this.TE(I)};
Q.LqFy.prototype.gB=function(){var e=WM.TZ(this.wM,null,this.view.bZ().d);this.view.nQ(e)};Q.LqFy.prototype.J=function(e,j,g,P,p){g=g.clone();
if(j==null)return;if(!P.iJ(g)){var v=g.Gd(P),x=Z.V(v.h()*4);Z.Vy(j,g,x,v);j=x;g=v}g.x=g.y=0;this.lx=j;
this.ZEM=p;this.lW=j.slice(0);this.UY=j.slice(0);this.tz=g;this.hL=VC.aW(new Uint8Array(e.LqMe.v).buffer);
var A=g.W,f=g.j;if(this.hL.LB/A<.22){this.hL={LB:Math.floor(A/4),GF:Math.floor(f/4)};this.hL.map=new Float32Array(this.hL.LB*this.hL.GF*2)}this.BL=[];
this.gc=-1;this.jP();this.TE(null);this.gB()};Q.LqFy.prototype.C=function(){this.bd();var e=ZW.WX("LqFy"),j=new Uint8Array(VC.LE(this.hL)),g=[];
for(var P=0;P<j.length;P++)g.push(j[P]);e.LqMe.v=g;return e};Q.LqFy.prototype.Ov=function(e,j){this.DR.Ov(e,j);
var g=this.UR.l,P=this.wu;this.xW.appendChild(P);this.xW.appendChild(g);if(e>450){P.style.marginLeft="1em";
this.xW.removeChild(g);this.view.Ov(e-238-45,j)}else{P.style.marginLeft="";this.xW.removeChild(P);this.view.Ov(e-40,j)}};
Q.LqFy.prototype.w=function(){this.DR.w();for(var e=0;e<this.Lu.length;e++)this.Lu[e].w()};Q.LqFy.prototype.dW=function(){this.bd();
this.hL.map.fill(0);this.jP();this.TE(null)};Q.LqFy.prototype.TE=function(e){var j=this.tz,g=this.lx,P=this.lW,p=this.hL;
Z.Bq.gg(g,this.UY,j.W,j.j,e,p.map,p.LB,p.GF,0);if(this.Lu[3].$I()){Z.Vy(this.ZEM,j,P,j,e?e:j);Z.Y.$Q("norm",this.UY,j,P,j,e?e:j,this.Lu[4].C()/100)}else Z.Ue(this.UY,P);
this.view.J([{Fa:j,data:P.buffer}])};Q.GEfc=function(){Q.call(this,"GEfc");this.PN=0;this.XV=0;this.lx=null;
this.lW=null;this.tz=null;this.tS=null;this.kP=null;this.di=0;var e=V.M("div","flexrow");this.xW=e;this.l.appendChild(e);
this.view=new ew;this.view.Ov(100,100);e.appendChild(this.view.l);var j=V.M("div","form");e.appendChild(j);
j.style.width="230px";j.style.marginLeft="1em";this.Uk=[];var g=[];this.zo={};for(var P in Zv.names){this.Uk.push(P);
g.push(Zv.names[P]);var p=new Q.GEfc.jY(P);this.zo[P]=p;p.S(V.E.m,this.ZC$,this)}this.wi=V.M("div");
j.appendChild(this.wi);this.wi.style.marginBottom="1.5em";this.sK=new Wh(null,g);j.appendChild(this.sK.l);
this.sK.S(V.E.m,this.ZC$,this);this.Um=V.M("div");this.Um.style.height="14em";j.appendChild(this.Um);
V.ae(j);this.WU=V.M("div","lpbody scrollable");this.GJ=V.M("div","lpfoot");j.appendChild(this.WU);j.appendChild(this.GJ);
this.S("click",this.Z$s,this);this.GK=[];vK.dl([[5,3],[5,4]],this.GK,this.GJ,this.vi.bind(this))};Q.GEfc.prototype=new Q;
Q.GEfc.prototype.CO=function(){return!0};Q.GEfc.prototype.sp=function(e){this.wi.appendChild(e)};Q.GEfc.prototype.wY=function(e,j){this.tS=e};
Q.GEfc.prototype.Ov=function(e,j){this.PN=e;this.XV=j;this.view.Ov(e-240,j);this.WU.style.height=j-this.Um.getBoundingClientRect().height-140+"px"};
Q.GEfc.prototype.vi=function(e){var j=vK.bc(this.GK,e),g=this.kP.GEfs.v,P=g[this.di].v;if(j==0){g.push(JSON.parse(JSON.stringify(g[this.di])));
this.di=g.length-1}else{g.splice(this.di,1);if(this.di==g.length)this.di--}this.bD();this.TE()};Q.GEfc.prototype.ZC$=function(e){var j=this.Uk[this.sK.C()],g;
if(e.target==this.sK)g=Zv.WX(j);else g=this.zo[j].C();this.kP.GEfs.v[this.di].v=g;this.bD();this.TE()};
Q.GEfc.prototype.J=function(e,j,g,P,p){console.log(e);e=this.kP=JSON.parse(JSON.stringify(e));if(e.GEfs==null)e=this.kP={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:e}]}};
var v=e.GEfs.v;for(var x=0;x<v.length;x++)if(v[x].v.GELv==null)v[x].v.GELv={t:"bool",v:!0};this.di=v.length-1;
this.bD();g=g.clone();if(j==null)return;if(!P.iJ(g)){var A=g.Gd(P),f=Z.V(A.h()*4);Z.Vy(j,g,f,A);j=f;
g=A}g.x=g.y=0;this.lx=j;this.lW=j.slice(0);this.tz=g;this.TE()};Q.GEfc.prototype.Z$s=function(e){var j=e.data,g=j.VS,P=this.kP.GEfs.v;
if(j.WW){P[g].v.GELv.v=!P[g].v.GELv.v;this.TE()}else this.di=g;this.bD()};Q.GEfc.prototype.bD=function(){var e=this.kP.GEfs.v,j=e[this.di].v,g=j.GEfk.v.GEft,P=this.Uk.indexOf(g),p=this.Um;
if(P==-1){alert("Unsupported gallery filter");this.sK.GR();V.kO(p)}else{this.sK.J(P);this.sK.EE();var v=this.zo[g];
v.J(j);if(p.firstChild!=v.l){V.kO(p);p.appendChild(v.l)}}var x=[];for(var A=0;A<e.length;A++){var f=e[A].v,S=Zv.names[f.GEfk.v.GEft],F=new Ul(A,!0,!1,null,S?S:"Filter",A==this.di,f.GELv.v);
F.parent=this;x.push(F.l)}V.kO(this.WU);x.reverse();for(var A=0;A<x.length;A++)this.WU.appendChild(x[A]);
this.Ov(this.PN,this.XV)};Q.GEfc.prototype.C=function(){return JSON.parse(JSON.stringify(this.kP))};
Q.GEfc.prototype.TE=function(e){var j=this.tz,g=this.lx,P=this.lW,p=this.Uk[this.sK.C()],v=this.kP,x=this.tS;
function A(f){return{k:f>>>16,z:f>>>8&255,e:f&255}}ZW.eI("GEfc",{rect:this.tz,buffer:this.lx},v,A(x.Jm),A(x.gK),{rect:this.tz,buffer:this.lW},null);
this.view.J([{Fa:j,data:P.buffer}])};Q.GEfc.prototype.w=function(){for(var e in this.zo)this.zo[e].w();
vK.KX(this.GK,["lrs/newlayer","lrs/bin"])};Q.GEfc.jY=function(e){WN.call(this);this.dE=e;this.l=V.M("div");
this.JT={};var j=Zv.WX(e);for(var g in j){var P;if(g=="__name"||g=="classID"||g=="GEfk"||g=="GELv"||["LghI","FlRs"].indexOf(g)!=-1)continue;
else if(g=="Sz")P=new WO([12,14,0],1,50);else if(g=="Dtl")P=new WO("Detail",1,15);else if(g=="Shrp")P=new WO("Sharpness",0,40);
else if(g=="BrsT")P=new Wh("Brush type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(g=="LghD")P=new Wh("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(g=="SDir")P=new Wh([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(g=="EdgW")P=new WO("Edge Width",1,14);
else if(g=="EdgB")P=new WO("Edge Brightness",0,20);else if(g=="Smth")P=new WO([19,3,3],1,15);else if(g=="ClSz")P=new WO([12,61],3,100);
else if(g=="BrdT")P=new WO([7,9],1,20);else if(g=="HghS")P=new WO([12,64],0,20);else if(g=="HlSz")P=new WO([12,14,0],1,15);
else if(g=="Cntr")P=new WO([12,3,0],0,50);else if(g=="ScrT")P=new Wh([12,62],["Circle","Dot",[10,35]]);
else if(g=="SprR")P=new WO("Spray Radius",0,25);else if(g=="StrL")P=new WO("Stroke Length",0,20);else console.log(g);
P.S(V.E.m,this.VY,this);this.JT[g]=P;this.l.appendChild(P.l)}};Q.GEfc.jY.prototype=new WN;Q.GEfc.jY.prototype.VY=function(e){this.P(new z(V.E.m,!1))};
Q.GEfc.jY.prototype.J=function(e){for(var j in this.JT){var g;if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(j)!=-1)g=e[j].v;
else if(j=="BrsT")g=Zv.Zaf.indexOf(e[j].v[j]);else if(j=="LghD")g=Zv.tM.indexOf(e[j].v[j]);else if(j=="ScrT")g=Zv.tb.indexOf(e[j].v[j]);
else if(j=="SDir")g=Zv.tl.indexOf(e[j].v.StrD);this.JT[j].J(g)}};Q.GEfc.jY.prototype.C=function(){var e=Zv.WX(this.dE);
for(var j in this.JT){var g=this.JT[j].C();if("Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL".split(" ").indexOf(j)!=-1)e[j].v=g;
else if(j=="BrsT")e[j].v[j]=Zv.Zaf[g];else if(j=="LghD")e[j].v[j]=Zv.tM[g];else if(j=="ScrT")e[j].v[j]=Zv.tb[g];
else if(j=="SDir")e[j].v.StrD=Zv.tl[g]}return e};Q.GEfc.jY.prototype.w=function(){for(var e in this.JT)this.JT[e].w()};
Q.blnc=function(){Q.call(this);var e=this.l;this.bq=null;this.zy=new Wh([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.zy.S(V.E.m,this.TE,this);e.appendChild(this.zy.l);this.jL=[];for(var j=0;j<3;j++){var g=new WO(Wj.kr[j],-100,100);
g.S(V.E.m,this.BM,this);this.jL.push(g);e.appendChild(g.l)}this.zh=new Wk([13,4]);this.zh.S(V.E.m,this.BM,this);
e.appendChild(this.zh.l)};Q.blnc.prototype=new Q;Q.blnc.prototype.w=function(){this.zy.w();for(var e=0;
e<3;e++)this.jL[e].w();this.zh.w()};Q.blnc.prototype.J=function(e){this.bq=JSON.parse(JSON.stringify(e));
this.TE()};Q.blnc.prototype.C=function(e){var j=["ShdL","MdtL","HghL"],g=this.bq[j[this.zy.C()]].v;for(var P=0;
P<3;P++)g[P].v=this.jL[P].C();this.bq.PrsL.v=this.zh.C();return JSON.parse(JSON.stringify(this.bq))};
Q.blnc.prototype.TE=function(e){var j=["ShdL","MdtL","HghL"],g=this.bq[j[this.zy.C()]].v;for(var P=0;
P<3;P++)this.jL[P].J(g[P].v);this.zh.J(this.bq.PrsL.v)};Q.brit=function(){Q.call(this,"brit");this.$H.push(new WO([12,2],-150,150,""));
this.$H.push(new WO([12,3,0],-100,100,""));this.$H.push(new Wk([12,3,1]));this.Jt()};Q.brit.prototype=new Q;
Q.brit.prototype.Uy=function(e,j){j[0]=e.Brgh?e.Brgh.v:0;j[1]=e.Cntr?e.Cntr.v:0;j[2]=e.useLegacy?e.useLegacy.v:!1};
Q.brit.prototype.fa=function(e,j){e.Brgh.v=j[0];e.Cntr.v=j[1];e.useLegacy.v=j[2]};Q.curv=function(){Q.call(this);
this.value=null;this.Sn=null;var e=this.l;this.UP=new Wh([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.UP.S(V.E.m,this.fc,this);e.appendChild(this.UP.l);this.Cd=new Wh(null,["Spline","Sketch"]);this.Cd.S(V.E.m,this.Z$K,this);
e.appendChild(this.Cd.l);this.n_=new xe;this.n_.S(V.E.m,this.sA,this);e.appendChild(this.n_.l);this.zM=new Va("Sample from image",["#000000","#888888","#ffffff"]);
e.appendChild(this.zM.l)};Q.curv.prototype=new Q;Q.curv.prototype.w=function(){this.UP.w()};Q.curv.prototype.Z$K=function(e){var j=Ze._v(this.value,0),g=j.length==256?1:0,P=this.Cd.C();
if(g==P)return;var p=ZW.WX("curv");if(P==1){var v=[];for(var x=0;x<256;x++)v.push(x);Ze.ol(p,0,v)}this.J(p);
this.BM()};Q.curv.prototype.sA=function(){Ze.ol(this.value,this.UP.C(),this.n_.C());this.BM()};Q.curv.prototype.fc=function(){var e=this.UP.C(),j=Ze._v(this.value,e),g=j.length==256?1:0;
this.Cd.J(g);if(this.Sn)this.n_.AI(this.Sn[e],this.Sn[4]*[1,.33,.33,.33][e],["#ccc","#fcc","#cfc","#ccf"][e]);
this.n_.J(j)};Q.curv.prototype.eM=function(){return!0};Q.curv.prototype.jT=function(e,j,g,P,p){var v=this.value,x=this.zM.C();
this.value=ZW.WX("curv");this.BM();var A=o.Oc.vh(e,p,1),f=[A>>>16&255,A>>>8&255,A&255];for(var S=0;S<3;
S++){var F=Ze._v(v,1+S);if(x==0)F[0].v.Hrzn.v=f[S];if(x==1){var m=(f[0]+f[1]+f[2])*.333,R=Math.log(f[S]/255)/Math.log(m/255),M=Math.min(999,Math.max(10,Math.round(100*R)));
if(F.length==2)F.splice(1,0,JSON.parse(JSON.stringify(F[0])));F[1].v.Hrzn.v=127-Math.log(M/100)*127;
F[1].v.Vrtc.v=127}if(x==2)F[F.length-1].v.Hrzn.v=f[S];Ze.ol(v,1+S,F)}this.J(v);this.BM()};Q.curv.prototype.J=function(e){this.value=e;
this.fc()};Q.curv.prototype.AI=function(e){this.Sn=e;this.fc()};Q.curv.prototype.C=function(e){return JSON.parse(JSON.stringify(this.value))};
Q.expA=function(){Q.call(this,"expA");this.$H.push(new WO([12,5],-20,20,null,3));this.$H.push(new WO([12,6],-.5,.5,null,3));
this.$H.push(new WO([12,7],.01,6.99,null,3));this.Jt()};Q.expA.prototype=new Q;Q.expA.prototype.Uy=function(e,j){j[0]=e.Exps.v;
j[1]=e.Ofst.v;j[2]=e.gammaCorrection.v};Q.expA.prototype.fa=function(e,j){e.Exps.v=j[0];e.Ofst.v=j[1];
e.gammaCorrection.v=j[2]};Q.grdm=function(){Q.call(this,"grdm");this.$H.push(new eF(!0,null,!0));this.$H.push(new Wk([12,23,0]));
this.Jt()};Q.grdm.prototype=new Q;Q.grdm.prototype.Uy=function(e,j){j[0]=e.Grad.v;j[1]=e.Rvrs?e.Rvrs.v:!1};
Q.grdm.prototype.fa=function(e,j){e.Grad.v=j[0];e.Rvrs={t:"bool",v:j[1]}};Q.grdm.prototype.wY=function(e,j){this.$H[0].H$(e.Jm,e.gK);
if(j==WV.oY||j==WV.qi||j==WV.IK)this.$H[0].EF(e.Wv)};Q.selc=function(){Q.call(this);var e=this.l;this.ir=[];
this.Yi=null;this.zy=new Wh([12,82],Wj.th.concat([[13,1,8],[13,1,13],[13,1,10]]));this.zy.S(V.E.m,this.VY,this);
e.appendChild(this.zy.l);for(var j=0;j<4;j++){var g=new WO(Wj.Zdh[j],-100,100,"%");g.S(V.E.m,this.VY,this);
this.ir.push(g);e.appendChild(g.l)}this.zm=new Wk([13,3]);e.appendChild(this.zm.l);this.zm.S(V.E.m,this.VY,this)};
Q.selc.prototype=new Q;Q.selc.prototype.w=function(){this.zy.w();this.zm.w();for(var e=0;e<4;e++)this.ir[e].w()};
Q.selc.prototype.J=function(e){this.Yi=JSON.parse(JSON.stringify(e));this.TE()};Q.selc.prototype.C=function(e){return JSON.parse(JSON.stringify(this.Yi))};
Q.selc.prototype.VY=function(e){if(e.target!=this.zy){var j=this.Yi,g=[];for(var P=0;P<4;P++)g[P]=this.ir[P].C();
UR.ol(j,this.zy.C(),g);j.Mthd={t:"enum",v:{CrcM:this.zm.C()?"Absl":"Rltv"}}}this.TE();this.BM()};Q.selc.prototype.TE=function(){var e=this.Yi,j=UR._v(e,this.zy.C());
for(var g=0;g<4;g++)this.ir[g].J(j[g]);this.zm.J(e.Mthd?e.Mthd.v.CrcM=="Absl":!1)};Q.blwh=function(){Q.call(this,"blwh");
this.$H.push(new Wk([12,11]));this.$H.push(new xG(!0));for(var e=0;e<6;e++)this.$H.push(new WO(Wj.th[e],-200,300));
this.Jt()};Q.blwh.prototype=new Q;Q.blwh.prototype.Uy=function(e,j){j[0]=e.useTint.v;j[1]=e.tintColor.v;
var g="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)j[2+P]=e[g[P]].v};Q.blwh.prototype.fa=function(e,j){e.useTint.v=j[0];
e.tintColor.v=j[1];var g="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)e[g[P]].v=j[2+P]};
Q.hue2=function(){Q.call(this);this.value=null;this.pH=null;this.ZEc=null;var e=this.l;this.zy=new Wh([12,12],["Master"].concat(Wj.th));
this.zy.S(V.E.m,this.fc,this);e.appendChild(this.zy.l);this.Yt=new WO([12,8],-180,180);this.Yt.S(V.E.m,this.bL,this);
e.appendChild(this.Yt.l);this.BE=new WO([12,9],-100,100);this.BE.S(V.E.m,this.bL,this);e.appendChild(this.BE.l);
this.zQ=new WO([12,10],-100,100);this.zQ.S(V.E.m,this.bL,this);e.appendChild(this.zQ.l);this.GU=new Wk([12,11]);
this.GU.S(V.E.m,this.ZOW,this);e.appendChild(this.GU.l);this.ZSd=new vQ("...",!0);e.appendChild(this.ZSd.l)};
Q.hue2.prototype=new Q;Q.hue2.prototype.w=function(){this.Yt.w();this.BE.w();this.zQ.w();this.GU.w();
this.zy.w()};Q.hue2.prototype.ZOW=function(e){var j=this.GU.C();this.value.Clrz.v=j;if(j)this.zy.J(0);
this.fc();this.BM()};Q.hue2.prototype.bL=function(e){var j=this.value.Clrz.v,g=this.zy.C(),P=Zq._v(this.value,g),p=g==0?P:P.jL;
p[0]=this.Yt.C();var v=this.BE.C();p[1]=j?Math.max(0,v):v;p[2]=this.zQ.C();Zq.ol(this.value,g,P);this.fc();
this.BM()};Q.hue2.prototype.fc=function(){var e=this.value.Clrz?this.value.Clrz.v:!1,p="";this.GU.J(e);
if(e)this.zy.GR();else this.zy.EE();var j=this.zy.C(),g=Zq._v(this.value,j),P=j==0?g:g.jL;this.Yt.J(P[0]);
this.BE.J(P[1]);this.zQ.J(P[2]);if(!e){p+=Zr.get([5,8])+": ";var j=this.zy.C();if(j==0)p+=Zr.get([13,2]);
else p+=g.IE}this.ZSd.J(p)};Q.hue2.prototype.eM=function(){return!0};Q.hue2.prototype.Lr=function(e,j,g,P,p){var v=this.value;
this.value=ZW.WX("hue2");this.BM();var x=o.Oc.vh(e,p,1),A=[x>>>16&255,x>>>8&255,x&255],f=Z.LY(A[0]/255,A[1]/255,A[2]/255);
this.zy.J(1+Math.round(f.GF*6)%6);this.J(v);this.BM();this.pH=p.x;this.ZEc=this.BE.C()};Q.hue2.prototype.tg=function(e,j,g,P,p){if(this.pH!=null){var v=p.x-this.pH;
v=Math.max(-100,Math.min(100,this.ZEc+.5*v));this.BE.J(v);this.bL()}};Q.hue2.prototype.jT=function(e,j,g,P,p){this.pH=null};
Q.hue2.prototype.J=function(e){this.value=JSON.parse(JSON.stringify(e));this.fc()};Q.hue2.prototype.C=function(e){return JSON.parse(JSON.stringify(this.value))};
Q.levl=function(){Q.call(this);this.value=null;this.Sn=null;this.dN=[new Uc(0,0),new Uc(0,0),new Uc(0,0),new Uc(0,0),new Uc(0,0)];
this.BU=-1;this.AZ=this.tp.bind(this);this.AW=this.vl.bind(this);var e=this.l;this.UP=new Wh([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.UP.S(V.E.m,this.fc,this);e.appendChild(this.UP.l);var j=V.M("div","");e.appendChild(j);var g=V.M("div","");
e.appendChild(g);this.zi=V.M("canvas");j.appendChild(this.zi);this.OE=this.zi.getContext("2d");this.la=new Uc(256,120);
this.zi.setAttribute("style","display:block");V.ik(this.zi,this.la.x,this.la.y,this.OE);V.WV(this.zi);
V.lI(this.zi,this.vY.bind(this));this.Jn=V.M("canvas","");g.appendChild(this.Jn);this.Cq=this.Jn.getContext("2d");
this.Wg=new Uc(this.la.x,40);this.Jn.setAttribute("style","display:block");V.ik(this.Jn,this.Wg.x,this.Wg.y,this.Cq);
V.WV(this.Jn);V.lI(this.Jn,this.ZON.bind(this));var P=this.ZSy=[];for(var p=0;p<5;p++){var v=new xH(null,null,3);
P.push(v);v.S(V.E.m,this.ZOn,this);(p<2||p==4?j:g).appendChild(v.l)}j.appendChild(P[1].l);P[4].l.setAttribute("style","margin: 0 4.7em");
P[3].l.setAttribute("style","margin:0 0 0 13em");this.zM=new Va("Sample from image",["#000000","#888888","#ffffff"]);
e.appendChild(this.zM.l)};Q.levl.prototype=new Q;Q.levl.prototype.w=function(){this.UP.w()};Q.levl.prototype.ZOn=function(e){var j=[];
for(var g=0;g<5;g++){var P=255,p=1;if(g==4){P=999;p=100}var v=parseFloat(this.ZSy[g].C());j[g]=Math.max(0,Math.min(P,v*p))}eg.ol(this.value,this.UP.C(),j);
this.fc();this.BM()};Q.levl.prototype.fc=function(e){var j=this.la.x,g=this.la.y,P=this.UP.C(),p=this.OE;
p.clearRect(0,0,j,g);p.fillStyle="#cccccc";p.fillRect(8,8,j-16,g-16-8);if(this.Sn){if(P==0){Z.set(this.Sn[0],0);
var v=JSON.parse(JSON.stringify(this.value));eg.ol(v,0,[0,255,0,255,100]);var x=Wj.fN("levl",v),A=[x.iy,x.Qd,x.Ea];
for(var f=0;f<3;f++){var S=this.Sn[1+f],F=A[f];for(var m=0;m<256;m++)this.Sn[0][F[m]]+=S[m]}}var R=this.Sn[P],M=0;
for(var m=0;m<R.length;m++)M+=R[m];p.fillStyle="#333333";p.beginPath();p.moveTo(8,g-16);for(var m=0;
m<256;m++){var b=55*R[m]/M;p.lineTo(8+m/256*(j-16),Math.max(8,g-16-g*b))}p.lineTo(j-8,g-16);p.closePath();
p.fill()}var s=eg._v(this.value,P);for(var m=0;m<5;m++)this.ZSy[m].J(s[m]/(m==4?100:1));this.dN[0].Ve(8+s[0]/255*(j-16),g-14);
this.dN[1].Ve(8+s[1]/255*(j-16),g-14);var K=Math.log(s[4]/100)/Math.log(9.99);K=.5-K/2;this.dN[4].Ve(this.dN[0].x+K*(this.dN[1].x-this.dN[0].x),g-14);
this.dD(p,this.dN[0],"#000000");this.dD(p,this.dN[1],"#ffffff");this.dD(p,this.dN[4],"#777777");var j=this.Wg.x,g=this.Wg.y;
p=this.Cq;p.clearRect(0,0,j,g);var X=p.createLinearGradient(0,0,j-16,0);X.addColorStop(0,"black");X.addColorStop(1,"white");
p.fillStyle=X;p.fillRect(8,8,j-16,16);this.dN[2].Ve(8+s[2]/255*(j-16),g-14);this.dN[3].Ve(8+s[3]/255*(j-16),g-14);
this.dD(p,this.dN[2],"#000000");this.dD(p,this.dN[3],"#ffffff")};Q.levl.prototype.dD=function(e,j,g){e.fillStyle=g;
e.fillRect(j.x-5,j.y,10,10)};Q.levl.prototype.vY=function(e){var j=V.nX(e,this.zi);for(var g=0;g<2;g++)if(Uc.zG(this.dN[g],j)<10)this.BU=g;
if(Uc.zG(this.dN[4],j)<10)this.BU=4;this.ZCo()};Q.levl.prototype.ZON=function(e){var j=V.nX(e,this.Jn);
for(var g=2;g<4;g++)if(Uc.zG(this.dN[g],j)<10)this.BU=g;this.ZCo()};Q.levl.prototype.ZCo=function(e){if(this.BU==-1)return;
V.FK(document.body,this.AZ);V.FQ(document.body,this.AW)};Q.levl.prototype.tp=function(e){var j=eg._v(this.value,this.UP.C()),g=V.nX(e,this.BU==2&&this.BU==3?this.Jn:this.zi),P=255*(g.x-8)/(this.la.x-16);
P=Math.max(0,Math.min(255,P));if(this.BU==0)P=Math.min(P,j[1]-2);if(this.BU==1)P=Math.max(P,j[0]+2);
if(this.BU!=4)j[this.BU]=Math.round(P);else{var p=(P-j[0])/(j[1]-j[0]);p=1-2*p;p=Math.pow(9.99,p);j[4]=Math.min(999,Math.max(10,Math.round(p*100)))}eg.ol(this.value,this.UP.C(),j);
this.fc();this.BM()};Q.levl.prototype.vl=function(e){V._L(document.body,this.AZ);V.fz(document.body,this.AW);
this.BU=-1};Q.levl.prototype.eM=function(){return!0};Q.levl.prototype.jT=function(e,j,g,P,p){var v=this.value,x=this.zM.C();
this.value=ZW.WX("levl");this.BM();var A=o.Oc.vh(e,p,1),f=[A>>>16&255,A>>>8&255,A&255];for(var S=0;S<3;
S++){var F=eg._v(v,1+S);if(x==0)F[0]=f[S];if(x==1){var m=Math.log(f[S]/255)/Math.log((f[0]+f[1]+f[2])*.333/255);
F[4]=Math.min(999,Math.max(10,Math.round(100*m)))}if(x==2)F[1]=f[S];eg.ol(v,1+S,F)}this.J(v);this.BM()};
Q.levl.prototype.J=function(e){this.value=e;this.fc()};Q.levl.prototype.AI=function(e){this.Sn=e;this.fc()};
Q.levl.prototype.C=function(e){return JSON.parse(JSON.stringify(this.value))};Q.phfl=function(){Q.call(this,"phfl");
this.$H.push(new xG);this.$H.push(new WO([12,74],0,100,"%"));this.$H.push(new Wk([13,4]));this.Jt()};
Q.phfl.prototype=new Q;Q.phfl.prototype.Uy=function(e,j){j[0]=e.Clr.v;j[1]=e.Dnst.v;j[2]=e.PrsL.v};Q.phfl.prototype.fa=function(e,j){var g=Z.c.W_(j[0]),P=e.Clr.v,p=Z.YV(g.k,g.z,g.e);
P.Lmnc.v=p.Kd;P.A.v=p.Fl;P.B.v=p.e;e.Dnst.v=j[1];e.PrsL.v=j[2]};Q.vibA=function(){Q.call(this,"vibA");
this.$H.push(new WO([12,13],-100,100,null));this.$H.push(new WO([12,9],-100,100,null));this.Jt()};Q.vibA.prototype=new Q;
Q.vibA.prototype.Uy=function(e,j){j[0]=e.vibrance?e.vibrance.v:0;j[1]=e.Strt?e.Strt.v:0};Q.vibA.prototype.fa=function(e,j){e.vibrance.v=j[0];
e.Strt.v=j[1]};Q.thrs=function(){Q.call(this,"thrs");this.$H.push(new WO([4,13],1,255,null));this.Jt()};
Q.thrs.prototype=new Q;Q.thrs.prototype.Uy=function(e,j){j[0]=e.Lvl.v};Q.thrs.prototype.fa=function(e,j){e.Lvl.v=j[0]};
Q.mixr=function(){Q.call(this);var e=this.l;this.ir=[];this.Yi=null;this.zy=new Wh([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.zy.S(V.E.m,this.VY,this);e.appendChild(this.zy.l);V.ae(e);this.Ke=new Wk([12,60]);e.appendChild(this.Ke.l);
this.Ke.S(V.E.m,this.VY,this);for(var j=0;j<4;j++){var g=new WO([[13,1,1],[13,1,4],[13,1,5],[13,2]][j],-200,200,"%");
g.S(V.E.m,this.VY,this);this.ir.push(g);e.appendChild(g.l)}};Q.mixr.prototype=new Q;Q.mixr.prototype.w=function(){this.zy.w();
this.Ke.w();for(var e=0;e<4;e++)this.ir[e].w()};Q.mixr.prototype.J=function(e){this.Yi=JSON.parse(JSON.stringify(e));
this.TE()};Q.mixr.prototype.C=function(e){return JSON.parse(JSON.stringify(this.Yi))};Q.mixr.prototype.VY=function(e){if(e.target!=this.zy){var j=Wj.kf(this.Yi);
if(e.target==this.Ke){j.Ke=this.Ke.C();if(j.Ke)j.r=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else j.r=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var g=(j.Ke?0:this.zy.C())*5,P=this.ir.indexOf(e.target);
j.r[g+(P<3?P:4)]=e.target.C()}this.Yi=Wj.Zxh(j)}this.TE();this.BM()};Q.mixr.prototype.TE=function(){var e=Wj.kf(this.Yi);
this.Ke.J(e.Ke);var j=(e.Ke?0:this.zy.C())*5;for(var g=0;g<4;g++)this.ir[g].J(e.r[j+(g<3?g:4)])};Q.post=function(){Q.call(this,"post");
this.$H.push(new WO([4,1],2,255,null));this.Jt()};Q.post.prototype=new Q;Q.post.prototype.Uy=function(e,j){j[0]=e.Lvls.v};
Q.post.prototype.fa=function(e,j){e.Lvls.v=j[0]};Q.clrL=function(){Q.call(this,"clrL");this.$H.push(new et("LUTs"));
this.Jt()};Q.clrL.prototype=new Q;Q.clrL.prototype.Uy=function(e,j){j[0]=e};Q.clrL.prototype.fa=function(e,j){var g=j[0];
for(var P in g)e[P]=g[P]};Q.clrL.prototype.wY=function(e,j){if(j==WV.oY||j==WV.ZK)this.$H[0].EF(e.ZSa)};
Q.rplc=function(){Q.call(this,"rplc");this.$H.push(new WO([12,92],0,200));this.$H.push(new xG);this.$H.push(new WO([12,8],-180,180));
this.$H.push(new WO([12,9],-100,100));this.$H.push(new WO([12,10],-100,100));this.Jt()};Q.rplc.prototype=new Q;
Q.rplc.prototype.Uy=function(e,j){j[0]=e.Fzns.v;j[1]=e.Mxm.v;j[2]=e.H.v;j[3]=e.Strt.v;j[4]=e.Lght.v};
Q.rplc.prototype.fa=function(e,j){function g(p,v){v.Lmnc.v=p.Kd;v.A.v=p.Fl;v.B.v=p.e}e.Fzns.v=j[0];e.H.v=j[2];
e.Strt.v=j[3];e.Lght.v=j[4];var P=Z.c.W_(j[1]),p=Z.YV(P.k,P.z,P.e);g(p,e.Mnm.v);g(p,e.Mxm.v)};Q.fade=function(){Q.call(this,"fade");
this.$H.push(new WO([12,0],0,100,"%"));this.$H.push(new Wh([12,19,0],WF.sK,!1,WF.Ev));this.Jt()};Q.fade.prototype=new Q;
Q.fade.prototype.Uy=function(e,j){j[0]=e.Opct.v.val;j[1]=WF.LN.indexOf(e.Md.v.BlnM)};Q.fade.prototype.fa=function(e,j){e.Opct.v.val=j[0];
e.Md.v.BlnM=WF.LN[j[1]]};function Wp(e,j){WN.call(this);if(e==null)return;this.id=j;this.Wd=e;this.wq=null;
this.l=V.M("div","window "+j);this.E_=V.M("div","whead");this.ZSP=V.M("span","wname");this.E_.appendChild(this.ZSP);
this.l.appendChild(this.E_);this.BC=this.ZOs.bind(this);this.eY=this.ZOk.bind(this);this.eR=this.Zpr.bind(this);
V.WV(this.E_);V.lI(this.E_,this.BC);this.wS=V.M("span","cross");this.E_.appendChild(this.wS);Wp.prototype.w.call(this);
V.FQ(this.wS,this.ZdP.bind(this));this.body=V.M("div","body");this.l.appendChild(this.body)}Wp.prototype=new WN;
Wp.prototype.eS=function(){return!1};Wp.prototype.eM=function(){return!1};Wp.prototype.w=function(){if(this.Wd==null)return;
this.ZSP.textContent=Zr.get(this.Wd);var e=PIMG.__cross==null?"filter:invert(1);":"";this.wS.setAttribute("style","background-image:url("+PIMG.cross+");"+e)};
Wp.prototype.Lr=function(e,j,g,P,p){};Wp.prototype.jV=function(e,j,g,P,p){};Wp.prototype.tg=function(e,j,g,P,p){};
Wp.prototype.jT=function(e,j,g,P,p){};Wp.prototype.c_=function(e,j,g,P,p){};Wp.prototype.Pm=function(e,j,g,P){if(P.v(q.dS)&&this.zX)this.zX()};
Wp.prototype.FB=function(e){return!1};Wp.prototype.bP=function(e,j){return!0};Wp.prototype.VJ=function(e,j,g,P){};
Wp.prototype.wY=function(e,j){};Wp.prototype.CO=function(){return!1};Wp.prototype.wz=function(e,j){return e<450||j<450?new Uc(0,0):new Uc(150,150)};
Wp.prototype.Ov=function(){};Wp.prototype.close=function(){this.P(new z(V.E.Wt))};Wp.prototype.ZOs=function(e){this.wq=V.nX(e,this.l);
V.FK(window,this.eY);V.FQ(window,this.eR)};Wp.prototype.ZOk=function(e){var j=this.l.parentNode,g=V.nX(e,j);
this.l.style.left=Math.round(g.x-this.wq.x)+"px";this.l.style.top=j.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(g.y-this.wq.y)))+"px"};
Wp.prototype.Zpr=function(e){V._L(window,this.eY);V.fz(window,this.eR)};Wp.prototype.ZdP=function(e){this.P(new z("closebtn"));
this.close()};function fd(){Wp.call(this,[0,13,0],"account");this.gO=V.M("div","form padded scrollable");
this.gO.setAttribute("style","max-width:48em;  max-height:33em;");this.body.appendChild(this.gO);this.lE=[new fd.fA,new fd.dq(fd.ZrI),new fd.dq(fd.ZrE)];
for(var e=0;e<this.lE.length;e++)this.lE[e].parent=this;this.S("showpage",this.ZpJ,this)}fd.prototype=new Wp;
fd.prototype.ZpJ=function(e){V.kO(this.gO);this.gO.scrollTop=0;this.gO.appendChild(this.lE[e.data.VS].l)};
fd.prototype.w=function(){Wp.prototype.w.call(this);for(var e=0;e<this.lE.length;e++)this.lE[e].w()};
fd.prototype.VJ=function(e,j,g){V.kO(this.gO);var P=this.lE[0];this.gO.appendChild(P.l);P.VJ();this.w()};
fd.prototype.wY=function(e,j){this.VJ(null,null,null)};fd.fA=function(){WN.call(this);this.l=V.M("div");
var e=this.l,j,g,P="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; font-weight:bold; color:#ffffff; cursor:pointer; margin:4px 0;";
this.iM=V.M("div");e.appendChild(this.iM);this.WB=new WI([0,11],!1,null,!0);this.WB.l.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.WB.S("click",this.ud,this);e.appendChild(this.WB.l);this.wH=new WI([0,13,1],!1,null,!0);this.wH.S("click",this.ZBb,this);
e.appendChild(this.wH.l);this.ZIa=new WI("Contact",!1,null,!0);this.ZIa.S("click",this.ZrU,this);j=V.M("h2","");
j.innerHTML="Account types";e.appendChild(j);g=V.M("table","");g.innerHTML="\t\t\t<table>\t\t\t\t<tr>   <th class=\"left\"></th><th>Free</th><th>Premium</th> </tr>\t\t\t\t<tr>   <td class=\"left\">Full Functionality</td><td class=\"yes\">\u2713</td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">No Ads</td><td class=\"no\"> </td><td class=\"yes\">\u2713</td>    </tr>\t\t\t\t<tr>   <td class=\"left\">Steps in History</td><td class=\"no\" style=\"font-size:1.3em\">30</td><td class=\"yes\">60</td>    </tr>\t\t\t\t<!--<tr class=\"lastrow\">   <td class=\"left\">Cost</td><td>Free</td><td><big>$5</big> per month</td>    </tr>-->\t\t\t</table>\t\t";
e.appendChild(g);var p=this.Zfw=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.Yl=[];for(var v=0;v<p.length;v++)this.Yl.push(new WI("Buy: $"+p[v][0],!1,null,!0));for(var v=0;
v<this.Yl.length;v++){this.Yl[v].l.setAttribute("style",P);this.Yl[v].S("click",this.ZrN,this)}j=V.M("h2","");
j.innerHTML="Go Premium";e.appendChild(j);this.Wy=new WI("...",!0);this.Wy.l.setAttribute("style",P);
e.appendChild(this.Wy.l);g=this.ZNO(3,["Single user",this.Yl[0],this.Yl[1],this.Yl[2],"Team of 5",this.Yl[3],this.Yl[4],this.Yl[5],"Team of 20",this.Yl[6],this.Yl[7],this.Yl[8]]);
e.appendChild(g);this.ZHx=new Wk("I accept",!0,"");e.appendChild(this.ZHx.l);this.ws=new WI([0,13,1],!1,null,!0);
this.ws.S("click",this.ZBb,this);e.appendChild(this.ws.l);j=V.M("h2","");j.textContent="Team Settings";
e.appendChild(j);this.yU=new Wk("Join a team");e.appendChild(this.yU.l);this.yU.S(V.E.m,this.Zid,this);
this.Wa=new xH("Email of a leader",null,14);e.appendChild(this.Wa.l);V.ae(e);this.GB=new Wk("Start a team");
e.appendChild(this.GB.l);this.GB.S(V.E.m,this.Zid,this);var x=new vQ("Emails of other members:");e.appendChild(x.l);
V.ae(e);this.OC=V.M("textarea");this.OC.setAttribute("rows",3);this.OC.setAttribute("cols",70);this.OC.setAttribute("style","display:block;tab-size:4;");
e.appendChild(this.OC);var A=new WI("Save Team Settings",!1,null,!0);e.appendChild(A.l);A.S("click",this.ZrW,this);
var f=this.Zfl=new WI("More about Teams",!1,null,!0);e.appendChild(f.l);f.S("click",this.Zin,this);j=V.M("h2","");
j.innerHTML="Distributor Account";e.appendChild(j);this.WD=new WI("...",!0);this.WD.l.setAttribute("style",P);
e.appendChild(this.WD.l);g=this.ZNO(3,["1000 views/month",this.Yl[9],this.Yl[10],this.Yl[11],"5000 views/month",this.Yl[12],this.Yl[13],this.Yl[14],"20000 views/month",this.Yl[15],this.Yl[16],this.Yl[17]]);
e.appendChild(g);this.Wq=new xH("Domain name (e.g. domain.com)",null,14);e.appendChild(this.Wq.l);V.ae(e);
var A=new WI("Save Domain Settings",!1,null,!0);A.EA();e.appendChild(A.l);A.S("click",this.Zrv,this);
var f=new WI("More about Distributors",!1,null,!0);e.appendChild(f.l);f.S("click",this.Zin,this)};fd.fA.prototype=new WN;
fd.fA.prototype.ZBb=function(e){var j=new z("showpage",!0);j.data={VS:1};this.P(j)};fd.fA.prototype.ZrU=function(e){var j=new z("showpage",!0);
j.data={VS:2};this.P(j)};fd.fA.prototype.w=function(){this.WB.FU(Ws.jo()?Zr.get([0,11]):Zr.get([0,10]));
this.ws.w();this.wH.w();this.ZIa.w()};fd.fA.prototype.Zin=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.pa,link:"https://www.photopea.com/api/accounts#"+(e.target==this.Zfl?"teams":"distributors")};
this.P(j)};fd.fA.prototype.Zid=function(e){var j=e.currentTarget==this.yU;this.yU.J(j);this.GB.J(!j)};
fd.fA.prototype.ZrW=function(e){var j=this.yU.C(),g=this.Wa.C().trim(),P=this.OC.value.trim();if(g.length>60){alert("Too long email address");
return}if(P.length>600){alert("Too many team members");return}P=P.split(",").join(" ").trim();P=P.replace(/\s+/g," ");
if(P=="")P=[];else P=P.split(" ");var p=Ws.tH();if(p==null)p={};if(p.acc==null)p.acc={};p.acc.team={jin:j,ldr:g,mmb:P};
Ws.uq(p,this.sF.bind(this));alert("Saved!");this.VJ()};fd.fA.prototype.Zrv=function(e){var j=this.Wq.C().trim();
if(j.length==0){alert("Domain is empty.");return}if(!Ws.jo()){alert("You have to log in first.");return}if(Ws.Xo().distrib=="0"){alert("Order a distributor account first.");
return}var g=Ws.tH();if(g==null)g={};if(g.acc==null)g.acc={};g.acc.dname=j;Ws.uq(g,this.sF.bind(this));
alert("Saved!");this.VJ()};fd.fA.prototype.VJ=function(){if(Ws.jo()){var e=Ws.Xo();if(e==null)return;
this.iM.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+e.name+"</span> "+e.email+" <br/>"}else this.iM.innerHTML="Logging In is free. Your environment settings will be synchronized across all devices. <br/>";
var j=Ws.jo()&&Ws.Lq();this.Wy.l.style.display=j?"block":"none";if(j){var g=parseInt(e[V.Im("!&|'&50")])-Date.now()*(1/1e3),P=parseInt(e.ptype),p;
if(P==-1)p="member of a team";else if(P==1)p="Single user";else p="Team of "+P;this.Wy.FU("Premium active for "+Math.round(g/(60*60*24))+" more days! ("+p+")")}var v=Ws.jo()&&e.distrib*1e3>Date.now();
this.WD.l.style.display=v?"block":"none";if(v){var g=parseInt(e.distrib)-Date.now()/1e3,P=parseInt(e.ptype);
this.WD.FU("Distributor active for "+Math.round(g/(60*60*24))+" more days! ("+P+" visitos)")}var x=Ws.tH();
if(x&&x.acc&&x.acc.team){var A=x.acc.team;this.yU.J(A.jin);this.GB.J(!A.jin);this.Wa.J(A.ldr);this.OC.value=A.mmb.join(", ")}else{this.yU.J(!0);
this.GB.J(!1);this.Wa.J("");this.OC.value=""}if(x&&x.acc&&x.acc.dname)this.Wq.J(x.acc.dname);else this.Wq.J("")};
fd.fA.prototype.ZNO=function(e,j){var g=V.M("table");g.innerHTML="\t\t\t\t<table>\t\t\t\t\t<tr>   <th class=\"left\"></th><th>30 days</th><th>90 days</th> "+(e==3?"<th>365 days</th>":"")+" </tr>\t\t\t\t</table>\t\t\t";
for(var P=0;P<j.length;P+=e+1){var p=V.M("tr"),v;g.appendChild(p);v=V.M("td","left");p.appendChild(v);
v.innerHTML="<b>"+j[P]+"</b>";for(var x=0;x<e;x++){v=V.M("td");p.appendChild(v);v.appendChild(j[P+1+x].l)}}return g};
fd.fA.prototype.ZrN=function(e){var j=this.Yl.indexOf(e.currentTarget);if(!Ws.jo()){alert("You must log in before buying Premium");
return}if(this.ZHx.C()==!1&&j<9){alert("You must accept Terms of Service");return}var g=this.Zfw[j],P=g[1],p=g[2],v=Ws.jo()&&Ws.Lq();
if(v&&p<1e3){alert("You already have premium.");return}Ws.order(P,p,this.sF.bind(this));this.sh()};fd.fA.prototype.sF=function(e){if(Ws.jo()&&Ws.Xo().msg)alert(Ws.Xo().msg);
this.VJ();this.sh()};fd.fA.prototype.ud=function(e){if(Ws.jo()){Ws.ZxE();this.sh();this.VJ(null,null,null)}else Ws.ud(this.ZrD.bind(this))};
fd.fA.prototype.ZrD=function(){var e=new z(V.E.O,!0);e.data={U:V.a.Zf_};this.P(e)};fd.fA.prototype.sh=function(){var e=new z(V.E.O,!0);
e.data={U:V.a.Zng};this.P(e)};fd.dq=function(e){WN.call(this);this.l=V.M("div");var j=this.l,g=this.ZfQ=new WI([0,13,2],!1,null,!0);
g.S("click",this.ZrG,this);j.appendChild(g.l);var P=V.M("div","");P.innerHTML=e;j.appendChild(P)};fd.dq.prototype=new WN;
fd.dq.prototype.ZrG=function(e){var j=new z("showpage",!0);j.data={VS:0};this.P(j)};fd.dq.prototype.w=function(){this.ZfQ.w()};
fd.ZrE="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is a service operated by Ivan Kuckir (I\u010C 04498411).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com</li>\t\t\t<li><b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<p>You can ask for a refund by writing us an email.</p>\t\t<p>You can pay with PayPal or your credit / debit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t";
fd.ZrI="\t\t<h1>Terms of Service</h1>\t\t\t\t<h2>What are these Terms?</h2>\t\t<p>\t\tThese terms form a binding contract between you and us (\"these Terms\") regarding your access to and use of any of our web sites, \t\tweb applications, services, products and Software that contain a link to these Terms (individually and collectively, the \"Service\"). \t\t</p>\t\t\t\t<h2>Changes to the Service or these Terms</h2>\t\t<p>\t\tWe may make changes to, update (or not update) or discontinue any part, element, functionality, availability or offering of the Service.\t\tWe may also make changes or updates to these Terms at any time and for any reason in our sole discretion, including complying with applicable law. \t\tIf we make any material changes to these Terms, we\u2019ll provide notice to you in any way we deem reasonable including, for example, \t\tby posting a notice of the change on our web site(s) or in-service, or by sending a notice to your email address if you\u2019ve given it to us.\t\t</p>\t\t\t\t<h2>Your content</h2>\t\t<p>\t\tThese Terms don\u2019t grant us (and we don\u2019t claim) any ownership rights in Your Content.\t\t</p>\t\t<p>\t\t<b>Posting Your Content.</b> By sharing, publishing (e.g. through Imgur), distributing or allowing others to \t\taccess Your Content through the Service You are solely responsible for the consequences of doing so and you acknowledge \t\tand agree that Your Content may be viewed worldwide. If you choose to make your personal information publicly available through the Service, \t\tyou do so at your own risk. You warrant that you have obtained all necessary licenses, \t\trights and permissions to use and grant all of the rights granted in these Terms\t\tto Your Content and that you will comply with any requirements or restrictions imposed by them.\t\t</p>\t\t<!--\t\t<p>\t\tWe have the right (but not the obligation) to pre-screen or monitor any Content or any user's access to the Service,\t\tand to remove or block access to any Content for any reason, or suspend or terminate any user's access to the Service for any reason. \t\tWe have no responsibility or liability with respect to any Content, including for any actions that we may take with respect \t\tto any Content that we determine violates these Terms.\t\t</p>\t\t-->\t\t\t\t<h2>Registering for the Service</h2>\t\t<p>\t\tYou may be required or permitted to register with us to access the Service or certain areas of the Service.\t\tYou agree to immediately notify us of any unauthorized use of your registration information (including all purchases).  \t\tYou may also be able to sign into the Service by using a third-party social networking platform account \t\t(such as Facebook, Google+ or Twitter). Your registration information (including your user name and password, \t\tand any social networking account with which you sign into the Service) is for your personal use only, and not for use by any other person. \t\tYou are responsible for maintaining the confidentiality of any password you may use to access the Service, and agree not to transfer your password or user name\t\tto any third party. You are fully responsible for all use of your registration information, \t\tand to ensure that you \"log out\"/exit from your account with the Service (if applicable) \t\tat the end of each session. We are not liable for any loss or damage arising from your failure to comply with any of the foregoing obligations. \t\t</p>\t\t\t\t<h1>Privacy Policy</h1>\t\t\t\t<p>\t\tBy voluntarily providing us with Personal Data, you are consenting to our use of it in accordance with this Privacy Policy. \t\tIf you provide Personal Data to the Service, you acknowledge and agree that such Personal Data may be transferred from your current location to our servers.\t\t</p>\t\t<p>Computer information collected:</p>\t\t\t\t<ul>\t\t\t\t<li><b>Third party tracking tools.</b> We use third party tracking tools to improve the performance and features of the Service (e.g. Google Analytics).\t\t\t\tSuch tools are created and managed by parties outside our control. As such, we are not responsible for what information is actually captured by such third parties \t\t\t\tor how such third parties use and protect that information.</li>\t\t\t\t\t\t\t\t<li><b>Name and email for the authorization.</b> You may use third-party services (such as Facebook or Google) to log into the Service. \t\t\t\tIn such case, we store your name and email address, that were provided to us by third-party services.</li>\t\t\t\t\t\t\t\t<li><b>Environment settings.</b> When you use the Service, environment settings (e.g. current language, current color theme) \t\t\t\tare stored at your computer in \"localData\".\t\t\t\tIt helps us provide you the same environment when you visit the Service next time.<br/>\t\t\t\tWhen you log into the Service, your environemnt settings are stored at our server. \t\t\t\t</li>\t\t\t\t\t\t\t\t<li><b>Payer information.</b> When you make an order inside the Service and you pay through a third-party service (e.g. PayPal), \t\t\t\twe may store the information about the payer, that we may receive from the third-party service \t\t\t\t(it usually contains the name, the email address and the physical address of the payer, but no card nambers or passwords).</li>\t\t</ul>\t\t\t\t";
function Vy(){Wp.call(this,[11,14],"addguides");this.ab;this.tS={ka:{AG:0}};this.w$=null;var e=V.M("div","form");
this.body.appendChild(e);this.Zm=new xH([22,4,0],null,16);this.Zm.S(V.E.m,this.Px,this);this.Ga=new xH([22,4,1],null,16);
this.Ga.S(V.E.m,this.Px,this);this.lK=new Wh(null,Z.CF.fk);this.lK.S(V.E.m,this.Px,this);e.appendChild(this.Zm.l);
e.appendChild(this.lK.l);V.ae(e);e.appendChild(this.Ga.l);this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);
e.appendChild(this.Oe.l);this.S("closebtn",this.ZrK,this)}Vy.prototype=new Wp;Vy.prototype.bP=function(e,j){return e!=null};
Vy.prototype.eS=function(){return!0};Vy.prototype.w=function(){Wp.prototype.w.call(this);this.Zm.w();
this.Ga.w();this.lK.w()};Vy.prototype.wY=function(e,j){var g=e.ka.AG;this.tS.ka.AG=g;this.lK.J(g)};Vy.prototype.VJ=function(e,j){this.ab=e;
this.w$=JSON.stringify(e.TY);this.nS()};Vy.prototype.nS=function(){var e=this.ab,j=e.TY,g=function(P,e,p,v){var x=[];
for(var A=0;A<P.length;A++)x.push(Z.CF.wn(P[A],e.aY,p,v));return x.join(", ")};this.Zm.J(g(j[1],e,this.tS,e.j));
this.Ga.J(g(j[0],e,this.tS,e.W))};Vy.prototype.Px=function(e){if(e&&e.currentTarget==this.lK)this.tS.ka.AG=this.lK.C();
else{var j=this.Ztk(this.Zm),g=this.Ztk(this.Ga),P=this.ab;P.TY=[g,j];P.tI=!0}this.nS()};Vy.prototype.Ztk=function(e){var j=e==this.Zm?this.ab.j:this.ab.W,g=e.C().replace(/,/g," ").replace(/  +/g," ").trim(),P=g==""?[]:g.split(" ");
for(var p=0;p<P.length;p++)P[p]=Z.CF.ZEX(P[p],this.ab.aY,this.tS,j);return P};Vy.prototype.ZrK=function(e){var j=this.ab;
j.TY=JSON.parse(this.w$);j.tI=!0;this.ab=null};Vy.prototype.zX=function(e){this.Px(e);var j=new z(V.E.s,!0);
j.X=o.Xe;j.data={U:"gids",nc:JSON.parse(this.w$),Xg:JSON.parse(JSON.stringify(this.ab.TY))};this.ab=null;
this.close();this.P(j)};function ZS(e){var j=ZW.names[e];if(j==null)j=Wj.names[e];if(e=="fade")j=[2,11];
Wp.call(this,j,"afw_"+e);this.Ln=e;this.dM=null;this.wp=null;this.n_=new Q[e];this.n_.S(V.E.m,this.BM,this);
this.n_.parent=this;this.body.appendChild(this.n_.l);this.sC=new Wk([24,18,5]);this.sC.J(!0);this.sC.S(V.E.m,this.BM,this);
this.ZHP=new WI("Reset",!0,null,!0);this.ZHP.S("click",this.dW,this);this.Oe=new WI("OK",!0,null,!0);
this.Oe.S("click",this.zX,this);if(this.n_.CO())this.n_.sp(this.Oe.l);else{V.iV(this.n_.l,"form");V.iV(this.body,"flexrow");
this.n_.l.setAttribute("style","width:24em");var g=V.M("div");this.body.appendChild(g);g.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
g.appendChild(this.Oe.l);g.appendChild(this.ZHP.l);g.appendChild(this.sC.l)}this.S("closebtn",this.wG,this)}ZS.prototype=new Wp;
ZS.prototype.eS=function(){return!0};ZS.prototype.CO=function(){return this.n_!=null&&this.n_.CO()};
ZS.prototype.wz=function(){return this.n_.CO()?new Uc(0,0):Wp.prototype.wz()};ZS.prototype.eM=function(){return this.n_.eM()};
ZS.prototype.Lr=function(e,j,g,P,p){this.n_.Lr(e,j,g,P,p)};ZS.prototype.tg=function(e,j,g,P,p){this.n_.tg(e,j,g,P,p)};
ZS.prototype.jT=function(e,j,g,P,p){this.n_.jT(e,j,g,P,p)};ZS.prototype.bP=function(e,j){if(this.Ln=="fade")return ZS.Zqb(e);
return!0};ZS.prototype.dW=function(e){this.n_.J(ZW.WX(this.Ln));this.BM()};ZS.prototype.BM=function(e){this.Lv({U:"edit",Sq:this.n_.C(),oy:!this.sC.C()})};
ZS.prototype.wG=function(e){this.Lv({U:"cancel"})};ZS.prototype.zX=function(e){if(!this.sC.C()){this.sC.J(!0);
this.BM()}this.wp=this.n_.C();if(this.CO())this.BM();this.Lv({U:"confirm"});this.close()};ZS.prototype.w=function(){Wp.prototype.w.call(this);
this.sC.w();if(this.n_)this.n_.w()};ZS.prototype.wY=function(e,j){if(this.n_)this.n_.wY(e,j)};ZS.prototype.Pm=function(e,j,g,P){if(this.n_&&this.n_.CO())this.n_.Pm(P);
else Wp.prototype.Pm.call(this,e,j,g,P)};ZS.prototype.VJ=function(e,j,g,P){this.dM=j.dM;var p=e.add.lnk2?e.add.lnk2:[],v,x,A=new G(0,0,e.W,e.j),f=e.T[e.b[0]],S=null;
v=f.buffer;x=f.rect;if(this.CO())S=e.Gj(e.b[0]-1);var F=ZW.WX(this.Ln),m=[p,e.xr];if(j.dM==null){this.n_.J(F,v,x,A,S,m);
if(Wj.names[this.Ln]){if(P.v(q.io)&&this.wp)this.n_.J(this.wp);var R=ZI.ky.getData(e),M=Z.LO(R[0].Nr);
this.n_.AI(M)}}else{var b=!1,f=e.T[this.dM.$];if(f.f$()){var s=f.EK(e);v=s.buffer;x=s.rect;var K=f.add.SoLd.filterFX.v.filterFXList.v;
if(K[this.dM.index]){var X=K[this.dM.index].v.Fltr.v;this.n_.J(X,v,x,A,S,m);b=!0}}if(!b)this.n_.J(F,v,x,A,S,m)}if(!this.CO())this.BM()};
ZS.prototype.Lv=function(e){var j=new z(V.E.s,!0);e.Ln=this.Ln;e.dM=this.dM;j.data=e;j.X=ZW.names[this.Ln]||this.dM?o.pR:o.Zn;
j.Da=!0;this.P(j)};ZS.prototype.Ov=function(e,j){j=j-26;e=e-26;this.n_.Ov(e,j)};ZS.Zqb=function(e){if(e==null)return!1;
var j=e.iY();if(j==null||!(j.data instanceof Array)||j.data.length!=e.b.length)return!1;for(var g=0;
g<j.data.length;g++){var P=j.data[g];if(P.$<0&&e.xr[-1-P.$])return!0;if(P.$==null||e.T[P.$]==null||e.T[P.$].TM!=P.pt)return!1;
if(e.b.indexOf(P.$)==-1)return!1}return!0};function fF(){Wp.call(this,[11,0],"camera");this.data=null;
this.wA=new Uc(1,1);this.ZsY=[];var e=V.M("div","form hbar");this.body.appendChild(e);this.ZGi=new Wh(null,[]);
this.wj=new Wh([21,0],[[21,2],[21,1]]);e.appendChild(this.wj.l);this.Gt=new Wh(null,[]);this.Gt.S(V.E.m,this.Zzq,this);
e.appendChild(this.Gt.l);this.wP=new WI([11,0],!1,null,!0);this.wP.S("click",this.ZrO,this);e.appendChild(this.wP.l);
this.wX=new vQ("");e.appendChild(this.wX.l);this.stream=null;this.Bg=V.M("video","");this.Bg.setAttribute("autoplay","true");
this.body.appendChild(this.Bg);this.ZKq=this.Zro.bind(this);this.ZK$=this.Zrh.bind(this);this.Zfc=this.ZEv.bind(this);
this.S("closebtn",this.ZEi,this)}fF.prototype=new Wp;fF.prototype.w=function(){Wp.prototype.w.call(this);
this.wj.w();this.wP.w();this.ZEv()};fF.prototype.Gj=function(){var e=this.Bg.videoWidth,j=this.Bg.videoHeight,g=V.M("canvas","");
g.width=e;g.height=j;var P=g.getContext("2d");P.drawImage(this.Bg,0,0,e,j);var p=P.getImageData(0,0,e,j);
return{Fa:new G(0,0,e,j),data:p.data.buffer}};fF.prototype.ZrO=function(e){if(this.wj.C()==0)this.Zrj();
else this.ZrA()};fF.prototype.ZrA=function(){var e=this.Gj(),j={buffer:new Uint8Array(e.data),rect:e.Fa},g=new z(V.E.s,!0);
g.Da=!0;g.X=o.jE;g.data={U:u.CY,vV:j};this.P(g);alert(Zr.get([21,4]))};fF.prototype.Zrj=function(){var e=this.Gj(),j=Wc.Bj("camera",[e]),g=new z(V.E.O,!0);
g.data={U:V.a.HA,vs:j};this.P(g);alert(Zr.get([21,5]))};fF.prototype.VJ=function(e,j,g){navigator.mediaDevices.enumerateDevices().then(this.ZrX.bind(this))};
fF.prototype.ZrX=function(e){var j=this.ZsY=[],g=[];for(var P=0;P<e.length;P++)if(e[P].kind=="videoinput"){j.push(e[P]);
g.push("Camera "+j.length)}this.Gt.ph(g);this.Gt.J(0);this.Zzq()};fF.prototype.Zzq=function(e){this.ZEi();
var j={video:{deviceId:this.ZsY[this.Gt.C()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(j).then(this.ZKq).catch(this.ZK$);
else navigator.webkitGetUserMedia(j,this.ZKq,this.ZK$)};fF.prototype.Zro=function(e){this.stream=e;this.Bg.srcObject=e;
this.Bg.addEventListener("loadedmetadata",this.Zfc,!1)};fF.prototype.ZEv=function(e){this.Bg.play();
this.Ov(this.LB,this.GF)};fF.prototype.wz=function(e,j){return new Uc(0,0)};fF.prototype.Ov=function(e,j){var g=this.Bg.videoWidth,P=this.Bg.videoHeight;
this.wX.J(g+" x "+P+" px");this.wX.l.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.wA.Ve(g,P);this.LB=e;this.GF=j;var p=e-28,v=j-28-30,x=this.wA.x/this.wA.y;if(p/v>x)p=v*x;else v=p/x;
this.Bg.setAttribute("style","display: block; width: "+Math.round(p)+"px; height:"+Math.round(v)+"px;")};
fF.prototype.Zrh=function(e){console.log("error",e);alert(Zr.get([21,6]));this.close()};fF.prototype.ZEi=function(e){if(this.stream!=null){var j=this.stream.getTracks();
for(var g=0;g<j.length;g++)j[g].stop();this.stream=null}};function ez(){Wp.call(this,[7,8],"crange");
this.ab=null;this.Ws={Kd:73,Fl:4.45,e:4};this.WK={Kd:73,Fl:4.45,e:4};var e=V.M("div","form");e.setAttribute("style","width:18em");
this.body.appendChild(e);this._p=new WO([12,92],0,200);this._p.J(40);this._p.S(V.E.m,this.TE,this);e.appendChild(this._p.l);
this.O$=V.M("canvas");e.appendChild(this.O$);this.wR=new xI([12,36],[[18,0],"\uFF0B","\u2014"]);e.appendChild(this.wR.l);
this.dL=new WI("OK",!0,null,!0);this.dL.S("click",this.zX,this);this.body.appendChild(this.dL.l)}ez.prototype=new Wp;
ez.prototype.bP=function(e,j){return e!=null};ez.prototype.eM=function(){return!0};ez.prototype.eS=function(){return!0};
ez.prototype.w=function(){Wp.prototype.w.call(this);this._p.w();this.wR.w()};ez.prototype.Lr=function(e,j,g,P,p){var v=e.N.IR(p.x,p.y);
this.ZOZ(v.x,v.y)};ez.prototype.ZOZ=function(e,j){var g=Math.min,P=Math.max,p=this.ab,v=P(0,g(p.W-1,Math.floor(e))),x=P(0,g(p.j-1,Math.floor(j))),A=p.Gj(),f=(x*p.W+v)*4,S=A[f],F=A[f+1],m=A[f+2],R=Z.YV(S,F,m),M=this.wR.C(),b=this.Ws,s=this.WK;
if(M==0){this.Ws=JSON.parse(JSON.stringify(R));this.WK=R}else if(M==1){b.Kd=g(b.Kd,R.Kd);b.Fl=g(b.Fl,R.Fl);
b.e=g(b.e,R.e);s.Kd=P(s.Kd,R.Kd);s.Fl=P(s.Fl,R.Fl);s.e=P(s.e,R.e)}else if(M==2){var K=(b.Kd+s.Kd)/2,X=(b.Fl+s.Fl)/2,d=(b.e+s.e)/2;
if(R.Kd<K)b.Kd=P(b.Kd,R.Kd+10);else s.Kd=g(s.Kd,R.Kd-10);if(R.Fl<X)b.Fl=P(b.Fl,R.Fl+1);else s.Fl=g(s.Fl,R.Fl-1);
if(R.e<d)b.e=P(b.e,R.e+1);else s.e=g(s.e,R.e-1)}this.TE()};ez.prototype.zX=function(e){var j=new z(V.E.s,!0);
j.X=o.IJ;j.data={U:"crange",VT:this.Ws,VH:this.WK,Kq:this._p.C()/200};j.Da=!0;this.P(j);this.close()};
ez.prototype.VJ=function(e,j){this.ab=e;this.ZOZ(0,0)};ez.prototype.TE=function(){var e=this.ab,j=o.gs.ZxS(e,this.Ws,this.WK,this._p.C()/200),g=j.rect,P=j.channel,p=this.O$,v=p.getContext("2d"),x=Math.floor(230*V.I()),A=Math.floor(x*(g.j/g.W));
p.width=x;p.height=A;V.oR(p,x,A);var f=Z.V(P.length*4);Z.XC(f,4294967295);for(var S=0;S<3;S++)Z.sH(P,f,S);
var F=o.t.Ge([f,g],new WE(x/g.W,0,0,A/g.j,0,0)),m=F.rect,R=new ImageData(new Uint8ClampedArray(F.buffer.buffer),m.W,m.j);
v.putImageData(R,0,0)};function ZD(){Wp.call(this,[12,76,1],"createshape");this.Jv=null;var e=V.M("div","form");
e.setAttribute("style","width:20em");this.body.appendChild(e);this.dG=new vz([12,41],0,0,null,0,!1,!0);
e.appendChild(this.dG.l);V.ae(e);this.Zm=new vz([12,42],0,0,null,0,!1,!0);e.appendChild(this.Zm.l);V.ae(e);
this.wk=new Wk([19,5,3]);e.appendChild(this.wk.l);this.dG.J(100);this.Zm.J(100);this.Oe=new WI("OK",!0,null,!0);
this.Oe.S("click",this.zX,this);e.appendChild(this.Oe.l)}ZD.prototype=new Wp;ZD.prototype.zX=function(e){this.Jv.Z$L(this.Jv.Z$G,this.dG.C(),this.Zm.C(),this.wk.C());
this.close()};ZD.prototype.w=function(){if(this.Jv)this.Wd=Zr.get([5,3])+": "+Zr.get(this.Jv.Z$T);Wp.prototype.w.call(this);
this.dG.w();this.Zm.w();this.wk.w()};ZD.prototype.VJ=function(e,j){this.Jv=j;this.w()};function fM(){Wp.call(this,[11,1],"colorpicker");
this.Gq=null;this.KV=null;this.i_=null;this.yW=!1;this.or=!1;var e=V.M("div","flexrow"),v,x;this.body.appendChild(e);
this.BD=new ee(256);this.BD.S(V.E.m,this.sw,this);e.appendChild(this.BD.l);var j=V.M("div","form");j.setAttribute("style","width:14.5em; margin-left:1em;");
e.appendChild(j);this.Z$f=V.M("div","full");j.appendChild(this.Z$f);this.Z$y=V.M("div","full");j.appendChild(this.Z$y);
var g=V.M("div","flexrow");j.appendChild(g);var P=V.M("div"),p=V.M("div");g.appendChild(P);g.appendChild(p);
v=["R","G","B"];x=P;this.wF=[];for(var A=0;A<3;A++){var f=new vz(v[A]+":",0,255,null,0,!1,!0);this.wF.push(f);
f.S(V.E.m,this.Zrl,this);x.appendChild(f.l)}v=["H","S","B"];x=p;this.wQ=[];for(var A=0;A<3;A++){var S=0,F=360,m="\xB0";
if(A!=0){F=100;m="%"}var f=new vz(v[A]+":",S,F,m,0,!1,!0);this.wQ.push(f);f.S(V.E.m,this.Zr_,this);x.appendChild(f.l)}this.Zm=new xH("Hex",null,6);
this.Zm.S(V.E.m,this.sl,this);j.appendChild(this.Zm.l);this._A=V.M("input","fitem");this._A.setAttribute("type","color");
this._A.setAttribute("style","width:50px");this._A.addEventListener("change",this.sl.bind(this),!1);
j.appendChild(this._A);this.GT=new VU(9);this.GT.S(V.E.m,this.sl,this);j.appendChild(this.GT.l);this.Oe=new WI("OK",!0,null,!0);
this.Oe.S("click",this.zX,this);j.appendChild(this.Oe.l);this.S("closebtn",this.wG,this);this.WY=!1}fM.prototype=new Wp;
fM.prototype.eM=function(){return!0};fM.prototype.Ov=function(e,j){this.BD.Ov(Math.min(256,e-250),j)};
fM.prototype.sw=function(e){this.KV=this.BD.C();this.update()};fM.prototype.Lr=function(e,j,g,P,p){this.WY=!0;
this.Zrx(e,p)};fM.prototype.tg=function(e,j,g,P,p){if(!this.WY)return;this.Zrx(e,p)};fM.prototype.jT=function(e,j,g,P,p){this.WY=!1};
fM.prototype.Zrx=function(e,j){var g=o.Oc.vh(e,j,1),P=g&255,p=g>>8&255,v=g>>16&255;this.KV={k:v/255,z:p/255,e:P/255};
this.update()};fM.prototype.Zrl=function(e){var j=this.wF,g=this.kq(parseInt(j[0].C())),P=this.kq(parseInt(j[1].C())),p=this.kq(parseInt(j[2].C()));
this.KV={k:g/255,z:P/255,e:p/255};this.update()};fM.prototype.Zr_=function(e){var j=this.wQ,g=this.AA(parseInt(j[0].C())/360),P=this.AA(parseInt(j[1].C())/100),p=this.AA(parseInt(j[2].C())/100);
this.KV=Z.yD(g,P,p);this.update()};fM.prototype.sl=function(e){var j;if(e.currentTarget==this.GT)j=this.GT.C();
else{j=e.currentTarget==this.Zm?this.Zm.C():this._A.value;if(j.charAt(0)=="#")j=j.slice(1);if(j.length==3)j=j[0]+j[0]+j[1]+j[1]+j[2]+j[2];
j=Z.QA(j)}this.KV={k:(j>>16&255)/255,z:(j>>8&255)/255,e:(j&255)/255};this.update()};fM.prototype.bz=function(e){var j=e.k,g=e.z,P=e.e;
return Math.round(j*255)<<16|Math.round(g*255)<<8|Math.round(P*255)};fM.prototype.zX=function(e){this.Zxb();
var j=this.bz(this.KV);this.i_(j);this.close();this.or=!1;this.KV=null};fM.prototype.wG=function(e){this.Zxb();
if(this.yW)this.i_(this.bz(this.Gq));this.or=!1;this.KV=null};fM.prototype.Zxb=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.Zxm};this.P(j)};fM.prototype.wY=function(e,j){if(j!=WV.qi)return;var g=e.Jm;this.GT.J(g);
if(this.KV!=null){this.KV={k:(g>>16&255)/255,z:(g>>8&255)/255,e:(g>>0&255)/255};this.update()}};fM.prototype.VJ=function(e,j){var g=j.xI,P={k:(g>>16&255)/255,z:(g>>8&255)/255,e:(g>>0&255)/255};
if(this.KV==null){var p=new z(V.E.O,!0);p.data={U:V.a._E,Lj:"crosshair",push:!0};this.P(p);this.WY=!1;
this.i_=j.QM;this.yW=!1;this.or=j.Ml;this.Gq=JSON.parse(JSON.stringify(P));this.Z$y.setAttribute("style","height:3em;background-color:#"+Z.jz(g)+";")}this.KV=P;
this.update()};fM.prototype.update=function(){var e=this.KV,j=this.bz(e),g=this.wF;g[0].J(Math.round(e.k*255));
g[1].J(Math.round(e.z*255));g[2].J(Math.round(e.e*255));this.Zm.J(Z.jz(j));this._A.value="#"+Z.jz(j);
this.Z$f.setAttribute("style","height:3em;background-color:#"+Z.jz(j)+";");var P=Z.LY(e.k,e.z,e.e);g=this.wQ;
g[0].J(Math.round(P.GF*360));g[1].J(Math.round(P.nd*100));g[2].J(Math.round(P.Sq*100));this.BD.J(e);
if(this.or){this.i_(this.bz(this.KV));this.yW=!0}};fM.prototype.kq=function(e){return Math.max(0,Math.min(255,e))};
fM.prototype.AA=function(e){return Math.max(0,Math.min(1,e))};function VQ(){Wp.call(this,[11,2],"contoureditor");
this.Z$$=null;this.In=null;this.response=null;this.ZT=V.M("div","cell");this.body.appendChild(this.ZT);
this.bB=V.M("div","cell padded");this.body.appendChild(this.bB);var e=V.M("div","bordered padded vmargin");
this.ZT.appendChild(e);this.n_=new xe;this.n_.S(V.E.m,this.sA,this);e.appendChild(this.n_.l);this.Oe=new WI("OK",!0,null,!0);
this.Oe.S("click",this.close,this);this.bB.appendChild(this.Oe.l);this.coords=V.M("div","");this.coords.setAttribute("style","width:250px");
this.ZT.appendChild(this.coords);this.BH=new xH("X (in)","%",4);this.Bs=new xH("Y (out)","%",4);this.GG=new Wk([19,3,0]);
this.BH.S(V.E.m,this.sc,this);this.Bs.S(V.E.m,this.sc,this);this.GG.S(V.E.m,this.sc,this);this.coords.appendChild(this.BH.l);
this.coords.appendChild(this.GG.l);this.coords.appendChild(this.Bs.l);this.S("closebtn",this.nx,this)}VQ.prototype=new Wp;
VQ.prototype.w=function(){Wp.prototype.w.call(this);this.GG.w()};VQ.prototype.sA=function(e){this.In.Crv.v=this.n_.C();
this.response(this.In);this.sQ()};VQ.prototype.nx=function(e){this.response(this.Z$$)};VQ.prototype.VJ=function(e,j){this.Z$$=JSON.parse(JSON.stringify(j.A));
this.In=j.A;this.response=j.response;this.n_.J(this.In.Crv.v);this.sQ()};VQ.prototype.sQ=function(){var e=this.n_.ZCO();
this.coords.setAttribute("class",e==-1?"disabled":"");if(e==-1)return;var j=this.In.Crv.v[e].v;this.BH.J(Math.round(j.Hrzn.v*(100/255)));
this.Bs.J(Math.round(j.Vrtc.v*(100/255)));this.GG.J(j.Cnty.v)};VQ.prototype.sc=function(e){var j=this.n_.ZCO(),g=this.In.Crv.v[j];
g.v.Hrzn.v=parseFloat(this.BH.C())*(255/100);g.v.Vrtc.v=parseFloat(this.Bs.C())*(255/100);g.v.Cnty.v=this.GG.C();
this.In.Crv.v.sort(function(P,p){return P.v.Hrzn.v-p.v.Hrzn.v});this.n_.J(this.In.Crv.v,this.In.Crv.v.indexOf(g));
this.sQ();this.response(this.In)};function Ji(){Wp.call(this,[11,3],"csize");this.wc=0;this.gO=V.M("div","form");
this.gO.setAttribute("style","width:22em");this.body.appendChild(this.gO);this._V=new eN(!0,!0,!0,!0);
this._V.ZH_(!1);this.gO.appendChild(this._V.l);this.lZ=new xI("Align with",[[8,7],[12,6]]);this.lZ.S(V.E.m,this.ZrQ,this);
this.GE=new el([12,23,2],41);this.gO.appendChild(this.GE.l);this.GE.J(4);this.lf=new VR(!1);this.lf.Zsn(new Uc(0,0));
this.dL=new WI("OK",!0,null,!0);this.dL.S("click",this.zX,this);this.body.appendChild(this.dL.l)}Ji.prototype=new Wp;
Ji.prototype.bP=function(e,j){return e!=null};Ji.prototype.eS=function(){return!0};Ji.prototype.ZrQ=function(){var e=[this.GE.l,this.lf.l];
this.gO.removeChild(e[this.wc]);this.wc=this.lZ.C();this.gO.appendChild(e[this.wc])};Ji.prototype.w=function(){Wp.prototype.w.call(this);
this._V.w();this.lZ.w();this.GE.w();this.lf.w()};Ji.prototype.zX=function(e){var j=this._V.C(),g=j.x,P=j.y,p=new z(V.E.$E,!0);
p.data=o.oo.Zxa(g,P,this.GE.C());this.close();this.P(p)};Ji.prototype.VJ=function(e,j){this._V.J(new Uc(e.W,e.j),e.aY)};
function fi(){Wp.call(this,[11,4],"duplinto");this.Kg=null;this.jG=null;var e=V.M("div","form");e.setAttribute("style","max-width:26em");
this.body.appendChild(e);this.yi=new Wh([12,43],["abc","def"]);this.yi.S(V.E.m,this.ZUf,this);e.appendChild(this.yi.l);
V.ae(e);this.as=new xH([12,48],null,14);e.appendChild(this.as.l);this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);
e.appendChild(this.Oe.l)}fi.prototype=new Wp;fi.prototype.eS=function(){return!0};fi.prototype.w=function(){Wp.prototype.w.call(this);
this.yi.w();this.as.w()};fi.prototype.ZUf=function(e){var j=this.yi.C();if(j==this.jG.length)this.as.EE();
else this.as.GR()};fi.prototype.VJ=function(e,j,g){this.Kg=e;this.jG=g;this.as.J(e.b.length==0?"Layer":e.T[e.b[0]].getName());
var P=[];for(var p=0;p<g.length;p++)P.push(g[p].name);P.push([11,7]);this.yi.ph(P);this.yi.J(g.indexOf(e));
this.ZUf(null)};fi.prototype.zX=function(e){var j=this.yi.C();if(j==this.jG.length){var g=new ZT(this.as.C()+".psd");
g.W=this.Kg.W;g.j=this.Kg.j;g.buffer=Z.V(g.W*g.j*4);var P=g.Rz();P.tG("Background");g.jy([P]);var p=new z(V.E.O,!0);
p.Da=!0;p.data={U:V.a.HA,vs:g};this.P(p)}var v=this.Kg.gn(null,this.Kg!=this.jG[j]),p=new z(V.E.s,!0);
p.data={U:u.Cs,T:v,BO:this.Kg,Zi:this.jG[j]};p.X=o.jE;p.Da=!0;this.P(p);this.close()};function JB(){Wp.call(this,[1,9],"eassets");
this.tS=null;this.pr=null;var e=V.M("div","form");e.setAttribute("style","width:32em");this.body.appendChild(e);
this.pS=V.M("span");e.appendChild(this.pS);V.ae(e);this.VR=[new Wk("Only layers / folders, whose name starts with \"-e-\""),new Wk("Remove parts outside the canvas"),new Wk("Trim transparent parts")];
for(var j=0;j<3;j++){var g=this.VR[j];g.J(!0);g.S(V.E.m,this.nS,this);e.appendChild(g.l);V.ae(e)}this.WR=new eP([12,14,0],["1x","2x","3x","4x"]);
this.WR.J([!0,!1,!1,!1]);e.appendChild(this.WR.l);V.EC(e);this.lv=["PNG","JPG","SVG"];this.Gs=new Wh([12,50],this.lv);
this.Gs.S(V.E.m,this.ZUu,this);e.appendChild(this.Gs.l);this.WL=new uf;e.appendChild(this.WL.l);this.dL=new WI([1,9],!0,null,!0);
this.dL.S("click",this.zX,this);e.appendChild(this.dL.l);this.S("closebtn",this.dj,this)}JB.prototype=new Wp;
JB.prototype.ZUu=function(e){this.WL.ZvJ(this.lv[this.Gs.C()])};JB.prototype.dj=function(e){this.pr=null};
JB.prototype.w=function(){Wp.prototype.w.call(this);this.Gs.w();this.WR.w();this.dL.w();this.WL.w()};
JB.prototype.VJ=function(e,j,g){this.pr=e;this.nS()};JB.prototype.nS=function(e){var j=this.ZUC(),g="- - - "+j.length+" exportable layers";
this.pS.textContent=g;this.ZUu(null)};JB.prototype.ZUC=function(){var e=this.VR[0].C(),j=[],g=this.pr;
for(var P=0;P<g.T.length;P++){var p=g.T[P],v=p.getName();if(!e&&!p.CQ()&&!p.rect.tE()||v.startsWith("-e"))j.push(P)}return j};
JB.prototype.wY=function(e,j){this.tS=e};JB.prototype.zX=function(e){var j=this.pr,g=[this.lv[this.Gs.C()]],P=[this.WL.C()],p=this.WR.C(),v={},x={},A=this.ZUC();
if(A.length==0){alert("No layers to export.");return}var f=[this.VR[1].C(),this.VR[2].C()];for(var S=0;
S<A.length;S++){var F=A[S],m=j.T[F],R=m.getName();if(x[R]!=null){x[R]++;R+=" "+x[R]}else x[R]=1;var M=m.Je();
m.Pd(!0);for(var b=0;b<p.length;b++){if(!p[b])continue;var s=b+1,K=o.KZ.ZDH(j,g,s,this.tS,F,P,f);for(var X=0;
X<g.length;X++){var d=g[X],W=R.slice(R.startsWith("-e-")?3:0)+(s==1?"":"-"+s+"x")+"."+d.toLowerCase();
v[W]=new Uint8Array(K[X])}}m.Pd(M)}var O=UZIP.encode(v),H=new z(V.E.O,!0);H.data={U:V.a.nH,data:O,name:"assets.zip"};
this.P(H)};function eJ(){Wp.call(this,"File Info","finfo");this.lV=null;this.hL=null;this.lu=null;this.gO=V.M("div","form scrollable label12");
this.gO.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");this.body.appendChild(this.gO);
var e=V.M("div","form");this.body.appendChild(e);this.Wh=new Wh(null,["Hello"]);e.appendChild(this.Wh.l);
this.Z$p=new WI("Add Parameter",!1,null,!0);e.appendChild(this.Z$p.l);this.Z$p.S("click",this.vw,this);
this.WM=new WI("=== S A V E ===",!1,null,!0);e.appendChild(this.WM.l);this.WM.S("click",this.Kr,this);
this.Z$R=""}eJ.prototype=new Wp;eJ.prototype.wz=function(e,j){return e<450||j<450?new Uc(0,0):new Uc(150,100)};
eJ.prototype.vw=function(e){if(this.lu.length==0)return;var j=this.lu[this.Wh.C()],g=this.Kn();g[j]=Uk.W$[j][0];
this.bG(g);this.hL[j].l.scrollIntoView();this.hL[j].ve()};eJ.prototype.dY=function(e){var j=this.Kn();
delete j[e.currentTarget.ZUN];this.bG(j)};eJ.prototype.Kr=function(e){var j=this.Kn(),g=this.lV,P=!0;
for(var p in g)if(JSON.stringify(g[p])!=JSON.stringify(j[p]))P=!1;for(var p in j)if(JSON.stringify(g[p])!=JSON.stringify(j[p]))P=!1;
if(P)return;var v=new z(V.E.s,!0);v.X=o.jE;v.data={U:u.FA,GV:j};this.P(v);this.lV=j;this.bG(j)};eJ.ZZx=function(e){function j(p){var v=p.toLowerCase();
return p==v}var g=e.split(":").pop();for(var P=1;P<g.length-1;P++){if(g[P]==g[P].toUpperCase()&&(j(g[P+1])||j(g[P-1]))){g=g.slice(0,P)+" "+g.slice(P);
P++}}return g};eJ.prototype.VJ=function(e,j){this.lV=e.fn;this.bG(e.fn)};eJ.prototype.bG=function(e){var j=this.gO,p=0;
V.kO(j);var g=this.hL={},P=["tiff","exif","exif:GPS"],v=this.lu=[],x=[];for(var A in Uk.W$){var f=eJ.ZZx(A),S=0,m=15,R=null;
if(e[A]==null){v.push(A);x.push(f);continue}for(var F=0;F<P.length;F++)if(A.startsWith(P[F]))S=F;if(S!=p){V.EC(j);
p=S}if(A=="tiff:ImageDescription"||A=="dc:Keywords"){m=18.5;R=3}var M=new xH(f,null,m,R);g[A]=M;var b=e[A];
if(b instanceof Array)b=b[1]==0?"---":b[0]+"/"+b[1];var s=new WI("\u2716",null,Zr.get([5,4]));j.appendChild(s.l);
s.S("click",this.dY,this);s.ZUN=A;M.J(b);j.appendChild(M.l);V.ae(j);if(A=="exif:GPSLongitude"&&e["exif:GPSLatitude"]){this.Z$R=eJ.ZUE(e["exif:GPSLatitude"])+","+eJ.ZUE(e["exif:GPSLongitude"]);
var K=new WI("Show on map",!1,null,!0);j.appendChild(K.l);V.ae(j);K.S("click",this.ZZU,this)}}this.Wh.ph(x);
this.Wh.J(0)};eJ.prototype.Kn=function(){var e=this.hL,j=Uk.W$,g={};for(var P in j){var p=j[P][0],v=typeof p;
if(p==null||e[P]==null)continue;var x=e[P].C();if(v=="number")x=parseFloat(x);else if(p instanceof Array&&p.length==2)x=x.split("/").map(parseFloat);
g[P]=x}return g};eJ.ZUE=function(e){var j=e.length,g=e.slice(0,j-1).split(",").map(parseFloat),P=e.slice(j-1),p=g[0]+g[1]/60+g[2]/3600;
if(P!="N"&&P!="E")p=-p;return p};eJ.prototype.ZZU=function(e){window.open("https://maps.google.com?q="+this.Z$R,"Map")};
function UP(){Wp.call(this,[11,5],"gradienteditor");this.Gq=null;this.KV=null;this.jw=null;this.i_=null;
this.yW=!1;this.or=!1;V.iV(this.body,"form");this.JM=null;this.EL=null;this.HX=-1;this.WG=-1;this.hj=0;
this.AZ=this.tp.bind(this);this.AW=this.vl.bind(this);this.zi=V.M("canvas","");this.OE=this.zi.getContext("2d");
this.zi.setAttribute("style","display:block");this.HF=null;V.WV(this.zi);V.lI(this.zi,this.vY.bind(this));
this._j=new vz([19,3,3],0,100,"%");this._j.S(V.E.m,this.PS,this);this._j.parent=this;this.body.appendChild(this._j.l);
V.ae(this.body);this.Nv=new vQ([12,0]);this.body.appendChild(this.Nv.l);this.G$=V.M("div","bordered padded noalign");
this.body.appendChild(this.G$);this.nD=new vz([12,0],0,100,"%");this.nD.parent=this;this.nD.S(V.E.m,this.PS,this);
this.G$.appendChild(this.nD.l);this.Db=new vz([12,40],0,100,"%");this.Db.parent=this;this.Db.S(V.E.m,this.PS,this);
this.G$.appendChild(this.Db.l);this.Wb=new WI([5,4],!1,null,!0);this.Wb.S("click",this.ZWU,this);this.G$.appendChild(this.Wb.l);
this.body.appendChild(this.zi);V.ae(this.body);this.Z$k=new vQ([13,0]);this.body.appendChild(this.Z$k.l);
this.IC=V.M("div","bordered padded noalign");this.body.appendChild(this.IC);this.ix=new Wh([12,44],[[12,45],[12,46],[12,47]]);
this.ix.S(V.E.m,this.PS,this);this.IC.appendChild(this.ix.l);this.Yq=new xG(!0);this.Yq.parent=this;
this.Yq.S(V.E.m,this.PS,this);this.IC.appendChild(this.Yq.l);this.D_=new vz([12,40],0,100,"%");this.D_.parent=this;
this.D_.S(V.E.m,this.PS,this);this.IC.appendChild(this.D_.l);this.Ww=new WI([5,4],!1,null,!0);this.Ww.S("click",this.Zvg,this);
this.IC.appendChild(this.Ww.l);this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);this.body.appendChild(this.Oe.l);
this.S("closebtn",this.wG,this)}UP.prototype=new Wp;UP.prototype.wG=function(e){if(this.yW)this.i_(this.Gq)};
UP.prototype.w=function(){Wp.prototype.w.call(this);this._j.w();this.Nv.w();this.Z$k.w();this.Wb.w();
this.Ww.w();this.nD.w();this.Db.w();this.ix.w();this.D_.w()};UP.prototype.wY=function(e,j){this.jw=e};
UP.prototype.VJ=function(e,j){this.KV=JSON.parse(JSON.stringify(j.c));this.Gq=JSON.parse(JSON.stringify(j.c));
this.JM=this.EL=null;this.i_=j.QM;this.yW=!1;this.or=j.Ml;this.fc();this.Pa()};UP.prototype.zX=function(e){var j=this.KV;
this.i_(j);this.close()};UP.prototype.FB=function(e){return e==q.WS||e==q.UQ};UP.prototype.Pm=function(e,j,g,P){if(P.v(q.WS)||P.v(q.UQ)){if(this.EL)this.ZWU();
if(this.JM)this.Zvg()}};UP.prototype.ZWU=function(e){var j=this.KV.Trns.v;if(this.EL==null||j.length==2)return;
j.splice(j.indexOf(this.EL),1);this.EL=null;this.fc();this.Pa()};UP.prototype.Zvg=function(e){var j=this.KV.Clrs.v;
if(this.JM==null||j.length==2)return;j.splice(j.indexOf(this.JM),1);this.JM=null;this.fc();this.Pa()};
UP.prototype.fc=function(){var e=this.zi,j=this.OE,g=V.I();e.width=Math.floor(410*g);e.height=Math.floor(90*g);
V.oR(e,e.width,e.height);this.HF=new G(0,0,Math.floor(380*g),Math.floor(32*g));this.HF.x=Math.floor((this.zi.width-this.HF.W)/2);
this.HF.y=Math.floor((this.zi.height-this.HF.j)/2);var P=this.HF,p=P.W,v=P.j,x=P.x,A=P.y,f=new G(0,0,p,v),S=j.getImageData(0,0,p,v),F=new Uint8Array(S.data.buffer);
Z.ZL(F,p,v,8,0,0);var m=Z.V(p*v*4);Z.c.ff(this.KV,m,f,[1/p,0,0,1/v],p/2,v/2,!1,0,this.jw.Jm,this.jw.gK);
Z.Y.$Q("norm",m,P,F,P,P,1);j.clearRect(0,0,e.width,e.height);j.putImageData(S,x,A);var R=this.KV.Trns.v,M=this.KV.Clrs.v,b=Z.c.Ki(M,this.jw.Jm,this.jw.gK),s=Math.round(6*V.I()),K=Math.round(14*V.I()),X=this.EL?this.EL.v:null,d=this.JM?this.JM.v:null;
for(var W=0;W<R.length;W++){var O=R[W].v,H=Math.round(255-255*O.Opct.v.val/100);if((O==X||R[W-1]&&R[W-1].v==X||W==this.WG)&&W!=0){j.fillStyle="#000000";
j.fillRect(x-3+p*(R[W-1].v.Lctn.v+(O.Lctn.v-R[W-1].v.Lctn.v)*O.Mdpn.v/100)/4096,A-6-2,6,6)}if(O==X){j.fillStyle="#ffffff";
j.fillRect(x-s+p*(O.Lctn.v/4096)-2,A-2-K-2,2*s+4,K+4)}j.fillStyle="rgb("+H+","+H+","+H+")";j.fillRect(x-s+p*(O.Lctn.v/4096),A-2-K,2*s,K)}for(var W=0;
W<M.length;W++){var Y=M[W].v,y=b[W];if((Y==d||M[W-1]&&M[W-1].v==d||W==this.HX)&&W!=0){j.fillStyle="#000000";
j.fillRect(x-3+p*(M[W-1].v.Lctn.v+(Y.Lctn.v-M[W-1].v.Lctn.v)*Y.Mdpn.v/100)/4096,A+v+2,6,6)}if(Y==d){j.fillStyle="#ffffff";
j.fillRect(x-s+p*(Y.Lctn.v/4096)-2,A+v+2-2,2*s+4,K+4)}j.fillStyle="rgb("+Math.round(y.k)+", "+Math.round(y.z)+","+Math.round(y.e)+")";
j.fillRect(x-s+p*(Y.Lctn.v/4096),A+v+2,2*s,K)}if(this.or){this.i_(this.KV);this.yW=!0}};UP.prototype.Pa=function(){this._j.J(Math.round(100*this.KV.Intr.v/4096));
var e=this.KV.Trns.v,j=this.KV.Clrs.v,g=this.EL!=null,P=this.WG!=-1;this.nD.Hw(g);this.Db.Hw(g||P);this.Wb.Hw(g);
if(g){this.G$.setAttribute("style","");var p=this.EL.v;this.Db.J(Math.round(100*p.Lctn.v/4096));this.nD.J(p.Opct.v.val)}if(P)this.Db.J(e[this.WG].v.Mdpn.v);
var g=this.JM!=null,P=this.HX!=-1;this.ix.Hw(g);this.Yq.Hw(g);this.D_.Hw(g||P);this.Ww.Hw(g);if(g){this.IC.setAttribute("style","");
var v=this.JM.v;this.D_.J(Math.round(100*v.Lctn.v/4096));var x=v.Type.v.Clry;this.ix.J(["FrgC","BckC","UsrS"].indexOf(x));
if(x=="FrgC")this.Yq.oE(this.jw.Jm);if(x=="BckC")this.Yq.oE(this.jw.gK);if(x=="UsrS")this.Yq.J(v.Clr.v)}if(P)this.D_.J(j[this.HX].v.Mdpn.v)};
UP.prototype.PS=function(e){var j=Math.round(4096*this._j.C()/100);this.KV.Intr.v=j;var g=this.KV.Trns.v,P=this.KV.Clrs.v;
if(this.EL!=null){var p=this.EL.v;p.Lctn.v=Math.round(4096*(this.Db.C()/100));p.Opct.v.val=this.nD.C()}if(this.JM!=null){var v=this.JM.v;
v.Lctn.v=Math.round(4096*(this.D_.C()/100));if(e.target==this.Yq)this.ix.J(2);var x=this.ix.C();v.Type.v.Clry=["FrgC","BckC","UsrS"][x];
if(x==2)v.Clr={t:"Objc",v:this.Yq.C()};else if(v.Clr)delete v.Clr}if(this.WG!=-1)g[this.WG].v.Mdpn.v=this.Db.C();
if(this.HX!=-1)P[this.HX].v.Mdpn.v=this.D_.C();this.fc()};UP.prototype.vY=function(e){var j=V.nX(e,this.zi),g=(j.x*V.I()-this.HF.x)/this.HF.W,P=(j.y*V.I()-this.HF.y)/this.HF.j,p=this.KV.Trns.v,v=this.KV.Clrs.v,x=null,A=null,f=-1,S=-1;
if(P<1)for(var F=0;F<p.length;F++){var m=p[F].v;if(Math.abs(m.Lctn.v/4096-g)<.02)x=p[F];if(F>0)if(Math.abs((p[F-1].v.Lctn.v+(m.Lctn.v-p[F-1].v.Lctn.v)*m.Mdpn.v/100)/4096-g)<.01)f=F}if(P>0)for(var F=0;
F<v.length;F++){var R=v[F].v;if(Math.abs(R.Lctn.v/4096-g)<.02)A=v[F];if(F>0)if(Math.abs((v[F-1].v.Lctn.v+(R.Lctn.v-v[F-1].v.Lctn.v)*R.Mdpn.v/100)/4096-g)<.01)S=F}if(A==null&&x==null&&f==-1&&S==-1){if(P<0){var m={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
m.v.Lctn.v=Math.round(g*4096);p.push(m);p.sort(this.bI);x=m}if(P>1){var v=this.KV.Clrs.v,M=Z.c.Ki(v,this.jw.Jm,this.jw.gK),b=Z.c.pK(this.KV,M,g),R={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:Z.c.Op({k:b&255,z:b>>8&255,e:b>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
R.v.Lctn.v=Math.round(g*4096);v.push(R);v.sort(this.bI);A=R}}if(A!=null)S=-1;if(x!=null)f=-1;if(A!=null||x!=null||f>-1||S>-1){this.EL=x;
this.JM=A;this.WG=f;this.HX=S;this.Pa();this.fc();V.FK(window,this.AZ);V.FQ(window,this.AW)}};UP.prototype.tp=function(e){var j=V.nX(e,this.zi),g=V.I()*(j.x-this.HF.x)/this.HF.W,P=V.I()*(j.y-this.HF.y)/this.HF.j;
g=Math.max(0,Math.min(1,g));var p=this.KV.Trns.v,v=this.KV.Clrs.v;if(this.EL!=null){var x=this.EL.v;
x.Lctn.v=Math.round(4096*g);var A=p.indexOf(this.EL);if(A!=-1&&P<-1&&p.length>2)p.splice(A,1);if(A==-1&&P>-1)p.push(this.EL);
p.sort(this.bI)}if(this.JM!=null){var f=this.JM.v;f.Lctn.v=Math.round(4096*g);var S=v.indexOf(this.JM);
if(S!=-1&&P>1.5&&v.length>2)v.splice(S,1);if(S==-1&&P<1.5)v.push(this.JM);v.sort(this.bI)}if(this.WG>-1){var x=p[this.WG].v;
x.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(g*4096-p[this.WG-1].v.Lctn.v)/(x.Lctn.v-p[this.WG-1].v.Lctn.v))))}if(this.HX>-1){var f=v[this.HX].v;
f.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(g*4096-v[this.HX-1].v.Lctn.v)/(f.Lctn.v-v[this.HX-1].v.Lctn.v))))}if(this.EL!=null||this.JM!=null||this.WG>-1||this.HX>-1){this.Pa();
this.fc()}};UP.prototype.vl=function(e){V._L(window,this.AZ);V.fz(window,this.AW);if(Date.now()-this.hj<300){if(this.HX!=-1||this.WG!=-1){var j=(this.HX!=-1?this.KV.Clrs.v[this.HX]:this.KV.Trns.v[this.WG]).v;
j.Mdpn.v=50;this.Pa();this.fc()}else if(this.JM!=null)this.Yq.ZER()}this.hj=Date.now()};UP.prototype.bI=function(e,j){return e.v.Lctn.v-j.v.Lctn.v};
function JS(){Wp.call(this,[11,10],"isize");this.gO=V.M("div","form");this.gO.setAttribute("style","width:20em");
this.body.appendChild(this.gO);this._V=new eN(!0,!0);this.gO.appendChild(this._V.l);this.Gk=new Wk("Resample");
this.Gk.J(!0);this.gO.appendChild(this.Gk.l);this.Gk.S(V.E.m,this.ZZg,this);this.Cd=new Wh([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]);
this.Cd.J(1);this.gO.appendChild(this.Cd.l);this.dL=new WI("OK",!0,null,!0);this.dL.S("click",this.zX,this);
this.body.appendChild(this.dL.l)}JS.prototype=new Wp;JS.prototype.bP=function(e,j){return e!=null};JS.prototype.eS=function(){return!0};
JS.prototype.ZZg=function(e){var j=this.Gk.C(),g=this._V,P=this.Cd;if(j)P.EE();else P.GR();if(j)g.ZH$();
else g.ZHK()};JS.prototype.w=function(){Wp.prototype.w.call(this);this.Cd.w();this._V.w()};JS.prototype.zX=function(e){this.close();
var j=this._V.C(),g=j.x,P=j.y,p=this.Cd.C();if(!this.Gk.C())p=null;var v=new z(V.E.$E,!0);v.data=o.oo.Zug(g,P,this._V.ZLw(),p);
this.P(v)};JS.prototype.VJ=function(e,j){this._V.J(new Uc(e.W,e.j),e.aY)};function fN(){Wp.call(this,"Import RAW","importraw");
var e=V.M("div","flexrow"),j=V.M("div");this.body.appendChild(e);this.body.appendChild(j);var g=V.M("div","form");
g.setAttribute("style","width:16em");e.appendChild(g);var P=V.M("div","form");P.setAttribute("style","width:14em");
e.appendChild(P);this.Jv=null;this.Z$Q=null;this.SA=null;this.Zpu=[];this.$m=[new eN(!0,!0),new xI([12,72],["1","3","4"]),new xI([12,34],["8 Bits","16 Bits"]),new xI("Byte Order",["12-34","34-12"]),new Wh("Guesses",[])];
for(var p=0;p<this.$m.length;p++){var v=this.$m[p];if(p!=0)v.J(0);v.S(V.E.m,p==4?this.Zvn:this.VY,this);
var x=p==0?g:p==4?j:P;x.appendChild(v.l)}this.O$=V.M("canvas");this.kl=this.O$.getContext("2d");this.body.appendChild(this.O$);
this.dL=new WI("OK",!0,null,!0);this.dL.S("click",this.zX,this);this.body.appendChild(this.dL.l)}fN.prototype=new Wp;
fN.prototype.w=function(){Wp.prototype.w.call(this);var e=this.$m;for(var j=0;j<e.length;j++)e[j].w()};
fN.prototype.zX=function(e){this.close();var j=this.$m[0].C(),g=Wc.Bj(this.Z$Q,[{data:this.SA,Fa:new G(0,0,j.x,j.y)}]),P=new z(V.E.O,!0);
P.data={U:!0?V.a.HA:V.a.MH,vs:g};this.P(P)};fN.prototype.VJ=function(e,j){this.Jv=new Uint8Array(j.Wl);
this.Z$Q=j.ib;var g=this.Jv.length,P=[1,3,4],p=0,v=0,x=1,A=1,f=this.Zpu=[];for(var S=0;S<3;S++){for(var F=1;
F<3;F++){var m=P[S],R=m*F,M=Math.round(g/R);if(M!=g/R)continue;for(var b=0;b<=4e3;b++)for(var s=0;s<=4e3;
s++)if(b*s==M){var K=0;if(b==s)K+=64;if(Math.round(b/100)==b/100&&Math.round(s/100)==s/100)K+=32;if(Math.round(b/10)==b/10&&Math.round(s/10)==s/10)K+=16;
if(Math.round(b/2)==b/2&&Math.round(s/2)==s/2)K+=8;f.push([b,s,m,F,K])}}}var X=function(Y,y){if(y[4]!=Y[4])return y[4]-Y[4];
var B=Math.max(Y[0],Y[1])/Math.min(Y[0],Y[1]),c=Math.max(y[0],y[1])/Math.min(y[0],y[1]);if(B!=c)return B-c;
return y[0]-Y[0]};f.sort(X);var d=this.$m,W=[];for(var O=0;O<f.length;O++){var H=f[O];W.push(H[0]+" x "+H[1]+", "+H[2]+"c, "+H[3]*8+"-bit")}d[4].ph(W);
d[4].J(0);this.Zvn(null)};fN.prototype.Zvn=function(e){var j=this.$m,g=this.Zpu[this.$m[4].C()];j[0].J(new Uc(g[0],g[1]),72);
j[1].J([1,3,4].indexOf(g[2]));j[2].J([1,2].indexOf(g[3]));this.VY()};fN.prototype.VY=function(e){var j=this.$m,g=j[0].C(),P=g.x,p=g.y,v=8+8*j[2].C(),x=this.Jv;
if(v==16&&j[3].C()==1){x=x.slice(0);for(var A=0;A<x.length;A+=2){var f=x[A];x[A]=x[A+1];x[A+1]=f}}var S=this.SA=UPNG.toRGBA8.decodeImage(x,P,p,{tabs:{},ctype:[0,2,6][j[1].C()],depth:v}),F=this.O$,m=this.kl,R=[S,new G(0,0,P,p)];
Z.ZG(R);for(var A=0;A<R.length;A+=2)if(R[A+1].j<300){S=R[A];P=R[A+1].W;p=R[A+1].j;break}F.width=P;F.height=p;
V.oR(F,P,p);var M=new ImageData(new Uint8ClampedArray(S.buffer),P,p);m.putImageData(M,0,0)};function vc(e,j,g){WN.call(this);
this.l=V.M("div","");this.LN=e;this.uV=null;this.Go=j==null?!1:j;this.vZ=null;this._Y=g;this.lC=[];this.yN=[];
this.Gh=[];this.xC=[];this.Gw=0;this.uV=this.ZZH(vc.xC[e]);this.Jt()}vc.prototype=new WN;vc.prototype.ZZN=function(){for(var e=0;
e<this.xC.length;e++){V.Fu(this.xC[e],"selected");if(this.Gh[e]instanceof Wk)this.Gh[e].J(!1)}};vc.prototype.ZZq=function(e){var j=this.ZZE.bind(this);
for(var g=0;g<this.Gh.length;g++){var P=V.M("div","listitem");this.xC.push(P);if(g>0)P.textContent="\u2003";
P.appendChild(this.Gh[g].l);if(Wr.Znq.indexOf(this.LN)!=-1){var p=new WI("+");p.EA();p.l.style.float="right";
P.appendChild(p.l);var v=new WI("\u2B0D");v.EA();v.l.style.float="right";v.l.style["margin-right"]="2px";
P.appendChild(v.l)}P.addEventListener("click",j,!1);e.appendChild(P)}};vc.Pb=function(e,j){var g=j.getBoundingClientRect();
return(e.clientY-g.top)/g.height};vc.prototype.ZZE=function(e){var j=e.target.tagName.toLowerCase();
if(j=="input"){return}if(j=="button"){var g=new z(V.E.s,!0),P=e.target.textContent=="+",p=P?0:vc.Pb(e,e.target)<.5?-1:1;
if(P)g.data={U:"st_dupsingle",$:this.parent.data.$,if:this._Y};else g.data={U:"st_movsingle",$:this.parent.data.$,if:this._Y,ZLz:p};
g.X=o.zp;g.Da=!0;this.P(g);g=new z("redrawall",!0);g.data={ZLz:p};this.P(g);return}V.nx(e);this.Kt();
this.Gw=this.xC.indexOf(e.currentTarget);this.P(new z("showme"))};vc.prototype.Kt=function(){if(this.uV.enab&&this.uV.enab.C()==!1)this.Lv({DY:"enab",r:!0})};
vc.prototype.ZZS=function(){var e=this.xC[this.Gw];if(e)V.iV(e,"selected");return this.yN[this.Gw]};
vc.prototype.ZZH=function(e){var j={};for(var g=0;g<e.length;g++){var P=e[g],p=null;if(P=="----")p={l:V.M("hr")};
if(P=="\n")p={l:V.M("br")};if(P=="blOptions")p=new vQ([14,10]);if(P=="brst")p=new MultiCheck([12,72],["R","G","B"]);
if(P=="knko")p=new Wh("Knockout",[[13,1,0],"Shallow","Deep"]);if(P=="enab")p=new Wk(Wr.names[Wr.order.indexOf(this.LN)]);
if(P=="lrMd"||P=="Md")p=new Wh([12,19,0],WF.sK,!1,WF.Ev);if(P=="Opct")p=new vD([12,0],0,100,"%");if(P=="iOpa")p=new vD([12,26],0,100,"%");
if(P=="blIf")p=new Vj;if(P=="ShdN")p=new vD([12,68],0,100,"%");if(P=="lagl"||P=="Angl")p=new xn([12,15]);
if(P=="uglg")p=new Wk([12,27]);if(P=="Dstn")p=new vD([12,28],0,200,"px");if(P=="Ckmt")p=new vD([12,29],0,100,"%");
if(P=="blur")p=new vD([12,14,0],0,200,"px");if(P=="TrnS"||P=="MpgS")p=new xb([12,21]);if(P=="Nose")p=new vD([12,30],0,100,"%");
if(P=="layerConceals")p=new Wk([12,31]);if(P=="AntA"||P=="antialiasGloss")p=new Wk("Anti-alias");if(P=="GlwT")p=new Wh([12,32],Wr.$g.names);
if(P=="glwS")p=new Wh([12,70],Wr.$g.ZaN);if(P=="Inpr")p=new vD([12,12],1,100,"%");if(P=="bvlS")p=new Wh([12,22],Wr.Wu.style);
if(P=="bvlT")p=new Wh([12,32],Wr.Wu.Zaz);if(P=="bvlD")p=new Wh(null,Wr.Wu.dir);if(P=="srgR")p=new vD([12,34],0,1e3,"%");
if(P=="Sftn")p=new vD([12,35],0,20,"px");if(P=="Lald")p=j.lagl;if(P=="hglM"||P=="sdwM")p=new Wh([12,36],WF.sK,!1,WF.Ev);
if(P=="hglC"||P=="sdwC")p=new xG;if(P=="hglO"||P=="sdwO")p=new vD([12,0],0,100,"%");if(P=="Invr"||P=="InvT")p=new Wk([4,11]);
if(P=="Sz")p=new vD([12,14,0],1,200,"px");if(P=="Styl")p=new Wh([12,40],Wr.stroke.names);if(P=="PntT")p=new Wh([12,66],Wr.stroke.Zai);
if(P=="Clr")p=new xG(!0);if(P=="Grad"){p=new eF(!0,[12,37],!0);p.J(JSON.parse(Wr.oP.ZnL).v)}if(P=="Rvrs")p=new Wk([12,23,0]);
if(P=="Dthr")p=new Wk("Dither");if(P=="Type")p=new Wh([12,22],Wr.c.names.slice(0,this.LN=="FrFX"?6:5));
if(P=="Ptrn")p=new ev([12,62]);if(P=="Scl")p=new vD([12,38],10,500,"%",0,!0);if(P=="Algn")p=new Wk([12,39]);
if(P=="Ofst")p=new VR(!0);if(P=="phase")p=new VR(!1);if(P=="useShape")p=new Wk([12,21]);if(P=="useTexture")p=new Wk([12,67]);
if(P=="textureDepth")p=new vD([12,34],-300,300,"%");var v=P=="----"||P=="\n"?P+g:P;if(p!=null)j[v]=p}return j};
vc.prototype.ZZs=function(e){var j=this.yN[this.Gw];for(var g=0;g<e.length;g++){var P=this.uV[e[g]];
if(P&&j.contains(P.l))j.removeChild(P.l)}};vc.prototype.ZZw=function(e){var j=this.yN[this.Gw];for(var g=0;
g<e.length;g++){var P=this.uV[e[g]];if(P&&!j.contains(P.l))j.appendChild(P.l)}};vc.prototype.wY=function(e,j){if(this.uV==null)return;
var g=j==WV.oY;if(this.uV.Grad){this.uV.Grad.H$(e.Jm,e.gK);if(g||j==WV.qi||j==WV.IK)this.uV.Grad.EF(e.Wv)}if(this.uV.Ptrn){if(g||j==WV.Zd)this.uV.Ptrn.EF(e.Ju)}if(this.uV.TrnS){if(g||j==WV.Vl)this.uV.TrnS.EF(e.ly)}if(this.uV.MpgS){if(g||j==WV.Vl)this.uV.MpgS.EF(e.ly)}};
vc.prototype.w=function(){for(var e=0;e<this.lC.length;e++)this.lC[e].w();for(var j in this.uV)if(this.uV[j]instanceof WN)this.uV[j].w()};
vc.prototype.Jt=function(){for(var e in this.uV){var j=this.uV[e];j.parent=this;if(j instanceof WN)j.S(V.E.m,this.ZZm,this);
if(this.yN.length==0||e=="useShape"||e=="useTexture"){var g=new vQ(j.ZtI()),P=V.M("div","bordered padded");
if(this.Go==!1){P.appendChild(g.l);P.appendChild(V.M("hr",""))}this.lC.push(g);this.yN.push(P);this.Gh.push(j)}else this.yN[this.yN.length-1].appendChild(j.l)}};
vc.prototype.update=function(e,j){if(this.uV==null)return;if(this.Go)this.vZ=JSON.parse(JSON.stringify(j));
for(var g in j){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr Angl srgR Sftn textureDepth ShdN".split(" ").indexOf(g)!=-1)this.uV[g].J(j[g].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(g)!=-1){this.uV[g].J(j[g].v,e)}if(["Md","hglM","sdwM"].indexOf(g)!=-1)this.uV[g].J(WF.LN.indexOf(j[g].v.BlnM));
if(g=="lrMd"){var P=(j.CQ?[[15,10,27]]:[]).concat(WF.sK),p=(j.CQ?[1]:[]).concat(WF.Ev);this.uV[g].ph(P,p);
this.uV[g].J(j[g].v)}if(g=="lagl"){var v=j.uglg&&j.uglg.v?e.Ul():j.lagl.v.val;this.uV[g].J(v)}if(g=="Lald"){var v=j.uglg&&j.uglg.v?e.gv():j.Lald.v.val;
this.uV[g].J(null,v)}if(g=="Type")this.uV[g].J(Wr.c.types.indexOf(j.Type.v.GrdT));if(g=="Styl")this.uV[g].J(Wr.stroke.types.indexOf(j.Styl.v.FStl));
if(g=="PntT"){var x=Wr.stroke.qb.indexOf(j.PntT.v.FrFl);this.uV[g].J(x);if(!this.Go){this.ZZs(Wr.VP.concat(Wr.PV.concat(Wr.PM)));
this.ZZw([Wr.VP,Wr.PV,Wr.PM][x])}}if(g=="GlwT")this.uV[g].J(Wr.$g.types.indexOf(j.GlwT.v.BETE));if(g=="glwS")this.uV[g].J(Wr.$g.Zyd.indexOf(j.glwS.v.IGSr));
if(g=="bvlS")this.uV[g].J(Wr.Wu.types.indexOf(j.bvlS.v.BESl));if(g=="bvlT")this.uV[g].J(Wr.Wu.ZyS.indexOf(j.bvlT.v.bvlT));
if(g=="bvlD")this.uV[g].J(["In","Out"].indexOf(j.bvlD.v.BESs))}};vc.prototype.ZZm=function(e){for(var j in this.uV){if(this.uV[j]!=e.target)continue;
var g=null,P=!1;if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(j)!=-1)g={type:"#Prc",val:e.target.C()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(j)!=-1)g={type:"#Pxl",val:e.target.C()};if(["Angl","lagl"].indexOf(j)!=-1)g={type:"#Ang",val:e.target.C().Aa};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(j)!=-1)g=e.target.C();
if(["Md","hglM","sdwM"].indexOf(j)!=-1)g={BlnM:WF.LN[e.target.C()]};if(j=="uglg"){g=e.target.C();P=!0}if(j=="PntT"){g={FrFl:Wr.stroke.qb[e.target.C()]};
P=!0}if(j=="Lald")g={type:"#Ang",val:e.target.C().alt};if(j=="Type")g={GrdT:Wr.c.types[e.target.C()]};
if(j=="Styl")g={FStl:Wr.stroke.types[e.target.C()]};if(j=="GlwT")g={BETE:Wr.$g.types[e.target.C()]};
if(j=="glwS")g={IGSr:Wr.$g.Zyd[e.target.C()]};if(j=="bvlS")g={BESl:Wr.Wu.types[e.target.C()]};if(j=="bvlT")g={bvlT:Wr.Wu.ZyS[e.target.C()]};
if(j=="bvlD")g={BESs:["In","Out"][e.target.C()]};this.Lv({DY:j,r:g});if(P){if(this.Go)this.update(null,this.vZ);
else{var p=this.parent,v=p.vs,x=this._Y,A=v.T[p.data.$].add.lmfx[Wr.uM[x[0]]].v[x[1]].v;this.update(v,A)}}}};
vc.prototype.Lv=function(e){if(this.Go){this.vZ[e.DY].v=e.r;this.P(new z(V.E.m))}else{e.U="changeprop";
e.$=this.parent.data.$;e.VS=this._Y;var j=new z(V.E.s,!0);j.data=e;j.X=o.zp;j.Da=!0;this.P(j);this.P(new z("afterchange",!0))}};
vc.prototype.C=function(){return JSON.parse(JSON.stringify(this.vZ))};vc.xC={bops:"blOptions lrMd Opct iOpa ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(Wr.VP),GrFl:["enab","Md","Opct"].concat(Wr.PV),patternFill:["enab","Md","Opct"].concat(Wr.PM),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(Wr.VP.concat(Wr.PV.concat(Wr.PM)))};
function Zu(){Wp.call(this,[11,6],"layerstyle");this.ZEk=-1;this.data={};this.vs=null;this.tS=null;this.$G=[];
this._F=[];V.iV(this.body,"flexrow");this.ZT=V.M("div","bordered");this.ZT.setAttribute("style","min-width:13em;");
this.body.appendChild(this.ZT);this.$l=V.M("div","");this.$l.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.$l);this.bB=V.M("div","form");this.bB.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.bB);this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);this.bB.appendChild(this.Oe.l);
this.li=new WI([12,87],!0,null,!0);this.li.S("click",this.ZfC,this);this.bB.appendChild(this.li.l);this.yz=new ec;
this.yz.parent=this;this.yz.S(V.E.m,this.ZfW,this);this.bB.appendChild(this.yz.l);this.S("closebtn",this.wG,this);
this.S("redrawall",this.Zvh,this)}Zu.prototype=new Wp;Zu.prototype.eS=function(){return!0};Zu.prototype.ZfW=function(e){var j=this.yz.C();
this.Lv({U:"setstl",r:j.hf});this.Zvh(null)};Zu.prototype.ZfC=function(e){var j=this.vs,g=this.data.$;
if(g==null)g=j.b[0];var P=this.vs.T[g],p=Wi.ZdJ(P),v=new z(V.E.O,!0);v.data={U:V.a.du,$_:"add",im:WV.Gz,Sp:[JSON.parse(JSON.stringify(p))]};
this.P(v)};Zu.prototype.Zfg=function(e){this.data.index=e.currentTarget._Y;this.Kz(e.currentTarget._Y)};
Zu.prototype.Zvh=function(e){this.VJ(this.vs,this.data)};Zu.prototype.Kz=function(e,j){V.kO(this.$l);
for(var g=0;g<this.$G.length;g++)this.$G[g].ZZN();var P=e==0?this.$G[0]:this._F[e[0]][e[1]];this.$l.appendChild(P.ZZS());
if(j)P.Kt();var p=this.vs;if(p){var v=p.T[this.data.$];this.$G[0].update(p,ZI.oO.xK(p,v));var x=v.add.lmfx;
if(x==null)return;for(var g=0;g<Wr.order.length;g++){var A=x[Wr.uM[g]].v;for(var f=0;f<A.length;f++)this._F[g][f].update(p,A[f].v)}}if(j)P.Kt()};
Zu.prototype.w=function(){Wp.prototype.w.call(this);this.li.w();this.yz.w();for(var e=0;e<this.$G.length;
e++)this.$G[e].w()};Zu.prototype.VJ=function(e,j){var g=j.$==null;this.data.$=j.$;this.data.index=j.index;
j=this.data;this.vs=e;if(g)j.$=e.b.length==0?e.T.length-1:e.b[0];V.kO(this.ZT);var P=e.T[j.$].add.lmfx;
this.KG();this.$G=[new vc("bops",!1,0)];this._F=[];for(var p=0;p<Wr.order.length;p++){this._F.push([]);
var v=P==null?[]:P[Wr.uM[p]].v;for(var x=0;x<v.length;x++){var A=new vc(Wr.order[p],!1,[p,x]);this.$G.push(A);
this._F[p].push(A)}if(v.length==0){var A=new vc(Wr.order[p],!1,[p,0]);this.$G.push(A);this._F[p].push(A)}}this.w();
this.Zvw(this.tS,WV.oY);for(var p=0;p<this.$G.length;p++){this.$G[p].parent=this;this.$G[p].ZZq(this.ZT);
this.$G[p].S("showme",this.Zfg,this)}if(j.index==null||j.index==0||!g&&P[Wr.uM[j.index[0]]].v.length==0){this.Kz(0)}else this.Kz(j.index,g);
this.S("afterchange",this.KG,this)};Zu.prototype.KG=function(e){var j=this.vs,g=this.data.$;if(g==null)g=j.b[0];
var P=this.vs.T[g],p=Wi.ZdJ(P);this.yz.J(p,j.add.Patt?j.add.Patt:[],j.Ul(),j.gv())};Zu.prototype.wY=function(e,j){this.tS=e;
this.Zvw(e,j);if(j==WV.Gz||j==WV.oY){this.yz.EF([e.Dw,e.Ju])}if(j==WV.ZD){}};Zu.prototype.Zvw=function(e,j){for(var g=0;
g<this.$G.length;g++)this.$G[g].wY(e,j)};Zu.prototype.wG=function(e){this.Lv({U:"cancel"})};Zu.prototype.zX=function(e){this.Lv({U:"confirm"});
this.close()};Zu.prototype.Lv=function(e){e.$=this.data.$;var j=new z(V.E.s,!0);j.data=e;j.X=o.zp;j.Da=!0;
this.P(j);this.KG()};Zu.ZVf=function(e){var j=[{name:[14,10],pU:!0}];for(var g=0;g<Wr.names.length;g++)j.push({name:Wr.names[g]});
if(e){j[j.length-1].pU=!0;j.push({name:"Styles To Separate Layers",p:function(P){return{p:P!=null&&P.b.length!=0&&P.T[P.b[0]].add.lmfx!=null}}})}return j};
Zu.Zux=function(e){var j=[{i:V.E.O,q:{U:V.a.LW,aj:"layerstyle"}}];for(var g=0;g<Wr.names.length;g++)j.push({i:V.E.O,q:{U:V.a.LW,aj:"layerstyle",index:[g,0]}});
if(e){var P={classID:"Mk",null:vT.EG("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
j.push({i:V.E.$E,q:{Wi:"make",HR:P}})}return j};Zu.ZCC=function(e){var j=[];if(e)j.push({name:[6,48,0,0],BJ:!0},{name:[6,48,0,1],BJ:!0},{name:[6,48,0,2],BJ:!0,pU:!0});
for(var g in Wj.names)j.push({name:Wj.names[g],pU:Wj.ZEf.indexOf(g)!=-1,BJ:Q[g]!=null});return j};Zu.Zgr=function(e){var j=[];
if(e)for(var g=0;g<3;g++)j.push({i:V.E.$E,q:o.yQ.Tb(g)});for(var P in Wj.names){var p=ZW.WX(P);if(p==null)p={};
for(var v in Wj.kZ)if(Wj.kZ[v]==P)p.classID=v;var x={Wi:"make",HR:{classID:"Mk",null:vT.EG("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:p}}}}};
j.push({i:V.E.$E,q:x})}return j};function fA(){Wp.call(this,"Merge Channels","mergechannels");this.mW=null;
var e=V.M("div","form");this.body.appendChild(e);this.$m=[];for(var j=0;j<3;j++){var g=new Wh(Wj.kr[j],[]);
this.$m.push(g);e.appendChild(g.l);V.ae(e)}this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);
e.appendChild(this.Oe.l)}fA.prototype=new Wp;fA.prototype.w=function(){Wp.prototype.w.call(this);for(var e=0;
e<3;e++)this.$m[e].w()};fA.prototype.VJ=function(e,j,g,P){this.mW=g;var p=[];for(var v=0;v<g.length;
v++)p.push(g[v].name);for(var v=0;v<3;v++){var x=this.$m[v];x.ph(p);x.J(Math.min(v,g.length-1))}};fA.prototype.zX=function(e){var j=this.mW,g=j[0],P=new z(V.E.$E,!0);
P.data=ZT.qM(g.W,g.j,g.aY,"Merged Document","Wht");this.P(P);var p=[];for(var v=0;v<3;v++)p.push(j[this.$m[v].C()].Gj());
var g=j[j.length-1],x=g.T[0],A=x.buffer;for(var v=0;v<A.length;v+=4){A[v]=p[0][v];A[v+1]=p[1][v];A[v+2]=p[2][v]}x.H();
g.H();this.close()};function xZ(){Wp.call(this,[1,10],"script");var e=V.M("div","form");e.setAttribute("style","width:44em");
this.body.appendChild(e);this.tS=null;this.op=[];this.lz=[];this.Zfx;var j=this.WM=new WI([1,2],!1,null,!0);
j.S("click",this.Kr,this);e.appendChild(j.l);var g=new WI("JS Reference",!1,null,!0);g.S("click",this.ZfO,this);
e.appendChild(g.l);e.appendChild(new vQ("Demos:").l);this.Zfe=[];var P=xZ.KE;for(var p=0;p<P.length;
p++){var v=new WI(P[p].WI,!1,null,!0);this.Zfe.push(v);e.appendChild(v.l);v.S("click",this.ZfA,this)}this.OC=V.M("textarea");
this.OC.setAttribute("rows",16);this.OC.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");
e.appendChild(this.OC);var x=new WI("Run",!0,null,!0);x.S("click",this.zX,this);e.appendChild(x.l);this.Zxn=V.M("div");
e.appendChild(this.Zxn)}xZ.prototype=new Wp;xZ.prototype.w=function(){this.WM.w()};xZ.prototype.Kr=function(){var e=this.Zfx;
if(e==null)e="script.jsx";var j=new z(V.E.O,!0);j.data={U:V.a.LW,aj:"namewindow",ek:e.slice(0,e.length-4),BT:this.Zfn.bind(this)};
this.P(j)};xZ.prototype.Zfn=function(e){var j=this.OC.value,g=T.WJ(j),P=new z(V.E.O,!0);P.data={U:V.a.Sj,Wl:g.buffer,Ky:e+".jsx",ZUP:!0};
this.P(P)};xZ.prototype.ZfB=function(e){var j=this.op.indexOf(e.target),g=this.Zfx=this.lz[j],P=this.tS.Ru.yG[g],p=new Uint8Array(P),v=T.vG(p,0,p.length);
this.OC.value=v};xZ.prototype.VJ=function(e,j,g){this.OC.value=xZ.KE[0].bX;this.ZnH()};xZ.prototype.ZnH=function(){var e=this.tS.Ru,j=this.Zxn;
V.kO(j);this.op=[];this.lz=[];j.textContent="Saved scripts: ";for(var g in e.yG){if(g.endsWith(".jsx")){var P=new WI(g,!1,null,!0);
this.op.push(P);this.lz.push(g);P.S("click",this.ZfB,this);j.appendChild(P.l)}}};xZ.prototype.wY=function(e,j){this.tS=e;
if(j==WV.uZ)this.ZnH()};xZ.prototype.ZfO=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.pa,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.P(j)};xZ.prototype.zX=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.HM,Dm:this.OC.value};this.P(j)};
xZ.prototype.ZfA=function(e){var j=this.Zfe.indexOf(e.currentTarget);this.OC.value=xZ.KE[j].bX};xZ.KE=[{WI:"Hello",bX:"\nalert(\"Hello Photopea!\");\n"},{WI:"Process Layers",bX:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{WI:"Clone Layers",bX:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function fb(){Wp.call(this,[11,7],"newproject");this.data=null;this.mW=null;var e=V.M("div","flexrow");
this.uG=e;this.body.appendChild(e);var j=V.M("div","form");this.gO=j;e.appendChild(j);this.as=new xH([12,48]);
j.appendChild(this.as.l);V.ae(j);this._V=new eN(!0);this._V.J(new Uc(1280,720),72);this._V.S(V.E.m,this.KS,this);
j.appendChild(this._V.l);this.lG=new Wh([12,46],[[13,1,8],[13,1,9],[12,46]]);j.appendChild(this.lG.l);
j.appendChild(V.M("hr"));this.dL=new WI([12,49],!0,null,!0);this.dL.S("click",this.zX,this);j.appendChild(this.dL.l);
var g=fb.Jv,P=[];for(var p=0;p<g.length;p++)P.push(g[p].name);this.mv=new xI(null,P);this.mv.S(V.E.m,this.Zdy,this);
j.appendChild(this.mv.l);this.mv.l.style["margin-top"]="1em";this.mJ=new Jx(!0);this.mJ.S(V.E.m,this.Zfm,this);
j.appendChild(this.mJ.l);this.Zdy();this.jp=new vw;this.jp.parent=this;this.jp.l.setAttribute("style","margin-left:1em");
this.jp.S("tempready",this.Zxs,this)}fb.prototype=new Wp;fb.prototype.wY=function(e,j){this.jp.wY(e)};
fb.prototype.wz=function(e,j){return new Uc(Math.max(0,Math.min(70,(e-690)/2)),e>j?Math.max(0,Math.min(50,(j-400)/2)):0)};
fb.prototype.Ov=function(e,j){this.gO.setAttribute("style","width:"+Math.min(e,338)+"px");this.mJ.l.style.height=j-260+"px";
var g=this.jp.l,P=g.parentNode;if(e<500){if(P!=null)this.uG.removeChild(g)}else{if(P==null)this.uG.appendChild(g)}this.jp.Ov(e-360,j-35)};
fb.prototype.KS=function(){this.jp.J(this._V.C())};fb.prototype.Zfm=function(e){var j=this.mJ.C(),g=fb.Jv[this.mv.C()].jL[j],P=g[4];
if(P==0)P=72;var p=g[1],v=g[2],x=["px","%","mm","in"].indexOf(g[3]),A=[1,1,25.4/P,1/P][x];p/=A;v/=A;
this._V.J(new Uc(Math.round(p),Math.round(v)),P);this._V.ZsV(x);this.mJ.vJ(j);this.KS()};fb.prototype.Zdy=function(e){var j=fb.Jv[this.mv.C()].jL,g=[],P=[],p=Math.round(106*V.I()),v=Math.round(106*V.I()),x=0;
for(var A=0;A<j.length;A++)x=Math.max(x,j[A][1],j[A][2]);for(var A=0;A<j.length;A++){var f=j[A],S=f[1]+" x "+f[2]+" "+f[3];
if(f[3]=="in")S=(f[1]*25.4).toFixed(0)+" x "+(f[2]*25.4).toFixed(0)+" mm";if(f[3]=="mm")S=(f[1]/25.4).toFixed(1)+" x "+(f[2]/25.4).toFixed(1)+" in";
if(f[4])S=S+" @ "+f[4]+" ppi";P.push(S);g.push(fb.Qf(f,p,v,x))}this.mJ.oq(g,P,p,v)};fb.Qf=function(e,j,g,P){var p=V.M("canvas",""),v=p.getContext("2d");
p.width=j;p.height=g;var x=Math.round(j/8),A=Math.floor(11*V.I()),f=e[1],S=e[2];v.fillStyle="#000000";
v.font=Math.round(A*.9)+"px \"Open Sans\", Sans-Serif";var F=f+" x "+S+" "+e[3],m=v.measureText(F);v.fillText(F,Math.round((j-m.width)/2),g-Math.round(x/2));
if(e[0]!=null){v.font="bold "+A+"px \"Open Sans\", Sans-Serif";var F=e[0],m=v.measureText(F);v.fillText(F,Math.round((j-m.width)/2),g-Math.round(x/2)-Math.round(A*1.3))}g-=Math.round(2.5*A);
var R=Math.min((j-x)/f,(g-x)/S);R*=.5+.5*(Math.max(f,S)/P);var M=(j-f*R)/2,b=(g-S*R)/2;v.strokeRect(Math.round(M)+.5,Math.round(b)+.5,Math.round(f*R),Math.round(S*R));
return p.toDataURL()};fb.prototype.w=function(){Wp.prototype.w.call(this);this._V.w();this.as.w();this.lG.w();
this.dL.w();this.as.J(Zr.get([11,7]));this.mv.w();this.jp.w()};fb.prototype.zX=function(e){var j=this._V.C(),g=j.x,P=j.y;
this.close();var p=new z(V.E.$E,!0);p.data=ZT.qM(g,P,this._V.ZLw(),this.as.C(),["Wht","Trns","BckC"][this.lG.C()]);
this.P(p);this.ZBe()};fb.prototype.Zxs=function(e){var j=e.data.vs,g=new z(V.E.O,!0);g.data={U:V.a.HA,vs:j};
this.P(g);this.close();this.ZBe()};fb.prototype.ZBe=function(){var e=this.mW[this.mW.length-1],j=this.data.ZUX;
if(j)xP.Za(function(){var g=new XMLHttpRequest,P="https://www.googleapis.com/drive/v3/files?"+xP.Qu();
g.open("POST",P,!0);g.setRequestHeader("Content-Type","application/json");g.addEventListener("load",function(p){var v=JSON.parse(p.target.response);
e.OL={file:v,lH:"psd"};alert(e.name+" created in Google Drive")});g.send(JSON.stringify({name:e.name,ZSV:[j]}))})};
fb.prototype.VJ=function(e,j,g,P){this.mW=g;if(e!=null&&e.Z!=null){var p=new G(0,0,e.W,e.j).zx(e.Z.rect);
this._V.J(new Uc(p.W,p.j))}this.data=j;this.KS();this.as.ve();if(V.Wj())Wc.ZNZ(this.ZxK.bind(this))};
fb.prototype.ZxK=function(e){if(e=="granted")Wc.Ao(this,this.Zxk.bind(this))};fb.prototype.Zxk=function(e,j){this._V.J(new Uc(j.W,j.j))};
fb.Jv=[{name:"Social",jL:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],jL:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],jL:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],jL:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],jL:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],jL:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",jL:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function ZP(e,j,g){Wp.call(this,j,"sel_"+e);this.U=e;var P=V.M("div","form");this.body.appendChild(P);
this.as=new vz(j,0,255,null,0,!1,!0);P.appendChild(this.as.l);this.as.J(1);var p=V.M("span");p.textContent=g;
P.appendChild(p);V.ae(P);this.ZxB=new Wk("Apply at canvas bounds");if(e!="border")P.appendChild(this.ZxB.l);
this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);P.appendChild(this.Oe.l)}ZP.prototype=new Wp;
ZP.prototype.bP=function(e,j){if(e==null)return;if(e.Z==null)alert("No selection!");return e.Z!=null};
ZP.prototype.zX=function(e){var j=new z(V.E.$E,!0);j.data=o.gs.ZUz(this.U,this.as.C(),this.ZxB.C());
j.Da=!0;this.P(j);this.close()};ZP.prototype.w=function(){Wp.prototype.w.call(this);if(this.as)this.as.w()};
ZP.prototype.VJ=function(e,j){};function Zh(e,j,g,P){Wp.call(this,g,j);this.or=P;this.Jv=null;this.gO=V.M("div","form");
this.body.appendChild(this.gO);this.as=e==0?new xH(g):new vz(g,0,100,null,0,!1,!0);this.as.S(V.E.m,this.AQ,this);
this.gO.appendChild(this.as.l);this.Oe=new WI("OK",!0,null,!0);this.Oe.S("click",this.zX,this);this.gO.appendChild(this.Oe.l);
this.S("closebtn",this.wG,this)}Zh.prototype=new Wp;Zh.prototype.eS=function(){return!0};Zh.prototype.AQ=function(e){var j=this.as.C();
if(this.or&&this.Jv.BT)this.Jv.BT(j)};Zh.prototype.wG=function(e){if(this.or&&this.Jv.BT)this.Jv.BT("cancel")};
Zh.prototype.zX=function(e){if(this.or&&this.Jv.BT)this.Jv.BT("confirm");else{var j=this.as.C();if(this.Jv.BT)this.Jv.BT(j);
else{var g=this.Jv.ZVE,P=new z(g.i,!0);P.X=g.X;P.data=g.q;P.data.r=j;P.Da=!0;this.P(P)}}this.close()};
Zh.prototype.w=function(){Wp.prototype.w.call(this);if(this.as)this.as.w()};Zh.prototype.VJ=function(e,j){this.Jv=j;
this.as.J(j.ek);this.as.ve();this.AQ(null)};function fw(){Wp.call(this,[1,5],"open_from_url");this.FF=null;
var e=V.M("div","form");this.body.appendChild(e);this.vU=new xH("URL",null,22);e.appendChild(this.vU.l);
this.vU.S(V.E.m,this.zX,this);V.ae(e);this.ls=new xI([21,0],[[21,2],[21,1]]);e.appendChild(this.ls.l);
this.dL=new WI("OK",!0,null,!0);this.dL.S("click",this.zX,this);e.appendChild(this.dL.l)}fw.prototype=new Wp;
fw.prototype.w=function(){Wp.prototype.w.call(this);this.ls.w()};fw.prototype.VJ=function(e,j,g){this.vU.ve();
this.FF=null;if(e&&g.indexOf(e)!=-1)this.FF=g.indexOf(e)};fw.prototype.zX=function(e){var j=new z(V.E.O,!0),g=this.vU.C();
j.data={U:V.a.MQ,im:{url:g,fu:!0,FF:this.ls.C()==1?this.FF:null}};this.P(j);this.close()};function JU(){Wp.call(this,[12,79],"preferences");
this.tS=null;var e=V.M("div","form");this.body.appendChild(e);this.xC=[new Wk([8,2]),new Wk([8,4]),new Wh([12,80,3],[[12,93,3],[12,80,4]]),new vD([12,80,5],1,100,null,2),new Wh(null,Z.CF.fk),new Wh([12,80,6],Z.CF.fk)];
for(var j=0;j<this.xC.length;j++){var g=this.xC[j];e.appendChild(g.l);if(j!=3)V.ae(e);g.S(V.E.m,this.Px,this)}}JU.prototype=new Wp;
JU.prototype.w=function(){Wp.prototype.w.call(this);for(var e=0;e<this.xC.length;e++)this.xC[e].w()};
JU.prototype.VJ=function(e,j,g){};JU.prototype.wY=function(e,j){this.tS=e;this.xC[0].J(e.ka.TY);this.xC[1].J(e.ka.dH);
this.xC[2].J(e.ka.Cv);this.xC[3].J(e.ka.$$);this.xC[4].J(e.ka.$j);this.xC[5].J(e.ka.AG)};JU.prototype.Px=function(e){var ZJ=this.xC,j=JSON.parse(JSON.stringify(this.tS.ka));
j.TY=ZJ[0].C();j.dH=ZJ[1].C();j.Cv=ZJ[2].C();j.$$=ZJ[3].C();j.$j=ZJ[4].C();j.AG=ZJ[5].C();if(j.$j!=4)j.$$=Math.round(j.$$);
var g=new z(V.E.O,!0);g.data={U:V.a.du,im:WV.Jf,Hy:j};this.P(g)};function ef(){Wp.call(this,[11,8],"saveforweb");
this.Zxj="";this.S("closebtn",function(){this.au.bx()},this);this.zj=new Uc(512,512);this.vs=null;this.aZ=null;
this.ZUr=null;this.tS=null;V.iV(this.body,"flexrow");var e=V.M("div"),j=V.M("div");this.body.appendChild(e);
this.body.appendChild(j);this.IC=V.M("div","imgcont");e.appendChild(this.IC);this.au=new ew;this.au.Ov(this.zj.x,this.zj.y);
this.YQ=V.M("span");e.appendChild(this.YQ);this.gO=V.M("div","form cell");this.gO.setAttribute("style","width:15em; padding-left:1em;");
j.appendChild(this.gO);this.aB=new Wh([12,50],Wg.FO());this.gO.appendChild(this.aB.l);this.aB.S(V.E.m,this.nS,this);
this._V=new eN(!1,!0);this._V.S(V.E.m,this.nS,this);this.gO.appendChild(this._V.l);this.WL=new uf;this.WL.S(V.E.m,this.nS,this);
this.gO.appendChild(this.WL.l);this.lp=new WI([1,2],!0,null,!0);this.lp.S("click",this.zX,this);this.gO.appendChild(this.lp.l)}ef.prototype=new Wp;
ef.prototype.bP=function(e,j){return e!=null};ef.prototype.w=function(){Wp.prototype.w.call(this);this._V.w();
this.aB.w();this.WL.w();this.lp.w()};ef.prototype.zX=function(e){var j=this.vs.name.split(".")[0],g=Wg.FO()[this.aB.C()],P=this.aZ,p=j+"."+g.toLowerCase(),v=this.vs,x=v.iZ;
if(x.length!=0&&(g=="JPG"||g=="PNG"||g=="GIF")&&this.WL.C().pop()){var A="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",f=[],S={},F=new G(0,0,v.W,v.j),m=v.Gj();
for(var R=0;R<x.length;R++)f.push(o.bR.da(x,R));f.reverse();var M=Z.rect.Wc([0,0,v.W,v.j],f);for(var R=0;
R<M.length;R++){var b=M[R],s=new G(b[0],b[1],b[2]-b[0],b[3]-b[1]),K=b.length==5?x[b[4]].v:null,X=Z.V(s.h()*4);
Z.Vy(m,F,X,s);var d="img/img"+(R+1)+"."+g.toLowerCase();S[d]=new Uint8Array(Wg[g].si([[X.buffer,0]],s.W,s.j,this.WL.C()));
A+="<div style=\"background-image:url('"+d+"'); left:"+s.x+"px; top:"+s.y+"px; width:"+s.W+"px; height:"+s.j+"px\">";
if(K&&K.url.v!="")A+="\n\t<a href=\""+K.url.v+"\" target=\""+K.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
A+="</div>\n"}A+="</body>\n</html>\n";var W=Z.V(Math.round(A.length*1.5)),O=T.bu(A,W,0);S["index.html"]=W.slice(0,O);
P=UZIP.encode(S);p=j+".zip"}var H=new z(V.E.O,!0);H.data={U:V.a.nH,data:P,name:p};this.P(H);this.au.bx();
this.close()};ef.prototype.VJ=function(e,j){if(j.QJ!=null)this.aB.J(j.QJ);this.vs=e;var g=e.W+","+e.j;
if(g!=this.Zxj){this.Zxj=g;this._V.J(new Uc(e.W,e.j))}this.WL.Z$v();this.nS(null,!0)};ef.prototype.wz=function(e,j){return new Uc(Math.max(0,Math.min(150,(e-770)/2)),Math.max(0,Math.min(150,(j-590)/2)))};
ef.prototype.Ov=function(e,j){this.LB=e;this.GF=j;this.zj.x=Math.min(512,e-26-214);this.zj.y=Math.min(512,j-45);
if(this.vs==null)return;var g=this._V.C(),e=g.x,j=g.y,P=Wg.FO()[this.aB.C()],p=Wg[P],m="<span style=\"width:",R="display:inline-block; text-align:right;\">";
if(p.px){var v=e,x=j,A;if(P=="PDF"||p.oy){v=this.zj.x;x=this.zj.y}else{v=Math.min(e+20,this.zj.x);x=Math.min(j+20,this.zj.y)}this.IC.firstChild.setAttribute("style","display:block; width:"+v+"px; height:"+x+"px;")}else{if(p.oy){v=this.zj.x;
x=this.zj.y}else{var f=this.ZUr,S=f[0].Fa,v=S.W,x=S.j;this.au.Ov(Math.max(50,Math.min(v/V.I(),this.zj.x)),Math.max(50,Math.min(x/V.I(),this.zj.y)))}}var F=this.aZ.byteLength,M=P+":"+m+64+"px;"+R+ef.eV(F)+"</span>";
if(this.zj.x>200)M+=m+90+"px; opacity:"+.5+";"+R+F.toLocaleString()+" B</span>";this.YQ.innerHTML=M};
ef.eV=function(e){var j=0;while(e>>>j+10!=0)j+=10;var g=(e/(1<<j)).toFixed(1),P=["B","KB","MB","GB"][Math.floor(j/10)];
return g+" "+P};ef.prototype.wY=function(e,j){this.tS=e};ef.prototype.nS=function(e,j){var g=this._V.C(),P=g.x,p=g.y,v=this.aB.C(),x=Wg.FO()[v],A=Wg.Qz(this.vs)[0].length,f=["GIF","PNG","WEBP"].indexOf(x)!=-1&&A>1,R="";
if(f&&j&&(A>4&&P*p>1024*1024||P*p*A>800*800*50)){var S=1;while(Math.max(P>>>S,p>>>S)>800)S++;var F=window.confirm("Your animation is large ("+P+" x "+p+" px). Press \"OK\" to scale it to "+(100>>>S)+"%. Press \"Cancel\" to keep the size.");
if(F){this._V.J(new Uc(P>>>S,p>>>S));P=P>>>S;p=p>>>S}}this.WL.ZvJ(x,f,this.vs.iZ.length!=0);var m=this.WL.C();
this.aZ=Wg.qU(this.vs,x,P,p,m,this.tS);if(this.aZ==null){this.vs=null;return}V.kO(this.IC);this.au.bx();
var M=Wg[x];if(M.oy){this.IC.innerHTML="<div></div>";R+="width:0px"}else if(M.px){var b=P,s=p,K;if(x=="PDF"){K=URL.createObjectURL(new Blob([this.aZ],{type:"application/pdf"}))}else{K=URL.createObjectURL(new Blob([this.aZ],{type:"image/svg+xml"}))}this.IC.innerHTML="<iframe src=\""+K+"\"></iframe>"}else{var X=this.ZUr=M.vn(this.aZ),d=X[0].Fa,b=d.W,s=d.j;
this.au.J(X,X.length>1?m[m.length-2]:0);this.IC.appendChild(this.au.l);R="background: rgba(0,0,0,0);"}this.IC.setAttribute("style","display:block; background-size:"+16/V.I()+"px;"+R);
this.Ov(this.LB,this.GF)};function ZY(){Wp.call(this,[11,13],"shortcuts");var e=this.uG=V.M("div","scrollable");
e.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(e);
this.Zau()}ZY.prototype=new Wp;ZY.prototype.w=function(){Wp.prototype.w.call(this);this.Zau()};ZY.prototype.Zau=function(){var e="<div style=\"column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",j="";
j+="<h2 style=\"margin-top:0;\">Main Menu</h2>";j+=e;j+=this.db([[0,0],"---",[1,0],"Ctrl + O",[1,2],"Ctrl + S",[1,3],"Shift+Ctrl + S",[1,8],"Alt+Shift+Ctrl + S",[0,1],"---",[2,0],"Shift + Ctrl + Z",[2,1],"Ctrl + Z",[5,0],"Ctrl + X",[5,1],"Ctrl + C",[5,2],"Ctrl + V",[2,2],"Delete",[2,3],"Alt + Backspace",[10,16],"Alt + Ctrl + T",[12,79],"Ctrl + K",[3],"---",[4,1],"Ctrl + L",[4,2],"Ctrl + M",[4,5],"Ctrl + U",[4,11],"Ctrl + I",[0,3],"---",[6,0],"Ctrl + J",[6,6,0],"Alt + Ctrl + G",[6,9],"Ctrl + G",[6,10],"Ctrl + E",[0,5],"---",[7,0],"Ctrl + A",[7,1],"Ctrl + D",[7,2],"Shift+Ctrl + I",[0,7],"---",[8,0],"Ctrl + +",[8,1],"Ctrl + -",[8,3],"Ctrl + R",[8,2],"Ctrl + ;",[8,4],"Ctrl + '",[11,13],"?"]);
j+="</div>";j+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";j+=e;j+=this.db("Vertical scroll,Wheel,Horizontal scroll,Ctrl + Wheel,Zooming,Alt + Wheel".split(","));
j+="</div>";j+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
j+=e;j+=this.db([[10,11],"Ctrl",[10,7],"Spacebar",[10,17],"Ctrl + Spacebar"]);j+="</div>";j+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
j+=e;var g=[];for(var P=0;P<ZY.xE.length;P+=3)g.push(ZY.xE[P],ZY.xE[P+1]);j+=this.db(g);j+=this.db(["abc",null,[24,16],"---",[22,7,1],"D",[22,7,0],"X","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}"]);
j+="</div>";this.uG.innerHTML=j};ZY.prototype.db=function(e){var j="",g=!0;for(var P=0;P<e.length;P+=2){var p=e[P],v=e[P+1];
if(v==null){g=!1;continue}var x=V.ZyC(Zr.get(p));if(v=="---"){if(!g)j+="<br/>";j+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+x+"</div>"}else j+="<div>"+x+" <span style=\"float:right; font-weight:bold;\">"+v+"</span> </div>";
g=!1}return j};ZY.xE=[[10,11],"V",0,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function xx(){Wp.call(this,[8,11,1],"soptions");this.kP=null;var e=V.M("div","form");e.style.width="20em";
this.body.appendChild(e);this.vd={Nm:[12,48],url:"URL",null:[12,71]};this.xC={};for(var j in this.vd){var g=new xH(this.vd[j],null,15);
this.xC[j]=g;e.appendChild(g.l)}var P=new WI("OK",!0,null,!0);P.S("click",this.zX,this);e.appendChild(P.l)}xx.prototype=new Wp;
xx.prototype.VJ=function(e,j,g){var P=j.r;this.kP=JSON.stringify(P);for(var p in this.vd){if(P[p])this.xC[p].J(P[p].v)}};
xx.prototype.zX=function(e){var j=JSON.parse(this.kP);for(var g in this.vd){var P=this.xC[g].C();j[g]={t:"TEXT",v:P}}var p=new z(V.E.s,!0);
p.X=o.jB;p.data=j;p.Da=!0;this.P(p);this.close()};function fV(){Wp.call(this,[2,3],"fill");this.tS=null;
this.ab=null;var e=V.M("div","form padded");e.style.width="22em";this.body.appendChild(e);this.pg="FrgC BckC Clr Blck Gry Wht contentAware".split(" ");
this.IW=new Wh([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3]]);this.IW.S(V.E.m,this.ZUs,this);
e.appendChild(this.IW.l);this.IC=V.M("span");e.appendChild(this.IC);this.SI=new xG;this.SI.parent=this;
this.SI.oE(0);this.lA=new Wh([12,19,0],WF.sK,!1,WF.Ev);e.appendChild(this.lA.l);this.vt=new vD([12,0],0,100,"%",0,!1);
this.vt.J(100);e.appendChild(this.vt.l);this.dL=new WI("OK",!0,null,!0);this.dL.S("click",this.zX,this);
this.body.appendChild(this.dL.l)}fV.prototype=new Wp;fV.prototype.bP=function(e,j){return e!=null};fV.prototype.eS=function(){return!0};
fV.prototype.ZUs=function(){var e=this.IW.C()==2,j=this.SI.l,g=this.IC;if(e)g.appendChild(j);else if(g.contains(j))g.removeChild(j)};
fV.prototype.w=function(){Wp.prototype.w.call(this);this.IW.w();this.lA.w();this.vt.w()};fV.prototype.zX=function(e){if(!this.ab.TA())return;
var j=new z(V.E.$E,!0),g=this.IW.C();j.data=o.sB.Tb(this.pg[g],WF.jS[this.lA.C()],this.vt.C()/100,this.SI.C());
this.close();this.P(j)};fV.prototype.VJ=function(e,j){this.ab=e};fV.prototype.wY=function(e,j){this.tS=e};
function Zk(){Wp.call(this,[14,9],"stroke");this.tS=null;this.gO=V.M("div","form");this.gO.setAttribute("style","width:24em");
this.body.appendChild(this.gO);this.pk=new vc("FrFX",!0);this.pk.parent=this;var e=["Sz","Styl","Md","Opct"].concat(Wr.VP);
for(var j=0;j<e.length;j++){var g=this.pk.uV[e[j]].l;this.gO.appendChild(g)}this.ZUU=!1;this.dL=new WI("OK",!0,null,!0);
this.dL.S("click",this.zX,this);this.body.appendChild(this.dL.l)}Zk.prototype=new Wp;Zk.prototype.bP=function(e,j){return e!=null};
Zk.prototype.eS=function(){return!0};Zk.prototype.w=function(){Wp.prototype.w.call(this);this.pk.w()};
Zk.prototype.zX=function(e){var j=new z(V.E.s,!0);j.X=o.vu;j.data={U:"stroke",ZKz:this.pk.C()};this.close();
this.P(j)};Zk.prototype.VJ=function(e,j){if(!this.ZUU){var g=Wr.ea[Wr.order.indexOf("FrFX")];g=JSON.parse(g);
this.pk.update(e,g);this.ZUU=!0}var g=this.pk.C(),P=this.tS.Jm;g.Clr.v=Z.c.Op({k:P>>16&255,z:P>>8&255,e:P&255});
this.pk.update(e,g)};Zk.prototype.wY=function(e,j){this.tS=e};function fC(){Wp.call(this,[11,9],"textwarp");
this.xC=new fr;this.xC.S(V.E.m,this.BM,this);this.xC.parent=this;this.gO=V.M("div","form");this.gO.setAttribute("style","width:20em");
this.body.appendChild(this.gO);this.gO.appendChild(this.xC.jr.l);this.gO.appendChild(this.xC.dQ.l);this.gO.appendChild(this.xC.jJ.l);
this.gO.appendChild(this.xC.jC.l);this.gO.appendChild(this.xC.ja.l);this.dL=new WI("OK",!0,null,!0);
this.dL.S("click",this.zX,this);this.gO.appendChild(this.dL.l);this.S("closebtn",this.wG,this)}fC.prototype=new Wp;
fC.prototype.eS=function(){return!0};fC.prototype.w=function(){Wp.prototype.w.call(this);this.xC.w()};
fC.prototype.BM=function(e){var j=this.xC.C();this.KI({U:"warp",xL:j})};fC.prototype.KI=function(e){var j=new z(V.E.s,!0);
j.X=o.TR;j.data=e;j.Da=!0;this.P(j)};fC.prototype.wG=function(e){this.KI({U:"warpCancel"})};fC.prototype.zX=function(e){this.KI({U:"warpConfirm"});
this.close()};fC.prototype.VJ=function(e,j){var g=e.T[e.b[0]];this.xC.J(g.add.TySh.pJ)};function Vt(){Wp.call(this,"Raw Photopea","rawpea");
this.SA=null;this.DQ=null;this.lP=null;this.ZSz=0;this.jh=null;this._$=null;this.ZUe=500;this.ZUn=500;
this.S("closebtn",this.FS,this);V.iV(this.body,"flexrow");var e=V.M("div"),j=V.M("div"),p="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
j.setAttribute("style","padding-left: 1em");this.body.appendChild(e);this.body.appendChild(j);this.O$=V.M("canvas");
e.appendChild(this.O$);this.Gl=new xt(225);this.Gl.pI(4);j.appendChild(this.Gl.l);this.gO=V.M("div");
this.gO.setAttribute("style","width:18em;");j.appendChild(this.gO);this.Zvm=new vQ("Hi",!0);this.gO.appendChild(this.Zvm.l);
this.JT=[new WO("Temperature",2e3,13e3),new WO("Tint",-150,150),new WO([4,3],-4,4,null,!0),new WO([12,3,0],-100,100)];
for(var g=0;g<this.JT.length;g++){var P=this.JT[g];P.J(0);P.S(V.E.m,this.TE,this);this.gO.appendChild(P.l);
if(g==1)this.gO.appendChild(V.M("hr"))}this.dL=new WI([1,0],!0,null,!0);this.dL.S("click",this.zX,this);
this.gO.appendChild(this.dL.l);this.lX=new WI(p+" JPG",!0,null,!0);this.lX.S("click",this.ZUO,this);
this.gO.appendChild(this.lX.l);this.lX.l.style.marginTop="6px"}Vt.prototype=new Wp;Vt.prototype.CO=function(){return!0};
Vt.prototype.wz=function(){return new Uc(0,0)};Vt.prototype.Ov=function(e,j){this.ZUe=e-274;this.ZUn=j-32;
if(this.SA)this.Zap()};Vt.prototype.w=function(){Wp.prototype.w.call(this);this.dL.w();for(var e=0;e<this.JT.length;
e++)this.JT[e].w()};Vt.prototype.ZUO=function(e){var j=this.SA,g=this.DQ,P=Z.V(j.width*j.height*4);Z.XC(P,4294967295);
Z.raw.nK(g,P,j,this.Or());var p=Wg.JPG.si([[P.buffer]],g.VD,g.Vt,[85]),v=new z(V.E.O,!0);v.data={U:V.a.nH,data:p,name:"photo.jpg"};
this.P(v)};Vt.prototype.zX=function(e){var j=this.SA,g=this.DQ,P=Z.V(j.width*j.height*4);Z.XC(P,4294967295);
Z.raw.nK(g,P,j,this.Or());var p=Uk.Oi(j),j={Fa:new G(0,0,g.VD,g.Vt),data:P.buffer,fn:p},v=Wc.Bj("Raw Photo",[j]),x=new z(V.E.O,!0);
x.data={U:V.a.HA,vs:v};this.P(x);this.FS();this.close()};Vt.prototype.FS=function(){this.SA=null;this.DQ=null;
this.jh=null;this._$=null};Vt.prototype.VJ=function(e,j,g,P){this.SA=j.WE;this.DQ=Z.raw.ZWH(this.SA);
var p=this.DQ;this.Zvm.J(p.VD+" x "+p.Vt+", "+(p.VD*p.Vt/1e6).toFixed(1)+" MPx");var v=Z.raw.ZvM(j.WE);
this.lP=ex.nU(v);this.JT[0].J(this.lP.XK);this.JT[1].J(this.lP.wm);for(var x=2;x<this.JT.length;x++)this.JT[x].J(0);
this.Zap()};Vt.prototype.wY=function(e,j){this.Gl.oE(Zf.Hx[e.AU]["--text-color"])};Vt.prototype.Zap=function(){var e=this.DQ,j=e.VD,g=e.Vt,P=1;
while(j/P>this.ZUe*V.I()||g/P>this.ZUn*V.I())P++;var p=Math.floor(j/P),v=Math.floor(g/P);this.jh={C$:new Float32Array(p*v*3),VD:p,Vt:v};
var x=this.O$.getContext("2d");this._$=x.createImageData(p,v);Z.XC(this._$.data,4294967295);var A=1/(P*P);
for(var f=0;f<v;f++)for(var S=0;S<p;S++){var F=0,m=0,R=0,M=(S+1)*P,b=(f+1)*P;for(var s=f*P;s<b;s++)for(var K=S*P;
K<M;K++){var X=(s*j+K)*3;F+=this.DQ.C$[X];m+=this.DQ.C$[X+1];R+=this.DQ.C$[X+2]}var d=(f*p+S)*3;this.jh.C$[d]=F*A;
this.jh.C$[d+1]=m*A;this.jh.C$[d+2]=R*A}this.TE()};Vt.prototype.TE=function(){var e=this.SA,j=this.jh.VD,g=this.jh.Vt,P=j*g,p=this.O$,v=p.getContext("2d");
p.width=j;p.height=g;V.oR(p,j,g);Z.raw.nK(this.jh,new Uint8Array(this._$.data.buffer),e,this.Or());v.putImageData(this._$,0,0);
var x=Z.LO(this._$.data);for(var A=0;A<4;A++)for(var f=1;f<256;f++)if(x[A][f]==0)x[A][f]=x[A][f-1];for(var A=0;
A<4;A++)for(var f=1;f<256;f++)if(x[A][f]==0)x[A][f]=x[A][f-1];this.Gl.J(x)};Vt.prototype.Or=function(){var e=[];
for(var j=0;j<this.JT.length;j++)e.push(this.JT[j].C());return e};function VD(){Wp.call(this,[11,11],"vbitmap");
this.Jv=null;this.vT=null;this.lY=null;this.vz=null;this.pr=null;this.pv=this.fc.bind(this);this.gO=V.M("div","form hbar");
this.body.appendChild(this.gO);this.G_=new vD([12,82],2,50,null);this.G_.S(V.E.m,this.fc,this);this.gO.appendChild(this.G_.l);
this.$m="";this.Ef=new Wk([12,81]);this.Ef.S(V.E.m,this.fc,this);this.gO.appendChild(this.Ef.l);this.Ex=new Wk("Segmentize");
this.Ex.S(V.E.m,this.fc,this);this.gO.appendChild(this.Ex.l);this.dL=new WI("OK",!1,null,!0);this.dL.S("click",this.zX,this);
this.gO.appendChild(this.dL.l);var e=V.M("div","flexrow"),j=16;this.body.appendChild(e);this.az=new ew;
this.az.S("viewchange",this.ZaY,this);this.KM=V.M("canvas");this.KM.setAttribute("style","margin-left: 1px; cursor:grab;");
this.OE=this.KM.getContext("2d");var g=Z.V(16*16*4);Z.ZL(g,j,j,8,0,0);this.lk=Z.scale.wy(g,j,j);this.az.Z$W(this.KM);
e.appendChild(this.az.l);e.appendChild(this.KM)}VD.prototype=new Wp;VD.prototype.CO=function(){return!0};
VD.prototype.wz=function(){return new Uc(0,0)};VD.prototype.eS=function(){return!0};VD.prototype.Ov=function(e,j){j=j-26-30;
e=Math.floor((e-28)/2);V.ik(this.KM,e,j);this.az.Ov(e,j)};VD.prototype.Pm=function(e,j,g,P){this.az.Pm(P)};
VD.prototype.w=function(){Wp.prototype.w.call(this);this.G_.w();this.Ef.w();this.Ex.w();this.dL.w()};
VD.prototype.VJ=function(e,j){this.pr=e;var g=e.T[e.b[0]],P=Z.Yh.NZ(g.buffer.buffer,g.rect.W,g.rect.j).ZSq,p=P/((g.rect.W-2)*(g.rect.j-2));
this.Ef.J(p<.75);this.Ex.J(p<.75);var v=g.rect.clone();v.x=v.y=0;this.Jv={Fa:v,data:g.buffer.buffer.slice(0)};
this.vT=null;this.az.J([this.Jv]);this.G_.J(20);setTimeout(this.pv,20)};VD.prototype.fc=function(){var e=!0,j=Date.now(),g=this.Jv,P=this.Ef.C(),p=this.Ex.C(),v=P||p,x=P+","+p;
if(v&&(this.vT==null||this.$m!=x)){this.$m=x;console.log("recomputing");var A=new Uint8Array(g.data.slice(0)),f=15,S=35,F=g.Fa.W,m=g.Fa.j;
if(P){ZW.HT(A,A,F,m,f,Z.Bz.cs,[S],2)}if(e){console.log("denoise",Date.now()-j);j=Date.now()}if(p){var R=Z.Yh.Ne(A,F,m),M=R.EU,b=new Uint8Array(M*4);
for(var s=0;s<M;s++){var K=s*4,X=s*6,d=1/R.aa[X+5];b[K]=R.aa[X]*d;b[K+1]=R.aa[X+1]*d;b[K+2]=R.aa[X+2]*d}for(var s=0;
s<A.length;s+=4){var W=R.La[s>>>2]*4;A[s]=b[W];A[s+1]=b[W+1];A[s+2]=b[W+2]}}this.vT={Fa:g.Fa.clone(),data:A.buffer};
if(e){console.log("segm",Date.now()-j);j=Date.now()}}if(v)g=this.vT;var A=new Uint8Array(g.data),F=g.Fa.W,m=g.Fa.j;
for(var s=0;s<A.length;s+=4){if(A[s+3]<10)A[s]=A[s+1]=A[s+2]=A[s+3]=0}var O=Z.Yh.ZBF(A,F,m,this.G_.C(),v?.1:2e-4);
if(e){console.log("doclipart",Date.now()-j);j=Date.now()}var H=O.La.slice(0);for(var s=0;s<H.length;
s++)H[s]++;var Y=new Uint8Array((F+2)*(m+2));Z.Oo(H,new G(1,1,F,m),Y,new G(0,0,F+2,m+2));var y=Math.round((F+2)*(m+2)/1e4),B=fu.nF(Y,F+2,m+2,Math.min(12,y)),c=fu.OK(B),$=new WE(1,0,0,1,-1,-1);
for(var s=0;s<c.length;s++)Z.g.K(c[s].path.u,$,c[s].path.u);this.vz=c;this.lY=O;if(e){console.log("trace",Date.now()-j);
j=Date.now()}for(var s=0;s<c.length;s++){var I=c[s];for(var r=s+1;r<c.length;r++){var i=c[r];if(O.IO[i.color-1].est.q[3]>.05||i.parent!=s)continue;
var U=i.path.L.slice(1);U.reverse();U=["M"].concat(U);var N=[],B=i.path.u.length;for(var C=0;C<B;C+=2){N[C]=i.path.u[B-2-C];
N[C+1]=i.path.u[B-2-C+1]}Z.g.concat(I.path,{u:N,L:U})}}for(var s=0;s<c.length;s++){var I=c[s],D=O.IO[I.color-1].est.q;
if(D[3]<=.05){c.splice(s,1);s--;continue}}for(var s=1;s<c.length;s++){var n=c[s-1],I=c[s];if(n.color==I.color){Z.g.concat(n.path,I.path);
c.splice(s,1);s--;continue}}this.ZaY()};VD.prototype.ZaY=function(e){if(this.vz==null)return;var j=this.Jv.Fa.W,g=this.Jv.Fa.j,P=this.vz,p=this.lY.IO,v=this.OE,x=this.az.bZ();
v.setTransform(1,0,0,1,0,0);v.clearRect(0,0,v.canvas.width,v.canvas.height);v.translate(v.canvas.width/2,v.canvas.height/2);
v.scale(x.d,x.d);v.translate(x.R.x/x.d-j/2,x.R.y/x.d-g/2);v.scale(1/x.d,1/x.d);v.fillStyle=this.lk;v.fillRect(0,0,j*x.d,g*x.d);
v.scale(x.d,x.d);var A=[];for(var f=0;f<p.length;f++){var S=p[f].est.q;A.push({k:Math.round(255*S[0]),z:Math.round(255*S[1]),e:Math.round(255*S[2]),Fl:Math.round(255*S[3])})}for(var f=0;
f<P.length;f++){var F=P[f],S=A[F.color-1];if(S.Fl==0)continue;v.fillStyle="rgba("+S.k+","+S.z+","+S.e+","+S.Fl/255+")";
v.beginPath();Typr.U.pathToContext({crds:F.path.u,cmds:F.path.L},v);v.fill()}};VD.prototype.zX=function(e){var j=this.vz,g=j.length==1,P=this.pr,p=P.b[0],v=P.T[p],x=P.T.slice(0,p);
if(!g)x.push(P.Rt());for(var A=0;A<j.length;A++){var f=j[A],S=this.lY.IO[f.color-1].est.q;Z.g.K(f.path.u,new WE(1,0,0,1,v.rect.x,v.rect.y),f.path.u);
var F=P.Rz();F.tG("Path "+A);x.push(F);F.opacity=Math.round(S[3]*255);F.Oz|=16;F.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z.c.Op({k:255*S[0],z:255*S[1],e:255*S[2]})}};
F.add.vmsk=new u.nt;F.add.vstk=JSON.parse(JSON.stringify(Wr.hg.default));F.add.vmsk.F=Z.g.br(f.path,!1);
F.add.vogk=[];F.Vd();F.d$(P)}var m=x[x.length-1];if(!g){var F=P.Rz();F.tG(v.getName());F.add.lsct=vC.x_;
F.T$="pass";F.Oz=24;x.push(F);m=F}var R=v.add.lmfx;if(R)m.add.lmfx=JSON.parse(JSON.stringify(R));for(var A=p+1;
A<P.T.length;A++)x.push(P.T[A]);var M=new z(V.E.s,!0);M.Da=!0;M.X=o.jE;M.data={U:u.jF,Jh:x,kz:[p+j.length+(g?-1:1)],de:[11,11]};
this.P(M);this.close()};function ZN(e){Wp.call(this,[[7,11],"Magic Cut"][e],["redge","magiccut"][e]);
this.UG=e;this.Jv={};this.vm=null;this.ES=null;this.pr=null;this.Ee=null;this.fQ=null;this.BL=[];this.gc=-1;
this.gO=V.M("div","form hbar");this.body.appendChild(this.gO);this.Ph=new fv;this.Ph.parent=this;this.Ph.S(V.E.m,this.gB,this);
this.gO.appendChild(this.Ph.l);var j=e==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"],g=e==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.lo=new Va(null,j,g,28);this.gO.appendChild(this.lo.l);this.tv=new vz([7,9],0,50,null);this.tv.parent=this;
this.tv.S(V.E.m,[this.ZiT,this.fc][e],this);this.gO.appendChild(this.tv.l);var P=this.ZUh=new WI([2,2],!1,null,!0);
P.S("click",this.FS,this);this.gO.appendChild(P.l);var p=this.ZUM=new WI([12,90],!1,null,!0);p.S("click",function(A){alert(e==0?Zr.get([15,7,1]):"Mark the object with Green, background with Red.",5e3)},this);
this.gO.appendChild(p.l);var v=V.M("span","form");this.gO.appendChild(v);v.setAttribute("style","position:absolute;  right:0px");
this.v$=new Va([12,46],["checker","white","black"]);this.v$.S(V.E.m,this.Zij,this);v.appendChild(this.v$.l);
this.lh=new Wh(null,[[6,13],[6,2],[17,2]]);v.appendChild(this.lh.l);this.dL=new WI("OK",!1,null,!0);
this.dL.S("click",this.zX,this);v.appendChild(this.dL.l);var x=V.M("div","flexrow");this.body.appendChild(x);
this.tO=new ew(!0);this.mg=new ew;this.tO.sd(this.mg);this.mg.sd(this.tO);this.tO.S("mousedown",this.QN,this);
this.tO.S("mousemove",this.Aw,this);this.tO.S("mouseup",this.Sy,this);this.tO.S("zoom",this.gB,this);
this.mg.S("zoom",this.gB,this);x.appendChild(this.tO.l);x.appendChild(this.mg.l)}ZN.prototype=new Wp;
ZN.prototype.bP=function(e,j){var g=e!=null&&!e.T[e.b[0]].rect.tE();if(!g)alert("The layer is empty.");
return g};ZN.prototype.CO=function(){return!0};ZN.prototype.wz=function(){return new Uc(0,0)};ZN.prototype.eS=function(){return!0};
ZN.prototype.Ov=function(e,j){j=j-26-33;e=Math.floor((e-28)/2);this.tO.Ov(e,j);this.mg.Ov(e,j)};ZN.prototype.w=function(){Wp.prototype.w.call(this);
this.Ph.w();this.tv.w();this.dL.w();this.v$.w();this.lh.w();this.ZUh.w();this.ZUM.w()};ZN.prototype.wY=function(e,j){this.ES=e;
if(j==WV.AY||j==WV.oY){this.Ph.EF(e.sM);this.Ph.J(eC.gE(),e.sM.og,e.sM.Zk)}};ZN.prototype.Pm=function(e,j,g,P){this.Ee=P;
var p=o.sB.yh(this.Ph.C(),P);if(p!=null){this.Ph.J(p);this.gB()}else if(P.v(q.kA)&&P.v(q.RF)){var v=this.BL,x=0;
if(P.v(q.Ag)){if(this.gc+1<v.length)x=1}else if(this.gc>0)x=-1;if(x!=0){this.gc+=x;var A=this.gc,f=this.Jv;
if(x==1)Z.Vy(v[A][2],v[A][0],f.Hh,f.rect);else Z.Vy(v[A+1][1],v[A+1][0],f.Hh,f.rect);f.EV=f.rect;this.fc()}}else this.tO.Pm(P)};
ZN.prototype.jP=function(e){var j=this.Jv,g=this.BL,P=Z.V(e.h()*4);Z.Vy(j.vF,j.rect,P,e);j.vF=null;var p=Z.V(e.h()*4);
Z.Vy(j.Hh,j.rect,p,e);this.gc++;g[this.gc]=[e.clone(),P,p];while(g.length>this.gc+1)g.pop();while(g.length>50){g=g.slice(1);
this.gc--}};ZN.prototype.gB=function(){var e=this.ES,j=WM.TZ(this.Ph.C(),e.sM.og,this.tO.bZ().d);this.tO.nQ(j)};
ZN.prototype.QN=function(e){var j=this.ES,g=this.Jv,P=this.Ee,p=this.Ph.C(),v=this.tO.dU(),x=[16777215,8421504,0][this.lo.C()];
this.vm=new WM(p,j.sM.list[0].og,j.sM.list[0].Zk,{nD:1,RB:!0},x,j.gK,g.rect);g.vF=g.Hh.slice(0);if(P!=null&&P.v(q.Ag)&&this.fQ){this.vm.moveTo(this.fQ.x,this.fQ.y);
this.vm.lineTo(v.x,v.y)}else this.vm.moveTo(v.x,v.y);this.Zam()};ZN.prototype.Aw=function(e){var j=this.Jv,g=this.tO.dU();
this.vm.lineTo(g.x,g.y);this.Zam()};ZN.prototype.Sy=function(e){this.fQ=this.tO.dU();this.jP(this.vm.Ox());
this.fc()};ZN.prototype.Zam=function(){var e=this.Jv,j=this.vm,g=j.Lo();if(g.tE())return;e.EV=g;Z.Y.$Q("norm",j.Wz(),j.SQ(),e.Hh,e.rect,g,1);
this.Ziz()};ZN.prototype.FS=function(e){var j=this.Jv;j.vF=j.Hh.slice(0);j.EV=j.rect;Z.XC(j.Hh,[4278190080,4292730333][this.UG]);
this.jP(j.rect);this.fc()};ZN.prototype.VJ=function(e,j){this.pr=e;var g=e.T[e.b[0]],P=g.rect.clone(),p=P.W,v=P.j;
this.tv.J(this.UG==0?3:p*v<3e6?3:0);this.lo.J(e.Z==null?0:1);this.tv.GR();if(this.UG==0&&e.Z!=null||this.UG==1)this.tv.EE();
var x=this.UG,A=Z.V(P.h()),f=new Float32Array(P.h());if(x==0&&e.Z){Z.Oo(e.Z.channel,e.Z.rect,A,P);var S=Z.V(P.h());
for(var F=0;F<v;F++)for(var m=0;m<p;m++){var R=F*p+m,M=A[R];if(m>0&&A[R-1]!=M||m<p-1&&A[R+1]!=M||F>0&&A[R-p]!=M||F<v-1&&A[R+p]!=M)S[R]=255}Z.style.zD(S,f,p,v)}else f.fill(1e9);
P.x=P.y=0;this.Jv={rect:P,C$:g.buffer,Ll:A,KJ:f,uE:Z.V(P.h()*4),Af:Z.V(P.h()*4),Hh:Z.V(P.h()*4),vF:null,mA:null,EV:P,Zei:{}};
if(x==0)this.ZiT();else{this.Jv.Zei=o.DP.Zgv(e);var b=this.Jv.Hh;Z.XC(b,4287137928);var s=Z.fL.getSelection(g.buffer,p,v),K=Math.round(p/60),X=Math.round(.7*v);
for(var F=0;F<v;F++)for(var m=0;m<p;m++){var d=(F*p+m)*4,W=s[d>>>2];W=W>128?255:128;if(F<K||F<X&&(m<K||m>p-1-K))W=0;
b[d]=b[d+1]=b[d+2]=W}this.fc()}this.BL=[1];this.gc=0;this.tO.ZKL();var O=this.Ph.C();O.Brsh.v.Dmtr.v.val=Math.round(P.W/(x==0?10:20));
this.Ph.J(O);this.gB()};ZN.prototype.ZiT=function(){var e=this.Jv,j=e.rect.h(),g=this.tv.C(),P=e.Ll.slice(0);
for(var p=0;p<j;p++)if(e.KJ[p]<g)P[p]=128;Z.XC(e.Hh,4294967295);Z.sH(P,e.Hh,0);Z.sH(P,e.Hh,1);Z.sH(P,e.Hh,2);
e.EV=e.rect;this.fc()};ZN.prototype.fc=function(){var e=this.Jv,p,v=0,x=0,A=0;this.Ziz();var j=e.rect,g=Z.V(j.h()),P=e.C$;
Z.bF(e.Hh,g,0);for(var f=0;f<g.length;f++){var S=g[f];if(S==0)v++;else if(S==255)x++;else A++}if(v*x*A!=0){if(this.UG==0)p=Z.iu.iu(j,P,g);
else{var F=Date.now(),m=this.Jv.Zei;Z.Ue(g,m.Hp);o.DP.Yr(m,!0);var R=Math.ceil(this.tv.C()/2);if(R==0){p=P.slice(0);
Z.sH(m.Z,p,3)}else{var M=m.Z.slice(0),b=m.Z.slice(0),s=j.W,K=j.j;for(var X=0;X<R;X++){for(var d=1;d<K-1;
d++)for(var W=1;W<s-1;W++){var f=d*j.W+W,O=M[f];if(M[f-s]!=O||M[f-1]!=O||M[f+1]!=O||M[f+s]!=O)b[f]=128;
else b[f]=O}var H=M;M=b;b=H}p=Z.iu.iu(j,P,M,20,!1)}}}else{p=P.slice(0);Z.sH(g,p,3)}if(j.iJ(e.rect))e.mA=p;
else Z.Vy(p,j,e.mA,e.rect);this.Zij()};ZN.prototype.Ziz=function(e){var j=this.Jv,g=j.EV;Z.Vy(j.C$,j.rect,j.uE,j.rect,g,!0);
var P=j.Hh;if(this.UG==1){var p=new Uint32Array(256);p[0]=4278190335;p[255]=4278255360;var v=j.rect.h();
P=P.slice(0);var x=new Uint32Array(P.buffer);for(var A=0;A<v;A+=2){x[A]=p[x[A]&255];x[A+1]=p[x[A+1]&255]}}Z.Y.$Q("norm",P,j.rect,j.uE,j.rect,g,.3);
this.tO.J([{Fa:j.rect,data:j.uE.buffer}])};ZN.prototype.Zij=function(e){var j=this.Jv;Z.XC(j.Af,[0,4294967295,4278190080][this.v$.C()]);
Z.Y.$Q("norm",j.mA,j.rect,j.Af,j.rect,j.rect,1);this.mg.J([{Fa:j.rect,data:j.Af.buffer}])};ZN.prototype.zX=function(e){var j=this.pr,g=this.Jv,P=this.lh.C(),p=j.T[j.b[0]],v=new z(V.E.s,!0);
v.Da=!0;var x=p.rect.clone();if(P==0&&p.Je()||P!=0&&!p.Je()){v.X=o.jE;v.data={U:u.EY,$:j.b[0]};this.P(v)}if(j.Z!=null){v.X=o.IJ;
v.data={U:"fromAction",Rm:o.gs.CP()};this.P(v)}if(P==0){var A=j.T.slice(0),f=j.Rz();f.tG(p.getName());
A.splice(j.b[0]+1,0,f);f.rect=x;f.buffer=g.mA;f.H();v.X=o.jE;v.data={U:u.jF,Jh:A,kz:[j.b[0]+1],de:[7,11]};
this.P(v)}if(P==1){var S=p.ou();v.X=o.jE;v.data={U:u.ah,ZOw:!0};this.P(v);var F=p.ou();F.channel=Z.V(x.h());
F.rect=x;F.color=0;F.jA=!0;Z.bF(g.mA,F.channel,3);if(S){var m=F.TS(S);F.rect=m.rect;F.channel=m.channel;
F.color=m.color}F.Co();p.d$()}if(P==2){var R={rect:x,channel:Z.V(x.h())};Z.bF(g.mA,R.channel,3);v.X=o.IJ;
v.data={U:"setsel",Z:R,de:this.Wd};this.P(v)}this.close()};function fL(){Wp.call(this,[1,13],"locstor");
this.tS=null;this.HP=[];var e=this.body,j=V.M("p");j.textContent="These files are loaded every time you start Photopea.";
e.appendChild(j);this.Zeq=0;this.lM=V.M("span");e.appendChild(this.lM);this.lM.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
this.dY=new WI([5,4],!1,null,!0);this.dY.S("click",this.ZUF,this);e.appendChild(this.dY.l);this.Rp=new Jx(!0);
this.Rp.parent=this;this.Rp.pI(1);this.Rp.S(V.E.m,this.ZUA,this);e.appendChild(this.Rp.l);this.Rp.l.setAttribute("style","width: 40em; height: 25em")}fL.prototype=new Wp;
fL.prototype.w=function(){Wp.prototype.w.call(this);this.lM.textContent=Zr.get([13,2])+": "+ef.eV(this.Zeq);
this.dY.w()};fL.prototype.wY=function(e,j){this.tS=e;if(j==WV.uZ)this.VJ()};fL.prototype.VJ=function(e,j){var g=this.tS.Ru.yG,f=0;
this.HP=[];for(var P in g)this.HP.push(P);this.HP.sort(function(m,R){m=m.split(".");R=R.split(".");return m[1]==R[1]?m[0]<R[0]?-1:1:m[1]<R[1]?-1:1});
var p=Math.floor(100*V.I()),v=Math.floor(16*V.I()),x=[],A=[];for(var S=0;S<this.HP.length;S++){var P=this.HP[S],F=fL.Qf(P,g[P],p,v);
x.push(F);A.push(P);f+=g[P].byteLength}this.Rp.oq(x,A,p,v);this.Zeq=f;this.w()};fL.prototype.ZUA=function(e){this.Rp.vJ(this.Rp.C())};
fL.prototype.ZUF=function(e){var j=this.Rp.C();if(j==-1){alert("Select a file first.");return}this.Rp.J(-1);
var g=this.tS.Ru.yG;delete g[this.HP[j]];var P=new z(V.E.O,!0);P.data={U:V.a.du,im:WV.uZ};this.P(P)};
fL.Qf=function(e,j,g,P){var p=V.M("canvas"),A=0;p.width=g;p.height=P;var v=p.getContext("2d"),x=e.split(".").pop().toLowerCase();
for(var f=0;f<x.length;f++)A+=x.charCodeAt(f)*613<<8*f;v.fillStyle="#"+Z.jz(A&16777215);v.fillRect(0,0,20,P);
var S=Math.floor(14*V.I());v.fillStyle="#000000";v.font="bold "+S+"px sans-serif";var F=(P-S)/2,m=ef.eV(j.byteLength),R=v.measureText(m);
v.fillText(m,g-12-R.width,P-F);return p.toDataURL()};function xC(e,j,g){Wp.call(this,j,"cwindow");this.ZWW=new Uc(g[0],g[1]-33);
this.gO=V.M("div","form");this.gO.setAttribute("style","width:"+(g[2]-g[0])+"px; height:"+(g[3]-g[1])+"px");
this.body.appendChild(this.gO)}xC.prototype=new Wp;xC.prototype.wz=function(e,j){return this.ZWW.clone()};
function WP(e,j,g,P){WN.call(this);this.name=e;this.ZWv=g;this.PZ=P;this.t_=V.M("div","");this.t_.setAttribute("draggable","true");
this.aR=V.M("div","pbody");this.Av=new WI("",!1,"");this.Av.parent=this;this.ZVV=V.M("span","cross");
this.Ce=V.M("span","label");var p=this.ZWV.bind(this);this.t_.addEventListener("mousedown",this.ZUo.bind(this),!1);
this.t_.addEventListener("contextmenu",p,!1);this.Av.l.addEventListener("contextmenu",p,!1);this.ZVV.addEventListener("mousedown",this.dj.bind(this),!1);
this.t_.appendChild(this.Ce);if(j)this.t_.appendChild(this.ZVV);this.BI=!1;this.lb=new Zn([{name:[1,12]}]);
this.lb.S("select",this.dj,this);this.Ce.textContent=e}WP.prototype=new WN;WP.prototype.KH=function(){return null};
WP.prototype.bo=function(){return new Uc(0,0)};WP.prototype.w=function(){var e=Zr.get(this.name),j=this.LB==0?22:Math.round(2+this.LB/50),g=e.length>j;
this.Ce.textContent=g?e.slice(0,j-2):e;if(g)for(var P=0;P<2;P++){var p=V.M("span");p.textContent=e.charAt(j-2+P);
p.setAttribute("style","opacity:"+(.6-P*.4));this.Ce.appendChild(p)}var v=e.split(" "),x=v.length==2?v[0].substring(0,2)+v[1][0]:e.substring(0,3);
if(x.charCodeAt(0)>=11776)x=x.substring(0,1);var A=this.ZWv;if(A==null)this.Av.FU(x,e);else{if(A.indexOf("\"")==-1)this.Av.FU("<img src=\""+A+"\" alt=\""+e+"\" height=\"20\" />",e)}};
WP.prototype.enable=function(){this.aR.setAttribute("class","pbody")};WP.prototype.disable=function(){this.aR.setAttribute("class","pbody disabled")};
WP.prototype.wY=function(e,j){};WP.prototype.VJ=function(e,j,g){};WP.prototype.Ov=function(e,j){};WP.prototype.Xb=function(e){this.name=e;
this.w()};WP.prototype.Ar=function(){};WP.prototype.ZUo=function(e){if(e.button==0)this.P(new z("select",!1))};
WP.prototype.ZWV=function(e){V.nx(e);if(this.PZ!=null&&isNaN(this.PZ))return;var j=V.nX(e,document.body),g=this.lb;
g.update(null);g.w();g.parent=this;var P=new z(V.E.O,!0);P.data={U:V.a.LD,JR:g,x:j.x+1,y:j.y+1};this.P(P)};
WP.prototype.Ks=function(){this.dj({})};WP.prototype.dj=function(e){if(e.stopPropagation)e.stopPropagation();
if(this.PZ!=null&&!isNaN(this.PZ)){var j=new z(V.E.O,!0);j.data={U:V.a.nN,JR:this.lb};this.P(j);j.data={U:V.a.du,im:WV.IX,r:parseFloat(this.PZ),$_:"del"};
this.P(j)}else if(this.ZNI())this.P(new z(V.E.Wt,!1))};WP.prototype.ZNI=function(e){return!0};WP.prototype.Lr=function(e,j,g,P,p){};
WP.prototype.tg=function(e,j,g,P,p){};WP.prototype.jT=function(e,j,g,P,p){};WP.eu=function(e,j){if(e.childElementCount!=0)return;
var g=e.textContent;this.wd=this.ZWu.bind(this);this.ZVL=this.ZWC.bind(this);this.VU=j;this.Oy=e;this.ZWe=g;
var P=V.M("input","");P.setAttribute("type","text");P.setAttribute("size","10");P.setAttribute("value",g);
V.kO(e);e.appendChild(P);P.select();P.focus();e.addEventListener("keyup",this.wd,!1);document.body.addEventListener("mousedown",this.ZVL,!1)};
WP.eu.prototype.ZWu=function(e){var j=q.TI,g=j(e.code,q.dS);if(j(e.code,q.Ae)||g)this.ZNs(g)};WP.eu.prototype.ZWC=function(e){var j=e.target;
if(j.tagName&&j.tagName.toLowerCase()=="input")return;this.ZNs(!0)};WP.eu.prototype.ZNs=function(e){var j=this.Oy;
j.removeEventListener("keyup",this.wd);document.body.removeEventListener("mousedown",this.ZVL);if(e){var g=j.firstChild.value;
this.VU(g)}else{V.kO(j);j.textContent=this.ZWe}};WP.uc={Fy:"0",ZWt:"1",jE:"2",ZWh:"3",ZWl:"4",bl:"5",CSS:"6",AY:"7",Zvd:"8",ZDR:"9",ZvB:"10",Zvy:"11",Zva:"12",qi:"13",hJ:"14",Zvi:"15",ZvD:"16",HC:"17",ZvT:"18"};
function e$(){WP.call(this,[9,9],!1,null,WP.uc.Zvy);this.tS=null;this.mY=[0,0];this.in=V.M("div","padded scrollable");
this.in.setAttribute("style","width:260px;  height:260px");this.aR.appendChild(this.in);this.S(V.E.m,this.AQ,this);
this.GJ=V.M("div","lpfoot");this.aR.appendChild(this.GJ);this.op=[];var e="<svg  class=\"gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\">",j="</svg>",g=e+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+j,P=e+"<path d=\"M0,2 L14,9 L0,16 Z\" />"+j;
this.ZVT=e+"<circle cx=\"7\" cy=\"9\" r=\"6\" />"+j;this.ZWJ=e+"<path d=\"M2,4 L12,4 L12,14 L2,14 Z\" />"+j;
var p=[this.ZVT,P,"lrs/folder","lrs/newlayer","lrs/bin",g],v=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var x=0;x<p.length;x++){var A=p[x];if(1<x&&x!=p.length-1)A="<img src=\""+PIMG[p[x]]+"\" class=\"gsicon\" />";
var f=new WI(A,!1,v[x]);f.S("click",this.ZLs,this);this.GJ.appendChild(f.l);this.op.push(f)}}e$.prototype=new WP("");
e$.prototype.w=function(){WP.prototype.w.call(this);for(var e=0;e<this.op.length;e++)this.op[e].w()};
e$.prototype.ZLs=function(e){var j=this.op.indexOf(e.currentTarget),g=this.mY,P=this.tS,p=P.ig;if(j==0){var v,x=P.er;
if(p.length==0){alert("Create an Action Set first.");return}if(g.length<2){alert("Select a target action first.");
return}if(x==null){v=this.ZWJ;x=this.mY}else{v=this.ZVT;x=null}this.op[0].FU(v);P.er=x}else if(j==1)this.Zvz();
else if(j==2||j==3){var A={de:"Action Set "+p.length,A:[],exp:!0};if(j==2||p.length==0){g=[p.length];
p.push(A)}if(j==3){var f=p[g[0]].A;g=[g[0],f.length];f.push({de:"Action "+f.length,color:0,A:[],Znj:!1,shift:!1,exp:!0,VS:f.length})}this.mY=g;
this.TE()}else if(j==4){var S;if(g.length==1)S=p;else if(g.length==2)S=p[g[0]].A;else S=p[g[0]].A[g[1]].A;
var F=g.length-1;S.splice(g[F],1);if(S.length==0)g.pop();else while(g[F]>=S.length)g[F]--;if(g.length==0)g.push(0);
this.TE()}else if(j==5){if(p.length==0){alert("No Actions Present.");return}var m=new z(V.E.O,!0);m.data={U:V.a.Sa,ZCe:WV.s,if:g[0]};
this.P(m)}};e$.prototype.AQ=function(e){var j=this.tS.ig,g=e.data.U,P=e.data.RM;if(g=="sel")this.mY=P;
if(g=="fold"){if(P.length==1)j[P[0]].exp=!j[P[0]].exp;else j[P[0]].A[P[1]].exp=!j[P[0]].A[P[1]].exp}if(g=="enab"){var p=j[P[0]].A[P[1]].A[P[2]];
p.p=!p.p}if(g=="nchange"){if(P.length==1)j[P[0]].de=e.data.U_;else j[P[0]].A[P[1]].de=e.data.U_}this.TE()};
e$.prototype.wY=function(e,j){this.tS=e;if(j==WV.s||j==WV.oY)this.TE()};e$.prototype.TE=function(){if(this.tS==null)return;
V.kO(this.in);var e=this.tS.ig;if(e.length==0)return;var j=JSON.stringify(this.mY);for(var g=0;g<e.length;
g++){var P=e[g],p=new e$.XZ([g],j,P.exp,P.de.split("=").pop());p.parent=this;this.in.appendChild(p.l);
if(!P.exp)continue;for(var v=0;v<P.A.length;v++){var x=P.A[v],p=new e$.XZ([g,v],j,x.exp,x.de.split("=").pop());
p.parent=this;this.in.appendChild(p.l);if(!x.exp)continue;for(var A=0;A<x.A.length;A++){var f=x.A[A],p=new e$.XZ([g,v,A],j,null,Zr.get(vT.Zdz(f)),f.p);
p.parent=this;this.in.appendChild(p.l)}}}};e$.prototype.Zvz=function(){var e=this.tS.ig,j=this.mY;if(e.length==0){alert("No Actions Present");
return}if(j.length==1){alert("Select an Action first");return}if(this.tS.er!=null){alert("You can not apply actions while recording actions");
return}if(j.length==1)j.push(0);var g=e[j[0]],P=g.A[j[1]],p=new z(V.E.O,!0);p.data={U:V.a.Ix,ZY:[P.de,g.de]};
this.P(p)};e$.XZ=function(e,j,g,P,p){WN.call(this);this.RM=e;var v=this.RM.length-1;this.l=V.M("div","layeritem"+(JSON.stringify(e)==j?" selected":""));
this.E_=V.M("div","head");this.l.appendChild(this.E_);this.E_.setAttribute("style","height:24px");this.mM=V.M("div","headL");
this.E_.appendChild(this.mM);if(v!=0){var x=V.M("div");x.style.width=v*20+"px";this.mM.appendChild(x)}if(g!=null){var A=this.ZWg=V.M("div",g?"open":"closed");
this.mM.appendChild(A)}else{var f=this.ZWn=V.M("div","cmark");f.setAttribute("style","background-size:12px 12px; opacity:"+(p?1:.3));
this.mM.appendChild(f)}if(v==0){var S=V.M("div","folder");this.mM.appendChild(S)}var F=this.Ce=V.M("div","label");
F.textContent=P;this.mM.appendChild(F);this.l.addEventListener("mouseup",this.dw.bind(this),!1)};e$.XZ.prototype=new WN;
e$.XZ.prototype.dw=function(e){if(e.detail==1&&e.target.tagName.toLowerCase()!="input"){var j="sel";
if(e.target==this.ZWg)j="fold";if(e.target==this.ZWn)j="enab";var g=new z(V.E.m,!0);g.data={U:j,RM:this.RM};
this.P(g)}else if(this.RM.length<3)var P=new WP.eu(this.Ce,this.VU.bind(this))};e$.XZ.prototype.VU=function(e){var j=new z(V.E.m,!0);
j.data={U:"nchange",U_:e,RM:this.RM};this.P(j)};function Wm(){WP.call(this,[9,3],!1,null,WP.uc.AY);this.kN=null;
this.Zc=null;this.tS=null}Wm.prototype=new WP("");Wm.prototype.eC=function(){var e=V.M("div","");this.aR.appendChild(e);
this.ZT=V.M("div","bordered cell");this.ZT.setAttribute("style","width:10em; height:28.5em;");e.appendChild(this.ZT);
this.xC=[];this.lw=null;this.tw=[];var j=this.ZvA.bind(this);this.$G=[new Wm.qe,new Wm.wK,new Wm.VC,new Wm.sr];
for(var g=0;g<this.$G.length;g++){var P=V.M("div","listitem"),p=this.$G[g].FY,v=null;if(g==0){this.lw=new vQ(p);
P.appendChild(this.lw.l)}else{v=new Wk(p,!1);v.S(V.E.m,this.ZvE,this);P.appendChild(v.l)}this.tw.push(v);
this.ZT.appendChild(P);this.xC.push(P);P.addEventListener("click",j,!1)}this.$l=V.M("div","cell padded");
e.appendChild(this.$l);for(var g=0;g<this.$G.length;g++)this.$G[g].S("brushchange",this.ZvG,this);this.setItem(0);
this.zi=V.M("canvas","");this.zi.width=Math.floor(380*V.I());this.zi.height=Math.floor(80*V.I());V.oR(this.zi,this.zi.width,this.zi.height);
e.appendChild(this.zi);this.OE=this.zi.getContext("2d");this.fc()};Wm.prototype.Ar=function(){if(!V.Ic(this.aR))return;
if(this.ZT){this.fc();return}this.eC();this.w();this.wY(this.tS,WV.oY)};Wm.prototype.w=function(){WP.prototype.w.call(this);
if(this.ZT==null)return;this.lw.w();for(var e=1;e<this.tw.length;e++)this.tw[e].w();for(var e=0;e<this.$G.length;
e++)this.$G[e].w()};Wm.prototype.ZvG=function(e){var j=this.$G.indexOf(e.currentTarget),g=JSON.parse(JSON.stringify(this.$G[j].Zc)),P=new z(V.E.O,!0);
P.data={U:V.a.du,im:WV.xO,Zc:g};this.P(P)};Wm.prototype.ZvE=function(e){this.ZLR(this.tw.indexOf(e.currentTarget),e.currentTarget.$I())};
Wm.prototype.ZvA=function(e){var j=this.xC.indexOf(e.currentTarget);if(e.target.tagName.toLowerCase()=="input")return;
if(this.tw[j]&&!this.tw[j].$I()){this.tw[j].EA();this.ZLR(j,!0)}this.setItem(j)};Wm.prototype.ZLR=function(e,j){this.$G[e].bm(j)};
Wm.prototype.setItem=function(e){for(var j=0;j<this.$G.length;j++)this.xC[j].setAttribute("class","listitem");
if(this.$l.firstChild)this.$l.removeChild(this.$l.firstChild);this.xC[e].setAttribute("class","listitem selected");
this.$l.appendChild(this.$G[e].l)};Wm.prototype.wY=function(e,j){this.tS=e;if(this.ZT==null)return;if(j==WV.AY||j==WV.oY){this.kN=e.sM;
for(var g=0;g<this.$G.length;g++)this.$G[g].EF(this.kN)}if(j==WV.xO||j==WV.oY){this.Zc=e.sM.mk;this.fc()}if(j==WV.qi)this.fc()};
Wm.prototype.fc=function(){if(this.Zc)this.enable();else{this.disable();return}if(!V.Ic(this.aR))return;
var e=this.tS;for(var j=0;j<this.$G.length;j++){this.$G[j].J(this.Zc);if(this.tw[j])this.tw[j].J(this.$G[j].$I())}var g=JSON.parse(JSON.stringify(this.Zc));
g.Brsh.v.Dmtr.v.val=Math.min(g.Brsh.v.Dmtr.v.val,50);var P=new G(0,0,this.zi.width,this.zi.height),p=new WM(g,this.kN?this.kN.og:null,this.kN?this.kN.Zk:null,{nD:1},e.Jm,e.gK,P),v=40*V.I(),x=300*V.I();
p.moveTo(v,v);for(var j=0;j<=x;j+=10)p.lineTo(v+j,v+20*Math.sin(2*Math.PI*j/x));p.finish();var A=this.OE.createImageData(P.W,P.j);
Z.Vy(p.Wz(),p.SQ(),A.data,P);this.OE.putImageData(A,0,0)};Wm.UN=function(e){WN.call(this);this.FY=e;
this.l=V.M("div","");this.Zc=null};Wm.UN.prototype=new WN;Wm.UN.prototype.EF=function(e){};Wm.UN.prototype.J=function(e){this.Zc=JSON.parse(JSON.stringify(e));
this.l.setAttribute("class",this.$I()?"":"disabled");this.fc()};Wm.UN.prototype.bm=function(e){};Wm.UN.prototype.$I=function(){return!1};
Wm.UN.prototype.w=function(){};Wm.UN.prototype.fc=function(){};Wm.UN.prototype.kR=function(){this.P(new z("brushchange"))};
Wm.qe=function(){Wm.UN.call(this,[15,0]);this.kN=null;this.ZJr=null;this.EB=new Jx(!0);this.l.appendChild(this.EB.l);
this.EB.S(V.E.m,this.Zer,this);this.EB.l.style.height="10.7em";this.Ei=new WO([12,14,0],1,1e3," px",0,!0);
this.Ei.S(V.E.m,this.ZeZ,this);this.ED=new WO([12,15],0,359," \xB0");this.ED.S(V.E.m,this.Zef,this);
this.Eq=new WO([12,16],0,100," %");this.Eq.S(V.E.m,this.ZeW,this);this.ET=new WO([12,17],0,100," %");
this.ET.S(V.E.m,this.ZeV,this);this.EH=new WO([12,18],1,300," %");this.EH.S(V.E.m,this.ZeJ,this);this.xC=[this.Ei,this.ED,this.Eq,this.ET,this.EH]};
Wm.qe.prototype=new Wm.UN;Wm.qe.prototype.w=function(){this.Ei.w();this.ED.w();this.Eq.w();this.ET.w();
this.EH.w()};Wm.qe.prototype.$I=function(){return!0};Wm.qe.prototype.EF=function(e){this.kN=e;var j=[],g=Math.floor(30*V.I()),P=Math.floor(40*V.I());
for(var p=0;p<e.list.length;p++){var v=e.list[p].v,x=WM.Qf(v,e.og,e.Zk,g,P);j.push(x)}this.EB.oq(j,null,g,P)};
Wm.qe.prototype.fc=function(){var e=this.Zc.Brsh.v,j=e.classID!=this.ZJr;this.ZJr=e.classID;if(j)for(var g=0;
g<this.xC.length;g++)if(this.l.contains(this.xC[g].l))this.l.removeChild(this.xC[g].l);this.Ei.J(e.Dmtr.v.val);
if(j)this.l.appendChild(this.Ei.l);this.ED.J(e.Angl.v.val);if(j)this.l.appendChild(this.ED.l);if(e.classID=="computedBrush"||e.classID=="sampledBrush"){this.Eq.J(e.Rndn.v.val);
if(j)this.l.appendChild(this.Eq.l)}if(e.classID=="computedBrush"){this.ET.J(e.Hrdn.v.val);if(j)this.l.appendChild(this.ET.l)}this.EH.J(e.Spcn.v.val);
if(j)this.l.appendChild(this.EH.l)};Wm.qe.prototype.Zer=function(e){this.Zc=this.kN.list[this.EB.C()].v;
this.kR()};Wm.qe.prototype.ZeZ=function(e){this.Zc.Brsh.v.Dmtr.v.val=e.target.C();this.kR()};Wm.qe.prototype.Zef=function(e){this.Zc.Brsh.v.Angl.v.val=e.target.C();
this.kR()};Wm.qe.prototype.ZeW=function(e){this.Zc.Brsh.v.Rndn.v.val=e.target.C();this.kR()};Wm.qe.prototype.ZeV=function(e){this.Zc.Brsh.v.Hrdn.v.val=e.target.C();
this.kR()};Wm.qe.prototype.ZeJ=function(e){this.Zc.Brsh.v.Spcn.v.val=e.target.C();this.kR()};Wm.wK=function(){Wm.UN.call(this,[15,1]);
this.eZ=new WO([15,4,0],0,100," %");this.eZ.S(V.E.m,this.Zeu,this);this.l.appendChild(this.eZ.l);this.ex=new WO([15,4,1],0,100," %");
this.ex.S(V.E.m,this.ZeC,this);this.l.appendChild(this.ex.l);this.eU=new WO([15,4,2],0,100," %");this.eU.S(V.E.m,this.Zeg,this);
this.l.appendChild(this.eU.l);this.ee=new WO([15,4,3],0,100," %");this.ee.S(V.E.m,this.ZVZ,this);this.l.appendChild(this.ee.l);
this.eg=new WO([15,4,4],0,100," %");this.eg.S(V.E.m,this.ZVy,this);this.l.appendChild(this.eg.l)};Wm.wK.prototype=new Wm.UN;
Wm.wK.prototype.w=function(){this.eZ.w();this.ex.w();this.eU.w();this.ee.w();this.eg.w()};Wm.wK.prototype.$I=function(){return this.Zc.useTipDynamics.v};
Wm.wK.prototype.bm=function(e){this.Zc.useTipDynamics.v=e;eC.kq.L$(this.Zc);this.kR()};Wm.wK.prototype.fc=function(){var e=this.Zc;
if(e.useTipDynamics.v==!1)return;this.eZ.J(e.szVr.v.jitter.v.val);this.ex.J(e.minimumDiameter.v.val);
this.eU.J(e.angleDynamics.v.jitter.v.val);this.ee.J(e.roundnessDynamics.v.jitter.v.val);this.eg.J(e.minimumRoundness.v.val)};
Wm.wK.prototype.Zeu=function(e){this.Zc.szVr.v.jitter.v.val=e.target.C();this.kR()};Wm.wK.prototype.ZeC=function(e){this.Zc.minimumDiameter.v.val=e.target.C();
this.kR()};Wm.wK.prototype.Zeg=function(e){this.Zc.angleDynamics.v.jitter.v.val=e.target.C();this.kR()};
Wm.wK.prototype.ZVZ=function(e){this.Zc.roundnessDynamics.v.jitter.v.val=e.target.C();this.kR()};Wm.wK.prototype.ZVy=function(e){this.Zc.minimumRoundness.v.val=e.target.C();
this.kR()};Wm.VC=function(){Wm.UN.call(this,[15,2]);this.en=new WO([15,5,0],0,1e3," %");this.en.S(V.E.m,this.ZVA,this);
this.l.appendChild(this.en.l);this.eN=new WO([15,5,1],1,20);this.eN.S(V.E.m,this.ZVQ,this);this.l.appendChild(this.eN.l);
this.eD=new WO([15,5,2],0,100," %");this.eD.S(V.E.m,this.ZJf,this);this.l.appendChild(this.eD.l)};Wm.VC.prototype=new Wm.UN;
Wm.VC.prototype.w=function(){this.en.w();this.eN.w();this.eD.w()};Wm.VC.prototype.$I=function(){return this.Zc.useScatter.v};
Wm.VC.prototype.bm=function(e){this.Zc.useScatter.v=e;eC.kq.L$(this.Zc);this.kR()};Wm.VC.prototype.fc=function(){var e=this.Zc;
if(e.useScatter.v==!1)return;this.en.J(e.scatterDynamics.v.jitter.v.val);this.eN.J(e.Cnt.v);this.eD.J(e.countDynamics.v.jitter.v.val)};
Wm.VC.prototype.ZVA=function(e){this.Zc.scatterDynamics.v.jitter.v.val=e.target.C();this.kR()};Wm.VC.prototype.ZVQ=function(e){this.Zc.Cnt.v=e.target.C();
this.kR()};Wm.VC.prototype.ZJf=function(e){this.Zc.countDynamics.v.jitter.v.val=e.target.C();this.kR()};
Wm.sr=function(){Wm.UN.call(this,[15,3]);this.et=new WO([15,6,0],0,100," %");this.et.S(V.E.m,this.ZJW,this);
this.l.appendChild(this.et.l);this.Yt=new WO([15,6,1],0,100," %");this.Yt.S(V.E.m,this.ZJq,this);this.l.appendChild(this.Yt.l);
this.eT=new WO([15,6,2],0,100," %");this.eT.S(V.E.m,this.ZJH,this);this.l.appendChild(this.eT.l);this.eG=new WO([15,6,3],0,100," %");
this.eG.S(V.E.m,this.ZJ$,this);this.l.appendChild(this.eG.l)};Wm.sr.prototype=new Wm.UN;Wm.sr.prototype.w=function(){this.et.w();
this.Yt.w();this.eT.w();this.eG.w()};Wm.sr.prototype.$I=function(){return this.Zc.useColorDynamics.v};
Wm.sr.prototype.bm=function(e){this.Zc.useColorDynamics.v=e;eC.kq.L$(this.Zc);this.kR()};Wm.sr.prototype.fc=function(){var e=this.Zc;
if(e.useColorDynamics.v==!1)return;this.et.J(e.clVr.v.jitter.v.val);this.Yt.J(e.H.v.val);this.eT.J(e.Strt.v.val);
this.eG.J(e.Brgh.v.val)};Wm.sr.prototype.ZJW=function(e){this.Zc.clVr.v.jitter.v.val=e.target.C();this.kR()};
Wm.sr.prototype.ZJq=function(e){this.Zc.H.v.val=e.target.C();this.kR()};Wm.sr.prototype.ZJH=function(e){this.Zc.Strt.v.val=e.target.C();
this.kR()};Wm.sr.prototype.ZJ$=function(e){this.Zc.Brgh.v.val=e.target.C();this.kR()};function fc(){WP.call(this,[9,0],!1,null,WP.uc.Fy);
this.aR.setAttribute("style","min-width:200px;");this.xW=V.M("div","hpbody scrollable");this.xW.style.height="160px";
this.aR.appendChild(this.xW);this.ZWB=-1;this.ll=[];this.Pj=""}fc.prototype=new WP("");fc.prototype.VJ=function(e){if(e==null){V.kO(this.xW);
this.Pj="";return}V.kO(this.xW);var j=0;for(var g=0;g<e.history.length;g++)if(g<=e.dT&&!e.history[g].hF)j=g;
for(var g=0;g<e.history.length;g++){var P=e.history[g];if(P.hF)continue;var p=new xB(P,g,j);p.parent=this;
this.xW.appendChild(p.l);this.ll.push(p)}if(e.dT==e.history.length-1)this.Ar()};fc.prototype.Ar=function(){this.xW.scrollTop=this.xW.scrollHeight};
fc.prototype.w=function(){WP.prototype.w.call(this);for(var e=0;e<this.ll.length;e++)this.ll[e].w()};
function xB(e,j,g){WN.call(this);this.index=j;this.l=V.M("div",j==g?"listitem selected":"listitem");
this.x$=e.name;this.w();if(j>g)this.l.style.opacity=.4;this.l.addEventListener("click",this.Lr.bind(this),!1)}xB.prototype=new WN;
xB.prototype.w=function(){this.l.textContent=Zr.get(this.x$)};xB.prototype.Lr=function(e){if(this.index==this.parent.ZWB)return;
this.Lv({U:"h_itemchange",index:this.index})};xB.prototype.Lv=function(e){var j=new z(V.E.s,!0);j.data=e;
j.X=o.Fy;this.P(j)};function fq(){WP.call(this,[9,10],!1,null,WP.uc.ZWl);var e=V.M("div","padded");this.aR.appendChild(e);
this.Gl=new xt(256);e.appendChild(this.Gl.l);this.ZWi=[];this.d_=[];var j=["Mean:","Pixels:"];for(var g=0;
g<j.length;g++){var P=new vQ(j[g]);this.ZWi.push(P);e.appendChild(P.l);var p=new vQ("hi");this.d_.push(p);
e.appendChild(p.l);V.ae(e)}this.ab=null}fq.prototype=new WP("");fq.prototype.VJ=function(e){this.ab=e;
this.TE()};fq.prototype.TE=function(){var e=this.ab,S=0;if(!V.Ic(this.aR))return;if(e==null||e.b.length==0){this.Gl.J(Z.LO(Z.V(4)));
this.d_[0].J("");this.d_[1].J("");return}var j=e.Gj(),g=new G(0,0,e.W,e.j),P=g.h();if(e.Z){var p=e.Z.rect,v=Z.V(p.h()*4);
Z.Vy(j,g,v,p);Z.Q_(e.Z.channel,v);j=v;g=p;var x=e.Z.channel;P=0;for(var A=0;A<x.length;A++)P+=x[A];P=Math.round(P/255)}var f=Z.LO(j);
this.Gl.J(f);for(var A=0;A<256;A++)S+=A*(.333*f[1][A]+.333*f[2][A]+.333*f[3][A]);this.d_[0].J((S/P).toFixed(1)+"");
this.d_[1].J(P+"")};fq.prototype.wY=function(e,j){this.Gl.oE(Zf.Hx[e.AU]["--text-color"])};fq.prototype.w=function(){WP.prototype.w.call(this);
this.Gl.w()};fq.prototype.Ar=function(){this.TE()};function xi(){WP.call(this,[9,8],!1,null,WP.uc.ZWt);
this.in=V.M("div","padded");this.aR.appendChild(this.in);this.jQ=new VU(10);this.in.appendChild(this.jQ.l);
this.in.appendChild(V.M("hr"));this.mb=new Vd;this.mb.parent=this;this.in.appendChild(this.mb.ho);this.jQ.S(V.E.m,this.ZSs,this);
this.mb.S(V.E.m,this.ZSs,this)}xi.prototype=new WP("");xi.prototype.ZSs=function(e){var j;if(e.target==this.jQ)j=this.jQ.C();
else{var g=this.mb.C();j=Math.round(g.k)<<16|Math.round(g.z)<<8|Math.round(g.e)}var P=new z(V.E.O,!0);
P.data={U:V.a.du,im:WV.qi,oV:0,r:j};this.P(P)};xi.prototype.wY=function(e,j){var g=e.Jm,P=j==WV.oY;if(j==WV.qi||P){this.jQ.J(g);
this.mb.J({k:g>>>16&255,z:g>>>8&255,e:g>>>0&255,YN:"Color #"+Z.jz(g)})}if(j==WV.Ip||P){var p=e.ZJJ;this.mb.EF(p)}};
function vK(){WP.call(this,[12,72],!1,null,WP.uc.ZvD);this.eO=null;this.fp=null;this.xW=V.M("div","lpbody scrollable");
this.GJ=V.M("div","lpfoot");this.aR.appendChild(this.xW);this.aR.appendChild(this.GJ);this.lm=[];this.S("click",this.KP,this);
this.GK=[];vK.dl([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.GK,this.GJ,this.vi.bind(this),this.KK.bind(this));
this.ZuH=new Zn([{name:"Merge Channels",BJ:!0}]);this.ZuH.S("select",this.fX,this)}vK.prototype=new WP("");
vK.prototype.fX=function(e){if(this.fp==null)return;var j=new z(V.E.O,!0);j.data={U:V.a.LW,aj:"mergechannels"};
this.P(j)};vK.prototype.KH=function(){return this.ZuH};vK.dl=function(e,j,g,P,p){for(var v=0;v<e.length;
v++){var x=new WI("W",!1,e[v]);j.push(x);V.lI(x.l,P);g.appendChild(x.l);var A=x.l;A.addEventListener("drop",p,!1);
A.addEventListener("dragover",function(f){f.preventDefault()},!1);A.addEventListener("dragenter",V.nx,!1)}};
vK.bc=function(e,j){for(var g=0;g<e.length;g++)if(e[g].l==j.currentTarget)return g};vK.prototype.vi=function(e){var j=vK.bc(this.GK,e);
if(j==0)this.P(Ul.Kw(!0,null,e));else{j--;var g=new z(V.E.$E,!0),P={classID:"null"};if(j==0)P.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};
else if(j==1)P.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else P.null=vT.EG("Chnl",!0);g.data={Wi:["duplicate","make","delete"][j],HR:P};this.P(g)}};vK.prototype.KK=function(e){var j=vK.bc(this.GK,e);
if(j==2){var g=new z(V.E.$E,!0),P={classID:"null"};P.null=vT.EG("Chnl",!0);g.data={Wi:"duplicate",HR:P};
this.P(g)}else this.vi(e)};vK.prototype.Ez=function(e){var j=this.lm,g=j[e];if(g==null){var P=V.M("canvas");
g=P.getContext("2d");j.push(g)}return g};vK.prototype.KP=function(e){var j=this.eO.slice(0),g=e.data.VS,P=j[0]+j[1]+j[2],p=this.fp;
if(-5<g&&g<0){var v=-g-1;if(e.data.WW){if(v==0)j=P==3?[0,0,0]:[1,1,1];else{if(j[v-1]==0)j[v-1]=1;else if(!0)j[v-1]=0}}else{if(v==0)j=[1,1,1];
else{j=[0,0,0];j[v-1]=1}p.HO=[]}var x=new z(V.E.s,!0);x.X=o.SJ;x.data={U:"setcls",oJ:j};this.P(x);return}if(-1<g){var A=p.T[g],f=A.TM==1?A.ou():A.EK(p)._;
if(e.data.WW)f.IN=!f.IN;else{for(var S=0;S<p.xr.length;S++)p.xr[S].IN=!1;p.HO=[]}}else{var F=-g-5,f=p.xr[F];
if(e.data.WW)f.IN=!f.IN;else{for(var S=0;S<p.xr.length;S++)p.xr[S].IN=!1;f.IN=!0;p.HO=[F]}}p.tI=p.YX=!0};
vK.prototype.Ar=function(){this.nS()};vK.prototype.VJ=function(e){this.fp=e;this.nS()};vK.prototype.nS=function(){var e=this.fp,j=this.xW,A=34,f=34,b=4;
V.kO(j);if(e==null||!V.Ic(j))return;var g=e.W,P=e.j,p=new G(0,0,g,P),v=this.eO=e.N.oJ.slice(0),x=v[0]+v[1]+v[2];
if(g>P)f=Math.round(f*P/g);else A=Math.round(A*g/P);var S=["RGB"].concat(Wj.kr);for(var F=0;F<4;F++){var m=this.Ez(F);
Z.jk.xt(m,A,f,p,e.Gj(),p,!1,F==0?null:F-1);var R=F==0?x==3:v[F-1]==1,M=new Ul(-1-F,!0,!0,m,S[F],R,R);
M.parent=this;j.appendChild(M.l)}for(var F=0;F<e.b.length;F++){var s=e.T[e.b[F]],K=s.TM;if(K!=1&&K!=3)continue;
var X=K==1?s.ou():s.EK(e)._,m=this.Ez(b+F);b++;Z.jk.xD(m,A,f,p,X);var M=new Ul(e.b[F],!0,!0,m,s.getName()+(K==1?"":" Filter")+" Mask",!0,X.IN);
M.parent=this;j.appendChild(M.l)}for(var F=0;F<e.xr.length;F++){var X=e.xr[F],m=this.Ez(b+F);Z.jk.xD(m,A,f,p,X);
var M=new Ul(-5-F,!0,X.name=="Quick Mask",m,X.name,e.HO.indexOf(F)!=-1,X.IN,o.jE,{U:u.xS,oV:"rnm",VS:F});
M.parent=this;j.appendChild(M.l)}};vK.prototype.Ov=function(e,j){this.xW.style.height=j-9-25+"px"};vK.prototype.w=function(){WP.prototype.w.call(this);
this.nS();vK.KX(this.GK,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};vK.KX=function(e,j){for(var g=0;
g<e.length;g++){var P=e[g];P.FU(V.MR(j[g]))}};function Ul(e,j,g,P,p,v,x,A,f){WN.call(this);this.l=V.M("div","layeritem");
this.ZWN=e;this.ZWq=j;this.ZWL=g;this.kl=P;this.ZWz=A;this.ZWG=f;this.E_=V.M("div",v?"head selected":"head");
this.E_.setAttribute("style","height: "+40+"px");var S=V.M("div","headL"),F=V.M("div","headR"),m=15;
this.l.appendChild(this.E_);this.E_.appendChild(S);this.E_.appendChild(F);this.Pz=V.M("div","eye");if(1<V.I()&&V.I()<1.5)m=m/V.I();
this.Pz.setAttribute("style","background-size: "+m+"px "+m+"px;");this.Pz.style.opacity=x?1:.2;if(j)S.appendChild(this.Pz);
this.iN=V.M("div","thumb");if(P)this.iN.appendChild(P.canvas);S.appendChild(this.iN);this.Hc=V.M("div","label");
if(g)this.Hc.style.fontStyle="italic";this.Hc.textContent=Zr.get(p);S.appendChild(this.Hc);var R=this.E_;
R.setAttribute("draggable","true");this.E_.addEventListener("mousedown",this.ZJO.bind(this),!1);this.E_.addEventListener("mouseup",this.Zuf.bind(this),!1)}Ul.prototype=new WN;
Ul.prototype.VU=function(e){var j=new z(V.E.s,!0);j.X=this.ZWz;j.data=this.ZWG;j.data.name=e;this.P(j)};
Ul.prototype.ZJO=function(e){var j=e.ctrlKey||e.metaKey,g=this.ZWN;if(j&&e.target==this.kl.canvas){this.P(Ul.Kw(this.ZWq,g,e))}else{var P=new z("click",!0);
P.data={VS:g,WW:e.target==this.Pz,_f:j};this.P(P)}};Ul.prototype.Zuf=function(e){if(!this.ZWL&&e.detail==2&&e.target==this.Hc){var j=new WP.eu(this.Hc,this.VU.bind(this))}};
Ul.Kw=function(e,j,g){var P=0;if(g.shiftKey)P++;if(g.altKey)P+=2;var p=new z(V.E.s,!0);p.X=o.IJ;if(e)p.data={U:"fromchannel",ZY:[j,0,P]};
else p.data={U:"frompath",ZY:[j,0,P]};return p};function ZX(){WP.call(this,[8,9],!1,null,WP.uc.HC);this.eO=null;
this.fp=null;this.xW=V.M("div","lpbody scrollable");this.GJ=V.M("div","lpfoot");this.aR.appendChild(this.xW);
this.aR.appendChild(this.GJ);this.aR.addEventListener("click",this.ZuM.bind(this),!1);this.lm=[];this.S("click",this.KP,this);
this.GK=[];vK.dl([[17,2],"Selection to Path",[5,3],[5,4]],this.GK,this.GJ,this.vi.bind(this),this.KK.bind(this))}ZX.prototype=new WP("");
ZX.prototype.vi=function(e){var j=vK.bc(this.GK,e),g;if(j==0)g=Ul.Kw(!1,null,e);else if(j==1){g=new z(V.E.$E,!0);
g.data={Wi:"make",HR:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else{var g=new z(V.E.s,!0);
g.X=o.Zx;g.data={U:"pathedit",oV:["new","del"][j-2]}}this.P(g)};ZX.prototype.KK=function(e){this.vi(e)};
ZX.prototype.Ez=function(e){var j=this.lm,g=j[e];if(g==null){var P=V.M("canvas");g=P.getContext("2d");
j.push(g)}return g};ZX.prototype.ZuM=function(e){if(e.target==this.xW){var j=this.fp;j.QL=[];j.Bm=[];
j.YX=!0;j.tI=!0}};ZX.prototype.KP=function(e){var j=e.data.VS,g=this.fp,P=e.data._f,p=0,v,x;if(j<0){p=-1-j;
v=g.QL;x=g.Bm}else{var A=g.OK()[0];for(var f=0;f<A.length;f++){var S=A[f].VS;if(S==j)break;if(S>=0)p++}v=g.Bm;
x=g.QL}if(P){var F=v.indexOf(p);if(F==-1)v.push(p);else v.splice(F,1)}else{while(v.length!=0)v.pop();
while(x.length!=0)x.pop();v.push(p)}g.YX=!0;g.tI=!0};ZX.prototype.Ar=function(){this.nS()};ZX.prototype.VJ=function(e){this.fp=e;
this.nS()};ZX.prototype.nS=function(){var e=this.fp,j=this.xW,A=34,f=34;V.kO(j);if(e==null||!V.Ic(j))return;
var g=e.W,P=e.j,p=new G(0,0,g,P),v=this.eO=e.N.oJ.slice(0),x=v[0]+v[1]+v[2];if(g>P)f=Math.round(f*P/g);
else A=Math.round(A*g/P);var S=e.OK(),F=S[0];for(var m=0;m<F.length;m++){var R=F[m],M=this.Ez(m);Z.jk.Zsw(M,A,f,p,R.add.vmsk);
var b=new Ul(R.VS,!1,R.VS>=-1,M,R.name,S[1].indexOf(m)!=-1,!1,o.Zx,{U:"pathedit",oV:"rnm",VS:R.VS});
b.parent=this;j.appendChild(b.l)}};ZX.prototype.Ov=function(e,j){this.xW.style.height=j-9-25+"px"};ZX.prototype.w=function(){WP.prototype.w.call(this);
this.nS();vK.KX(this.GK,["lrs/makesel","lrs/makepath","lrs/newlayer","lrs/bin"])};function fT(e){WP.call(this,[9,e?4:5],!1,null,e?WP.uc.ZDR:WP.uc.ZvB);
this.aR.setAttribute("style","min-width:240px;");this.ZWP=e;this.qV=null;this.tS=null}fT.prototype=new WP("");
fT.prototype.eC=function(){this.qV=new VL;var e=this.qV,j=this.aR;e.parent=this;if(this.ZWP){var g=V.M("div","marged");
j.appendChild(g);g.appendChild(e.gY.l);j.appendChild(V.M("hr"));var P=V.M("div","marged");j.appendChild(P);
P.appendChild(e.nn.l);P.appendChild(e.ny.l);var p=V.M("div","marged");j.appendChild(p);p.appendChild(e.nB.l);
p.appendChild(e.zd.l);j.appendChild(V.M("hr"));var v=V.M("div","marged");j.appendChild(v);v.appendChild(e.MG.l);
v.appendChild(e.MX.l);var x=V.M("div","marged");j.appendChild(x);x.appendChild(e.Mo.l);x.appendChild(e.nI.l);
j.appendChild(V.M("hr"));var A=V.M("div","marged");j.appendChild(A);A.appendChild(e.xq.l);A.appendChild(e.xP.l);
A.appendChild(e.xh.l);A.appendChild(e.xQ.l);A.appendChild(e.UJ.l);A.appendChild(e.Uf.l);A.appendChild(e.Uu.l);
A.appendChild(e.Ua.l)}else{var g=V.M("div","marged");j.appendChild(g);g.appendChild(e.Mm.l);g.appendChild(e.be.l);
g.appendChild(e.bU.l);g.appendChild(e.ZiZ.l);g.appendChild(e.ZNS.l);g.appendChild(e.ZiA.l);g.appendChild(e.ZDf.l);
j.appendChild(V.M("hr"));var P=V.M("div","marged");j.appendChild(P);P.appendChild(e.zB.l);P.appendChild(e.za.l);
P.appendChild(e.zN.l);j.appendChild(V.M("hr"));var p=V.M("div","marged");j.appendChild(p);p.appendChild(e.zt.l);
p.appendChild(e.zq.l);p.appendChild(e.bs.l)}};fT.prototype.Ar=function(){if(!V.Ic(this.aR))return;if(this.qV==null){this.eC();
var e=this.tS;if(e)this.qV.J(e.sT,e.Fz,e.ml);this.qV.w()}};fT.prototype.w=function(){WP.prototype.w.call(this);
if(this.qV)this.qV.w()};fT.prototype.wY=function(e,j){this.tS=e;if(j!=WV.oY&&j!=WV.VQ&&j!=WV.Zo&&j!=WV.Jr)return;
if(this.qV)this.qV.J(e.sT,e.Fz,e.ml)};function fY(){WP.call(this,[13,0],!1,null,WP.uc.qi);this._x=0;
this.ZuX=0;this.tS=null;var e=V.M("div","flexrow padded");this.aR.appendChild(e);var j=V.M("div");e.appendChild(j);
this._U=[];for(var g=0;g<2;g++){var P=new xG;this._U.push(P);P.S("click",this.ZCV,this);j.appendChild(P.l)}this.BD=new ee(192);
this.BD.S(V.E.m,this.sw,this);e.appendChild(this.BD.l)}fY.prototype=new WP("");fY.prototype.ZCV=function(e){this._x=this._U.indexOf(e.currentTarget);
this.TE()};fY.prototype.sw=function(e){var j=this.BD.C();this.BD.J(j);var g=Math.round(j.k*255)<<16|Math.round(j.z*255)<<8|Math.round(j.e*255),P=new z(V.E.O,!0);
P.data={U:V.a.du,im:WV.qi,oV:this._x,r:g};this.P(P);this.ZuX=Date.now()};fY.prototype.TE=function(){var e=this.tS,j=this._x,g=[e.Jm,e.gK];
for(var P=0;P<2;P++){var p=this._U[P],v=p.l.style;p.oE(g[P]);if(P==j)delete v.borderColor;else v.borderColor="var(--bg-color)"}var x=g[j];
if(Date.now()-this.ZuX>100)this.BD.J({k:(x>>>16)/255,z:(x>>>8&255)/255,e:(x&255)/255})};fY.prototype.wY=function(e,j){this.tS=e;
if(j==WV.oY||j==WV.qi)this.TE()};fY.prototype.Ar=function(){this.TE()};function Zy(){WP.call(this,"CSS",!1,null,WP.uc.CSS);
this.ab=null;var e=V.M("div","padded");this.aR.appendChild(e);this.OC=V.M("textarea");this.OC.setAttribute("rows",16);
this.OC.setAttribute("style","display:block;tab-size:4; font-family:monospace; width:98%; min-width:270px;");
e.appendChild(this.OC)}Zy.prototype=new WP("");Zy.prototype.VJ=function(e){this.ab=e;this.TE()};Zy.prototype.wY=function(e,j){if(j==WV.Zo)this.TE()};
Zy.prototype.TE=function(){var e=this.ab;if(e==null||e.b.length==0)return;if(!V.Ic(this.aR))return;var j=e.T[e.b[0]],g=CSS.Zzn(j,e);
if(g.length!=0)this.OC.value=g.join(";\n")+";";else this.OC.value=""};Zy.prototype.Ar=function(){this.TE()};
function Zj(){WP.call(this,[9,6],!1,null,WP.uc.ZWh);this.aR.setAttribute("style","min-width:240px;");
this.ab=null;this.tS=null;var e=V.M("div","marged row");this.aR.appendChild(e);var j=V.M("div","cell");
j.setAttribute("style","width:10em");e.appendChild(j);var g=V.M("div","cell");g.setAttribute("style","width:10em");
e.appendChild(g);this.ZCD=[];for(var P=0;P<4;P++){var p=new vQ("");this.ZCD.push(p);j.appendChild(p.l);
V.ae(j)}this.aR.appendChild(V.M("hr",""));var v=V.M("div","marged row");this.aR.appendChild(v);var j=V.M("div","cell");
j.setAttribute("style","width:10em");var g=V.M("div","cell");g.setAttribute("style","width:10em");v.appendChild(j);
v.appendChild(g);this.BH=new vQ("");j.appendChild(this.BH.l);V.ae(j);this.Bs=new vQ("");j.appendChild(this.Bs.l);
this.dG=new vQ("");g.appendChild(this.dG.l);V.ae(g);this.Zm=new vQ("");g.appendChild(this.Zm.l);this.BH.J("X: 100 px");
this.Bs.J("Y: 100 px");this.dG.J("W: 0");this.Zm.J("H: 0")}Zj.prototype=new WP("");Zj.prototype.tg=function(e,j,g,P,p){if(!V.Ic(this.aR)||e==null)return;
var v=e.N.IR(p.x,p.y),x=new Uc(Math.floor(v.x),Math.floor(v.y));if(!p.kD){var A=0,f=0,S=0,F=0,m=this.ZCD;
if(!p.kD&&!e.Zyl()&&new G(0,0,e.W-1,e.j-1).uC(x)){var R=e.Gj(),M=e.W*x.y+x.x<<2;A=R[M+0];f=R[M+1];S=R[M+2];
F=R[M+3]}m[0].J("R: "+A);m[1].J("G: "+f);m[2].J("B: "+S);m[3].J("A: "+F)}this.BH.J("X: "+Z.CF.wn(x.x,e.aY,g,e.W));
this.Bs.J("Y: "+Z.CF.wn(x.y,e.aY,g,e.j));this.K_()};Zj.prototype.K_=function(){var e=this.ab,j=this.tS,g=0,P=0;
if(e&&j){if(e.N.cT){g=e.N.cT.W;P=e.N.cT.j}else if(e.Z){g=e.Z.rect.W;P=e.Z.rect.j}g=Z.CF.wn(Math.abs(g),e.aY,j,e.W);
P=Z.CF.wn(Math.abs(P),e.aY,j,e.j)}this.dG.J(Zr.get([12,41]).charAt(0)+": "+g);this.Zm.J(Zr.get([12,42]).charAt(0)+": "+P)};
Zj.prototype.w=function(){WP.prototype.w.call(this);this.K_()};Zj.prototype.VJ=function(e,j,g){this.ab=e;
this.tS=g;this.K_()};function UY(){WP.call(this,[9,1],!1,null,WP.uc.jE);this.Qr=null;this.vs=null;this.jG=null;
this.E_=V.M("div","lphead");this.xW=V.M("div","lpbody scrollable");this.GJ=V.M("div","lpfoot");this.Pl=new Wh(null,WF.sK,!1,WF.Ev);
this.Pl.S(V.E.m,this.ZCK,this);this.E_.appendChild(this.Pl.l);this.Qx=new vz([12,0],0,100,"%",0);this.Qx.S(V.E.m,this.ZCF,this);
this.Qx.parent=this;this.E_.appendChild(this.Qx.l);this.EO=new eP("Lock",["<img src=\""+PIMG.trsp3+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"autoscale gsicon\" />",[7,0]],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.EO.S(V.E.m,this.ZCw,this);this.E_.appendChild(this.EO.l);this.El=new vz([12,26],0,100,"%",0);this.El.S(V.E.m,this.ZgZ,this);
this.El.parent=this;this.GK=[];this.dl();this.aR.appendChild(this.E_);this.aR.appendChild(this.xW);this.aR.appendChild(this.GJ);
this.aR.addEventListener("contextmenu",V.nx,!1);var e=[{name:[14,10]},{name:[14,11],pU:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],pU:!0},{name:[6,7]},{name:"New Smart Obj. via Copy",p:function(v){return{p:v.T[v.b[0]].add.SoLd!=null}},pU:!0},{name:[6,8],p:function(v){var x=v.T[v.b[0]];
if(x.add.TySh||x.add.SoLd||x.add.SoCo||x.add.GdFl||x.add.PtFl)return{p:!0};return{p:!1}}},{name:[6,34],p:function(v){var x=v.T[v.b[0]];
return{p:x.add.lmfx!=null&&!x.CQ()}}},{name:[6,40],pU:!0,p:function(v){var x=v.T[v.b[0]];return{p:x.add.TySh!=null}}},{name:"",pU:!0,p:function(v){var x=v.T[v.b[0]],A=x.add.TySh,f=A?A.xe:null;
return{p:A!=null&&f.Curve==null,Of:Zr.get(A&&Wf.FN(f)==0?[16,3,1]:[16,3,0])}}},{name:[6,6,0],pU:!0,p:function(v){return{p:v.oW(v.b[0]),by:v.T[v.b[0]].qX}}},{name:[11,6],pU:!0,sub:[{name:[5,1],p:function(v){var x=v.T[v.b[0]];
return{p:x.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],p:function(v){var x=v.T[v.b[0]];return{p:x.add.lmfx!=null}}}]},{name:[6,10],p:function(v){return{p:v.b.length==1&&v.b[0]!=0&&!v.T[v.b[0]].CQ()}}},{name:[6,12,0],p:function(v){return{p:v.b.length>1||v.T[v.b[0]].CQ()}}},{name:[6,12,1],pU:!0},{name:[13,0],sub:function(){var v=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],x=[];
for(var A=0;A<v.length;A++)x.push({name:v[A]});return x}()}];this.iQ=[null,{i:V.E.s,X:o.IJ,q:{U:"fromlayer",ZY:[null,0,0]}},u.hq,{i:V.E.O,q:{U:V.a.LW,aj:"duplinto"}},u.Es,{i:V.E.$E,q:{Wi:"newPlacedLayer"}},u.qL,{i:V.E.$E,q:{Wi:"rasterizeLayer",HR:{classID:"rasterizeLayer",null:vT.EG("Lyr",!0)}}},u.qT,u.ZZ_,{i:V.E.s,X:o.TR,q:{U:"switchPntPrgr"}},u.UU,null,u.xN,u.up,u.qE,u.$V];
this.$l=new Zn(e);this.$l.S("select",this.fX,this);var j=[{name:[6,45],p:function(v){var x=v.T[v.b[0]];
return{p:x.EK(v)._==null}}},{name:[6,47]}];this.ZWY=[u.Fk,u.qs];this._u=new Zn(j);this._u.S("select",this.fX,this);
var g=[{name:"enab/disab",p:function(v){return{Of:Zr.get(v.T[v.b[0]].ou().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],p:function(v){return{p:v.TA(!1,!0)}}}];
this.ZW_=[u.xz,u.Kb,u.qH];this._C=new Zn(g);this._C.S("select",this.fX,this);var P=[{name:"enab/disab",p:function(v){return{Of:Zr.get(v.T[v.b[0]].EK(v)._.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}];
this.ZWm=[u.Cf,u.Fb];this._g=new Zn(P);this._g.S("select",this.fX,this);var p=[{name:"enab/disab",p:function(v){return{Of:Zr.get(v.T[v.b[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]}];
this.ZWQ=[u.KW,u.$f];this._n=new Zn(p);this._n.S("select",this.fX,this);this._B=new Zn(Zu.ZCC(!0),Zu.Zgr(!0));
this.ZCq=new Zn(Zu.ZVf(),Zu.Zux());this.S("rclick",this.ZCs,this)}UY.prototype=new WP("");UY.prototype.bo=function(){return new Uc(253,0)};
UY.prototype.fX=function(e){var j=e.target.HU(),g=j[0],P;if(e.target==this.$l)P=this.iQ;if(e.target==this._u)P=this.ZWY;
if(e.target==this._C)P=this.ZW_;if(e.target==this._n)P=this.ZWQ;if(e.target==this._g)P=this.ZWm;if(e.target==this._B)P=this.ZHS;
if(e.target==this.ZCq)P=this.ZHI;if(P[g]==null){if(g==0){var p=new z(V.E.O,!0);p.data={U:V.a.LW,aj:"layerstyle",$:this.vs.b[0]};
this.P(p)}else{var v=new z(V.E.s,!0);v.X=o.zp;v.data={U:["st_copy","st_paste","st_clear"][j[1]],$:this.vs.b[0]};
this.P(v)}return}if(P[g].i!=null){var x=P[g],v=new z(x.i,!0);v.X=x.X;v.data=x.q;e.target.P(v);return}var v=new z(V.E.s,!0);
if(e.target==this._B)v.data=P[g];else v.data={U:P[g]};if(P[g]==u.$V)v.data.Zto=j[1];v.X=o.jE;e.target.P(v)};
UY.prototype.ZCs=function(e){var j=this.vs,g=e.data,p;if(j.b.indexOf(g.$)==-1){var P={U:u.Uv,$:e.target.Oy.index,xb:g.TM};
this.Lv(P)}if(j.b.indexOf(g.$)==-1)return;if(g.TM==1){p=this._C}else if(g.TM==2){p=this._n}else if(g.TM==3){p=this._g}else if(g.Zvv){p=this._u}else{p=this.$l}p.w();
p.update(j);p.parent=this;var v=new z(V.E.O,!0);v.data={U:V.a.LD,JR:p,x:g.DS.x+1,y:g.DS.y+1};this.P(v)};
UY.prototype.w=function(){WP.prototype.w.call(this);this.Pl.w();this.Qx.w();this.EO.w();this.El.w();
if(this.vs)this.VJ(this.vs);var e="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var j=0;j<this.GK.length;j++){var g=this.GK[j];g.FU(V.MR(e[j]))}};UY.prototype.VJ=function(e,j){if(e&&!e.zz)return;
if(e==null)V.iV(this.aR,"disabled");else V.Fu(this.aR,"disabled");this.vs=e;this.jG=j;if(this.Qr!=null){this.xW.removeChild(this.Qr.xW);
this.Qr=null}if(e==null)return;this.Qr=new fe(e.root,this,e,{xI:0});this.xW.appendChild(this.Qr.xW);
if(e.b.length==0)V.iV(this.E_,"disabled");else{V.Fu(this.E_,"disabled");if(e.b.length==1&&e.FH)this.Qr.ZsU(e.b);
var g=e.T[e.b[0]];if(g.CQ()){this.Pl.ph([[15,10,27]].concat(WF.sK),[1].concat(WF.Ev));var P=WF.jS.indexOf(g.T$);
this.Pl.J(P+1)}else{this.Pl.ph(WF.sK,WF.Ev);var P=WF.jS.indexOf(g.T$);this.Pl.J(P)}this.Qx.J(Math.round(100*g.opacity/255));
this.EO.J([g.Ku(0),g.Ku(1),g.Ku(2),g.Ku(31)]);this.El.J(Math.round(100*(g.add.iOpa!=null?g.add.iOpa/255:1)))}};
UY.prototype.Ov=function(e,j){var g=this.E_.getBoundingClientRect().height;g=Math.max(g,52);if(g>68)g=Math.max(g,76);
var P=j-(g+37);this.xW.style.height=P+"px"};UY.prototype.ZCK=function(e){this.Lv({U:u.xY,Hy:this.Pl.C()})};
UY.prototype.ZCF=function(e){this.Lv({U:u.Ux,Hy:Math.round(255*this.Qx.C()/100)})};UY.prototype.ZCw=function(e){this.Lv({U:u.$x,Hy:[this.EO.C(),[0,1,2,31]]})};
UY.prototype.ZgZ=function(e){this.Lv({U:u.CU,Hy:Math.round(255*this.El.C()/100)})};UY.prototype.ZgC=function(e){this.ZIV(e,this._B)};
UY.prototype.Zgg=function(e){this.ZIV(e,this.ZCq)};UY.prototype.ZIV=function(e,j){var g=e.currentTarget;
if(V.Ic(j.l))return;e.stopPropagation();var P=g.getBoundingClientRect();j.w();j.update(this.vs);j.parent=this;
var p=new z(V.E.O,!0);p.data={U:V.a.LD,JR:j,x:P.left,y:P.top,ZvC:!0};this.P(p)};UY.prototype.ZgL=function(e){this.Lv({U:u.Zyg})};
UY.prototype.Zgz=function(e){this.Lv({U:this.vs.b.length>1?u.$v:u.FI})};UY.prototype.Zgs=function(e){this.Lv({U:u.ER})};
UY.prototype.ZgO=function(e){this.Lv({U:u.Es})};UY.prototype.ZgP=function(e){this.Lv({U:u.sm})};UY.prototype.Lv=function(e){var j=new z(V.E.s,!0);
j.data=e;j.X=o.jE;this.P(j)};UY.prototype.dl=function(){var e=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[6,31]],j=[this.ZgP,this.Zgg,this.ZgC,this.ZgL,this.Zgz,this.Zgs,this.ZgO],g=this.Znt.bind(this);
for(var P=0;P<e.length;P++){var p=new WI("W",!1,e[P]);this.GK.push(p);V.lI(p.l,j[P].bind(this));this.GJ.appendChild(p.l);
if(P>=e.length-3){var v=p.l;v.addEventListener("drop",g,!1);v.addEventListener("dragover",function(x){x.preventDefault()},!1);
v.addEventListener("dragenter",V.nx,!1)}}};UY.prototype.Znt=function(e){V.nx(e);var j=0,g=this.GK;while(g[j].l!=e.currentTarget)j++;
g[j].H_();var P=e.dataTransfer.getData("Text");if(P=="")return;var P=JSON.parse(P);if(P.Gm=="l"){var p={U:[u.$v,u.hq,u.Es][j-4]};
if(this.vs.b.indexOf(P.if)==-1)p.$=P.if;this.Lv(p)}if(j!=6)return;if(P.Gm=="sm"||P.Gm=="s"){var v=new z(V.E.s,!0);
v.X=o.zp;v.data={U:P.Gm=="sm"?"st_clear":"st_delsingle",$:P.if,if:P._a};this.P(v)}if(P.Gm=="fm"||P.Gm=="f"){this.Lv({U:P.Gm=="fm"?u.qs:u.Zuy,src:P.if,_a:P._a})}if(P.Gm=="m"||P.Gm=="vm"){this.Lv({U:P.Gm=="m"?u.Kb:u.$f,$:P.if})}};
function fe(e,j,g,P){WN.call(this);this.parent=j;this.Oy=e;this._y=[];this.l=V.M("div","layeritem");
var p=e.$,W=15,_=!1;this.E_=V.M("div",g.b.indexOf(e.index)!=-1?"head selected":"head");if(e.$.add.artb!=null)V.iV(this.E_,"artb");
this.E_.setAttribute("style","height: "+(p.ZTZ+10)+"px");var v=V.M("div","headL"),x=V.M("div","headR"),A=V.M("div","lpineck");
this.xW=V.M("div","lpibody");this.l.appendChild(this.E_);this.E_.appendChild(v);this.E_.appendChild(x);
if(p.k$()||p.f$())if(p.uy())this.l.appendChild(A);var f=this.E_;f.setAttribute("draggable","true");f.addEventListener("dragstart",this.Kc.bind(this),!1);
f.addEventListener("drop",this.HW.bind(this),!1);f.addEventListener("dragover",this.$i.bind(this),!1);
f.addEventListener("dragenter",V.nx,!1);f.addEventListener("dragleave",this.$n.bind(this),!1);var S=[],F=[],m=V.M("div");
this.Pz=V.M("div","eye");m.appendChild(this.Pz);var R=V.M("div","space");this.Hc=V.M("div","label");
this.Hc.textContent=p.getName();this._i=V.M("div","lock");this.e_=V.M("div","arfx");var M=this.ZdE.bind(this),b=this.ZdY.bind(this);
this.E_.addEventListener("click",b,!1);this.E_.addEventListener("contextmenu",M,!1);var s=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],K=p.add.lclr==null?0:s[p.add.lclr];
if(K==0)K=P.xI;var X=[K>>16,K>>8&255,K&255];for(var d=0;d<3;d++){X[d]=Math.round(.5*X[d]+.5*220)}if(1<V.I()&&V.I()<1.5)W=W/V.I();
m.setAttribute("style","background-color:rgba("+X.join(",")+","+(K==0?0:1)+");");this.Pz.setAttribute("style","background-size: "+W+"px "+W+"px;");
var O=this.ZnG.bind(this);m.addEventListener("mousedown",O,!1);m.addEventListener("mouseover",O,!1);
this.Hc.addEventListener("pointerup",this.Zdg.bind(this),!1);this.e_.addEventListener("click",this.ZdG.bind(this),!1);
S[0]=m;S[1]=R;S[10]=this.Hc;if(p.CQ()){var H=V.M("div","arrow"),Y=V.M("div","folder");H.addEventListener("click",this.ZnE.bind(this),!1);
S[2]=H;S[3]=Y;if(p.add.lsct==vC.x_){for(var d=e.children.length-1;d>=0;d--){var y=new fe(e.children[d],j,g,{xI:K});
this._y.push(y);this.xW.appendChild(y.l)}this.l.appendChild(this.xW)}H.setAttribute("class",p.add.lsct==vC.x_?"open":"closed")}else{this.iN=V.M("div","thumb");
S[5]=this.iN;this.iN.appendChild(p.$O.canvas)}var B=p.ou();if(B){this.VZ=V.M("div","chain");this.Pc=V.M("div","thumb");
this.Pc.setAttribute("draggable","true");this.Pc.appendChild(e.$.ZTf.canvas);this.VZ.style.opacity=B.Hm?1:0;
this.VZ.addEventListener("click",this.ZnS.bind(this),!1)}var c=p.dz()&&p.add.vmsk;if(p.add.vmsk&&!c){this.Vu=V.M("div","chain");
this.iq=V.M("div","thumb");this.iq.setAttribute("draggable","true");this.iq.appendChild(e.$.ZTq.canvas);
this.Vu.style.opacity=p.add.vmsk.Hm?1:0;this.Vu.addEventListener("click",this.Znl.bind(this),!1)}if(p.f$()&&p.EK(g)._){this.QU=V.M("div","thumb");
this.QU.appendChild(e.$.ZTX.canvas);this.QU.addEventListener("click",b,!1);this.QU.addEventListener("contextmenu",M,!1)}if(p.k$()){A.addEventListener("contextmenu",M,!1);
var $=new UY.wB(Zr.get([12,1]),"sm","layerstyle",e.depth,0,null);$.parent=this;A.appendChild($.l);var I=p.add.lmfx,r=I.masterFXSwitch.v;
$.Pd(r);for(var d=0;d<Wr.order.length;d++){var i=I[Wr.uM[d]].v;if(i.length==0)continue;for(var U=0;U<i.length;
U++){var $=new UY.wB(Zr.get(Wr.names[d]),"s","layerstyle",e.depth,1,[d,U]);$.Pd(r&&i[U].v.enab.v);$.parent=this;
A.appendChild($.l)}}}if(p.f$()){var $=new UY.wB(Zr.get([12,55]),"fm",null,e.depth,0,-1,p.EK(g)._?this.QU:null);
$.parent=this;A.appendChild($.l);this.ZCA=$.l;this.ZCA.addEventListener("contextmenu",M,!1);var I=p.add.SoLd.filterFX.v,N=I.filterFXList.v,r=I.enab.v;
$.Pd(r);for(var d=N.length-1;d>=0;d--){var C=N[d].v,D=C.filterID.v,n=T.pA(D);if(Wj.fI[n])n=Wj.fI[n];
var w=C.Nm.v;if(ZW.names[n])w=Zr.get(ZW.names[n]);if(Wj.names[n])w=Zr.get(Wj.names[n]);var k=Q[n]||ZW.xE[n]?"afw_"+n:null,$=new UY.wB(w,"f",k,e.depth,1,d);
$.Pd(r&&C.enab.v);$.parent=this;A.appendChild($.l)}}if(g.T.indexOf(p)==g.b[0]){var h=p.TM,t;if(h<=0)t=this.iN;
else if(h==1)t=this.Pc;else if(h==3)t=this.QU;if(t)t.setAttribute("class","thumb active");if(p.iD&&this.iq)this.iq.setAttribute("class","thumb active")}m.style.opacity=p.Je()?1:.25;
R.setAttribute("style","width:"+Math.max(0,e.depth-1)*18+"px");var a=p.add.lspf!=null&&p.add.lspf!=0;
this._i.style.opacity=p.Ku(31)?1:.5;S[4]=p.qX?V.M("div","clipp"):null;S[6]=B?this.VZ:null;S[7]=B?this.Pc:null;
S[8]=p.add.vmsk&&!c?this.Vu:null;S[9]=p.add.vmsk&&!c?this.iq:null;var E=p.fw,WW=g.b;if(E!=0)for(var d=0;
d<WW.length;d++)if(g.T[WW[d]].fw==E){_=!0;break}F[0]=_?V.M("div","link"):null;F[1]=a?this._i:null;F[2]=p.k$()?V.M("div","lrfx"):null;
F[3]=p.k$()||p.f$()?this.e_:null;this.e_.setAttribute("class",p.uy()?"arfx open  gsicon":"arfx closed  gsicon");
var Wx=S;for(var d=0;d<Wx.length;d++)if(Wx[d])v.appendChild(Wx[d]);Wx=F;for(var d=0;d<Wx.length;d++)if(Wx[d])x.appendChild(Wx[d])}fe.prototype=new WN;
fe.prototype.ZsU=function(e){var j=this.Oy.index;if(e.indexOf(j)!=-1){if(this.l.scrollIntoView)this.l.scrollIntoView({block:"nearest"})}for(var g=0;
g<this._y.length;g++)this._y[g].ZsU(e)};fe.Pb=function(e,j){var g=j.getBoundingClientRect();return(e.clientY-g.top)/g.height};
fe.prototype.Kc=function(e){e.stopPropagation();var j=e.target==this.Pc?"m":e.target==this.iq?"vm":"l";
e.dataTransfer.setData("Text",JSON.stringify({Gm:j,if:this.Oy.index}))};fe.prototype.$n=function(e){V.nx(e);
this.ed()};fe.prototype.HW=function(e){V.nx(e);this.ed();var j=e.dataTransfer.getData("Text"),g=this.parent.vs,P=fe.Pb(e,this.E_),p=this.Oy.index;
if(P>.8){var v=!0,x=g.root.oA(p);while(x.parent!=null){var A=x.parent,f=A.children;if(f.indexOf(x)!=0)v=!1;
x=x.parent}if(v){p=0;P=1}}if(j==""){V.ZSb(e,this,this.parent.jG.indexOf(g),p+(P>.5?0:1))}else if(j!="--panel"){var j=JSON.parse(j),S=j.Gm;
if(S=="l")this.Lv({U:u.$W,source:j.if,target:p,hN:P});else if(S=="m"||S=="vm")this.Lv({U:S=="m"?u.kQ:u.FW,src:j.if,Ys:p,pQ:e.altKey});
else fe.Zss(e,j,this)}};fe.Zss=function(e,j,g,P){var p=j.Gm,v=g.Oy.index,x=j.if;if(p=="s"||p=="sm")g.Lv({U:u.F$,src:x,Ys:v,_a:j._a,pQ:e.altKey});
if(p=="f"||p=="fm")g.Lv({U:u.Zxt,src:x,Ys:v,_a:j._a,Zv:P==null?0:P,pQ:e.altKey})};fe.prototype.$i=function(e){V.nx(e);
var j=fe.Pb(e,this.E_);this.ed();var g="border-"+(j>.5?"bottom":"top");if(this.Oy.$.CQ()&&.5<j&&j<.8)g="border";
this.E_.style[g]="0.2em solid rgba(0,0,0,0.5)"};fe.prototype.ed=function(e){this.E_.style.border="none"};
fe.Zpg=-1;fe.$s=!1;fe.ZrY=function(e){fe.$s=!1;document.body.removeEventListener("mouseup",fe.ZrY)};
fe.prototype.ZnG=function(e){if(e.button!=0)return;if(e.type=="mousedown"){fe.$s=!0;document.body.addEventListener("mouseup",fe.ZrY,!1)}if(e.type=="mouseover"&&(!fe.$s||fe.Zpg==this.Oy.index))return;
V.nx(e);this.Lv({U:u.EY,$:this.Oy.index});fe.Zpg=this.Oy.index};fe.prototype.ZnE=function(e){this.Lv({U:u.ZzQ,$:this.Oy.index})};
fe.prototype.ZnS=function(e){this.Lv({U:u.Cx,$:this.Oy.index})};fe.prototype.Znl=function(e){this.Lv({U:u.FC,$:this.Oy.index})};
fe.HJ=0;fe.prototype.Zdg=function(e){var j=fe.HJ;fe.HJ=Date.now();if(Date.now()-j>300)return;e.preventDefault();
e.stopPropagation();this.E_.setAttribute("draggable","false");var g=new WP.eu(this.Hc,this.VU.bind(this))};
fe.prototype.VU=function(e){this.Lv({U:u.$e,$:this.Oy.index,name:e})};fe.prototype.ZdG=function(e){this.Lv({U:u.ZZp,$:this.Oy.index})};
fe.prototype.ZdE=function(e){if(this.ZZR(e,e.target,this.TM(e)))return;var j=e.sourceCapabilities;if(j)j=j.firesTouchEvents;
if(e.button!=2&&j!=!0)return;var g=new z("rclick",!0);g.data={$:this.Oy.index,TM:this.TM(e),DS:V.nX(e,document.body),Zvv:e.currentTarget==this.ZCA};
this.P(g)};fe.prototype.TM=function(e){var j=e.target,g=j.parentNode;return g==this.iq?2:g==this.Pc?1:g==this.iN?0:g==this.QU?3:-1};
fe.prototype.ZdY=function(e){var j=e.target,S=0;if(j==this.Pz||j==this.e_||j==this.VZ||j==this.Vu||j.tagName&&j.tagName.toLowerCase()=="input")return;
var g=this.TM(e),P=this.parent.vs,p=this.Oy.index,v=P.T[p];if(j==this._i){this.Lv({U:u.$x,$:p,Hy:[[0,0,0,0,0],[0,1,2,3,31]]});
return}if(e.button==0&&e.detail==2){if(j==this.Hc)return;var x=new z(V.E.O,!0),A=new z(V.E.$E,!0);if(g==0&&(Wj.get(v.add)||v.add.SoCo||v.add.GdFl||v.add.PtFl))x.data={U:V.a.pB,aj:WP.uc.bl};
else if(g!=0&&g!=-1)x.data={U:V.a.pB,aj:WP.uc.bl};else if(g==0&&v.add.SoLd)A.data={Wi:"placedLayerEditContents",HR:{classID:"placedLayerEditContents"}};
else if(g==0&&v.add.TySh)x.data={U:V.a.tq,X:o.TR};else x.data={U:V.a.LW,aj:"layerstyle",$:p};this.P(A.data?A:x);
if(g==0&&v.add.TySh){var f=new z(V.E.s,!0);f.X=o.TR;f.data={U:"editCurr",uT:p};this.P(f)}return}if(this.ZZR(e,j,g))return;
if(e.button!=0)return;var F={U:u.Uv,$:p,xb:g};this.Lv(F);if(e.altKey){if(g==1||g==3){var f=new z(V.E.s,!0);
f.X=o.Cb;f.data={U:"mskView",r:S!=0?0:e.shiftKey?1:2};this.P(f)}else{this.Lv({U:u.UU,$:p})}return}};
fe.prototype.ZZR=function(e,j,g){if((e.ctrlKey||e.metaKey)&&(g==0||g==1||g==2)){var P=0;if(e.shiftKey)P++;
if(e.altKey)P+=2;var p=new z(V.E.s,!0);p.X=o.IJ;p.data={U:"fromlayer",ZY:[this.Oy.index,g,P]};this.P(p);
return!0}return!1};fe.prototype.Lv=function(e){var j=new z(V.E.s,!0);j.data=e;j.X=o.jE;this.P(j)};UY.wB=function(e,j,g,P,p,v,x){WN.call(this);
this.ZCc=j;this.Vg=g;this.index=v;this.l=V.M("div","styleitem");this.E_=V.M("div","head");this.Em=V.M("div","eye gsicon");
this.Hc=V.M("div","label");this.l.appendChild(this.E_);this.E_.appendChild(this.Em);if(x){this.Pc=x;
this.E_.appendChild(this.Pc);this.E_.setAttribute("style","height: "+(x.firstChild.height/V.I()+10)+"px")}this.Hc.innerHTML=e;
this.l.setAttribute("style","margin-left: "+(24+P*16+p*22)+"px");this.E_.appendChild(this.Hc);this.Em.addEventListener("click",this.Zdm.bind(this),!1);
var A=this.l;A.setAttribute("draggable","true");A.addEventListener("dragstart",this.Kc.bind(this),!1);
if(!0){A.addEventListener("drop",this.HW.bind(this),!1);A.addEventListener("dragover",this.$i.bind(this),!1);
A.addEventListener("dragenter",V.nx,!1);A.addEventListener("dragleave",this.$n.bind(this),!1)}this.l.addEventListener("click",this.jT.bind(this),!1)};
UY.wB.prototype=new WN;UY.wB.prototype.Kc=function(e){e.stopPropagation();e.dataTransfer.setData("Text",JSON.stringify({Gm:this.ZCc,if:this.parent.Oy.index,_a:this.index}))};
UY.wB.prototype.$n=function(e){V.nx(e);this.ed()};UY.wB.prototype.HW=function(e){V.nx(e);this.ed();var j=e.dataTransfer.getData("Text");
if(j=="")return;var j=JSON.parse(j);fe.Zss(e,j,this.parent,this.index+(fe.Pb(e,this.E_)>.5?0:1))};UY.wB.prototype.$i=function(e){V.nx(e);
var j=fe.Pb(e,this.E_)>.5;this.ed();var g="border-"+(j?"bottom":"top");this.E_.style[g]="0.2em solid rgba(0,0,0,0.5)"};
UY.wB.prototype.ed=function(e){this.E_.style.border="none"};UY.wB.prototype.Pd=function(e){var j=15;
if(1<V.I()&&V.I()<1.5)j=j/V.I();this.Em.setAttribute("style","background-size: "+j+"px "+j+"px;");this.Em.style.opacity=e?1:.2};
UY.wB.prototype.jT=function(e){if(e.target==this.Em)return;if(e.detail!=1&&this.Vg!=null){var j=this.parent.Oy.index,g=new z(V.E.O,!0);
if(this.Vg.indexOf("afw_")==0)g.data=ZI.dt.Zfd(this.Vg.slice(4),{$:j,index:this.index});else g.data={U:V.a.LW,aj:this.Vg,$:j,index:this.index};
this.P(g)}};UY.wB.prototype.Zdm=function(e){var j={fm:u.Cc,f:u.gr,sm:u.Ci,s:u.CT}[this.ZCc];this.parent.Lv({U:j,$:this.parent.Oy.index,index:this.index})};
function Zw(){WP.call(this,"Guide Guy",!1,null,WP.uc.Zvi);this.ab=null;this.Lu=[];var e=V.M("div","form padded");
this.aR.appendChild(e);e.setAttribute("style","width:200px");this.aR.appendChild(e);var j=V.M("canvas"),g=j.getContext("2d");
j.width=j.height=160;var P=[32,0,16,160,0,32,160,16,0,112,160,16],p="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),v=[0,0,0,0,0,0,0,0,0,0];
for(var x=0;x<10;x++){g.clearRect(0,0,160,160);g.setTransform(1,0,0,1,80,80);g.rotate((x&3)*Math.PI/2);
g.translate(-80,-80);g.fillStyle="rgba(0,0,0,0.3)";if(x<4){for(var A=0;A<12;A+=4){g.fillStyle=A==0?"#000000":"rgba(0,0,0,0.3)";
g.fillRect(P[A],P[A+1],P[A+2],P[A+3])}}else if(x<6){var f=8*6;g.fillRect(0,0,f,160);g.fillRect(8*7,0,f,160);
g.fillStyle="#000000";g.fillRect(8*14,0,f,160)}else if(x<8){g.fillRect(0,0,16,160);g.fillRect(160-16,0,16,160);
g.fillRect(32,0,160-64,160);g.fillStyle="#000000";g.fillRect(32,80-8,160-64,8*1)}else{g.fillRect(0,0,8*7,160);
g.fillRect(8*13,0,160,160);g.fillStyle="#000000";g.fillRect(8*7,80-8,8*6,8*1)}var S="<img src=\""+j.toDataURL()+"\" class=\"autoscale gsicon\" /> ",F=new vz(S,0,200,x==4||x==5?null:"px",null,null,null,4,p[x]);
F.parent=this;F.S(V.E.m,this.ZBW,this);F.J(v[x]);F.w();this.Lu.push(F);e.appendChild(F.l)}var m=["Add Guides","Clear Guides"];
this.op=[];for(var x=0;x<m.length;x++){var R=new WI(m[x],!0,null,!0);this.op.push(R);R.S("click",this.wr,this);
e.appendChild(R.l)}for(var x=0;x<6;x++){g.setTransform(1,0,0,1,80,80);g.rotate(Math.floor(x/3)*Math.PI/2);
g.translate(-80,-80);g.clearRect(0,0,160,160);g.fillStyle="rgba(0,0,0,0.3)";g.fillRect(0,0,160,160);
g.clearRect(16,16,128,128);g.fillStyle="#000000";var M=x%3;g.fillRect([0,9,18][M]*8,0,16,160);var S="<img src=\""+j.toDataURL()+"\" class=\"autoscale gsicon\" /> ",R=new WI(S,!1,null,!1);
this.op.push(R);R.S("click",this.wr,this);e.appendChild(R.l)}}Zw.prototype=new WP("");Zw.prototype.ZBW=function(e){var j=this.Lu,g=j.indexOf(e.target),P=Math.floor(g/2),p=g&1,v=[];
for(var x=0;x<4;x++)v.push(j[2*x+p].C());var A=-1;if(P==2&&v[2]!=0&&v[3]!=0&&v[4]!=0)A=4;if(P==3&&v[3]!=0&&v[2]!=0&&v[4]!=0)A=4;
if(P==4&&v[4]!=0&&v[2]!=0&&v[3]!=0)A=3;if(A!=-1)j[2*A+p].J(0)};Zw.prototype.wr=function(e){var j=this.ab,g=this.op.indexOf(e.target),P=[[],[]];
if(j==null)return;var p=j.Z?j.Z.rect:new G(0,0,j.W,j.j),v=p.W,x=p.j;if(g==0){var A=[[],[]];for(var f=0;
f<this.Lu.length;f++)A[f&1].push(this.Lu[f].C());P=[Zw.ZfG(A[0],p.x,p.x+v),Zw.ZfG(A[1],p.y,p.y+x)];o.KZ.iW(P,j.TY)}else if(g==1){}else{g-=2;
var S=Math.floor(g/3),P=[[],[]];P[S].push([p.x,p.x+v/2,p.x+v,p.y,p.y+x/2,p.y+x][g]);o.KZ.iW(P,j.TY)}var F=function(m,R){return m-R};
P[0].sort(F);P[1].sort(F);this.ZBN(P)};Zw.prototype.Zpv=function(e){var j=this.ZHo.indexOf(e.target)};
Zw.prototype.ZBN=function(e){var j=new z(V.E.s,!0);j.X=o.Xe;j.data={U:"gids",Xg:e};this.P(j)};Zw.ZfG=function(e,j,g){var P=[],p=e[2],v=e[3],x=e[4],A=0;
if(p==0)A++;if(v==0)A++;if(x==0)A++;if(A>1&&p==0&&v==0){if(e[0]!=0)P.push(j+e[0]);if(e[1]!=0)P.push(g-e[1]);
return P}var f=g-j-e[0]-e[1];if(p==0){if(x==0){p=Math.floor(f/v);x=(f-p*v)/(p-1)}else{p=1;while(v*p+x*(p-1)+v+x<=f)p++}}else if(p!=0&&v!=0){if(p*v>f)p=Math.floor(f/v);
x=(f-p*v)/(p-1)}P.push(j+e[0],g-e[1]);var v=(f-x*(p-1))/p;for(var S=1;S<p;S++){if(x==0)P.push(j+e[0]+S*v);
else P.push(j+e[0]+S*v+(S-1)*x,j+e[0]+S*v+S*x)}return P};Zw.prototype.VJ=function(e){this.ab=e};function vn(){WP.call(this,[9,2],!1,null,WP.uc.bl);
this.Zga=null;this.pr=null;this.tS=null;this.ZgY=-1}vn.prototype=new WP("");vn.prototype.eC=function(){this.in=V.M("div","padded");
this.in.style.width="22em";this.aR.appendChild(this.in);var e=V.M("span","fitem");this.in.appendChild(e);
this.dd=[new WI([0,3]),new WI([12,73]),new WI([12,91,0])];for(var j=0;j<this.dd.length;j++){var g=this.dd[j];
g.S("click",this.ZBK,this);e.appendChild(g.l)}this.in.appendChild(V.M("hr"));this.Qt=new vn.qK;this.Qt.parent=this;
this.Ec=new vn.ei;this.Ec.parent=this;this._N=new vn.Br;this._N.parent=this;this.Zg_=[this.Qt,this.Ec,this._N];
this.in.appendChild(this.Qt.l)};vn.prototype.ZBK=function(e){var j=this.dd.indexOf(e.currentTarget);
this.wf(j);this.ZfK(j==1?this.Ec.Sr:-1)};vn.prototype.wf=function(e){for(var j=0;j<3;j++){this.dd[j].H_();
var g=this.Zg_[j].l;if(g.parentNode==this.in&&j!=e)this.in.removeChild(g);if(g.parentNode!=this.in&&j==e)this.in.appendChild(g)}this.dd[e].EA()};
vn.prototype.ZfK=function(e){var j=this.pr.b[0],g=this.pr.T[j],P=e+1;if(e==1&&g.iD)return;var p=new z(V.E.s,!0);
p.X=o.jE;if(e!=1&&g.iD){p.data={U:u.Uv,$:j,xb:2};this.P(p)}p.data={U:u.Uv,$:j,xb:P};this.P(p)};vn.prototype.w=function(){WP.prototype.w.call(this);
if(this.in==null)return;this.VJ(this.pr);for(var e=0;e<3;e++){this.dd[e].w();this.Zg_[e].w()}};vn.prototype.Ar=function(){if(!V.Ic(this.aR))return;
if(this.in==null){this.eC();this.wY(this.tS,WV.oY);this.VJ(this.Zga);this.w()}};vn.prototype.VJ=function(e){this.Zga=e;
if(this.in==null)return;this.Qt.VJ(e);this.Ec.VJ(e);this._N.VJ(e);if(e==null||e.b.length==0){V.iV(this.aR,"disabled");
this.pr=null;return}else V.Fu(this.aR,"disabled");var j=e.b[0],g=e.T[j],P=e.OK(),p=P[0],v=P[1];if(v.length!=0){var x=p[v[0]],A=x.add.vogk,f=!1;
if(A)for(var S=0;S<A.length;S++){var F=A[S].v,m=F.keyShapeInvalidated;if(m&&m.v||F.keyOriginType==null)continue;
f=!0;j=x.VS}}if(e!=this.pr||this.ZgY!=j){this.pr=e;this.ZgY=j;if(f)this.wf(2);else if(g.TM<1&&!g.iD)this.wf(0);
else this.wf(1)}this.dd[1].Hw(this.Ec.Sr!=-1);this.dd[2].Hw(f)};vn.prototype.wY=function(e,j){this.tS=e;
if(this.Qt)this.Qt.wY(e,j)};vn.qK=function(){WN.call(this);this.l=V.M("div","form");this.Zni=new vQ("Hello");
this.l.appendChild(this.Zni.l);this.Vi=null;this.ZnN=null;this.pr=null;this.ZnI=-1;this.ZBq=null;this.I$=new xG(!0);
this.I$.parent=this;this.I$.S(V.E.m,this.ZBP,this);this.gT=V.M("div","marged hiline");this.gT.appendChild(this.I$.l);
this.me=new vc("GrFl",!0);this.me.parent=this;this.me.S(V.E.m,this.ZBY,this);this.Tj=V.M("div","marged hiline");
var e="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var j=0;j<e.length;j++){var g=this.me.uV[e[j]].l;
this.Tj.appendChild(g)}this.mi=new vc("patternFill",!0);this.mi.parent=this;this.mi.S(V.E.m,this.ZBl,this);
this.TP=V.M("div","marged hiline");var e=["Ptrn","Scl","Algn","phase"];for(var j=0;j<e.length;j++){var g=this.mi.uV[e[j]].l;
this.TP.appendChild(g)}this.AJ={};for(var P in Wj.names){if(Q[P]==null)continue;this.AJ[P]=new Q[P];
this.AJ[P].S(V.E.m,this.ZB_,this);this.AJ[P].parent=this}var p=this.ZvH=V.M("div","marged hiline");this._D=vn.$R(["W","H","X","Y"],null,p,this.$P,this);
this.vw=new Wh([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.vw.S(V.E.m,this.$P,this);p.appendChild(this.vw.l);
this.SW=new xG(!1);this.SW.parent=this;this.SW.S(V.E.m,this.$P,this);p.appendChild(this.SW.l)};vn.qK.prototype=new WN;
vn.qK.prototype.w=function(){for(var e in this.AJ)this.AJ[e].w();this.me.w();this.mi.w();this.vw.w();
for(var j=0;j<4;j++)this._D[j].w()};vn.qK.prototype.$P=function(e){var j=vn.OW(this._D),g=u.ZCp(new G(j[2],j[3],j[0],j[1])),P=this.vw.C(),p={classID:"artboard",artboardRect:{t:"Objc",v:g},Clr:{t:"Objc",v:this.SW.C()},artboardBackgroundType:{t:"long",v:P+1}},v=new z(V.E.s,!0);
v.X=o.jE;v.data={U:u.Ft,qN:p};this.P(v)};vn.qK.prototype.ZBP=function(e){var j=this.pr,g=j.b[0];if(j.T[g].add.SoCo==null)return;
var P=JSON.parse(JSON.stringify(j.T[g].add.SoCo));P.Clr.v=this.I$.C();this.$X({Tm:1,am:P})};vn.qK.prototype.ZBY=function(e){var j=this.pr,g=j.b[0];
if(j.T[g].add.GdFl==null)return;this.$X({Tm:2,am:this.me.C()})};vn.qK.prototype.ZBl=function(e){this.$X({Tm:3,am:this.mi.C()})};
vn.qK.prototype.$X=function(e){this.ZeT(o.jE,{U:u.$J,kT:[this.pr.b[0]],Hb:!0,r:e})};vn.qK.prototype.ZB_=function(e){this.ZeT(o.Zn,{U:"edit_layer",r:this.ZnN.C()})};
vn.qK.prototype.ZeT=function(e,j){var g=new z(V.E.s,!0);g.X=e;g.data=j;this.P(g)};vn.qK.prototype.VJ=function(e){var j=Zr.get([0,3]),g=null;
this.pr=e;if(e&&e.T.length>0&&e.b.length!=0){var P=e.T[e.b[0]],p=Wj.get(P.add);if(p!=null&&this.AJ[p]!=null){g=this.AJ[p].l;
this.ZnN=this.AJ[p];this.AJ[p].J(P.add[p]);if(e.b[0]!=this.ZnI){var v=e.Gj(e.b[0]-1);this.ZBq=Z.LO(v)}this.AJ[p].AI(this.ZBq);
j=Zr.get(Wj.names[p])}if(P.add.SoCo){g=this.gT;this.I$.J(P.add.SoCo.Clr.v);j=Zr.get([6,48,0,0])}if(P.add.GdFl){g=this.Tj;
this.me.update(e,P.add.GdFl);j=Zr.get([6,48,0,1])}if(P.add.PtFl){g=this.TP;this.mi.update(e,P.add.PtFl);
j=Zr.get([6,48,0,2])}if(P.add.artb){var x=P.add.artb,A=P.EX();g=this.ZvH;this.vw.J(x.artboardBackgroundType.v-1);
if(x.Clr)this.SW.J(x.Clr.v);vn.Ty(this._D,[A.W,A.j,A.x,A.y]);j="Artboard"}this.ZnI=e.b[0]}if(g!=this.Vi){if(this.Vi)this.l.removeChild(this.Vi);
if(g!=null)this.l.appendChild(g);this.Vi=g}this.Zni.J(j)};vn.qK.prototype.wY=function(e,j){this.me.wY(e,j);
this.mi.wY(e,j);for(var g in this.AJ)this.AJ[g].wY(e,j)};vn.ei=function(){WN.call(this);this.l=V.M("div","form");
this.pr=null;this.Sr=0;var e=V.M("span","fitem");this.l.appendChild(e);this.dd=[new WI([6,2]),new WI([6,3]),new WI([6,50])];
for(var j=0;j<this.dd.length;j++){var g=this.dd[j];g.S("click",this.ZBm,this);e.appendChild(g.l)}this.fS=new WO([12,74],0,255);
this.fS.S(V.E.m,this.VY,this);this.l.appendChild(this.fS.l);this.fF=new WO([7,6],0,500,"px",2,!0);this.fF.S(V.E.m,this.VY,this);
this.l.appendChild(this.fF.l)};vn.ei.prototype=new WN;vn.ei.prototype.VY=function(e){var j=this.fS.C(),g=this.fF.C(),P=new z(V.E.s,!0);
P.X=o.jE;P.data={U:u.Fc,hI:this.pr.b[0],kP:{Fh:this.Sr,fS:j,fF:g}};this.P(P)};vn.ei.prototype.w=function(){for(var e=0;
e<this.dd.length;e++)this.dd[e].w();this.fS.w();this.fF.w()};vn.ei.prototype.VJ=function(e){this.pr=e;
this.nS()};vn.ei.prototype.ZBm=function(e){this.nS(this.dd.indexOf(e.currentTarget));this.parent.ZfK(this.Sr)};
vn.ei.prototype.nS=function(e){var j=this.pr,g=this.dd;for(var P=0;P<3;P++){var p=g[P];p.H_();p.GR()}if(j==null||j.T.length==0||j.b.length==0)return;
var v=-1,x=j.T[j.b[0]];if(x.f$()&&x.EK(j)._!=null){g[2].EE();v=2}if(x.add.vmsk){g[1].EE();v=1}if(x.ou()){g[0].EE();
v=0}if(e!=null)v=e;else if(x.iD)v=1;else if(x.TM==3)v=2;else if(x.TM==1)v=0;this.Sr=v;if(v==-1){this.fS.GR();
this.fF.GR();return}var A=x.ZDn(v);this.fS.EE();this.fF.EE();this.fS.J(A.fS);this.fF.J(A.fF);g[v].EA()};
vn.Br=function(){WN.call(this);this.l=V.M("div","form");this._t=1;this.VE=V.M("div");this.Ph=vn.$R(["W","H","X","Y"],[12,51],this.VE,this.Zes,this);
this.Vk=V.M("div");var e=["\u250F","\u2513","\u2517","\u251B"];this.Sv=vn.$R(e,[12,91,2],this.Vk,this.Zes,this)};
vn.Br.prototype=new WN;vn.Br.prototype.w=function(){V.ML(this.Ph[0],this.Ph[1]);for(var e=2;e<5;e++){this.Ph[e].w()}this.Sv[4].w()};
vn.$R=function(e,j,g,P,p){var v=V.M("div","numlist");g.appendChild(v);var x=[];for(var A=0;A<4;A++){var f=new vz(e[A],0,0,null,1,!1,!0);
f.S(V.E.m,P,p);v.appendChild(f.l);x.push(f);if(A==1||A==3)V.ae(v)}if(j){x[4]=new Wk(j);x[4].J(!0);g.appendChild(x[4].l)}return x};
vn.Ty=function(e,j){for(var g=0;g<4;g++)e[g].J(j[g])};vn.OW=function(e){var j=[];for(var g=0;g<4;g++)j[g]=e[g].C();
return j};vn.Br.prototype.Zes=function(e){var j=this.Ph.indexOf(e.currentTarget),g=this.Sv.indexOf(e.currentTarget),P=[null,null,null,null],p=[null,null,null,null];
if(j!=-1){var v=vn.OW(this.Ph),x=this.Ph[4].C();v[0]=Math.max(1,v[0]);v[1]=Math.max(1,v[1]);if(x&&j==0)v[1]=v[0]/this._t;
if(x&&j==1)v[0]=v[1]*this._t;P[0]=v[2];P[1]=v[3];P[2]=P[0]+v[0];P[3]=P[1]+v[1]}if(g!=-1){var v=vn.OW(this.Sv);
p[g]=Math.max(0,v[g]);if(this.Sv[4].C())for(var A=0;A<4;A++)p[A]=p[g];var f=p[3];p[3]=p[2];p[2]=f}var S=new z(V.E.s,!0);
S.X=o.jE;S.data={U:u.Fg,jm:P,ZOj:p};this.P(S)};vn.Br.prototype.VJ=function(e){if(e==null)return;var j=this.VE.parentNode!=null,g=this.Vk.parentNode!=null,P=Z.uF.Or(e),p=P[0],v=P[1];
if(p){if(!j)this.l.appendChild(this.VE);this._t=(p[2]-p[0])/(p[3]-p[1]);vn.Ty(this.Ph,[p[2]-p[0],p[3]-p[1],p[0],p[1]])}else if(j)this.l.removeChild(this.VE);
if(v){if(!g)this.l.appendChild(this.Vk);var x=v[2];v[2]=v[3];v[3]=x;vn.Ty(this.Sv,v)}else if(g)this.l.removeChild(this.Vk)};
function ZK(e){WP.call(this,e.name,!0);this.vs=e;this.ES=null;this.RQ=[];this._q=!1;this.aS={x:0,y:0,kD:!1};
this.VM=!0;this.SV=document.createElement("canvas");this.Sg=this.SV.getContext("2d");this.KM=document.createElement("canvas");
this.A=this.KM.getContext("2d");var j=16,g=Z.V(16*16*4);Z.ZL(g,j,j,8,0,0);this.lk=Z.scale.wy(g,j,j);
this.Zvs=this.QN.bind(this);this.ST=this.Aw.bind(this);this.ZBz=this.Sy.bind(this);var P=this.aR;V.lI(P,this.Zvs);
V.FK(P,this.ST);P.addEventListener("wheel",this.nY.bind(this),!1);P.addEventListener("contextmenu",this.ZyZ.bind(this),!1);
this.WZ=0;this._T="";this.yR=4;P.addEventListener("touchmove",V.WC,!1)}ZK.prototype=new WP;ZK.prototype.ZNI=function(){if(this.vs.hr())return window.confirm(Zr.get([22,6,3])+" "+this.vs.name+". "+Zr.get([22,6,4]));
return!0};ZK.prototype.WC=function(e){e.preventDefault()};ZK.prototype.On=function(e){var j=-1,g=this.RQ;
for(var P=0;P<g.length;P++)if(g[P].pointerId==e.pointerId)j=P;return j};ZK.prototype.QN=function(e){var j=this.On(e);
if(j!=-1)this.RQ[j]=e;else this.RQ.push(e);if(this.RQ.length==1){var g=e.button!=null&&e.button!=0?"rdown":"down",P=new z("mouse",!0);
P.action=g;this.Bu(e,P);this.P(P);V._L(this.aR,this.ST);V.FK(window,this.ST);V.FQ(window,this.ZBz)}if(this.RQ.length==2){this.Zek("multidown");
this._q=!0}};ZK.prototype.Aw=function(e){var j=this.On(e);if(j!=-1)this.RQ[j]=e;if(this.RQ.length>1){this.Zek("multimove")}if(this._q)return;
var g=new z("mouse",!0);g.action="move";this.Bu(e,g);this.P(g)};ZK.prototype.Sy=function(e){var j=this.RQ,g=this.On(e);
j.splice(g,1);if(j.length==0){var P=e.button!=null&&e.button!=0?"rup":"up",p=new z("mouse",!0);p.action=P;
this.Bu(e,p);this.P(p);V._L(window,this.ST);V.fz(window,this.ZBz);V.FK(this.aR,this.ST);this._q=!1}};
ZK.prototype.nY=function(e){this.WC(e);if(e.deltaX==0&&e.deltaY==0)return;var j=new z("mouse",!0);j.action="scroll";
j._f=e.ctrlKey;this.Bu(e,j);this.P(j)};ZK.prototype.ZyZ=function(e){V.nx(e);var j=e.sourceCapabilities;
if(j)j=j.firesTouchEvents;if(j){var g=new z("mouse",!0);this.Bu(e,g);g.action="rdown";this.P(g);g.action="rup";
this.P(g)}};ZK.prototype.Zek=function(e){var j=this.RQ,g=V.I(),P=[];for(var p=0;p<j.length;p++){var v=P[p]=V.nX(j[p],this.aR);
v.x*=g;v.y*=g}var x=new z("mouse",!0);x.action=e;x.ov=P;this.P(x)};ZK.prototype.Bu=function(e,j,g){var P=this.RQ.length!=0;
if(j.action!="up"){var p=V.I();if(g==null)g=V.nX(e,this.aR);this.aS=j.MF={x:p*g.x,y:p*g.y,kD:P};var v=V.nX(e,document.body);
j.MF.QB=v.x;j.MF.$t=v.y}else this.aS=j.MF={x:this.aS.x,y:this.aS.y,kD:P};j.MF.DH=1;if(e.pressure!=null&&e.pressure!=0)j.MF.DH=e.pressure*2;
if(e.deltaX!=null){var x=e.deltaMode==0?1:40;j.uJ=new Uc(e.deltaX*x,e.deltaY*x)}};ZK.prototype.wY=function(e,j){this.ES=e};
ZK.prototype.VJ=function(e){this.Ar();this.TE()};ZK.prototype.Ov=function(e,j){if(e<=0||j<=0)return;
this.LB=e;this.GF=j;var g=this.vs,P=V.I();g.N.A.W=Math.floor(e*P);g.N.A.j=Math.floor(j*P);V.ik(this.KM,e,j);
V.ik(this.SV,e,j);V.ik(l.Ur(),e,j);if(g.N.d==0)g.N.d=o.ft.ip(g.W,g.j,e*P,j*P);this.VM=!0;this.TE()};
ZK.prototype.Ar=function(){var e=this.aR.firstChild;if(!l.Hf&&e==l.Ur()||l.Hf&&e==this.KM)this.aR.removeChild(e);
this.aR.appendChild(l.Hf?l.Ur():this.KM)};ZK.prototype.TE=function(){if(l.Hf!=this.yR){this.WZ=0;this._T="";
this.VM=!0}this.yR=l.Hf;if(this.ES==null)return;if(l.Hf)this.ZyU();else this.pv();var e=this.vs;this.WZ=e.N.d;
this._T=JSON.stringify(e.N.oJ);this.VM=!1};ZK.prototype.ZyU=function(){if(l.Hf&&ZK.ZyR==null)ZK.ZyR=new ZK.Tq(!1);
if(l.Hf&&ZK.ZaU==null)ZK.ZaU=new ZK.Tq(!0);var e=this.vs,A;if(e.zZ==null)return;var j=e.N,g=j.A.W,P=j.A.j,p=l.kl;
this.A.clearRect(0,0,j.A.W,j.A.j);var v=this.ZVC(e);if(j.qR==null)j.qR=new l.il(j.A.W,j.A.j);if(v)j.qR.set(this.KM);
else{l.pW(j.qR);l.qp(0)}var x=new G(0,0,e.W*j.d,e.j*j.d);x.x=Math.round((g-e.W*j.d)/2+j.R.x);x.y=Math.round((P-e.j*j.d)/2+j.R.y);
var f=[0,0,0,0],S=[];if(e.add.artd){f=ZK.OH(e);var F=e.W,m=e.j;A=ZK.ZaU;for(var R=0;R<e.T.length;R++){var M=e.T[R],b=M.add.artb;
if(b==null||!M.Je())continue;var s=M.EX();S.push(s.x/F,s.y/m,s.W/F,s.j/m)}if(S.length>32*4){S=S.slice(0,32*4)}while(S.length<32*4){S.push(0,0,0,0)}}else A=ZK.ZyR;
l.NL(g,P);l.qp(0);l.NL(g,P);A.Gy();A.GW(j.qR.FL,e.zZ.FL,new Float32Array([x.x/g,x.y/P,x.W/g,x.j/P]),new Float32Array([8/g,8/P]),e.W,e.j,1/e.N.d,g,P,new Float32Array(S),new Float32Array(f),new Float32Array(Z.qo.eQ(Z.qo.gN(j.oJ))));
p.drawArrays(p.TRIANGLES,0,6)};ZK.OH=function(e){var j=e.add.artd.canvasColor;if(j==null)return[0,0,0,0];
return ZK.Zye(j)};ZK.Zye=function(e){var j=Z.c.W_(e.v),g=[j.k/255,j.z/255,j.e/255,1];for(var P=0;P<4;
P++)g[P]=Math.min(1,g[P]);return g};ZK.oj=function(e,j){var g=e[2]*255;if(l.Hf)g=j?0:Math.max(1,g);return"rgba("+e[0]*255+","+e[1]*255+","+g+","+e[3]+")"};
ZK.Os=function(e){if(l.Hf)for(var j=0;j<e.length;j+=4){if(e[j+2]==0)e[j+2]=3}};ZK.prototype.pv=function(){var e=this.vs;
if(e.buffer==null)return;var j=e.N,g=j.A.W,P=j.A.j;this.Sg.clearRect(0,0,j.A.W,j.A.j);this.A.clearRect(0,0,j.A.W,j.A.j);
if(e.add.artd==null){}else{this.A.fillStyle=ZK.oj(ZK.OH(e));this.A.fillRect(0,0,j.A.W,j.A.j)}var p=j.$u(),v=j.A.zx(p);
this.A.save();this.A.translate(p.x,p.y);if(e.add.artd==null){this.A.fillStyle=this.lk;this.A.fillRect(0,0,p.W,p.j)}this.A.restore();
var x=e.W!=j.MV.W||e.j!=j.MV.j;if(x)j.MV.Ve(0,0,e.W,e.j);var A=JSON.stringify(j.oJ);if(j.d<=1){if(j.d!=this.WZ||A!=this._T||e.kX){if(j.d!=this.WZ||j.TK==null||x)j.TK=this.A.createImageData(Math.max(1,p.W),Math.max(1,p.j));
if(j.d<1){var f=Z.ub(e.buffer,new G(0,0,e.W,e.j),j.d,new Uint8Array(j.TK.data.buffer))}else Z.Ue(e.buffer,j.TK.data);
Z.qo.gy(j.TK.data,j.TK.data,Z.qo.gN(j.oJ))}this.Sg.putImageData(j.TK,p.x,p.y);this.A.drawImage(this.SV,v.x,v.y,v.W,v.j,v.x,v.y,v.W,v.j)}else{var S=j.hU(),F=new G(0,0,S.W*j.d,S.j*j.d);
F.x=S.x*j.d+p.x;F.y=S.y*j.d+p.y;if(j.d!=this.WZ||this.VM){j.Ax=Z.V(S.h()*4);j.TK=this.A.createImageData(F.W,F.j)}Z.set(j.Ax,0);
Z.Vy(this.vs.buffer,new G(0,0,e.W,e.j),j.Ax,S);Z.scale.Tl(j.Ax,S.W,S.j,j.TK.data,F.W,F.j,j.d);Z.qo.gy(j.TK.data,j.TK.data,Z.qo.gN(j.oJ));
this.Sg.putImageData(j.TK,F.x,F.y);this.A.drawImage(this.SV,0,0)}this.ZVC(e)};ZK.prototype.ZVC=function(e){var j=e.N,g=j.oJ[0]+j.oJ[1]+j.oJ[2],P=!1,p=[];
for(var v=0;v<e.b.length;v++){var x=e.T[e.b[v]],A=x.TM;if(A!=1&&A!=3)continue;var f=A==1?x.ou():x.EK(e)._;
if(f.IN)p.push(f)}for(var v=0;v<e.xr.length;v++)if(e.xr[v].IN)p.push(e.xr[v]);for(var v=0;v<p.length;
v++){var f=p[v];this.ZJg(f.channel,f.rect,j,p.length==1&&g==0?2:1,f.color,f.xI);P=!0}var S=this.ES;P=this.Zyu(e,this.A,j)||P;
if(e.Z&&S.HS&&S.ka.JX){this.ZJg(e.Z.channel,e.Z.rect,j,0,0,null);P=!0}return P};ZK.prototype.ZJg=function(e,j,g,P,p,v){var x=g.$u(),A,f,S,F=0;
if(v)F=Math.round(v.e)<<16|Math.round(v.z)<<8|Math.round(v.k);if(g.d<=1){A=j.clone();A.x=Math.round(A.x*g.d);
A.y=Math.round(A.y*g.d);A.W=Math.floor(A.W*g.d);A.j=Math.floor(A.j*g.d);f=e;if(g.d<1){if(g.CE==null||g.CE.length<j.h()>>>1){console.log("here");
g.CE=Z.V(j.h()>>>1)}f=g.CE;var m=Z.Qh(e,j,g.d,f);A.W=m.rect.W;A.j=m.rect.j}if(g.pZ==null||g.pZ.length!=A.h()*4)g.pZ=Z.V(A.h()*4);
else Z.XC(g.pZ,0);var R=g.A.clone();R.offset(-x.x,-x.y);S=A.zx(R)}else{var M=g.hU();A=new G(M.x*g.d,M.y*g.d,M.W*g.d,M.j*g.d);
if(g.pZ==null||g.pZ.length!=A.h()*4){g.CE=Z.V(A.h());g.pZ=Z.V(A.h()*4)}var b=Z.V(M.h());Z.set(b,p);Z.Oo(e,j,b,M);
Z.scale.$Y(b,M.W,M.j,g.CE,A.W,A.j,g.d);Z.XC(g.pZ,0);f=g.CE}if(P==0)Z.Z.ZIs(f,g.pZ,A,S);else{var s=x.x,K=x.y,X=x.W,d=x.j;
S=A.zx(new G(0,0,X,d));if(g.d<=1){this.A.fillStyle=P==2?ZK.oj([p/255,p/255,p/255,1]):ZK.oj([v.k/255,v.z/255,v.e/255,.5*(1-p/255)]);
var W=s,O=W+S.x,H=O+S.W,Y=W+X,y=K,B=y+S.y,c=B+S.j,$=y+d;this.A.fillRect(s,y,X,B-y);this.A.fillRect(s,B,O-W,c-B);
this.A.fillRect(H,B,Y-H,c-B);this.A.fillRect(s,c,X,$-c)}Z.Z.ZHy(f,g.pZ,A,S,P,F)}ZK.Os(g.pZ);if(g.d<=1)this.Sg.clearRect(0,0,g.A.W,g.A.j);
if(A.h()!=0){var I=new ImageData(new Uint8ClampedArray(g.pZ.buffer),A.W,A.j);this.Sg.putImageData(I,x.x+A.x,x.y+A.y);
this.A.drawImage(this.SV,0,0)}};ZK.prototype.Zyu=function(e,j,g){var P=e.n.Bx||e.n.eP||e.n.TW||e.n.RO.length!=0||e.n.tx.length!=0,p=this.ES,v=p.ka,x=g.$u(),A=new WE(g.d,0,0,g.d,x.x+.5,x.y+.5),f=Zf.Hx[p.AU],S=Math.round(12*V.I());
if(e.add.artd){var F=ZK.OH(e)[0];F=F<.5?F+.5:F-.5;F=""+Math.round(F*255).toString(16);while(F.length<2)F="0"+F;
j.fillStyle="#"+F+F+F;j.font=S+"px sans-serif";for(var m=0;m<e.T.length;m++){var R=e.T[m];if(R.add.artb==null||!R.Je())continue;
var M=R.EX(),b=new Uc(M.x,M.y);b=A.vy(b);j.fillText(R.getName(),Math.round(b.x),Math.round(b.y-6));P=!0}}var s=ZK.oj([.1,.5,1,1]),K=ZK.oj([1,1,1,1]);
if(p.HS&&v.Bd){j.fillStyle=j.strokeStyle=s;j.lineWidth=1.5;var X=e.OK(),d=X[0],W=X[1];for(var O=0;O<W.length;
O++){var R=d[W[O]],H=R.add.vmsk,Y=H.F,y=Z.g.bg(Y);this.Xu(y,A,j);j.stroke();P=!0;var B=Math.round(3*V.I()),c=Y.length-3;
for(var m=0;m<H.sG.length;m++){var $=Z.f.eo(Y,H.sG[m]);if($==null)continue;var I=x.x+$.x*g.d,r=x.y+$.y*g.d;
j.beginPath();var i=m==0;if(H.CI)i=!i;if(i){j.moveTo(I-B,r-B);j.lineTo(I+B,r+B);j.moveTo(I-B,r+B);j.lineTo(I+B,r-B);
j.stroke()}else{j.arc(I,r,B*1,0,2*Math.PI);j.fill()}P=!0}if(e.b.length!=1)continue;var U=-1;for(var m=0;
m<Y.length;m++){if(Y[m].type>5)continue;if(Y[m].type==0||Y[m].type==3){if(Y[m].WF!=-1)U++;continue}if(H.b.indexOf(U)!=-1){var I=x.x+Y[m].G.x*g.d,r=x.y+Y[m].G.y*g.d;
j.fillRect(Math.round(I-B+.5),Math.round(r-B+.5),2*B-1,2*B-1)}if(H.Om.indexOf(m)!=-1){var N=[Y[m].G];
j.beginPath();j.moveTo(x.x+Y[m].Li.x*g.d,x.y+Y[m].Li.y*g.d);j.lineTo(x.x+Y[m].G.x*g.d,x.y+Y[m].G.y*g.d);
j.lineTo(x.x+Y[m].ap.x*g.d,x.y+Y[m].ap.y*g.d);j.stroke();if(!Y[m].G.iJ(Y[m].Li))N.push(Y[m].Li);if(!Y[m].G.iJ(Y[m].ap))N.push(Y[m].ap);
for(var C=0;C<N.length;C++){var $=N[C],I=x.x+$.x*g.d,r=x.y+$.y*g.d;if(C==0&&(Y[m].type==2||Y[m].type==5))j.fillRect(Math.round(I-1.2*B),Math.round(r-1.2*B),Math.round(2.4*B),Math.round(2.4*B));
else{j.beginPath();j.arc(I,r,B*1.2,0,2*Math.PI);j.fill();if(C!=0)j.fillStyle=K;j.beginPath();j.arc(I,r,B*.8,0,2*Math.PI);
j.fill();j.fillStyle=s}}}P=!0}}}j.fillStyle=j.strokeStyle=ZK.oj([0,0,0,1],!0);j.lineWidth=1;if(e.n.Bx){this.Xu(e.n.Bx,A,j);
j.fill()}if(e.n.eP){this.Xu(e.n.eP,A,j);j.stroke()}for(var D in e.n.Fj)if(e.n.Fj[D].eP){this.Xu(e.n.Fj[D].eP,A,j);
j.stroke();P=!0}j.beginPath();var B=4*V.I(),n=e.n.$d;for(var m=0;m<n.length;m+=2){P=!0;var I=x.x+n[m]*g.d,r=x.y+n[m+1]*g.d;
j.rect(I-B+.5,r-B+.5,2*B-1,2*B-1)}j.stroke();var n=e.n.Zrg;j.beginPath();var B=4*V.I();for(var m=0;m<n.length;
m+=2){P=!0;var I=x.x+n[m]*g.d,r=x.y+n[m+1]*g.d;j.moveTo(I+B-.5,r);j.arc(I,r,B-.5,0,2*Math.PI)}j.fill();
var n=e.n.pm;j.fillStyle=ZK.oj([1,1,1,1]);j.beginPath();var B=6*V.I();for(var m=0;m<n.length;m+=2){P=!0;
var I=x.x+n[m]*g.d,r=x.y+n[m+1]*g.d;j.moveTo(I+B-.5,r);j.arc(I,r,B-.5,0,2*Math.PI)}j.fill();var B=4*V.I();
for(var m=0;m<n.length;m+=2){P=!0;var I=x.x+n[m]*g.d,r=x.y+n[m+1]*g.d;j.fillStyle=ZK.oj(e.n.qy.indexOf(m>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);
j.beginPath();j.moveTo(I+B-.5,r);j.arc(I,r,B-.5,0,2*Math.PI);j.fill()}if(e.n.RO.length!=0){for(var m=0;
m<e.n.RO.length;m++){var w=e.n.RO[m],k=w[1];j.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),k.W,k.j),k.x,k.y)}}if(e.n.KJ){P=!0;
var h=e.n.KJ,t=h.mO,y={L:[],u:[]};for(var m=0;m<h.ms.length;m++)Z.g.concat(y,Z.g.B$(h.ms[m]));y.u=y.u.concat(t);
for(var m=0;m<t.length;m+=4)y.L.push("M","L");j.strokeStyle=ZK.oj([.9,.2,.2,1]);this.Xu(y,A,j);j.stroke();
var a=V.I();for(var m=0;m<t.length;m+=4){var I=t[m],r=t[m+1],_=t[m+2],E=t[m+3],WW=Math.sqrt((E-r)*(E-r)+(_-I)*(_-I));
WW=Z.CF.wn(WW,e.aY,p,r==E?e.W:e.j);var Wx=new Uc((I+_)/2,(r+E)/2);Wx=A.vy(Wx);j.fillStyle=ZK.oj([.9,.2,.2,1]);
var WU=j.measureText(WW),We=WU.width;j.fillRect(Wx.x-We/2-2.5*a,Wx.y-7.5*a,We+5*a,15*a);j.fillStyle=ZK.oj([1,1,1,1]);
j.fillText(WW,Wx.x-We/2,Wx.y+4*a)}}if(p.HS){j.lineWidth=1;if(v.dH){var Wv=Z.CF.vr(v.$$,e,v.$j),L=Wv;
if(v.$j==4)L*=e.j/e.W;this.uj(e,x,j,Wv,L,1,v.Cv);P=!0}if(v.QG&&e.N.d>7){this.uj(e,x,j,1,1,.5,v.Cv);P=!0}if(v.TY){j.beginPath();
j.strokeStyle=ZK.oj([0,1,1,1]);for(var m=0;m<e.TY[0].length;m++){var J=Math.round(e.N.p$(e.TY[0][m],0).x)+.5;
j.moveTo(J,0);j.lineTo(J,e.N.A.j)}for(var m=0;m<e.TY[1].length;m++){var WZ=Math.round(e.N.p$(0,e.TY[1][m]).y)+.5;
j.moveTo(0,WZ);j.lineTo(e.N.A.W,WZ)}j.closePath();j.stroke()}var WJ=e.iZ;if(v.iZ&&WJ.length!=0){var Wu=j.font;
j.font=Math.round(S*.8)+"px sans-serif";var WC=[],Wn=[];for(var m=0;m<WJ.length;m++){var WB=o.bR.da(WJ,m);
WC.push(WB);if(e.Tt.indexOf(m)!=-1)Wn.push(WB)}WC.reverse();var Wt=Date.now();WC=Z.rect.Wc([0,0,e.W,e.j],WC);
j.translate(.5,.5);for(var C=0;C<2;C++)for(var m=0;m<WC.length;m++){var Wy=WC[m],U=Wy[4],Wz=U!=null?WJ[U]:null;
if(Wz&&C==0||Wz==null&&C==1)continue;var WG=e.N.p$(Wy[0],Wy[1]),Wq=e.N.p$(Wy[2],Wy[3]),I=Math.round(WG.x),r=Math.round(WG.y),_=Math.round(Wq.x),E=Math.round(Wq.y);
j.strokeStyle=j.fillStyle=ZK.oj(Wz?[0,.7,.7,1]:[.8,.8,.8,1]);j.beginPath();j.moveTo(I,r);j.lineTo(_,r);
j.lineTo(_,E);j.lineTo(I,E);j.closePath();j.stroke();var Wa=m+1,WU=j.measureText(Wa),We=WU.width;j.fillRect(I-.5,r-.5,Math.round(We+S/2),S);
j.fillStyle=ZK.oj([1,1,1,1]);j.fillText(Wa,I+S/4,Math.round(r+S*.8)-.5)}for(var m=0;m<Wn.length;m++){var Wy=Wn[m],WG=e.N.p$(Wy[0],Wy[1]),Wq=e.N.p$(Wy[2],Wy[3]),I=Math.round(WG.x),r=Math.round(WG.y),_=Math.round(Wq.x),E=Math.round(Wq.y);
j.strokeStyle=j.fillStyle=ZK.oj([0,.7,.7,1]);j.beginPath();j.moveTo(I,r);j.lineTo(_,r);j.lineTo(_,E);
j.lineTo(I,E);j.closePath();j.stroke();var WK=[I,r,_,r,_,E,I,E];for(var Wd=0;Wd<WK.length;Wd+=2){var J=WK[Wd],WZ=WK[Wd+1],WD=WK[Wd+2&7],W$=WK[Wd+3&7];
j.fillRect(J-2.5,WZ-2.5,4,4);j.fillRect(Math.round((J+WD)/2)-2.5,Math.round((WZ+W$)/2)-2.5,4,4)}}j.translate(-.5,-.5);
j.font=Wu;P=!0}}j.strokeStyle=ZK.oj([1,0,0,1]);if(e.n.TW){this.Xu(e.n.TW,A,j);j.stroke()}if(p.Ho){if(e.N.Xk==null||e.N.Xk.width!=e.N.A.W||e.N.av.height!=e.N.A.j){e.N.Xk=j.createImageData(e.N.A.W,Z.CF.kL);
e.N.av=j.createImageData(Z.CF.kL,e.N.A.j)}var f=Zf.Hx[p.AU],g=e.N,Zg=g.d*e.W/2,WL=g.d*e.j/2,WY=[1,e.aY,e.aY/2.54,e.aY/25.4,e.W/100][v.AG],WA=g.d,Wb=g.R.clone();
g.d*=WY;g.R.x+=Zg*WY-Zg;g.R.y+=WL*WY-WL;Z.CF.ZSj(g,f["--text-color"],f["--bg-input"]);g.d=WA;g.R=Wb;
var WX=ew.Zff(g.d,ZK.oj([1,1,1,1]));ZK.Os(e.N.av.data);ZK.Os(e.N.Xk.data);j.putImageData(e.N.av,0,0);
j.putImageData(e.N.Xk,0,0);j.putImageData(WX,0,e.N.A.j-WX.height)}if(e.n.tx.length!=0){for(var m=0;m<e.n.tx.length;
m++){var w=e.n.tx[m],k=w[1];j.putImageData(new ImageData(new Uint8ClampedArray(w[0].buffer),k.W,k.j),k.x,k.y)}}return P||p.Ho||e.TY[0].length+e.TY[1].length>0};
ZK.prototype.uj=function(e,j,g,P,p,v,x){while(P*e.N.d<4){P*=2;p*=2}var A=j.x,f=A+j.W,S=j.y,F=S+j.j;g.beginPath();
g.strokeStyle=ZK.oj([.5,.5,.5,v],!0);for(var m=0;m<=e.W;m+=P){var R=Math.round(e.N.p$(m,0).x)+.5;g.moveTo(R,S);
g.lineTo(R,F)}if(x==0){for(var M=0;M<=e.j;M+=p){var b=Math.round(e.N.p$(0,M).y)+.5;g.moveTo(A,b);g.lineTo(f,b)}}else{p*=Math.sqrt(4/3);
var s=(f-A)*(p/(2*P)),K=p*Math.floor(e.W/p);for(var M=-K;M<=e.j+K;M+=p){var b=Math.round(e.N.p$(0,M).y)+.5,X=b-s,d=b+s;
this.ZuT(g,A,S,f,F,b,X);this.ZuT(g,A,S,f,F,b,d)}}g.closePath();g.stroke()};ZK.prototype.ZuT=function(e,j,g,P,p,v,x){var A=j,f=P,S=v,F=x,m=0,R=1,M=f-A,b=F-S,s,K,X;
for(var d=0;d<4;d++){if(d==0){s=-M;K=-(j-A)}if(d==1){s=M;K=P-A}if(d==2){s=-b;K=-(g-S)}if(d==3){s=b;K=p-S}X=K/s;
if(s==0&&K<0)return!1;if(s<0){if(X>R)return!1;else if(X>m)m=X}else if(s>0){if(X<m)return!1;else if(X<R)R=X}}var W=A+m*M,O=S+m*b,H=A+R*M,Y=S+R*b;
e.moveTo(W,O);e.lineTo(H,Y)};ZK.prototype.Xu=function(e,j,g){g.beginPath();var P=Z.g.clone(e);Z.g.K(P.u,j,P.u);
Typr.U.pathToContext({cmds:P.L,crds:P.u},g)};ZK.Tq=function(e){l.on.call(this);this.ZvK=e;var j="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform vec3 imgSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(e?"uniform vec4 bgClr;  uniform vec4 ars[32];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+l.sI.NH+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = ctrn*texture2D(target, sCoord); "+(e?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<32; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=vec4(0.0,0.0,0.0,0.0); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),imgSizeZoom.xy, sCoord*imgSizeZoom.xy+vec2(0.0,-6.0*imgSizeZoom.z) , 10.0*imgSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = in01(sCoord) ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = in01(sCoord) ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",g="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec2 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgCoord = (sCoord * srct.zw) / gsize ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Jt(j,g)};ZK.Tq.prototype=new l.on;ZK.Tq.prototype.GW=function(e,j,g,P,p,v,x,A,f,S,F,m){this.ii("srct gsize source target imgSizeZoom cnvSize ars bgClr ctrn".split(" "));
var R=l.kl,M=this.os;R.uniform4fv(M.srct,g);R.uniform2fv(M.gsize,P);R.uniform3f(M.imgSizeZoom,p,v,x);
R.uniform2f(M.cnvSize,A,f);R.uniformMatrix4fv(M.ctrn,!1,m);if(this.ZvK){R.uniform4fv(M.ars,S);R.uniform4fv(M.bgClr,F)}R.uniform1i(M.source,0);
R.uniform1i(M.target,1);R.activeTexture(R.TEXTURE0);R.bindTexture(R.TEXTURE_2D,e);R.activeTexture(R.TEXTURE1);
R.bindTexture(R.TEXTURE_2D,j);R.activeTexture(R.TEXTURE0)};function fh(){WP.call(this,[9,7],!1,null,WP.uc.Zvd);
this.aR.setAttribute("style","min-width:240px;");this.pr=null;this.SG=-1;this.Zv$=[];this.xW=V.M("div","scrollable");
this.xW.style.height="160px";this.aR.appendChild(this.xW);this.GJ=V.M("div","lpfoot");this.aR.appendChild(this.GJ);
this.op=[];var e=["reload","lrs/newlayer","lrs/bin"],j=[[5,10],[5,3],[5,4]];for(var g=0;g<e.length;g++){var P=new WI("<img src=\""+PIMG[e[g]]+"\" class=\"gsicon\" />",!1,j[g]);
P.S("click",this.ZyB,this);this.GJ.appendChild(P.l);this.op.push(P)}}fh.prototype=new WP("");fh.prototype.Lv=function(e){var j=new z(V.E.s,!0);
j.data=e;j.X=o.Pv;this.P(j)};fh.prototype.ZyB=function(e){var j=this.op.indexOf(e.currentTarget);if(j!=1)if(this.SG==-1)return;
this.Lv({U:["updLC","addLC","delLC"][j],VS:this.SG});if(j==2)this.SG=-1};fh.prototype.w=function(){WP.prototype.w.call(this);
for(var e=0;e<this.op.length;e++)this.op[e].w()};fh.prototype.VJ=function(e){if(e==null)V.iV(this.aR,"disabled");
else V.Fu(this.aR,"disabled");this.pr=e;V.kO(this.xW);if(e==null)return;var j=e.TF.lastAppliedComp?e.TF.lastAppliedComp.v:0,g=e.TF.list.v.slice(0);
g.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var P=0;P<g.length;
P++){var p=g[P].v,v=new xa(p.Nm.v,p.compID.v,p.capturedInfo.v,j,this.SG);v.S("activate",this.dw,this);
v.parent=this;this.xW.appendChild(v.l);this.Zv$.push(v)}};fh.prototype.dw=function(e){this.SG=e.currentTarget.VS;
this.VJ(this.pr)};function xa(e,j,g,P,p){WN.call(this);this.VS=j;this.l=V.M("div","head listitem"+(j==p?" selected":""));
var v=j==P,x=new WI("<b>"+(v?"\u2713":"\u2014")+"</b>");if(v)x.EA();this.l.appendChild(x.l);x.S("click",this.YY,this);
var A=this.Ce=V.M("span");A.textContent=e;this.l.appendChild(A);this.op=[];if(j!=0){this.l.addEventListener("mouseup",this.dw.bind(this),!1);
this.ZaS=V.M("span","headR");this.l.appendChild(this.ZaS);var f=["lrs/eye","pos","lrs/fx"],S=["Visibility","Position","Appearance"];
for(var F=0;F<f.length;F++){var m=new WI("<img src=\""+PIMG[f[F]]+"\" class=\"autoscale gsicon\" />",!1,S[F]);
if((g>>F&1)==0)m.l.setAttribute("style","opacity:0.3");m.S("click",this.Zyy,this);this.ZaS.appendChild(m.l);
this.op.push(m)}}}xa.prototype=new WN;xa.prototype.dw=function(e){if(e.target!=this.Ce&&e.target!=this.l)return;
if(e.detail==1)this.P(new z("activate",!1));else{var j=new WP.eu(this.Ce,this.VU.bind(this))}};xa.prototype.Zyy=function(e){var j=this.op.indexOf(e.currentTarget);
this.Lv({U:"editLC",ZLP:j,VS:this.VS})};xa.prototype.VU=function(e){this.Lv({U:"editLC",U_:e,VS:this.VS})};
xa.prototype.YY=function(e){this.Lv({U:"setLC",VS:this.VS})};xa.prototype.Lv=function(e){var j=new z(V.E.s,!0);
j.data=e;j.X=o.Pv;this.P(j)};function Vz(){WP.call(this,[9,11],!1,null,WP.uc.Zva);var e=V.M("div","padded");
e.setAttribute("style","min-width:15em");this.aR.appendChild(e);var j=V.M("div");e.appendChild(j);j.setAttribute("style","cursor:grab;");
this.O$=V.M("canvas");this.O$.width=100;j.appendChild(this.O$);V.WV(this.O$);V.lI(this.O$,this.BC.bind(this));
this.Vb=new vD(null,0,o.ft.Gf.length-1);this.Vb.S(V.E.m,this.ZyH,this);e.appendChild(this.Vb.l);this.Zao=this.eY.bind(this);
this.ZiU=this.eR.bind(this);this.ab=null}Vz.prototype=new WP("");Vz.prototype.Ov=function(e,j){this.TE()};
Vz.prototype.ZyH=function(e){var j=this.Vb.C(),g=this.ab,P=o.ft.Gf[o.ft.Gf.length-1-j],p=new z(V.E.s,!0);
p.X=o.Cb;p.data={U:"zoom",d:P};this.P(p)};Vz.prototype.BC=function(e){if(this.ab==null)return;V.FK(window,this.Zao);
V.FQ(window,this.ZiU)};Vz.prototype.eY=function(e){var j=V.nX(e,this.O$),g=this.ab,P=this.O$.width,p=this.O$.height,v=(j.x*V.I()-P/2)/P,x=(j.y*V.I()-p/2)/p,A=V.I()*g.N.d,f=Math.round(-g.N.d*g.W*v),S=Math.round(-g.N.d*g.j*x);
o.gW.Xa(g,f,S)};Vz.prototype.eR=function(e){V._L(window,this.Zao);V.fz(window,this.ZiU)};Vz.prototype.VJ=function(e){if(e==null&&this.ab!=null)this.O$.width=100;
this.ab=e;this.TE()};Vz.prototype.TE=function(){var e=this.ab,g=0;if(e==null||e.N.d==0)return;if(!V.Ic(this.aR))return;
this.Vb.J(o.ft.Gf.length-1-o.ft.iA(e.N.d));var j=300*V.I(),P=[e.Gj(),new G(0,0,e.W,e.j)];Z.ZG(P);while(Math.max(P[g+1].W,P[g+1].j)>j){g+=2}var p=P[g],v=P[g+1],x=v.W,A=v.j,f=this.O$;
f.width=x;f.height=A;V.oR(f,x,A);var S=f.getContext("2d"),F=S.createImageData(x,A);Z.Ue(p,F.data);S.putImageData(F,0,0);
var m=e.N.hU(),R=x/e.W;S.scale(R,R);S.lineWidth=4/R;S.strokeStyle="#ff0000";S.strokeRect(m.x,m.y,m.W,m.j)};
Vz.prototype.wY=function(e,j){};Vz.prototype.Ar=function(){this.TE()};function xO(e){if(e==null){WP.call(this);
return}var j=e.id;if(j==null)j="plg_"+e.name;WP.call(this,e.name,!1,e.icon,j);var g=V.M("iframe","padded");
g.setAttribute("src",e.url);g.setAttribute("style","width:"+e.width+"px; height:"+e.height+"px");this.aR.appendChild(g)}xO.prototype=new WP("");
function xp(){xO.call(this,{id:WP.uc.ZvT,name:"Gallery",url:"plugins/gallery.html",width:400,height:400,icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACABAMAAAAxEHz4AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFR0dH////UFBQ8/PzoaGhYWFh3Nzcg4ODxcXFt7e34FYpWAAAAidJREFUeJzt2btuwjAUBuAoIlBGy2mADakVuysh1rCgjlRInQHxAIn6AiB16Ub7xG1utmM7vhwPXfxvRZxPCfY5JSaKQkJCQvjEO4Icgy9LDvhwLa+yYfUTSD1CBQWeYMALBbYwIKXACQZkFCAwAFMAVo9QD0j5ZTUm2UpA7lIfRVMJcLqAv0uQALf6KA4ADEh2BF/2cCC5Ve+b78FAO3U2UGDUdUAOBMoOmMGAhHQA3oOAB9bFVxDwxoBHEMDNzRQEcHNzDgIIAzAIQFz+B/C+Be8P0XsZvTeS91Z2b6ZY+LvsAMt2fiZZ0XvBcaAkp2a5uLiNtFX12r1vOg3V+s0L4apeCf60HOsj7naVMQEl23MggC56IRZaAofemiujBWLaengPArh9vwYBXOsOXoIO6H33PtP7WloDBx7I2rrJqd8bGiAmPICO9LZmlsC4V9+2VPXFEhd2wK0P1C0V38QlGQZGQn3dUu/SkgwDpQign2jSfixrC4DNPhr81e3Mbkl0gP756WwG9I8/mRGYauub/wlawPQAtzAA5kfQux446KsRm3JqQGgDZXIdMNbX1pnpgG8LoB20SkBqA2U2w0BpBTQtpQIUbaDMeghY2dU3l6ACxEkymLMaMLUBS9XVCsDhHOOoAlxOYuYqwNwGXK4yEDsdpCxk4EFfISaXAMejoFQCIAlAAAIgAARWz45EvQ9lvY+FvQ+mvY/GvQ/n/X8eCAkJCYmiX0mkBrefjRa7AAAAAElFTkSuQmCC"})}xp.prototype=new xO;
function xr(){WP.call(this,[9,12],!1,null,WP.uc.hJ);this.tS=null;this.An=new Uw(o.AY);this.An.parent=this;
var e=V.M("div","padded");e.setAttribute("style","width:20em");this.aR.appendChild(e);e.appendChild(this.An.ho)}xr.prototype=new WP("");
xr.prototype.Ar=function(){this.An.EF(this.tS.V_)};xr.prototype.wY=function(e,j){this.tS=e;if(j==WV.oY||j==WV.hJ)this.An.EF(e.V_)};
xr.prototype.Ov=function(e,j){this.An.ZEw(this.tS.To)};xr.prototype.w=function(){WP.prototype.w.call(this);
this.An.w()};function ZC(){WN.call(this);this.X=0;this.jD=null;this.l=V.M("div","toolconf");this.An=null;
this._z=null;this.body=new V.M("div","body")}ZC.prototype=new WN;ZC.prototype.ZyO=function(e,j){this.X=e;
this.jD=j;if(o.Zz[e]){var g=this.An=new Uw(e);this.l.appendChild(g.l);g.parent=this}else{this._z=V.M("div");
this.l.appendChild(this._z)}this.l.appendChild(this.body);this.w()};ZC.prototype.Zuz=function(e,j){};
ZC.prototype.Zuh=function(e){};ZC.prototype.wY=function(e,j){if(j==WV.oY||j==WV.hJ)if(this.An)this.An.EF(e.V_)};
ZC.prototype.ln=function(e){};ZC.prototype.w=function(){if(this.An)this.An.w();else this._z.innerHTML=V.MR(this.jD,null,"toolicon");
this._J()};ZC.prototype._J=function(){};function Zt(e){ZC.call(this);if(e==null)return;this.tS=null;
this.Lu={};for(var j=0;j<e.length;j++){var g=e[j],P=null;if(g=="brush"){P=new fv}if(g=="bmode"){P=new Wh([12,19,0],WF.sK,!1,WF.Ev)}if(g=="bmode0"){P=new Wh([12,19,0],WF.sK.slice(23),!1)}if(g=="emode"){P=new Wh([12,36],[[9,3],[10,38]])}if(g=="opacity"){P=new vz([12,0],0,100,"%");
P.J(100)}if(g=="flow"){P=new vz([12,63],0,100,"%");P.J(100)}if(g=="smth"){P=new vz([19,3,0],0,100,"%");
P.J(0)}if(g=="samp"){P=new Wh("Sampling",["Brush Center","Start of Stroke","Background Color"])}if(g=="wconf"){P=new Jc;
P.J([40,!0,!0])}if(g=="strn"){P=new vz([12,64],1,100,"%");P.J(50)}if(g=="smode"){P=new Wh([12,36],[[19,7,0],[19,7,1]]);
P.J(1)}if(g=="pdetail"){P=new Wk([12,65]);P.EA()}if(g=="rng"){P=new Wh([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
P.J(1)}if(g=="expo"){P=new vz([12,5],0,100,"%");P.J(50)}if(g=="algnd"){P=new Wk([12,75]);P.J(!1)}if(g=="sfrom"){P=new Wh([12,70],[[17,1],[17,3],[17,0]])}if(g=="alt"){P=new eP(null,["Alt"],!0,["Select Source"])}if(g=="qsmode"){P=new xI([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(g=="redge"){P=new WI([7,11],!1,null,!0)}if(g=="setop"){P=new JZ}if(g=="patch"){P=new xI(null,[[12,70],[12,71]])}if(g=="prsr"){P=new eP(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
P.J([!1,!0])}P.parent=this;this.body.appendChild(P.l);this.Lu[g]=P;if(g=="brush")P.S(V.E.m,this.ZCi,this);
else if(g=="redge")P.S("click",this.pe,this);else P.S(V.E.m,this.LX,this)}}Zt.prototype=new ZC;Zt.prototype.Zuz=function(e,j){e=e[1];
var g=this.Lu;if(e.Md)g.bmode.J(WF.LN.indexOf(e.Md.v.BlnM));if(e.Opct)g.opacity.J(e.Opct.v);if(e.flow)g.flow.J(e.flow.v);
if(e.Brsh)g.brush.J(e,j.sM.og,j.sM.Zk);if(e.FrgC){var P=Z.c.W_(e.FrgC.v),p=new z(V.E.O,!0);p.data={U:V.a.du,im:WV.qi,oV:0,r:P.k<<16|P.z<<8|P.e};
this.P(p)}this.ZCi();this.LX()};Zt.prototype.Zuh=function(){if(o.Zz[this.X]==null)return null;var e=this.Lu,j=JSON.parse(JSON.stringify(e.brush.C()));
j.classID=o.Zz[this.X][1][0];if(e.bmode)j.Md={t:"enum",v:{BlnM:WF.LN[e.bmode.C()]}};if(e.opacity)j.Opct={t:"long",v:e.opacity.C()};
if(e.flow)j.flow={t:"long",v:e.flow.C()};var g=this.tS.Jm;g={k:g>>>16,z:g>>>8&255,e:g&255};j.FrgC={t:"Objc",v:Z.c.Op(g)};
return["Brush Preset "+j.Brsh.v.Dmtr.v.val,j]};Zt.prototype.pe=function(){var e=new z(V.E.O,!0);e.data={U:V.a.LW,aj:"redge"};
this.P(e)};Zt.prototype._J=function(){for(var e in this.Lu)this.Lu[e].w()};Zt.prototype.ln=function(e){if(e.ZKi=="showBrushOpts"){this.Lu.brush.ZeD(e.DS.x,e.DS.y)}for(var j in e.JV){var g=e.JV[j];
if(j!="qsmode")g*=100;if(this.Lu[j])this.Lu[j].J(g)}};Zt.prototype.wY=function(e,j){ZC.prototype.wY.call(this,e,j);
this.tS=e;var g=this.Lu.brush;if(g==null)return;if(j==WV.oY||j==WV.AY)g.EF(e.sM);if(j==WV.xO){g.J(e.sM.mk,e.sM.og,e.sM.Zk)}};
Zt.prototype.ZCi=function(){var e=new z(V.E.O,!0);e.data={U:V.a.du,im:WV.xO,Zc:this.Lu.brush.C()};this.P(e)};
Zt.prototype.LX=function(){var e=new z(V.E.O,!0);e.data={U:V.a.QP,X:this.X};for(var j in this.Lu){if(j=="brush"||j=="redge")continue;
var g=this.Lu[j].C();if(["opacity","flow","smth","strn","expo"].indexOf(j)!=-1)e.data[j]=g/100;else if(j=="bmode")e.data.bmode=WF.jS[g];
else if(j=="bmode0")e.data.bmode=WF.jS[23+g];else e.data[j]=g}this.P(e)};function ZA(e){ZC.call(this);
if(e)return;this.data={U:V.a.QP,sb:"front",FZ:0,Ry:[10,!0,!0],Th:{kC:0,x:1,y:1}};this.SS=new JZ;this.body.appendChild(this.SS.l);
this.SS.S(V.E.m,this.VB,this);this.QS=new vz([7,6],0,100," px");this.QS.parent=this;this.QS.J(0);this.body.appendChild(this.QS.l);
this.QS.S(V.E.m,this.VB,this);this._G=new WI([7,11],!1,null,!0);this.body.appendChild(this._G.l);this._G.S("click",this.pe,this)}ZA.prototype=new ZC;
ZA.prototype.ln=function(e){if(e.sb!=null)this.SS.J(e.sb);else{var j=ZA.SO;if(j==null){var g=ei.ZDy(!0);
j=ZA.SO=new Zn(g.items,g.iQ)}j.w();j.parent=this;j.update(e.Lg,e.ES);var P=new z(V.E.O,!0);P.data={U:V.a.LD,JR:j,x:e.CJ.QB+2,y:e.CJ.$t+1};
this.P(P)}};ZA.prototype._J=function(){this.QS.w();this.SS.w();this._G.w()};ZA.prototype.pe=function(){var e=new z(V.E.O,!0);
e.data={U:V.a.LW,aj:"redge"};this.P(e)};ZA.prototype.VB=function(){var e=new z(V.E.O,!0);this.data.X=this.X;
this.data.sb=this.SS.C();this.data.FZ=this.QS.C();e.data=this.data;this.P(e)};function xY(){Zt.call(this,["brush","strn"])}xY.prototype=new Zt;
function xR(){Zt.call(this,"brush bmode opacity flow smth prsr".split(" "))}xR.prototype=new Zt;function xk(){Zt.call(this,["brush","bmode0","samp","wconf"])}xk.prototype=new Zt;
function xF(){Zt.call(this,["brush"])}xF.prototype=new Zt;function xo(){Zt.call(this,"brush bmode opacity flow smth prsr".split(" "))}xo.prototype=new Zt;
function xh(){Zt.call(this,["brush","rng","expo"])}xh.prototype=new Zt;function xM(){Zt.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}xM.prototype=new Zt;
function ff(e){ZC.call(this);if(e==null)return;var j=V.M("span","fitem");this.body.appendChild(j);var g=[[17,0],[17,1],[11,12,0],[17,2]];
this.dd=[];for(var P=0;P<g.length;P++){var p=new WI(g[P],!1,null,!0);this.dd.push(p);p.S("click",this.Zym,this);
if(!e||P==1)j.appendChild(p.l)}this.Th=new VH;this.Th.S(V.E.m,this.ZyQ,this);if(!e)this.body.appendChild(this.Th.l);
this.ds=new VY;this.ds.S("click",this.bv,this)}ff.prototype=new ZC;ff.prototype._J=function(){this.ds.w();
for(var e=0;e<this.dd.length;e++)this.dd[e].w();this.Th.w()};ff.prototype.ln=function(e){var j=this.ds.l;
if(e.DX)this.body.appendChild(j);else if(this.body.contains(j))this.body.removeChild(j);if(e.Th)this.Th.J(e.Th)};
ff.prototype.bv=function(e){var j={U:V.a.QP,X:this.X,vk:this.ds.C()?"commit":"cancel"},g=new z(V.E.O,!0);
g.data=j;this.P(g)};ff.prototype.Zym=function(e){e.target.l.blur();var j={U:V.a.QP,X:this.X,vk:"cropby",ZIT:this.dd.indexOf(e.target)},g=new z(V.E.O,!0);
g.data=j;this.P(g)};ff.prototype.ZyQ=function(e){var j={U:V.a.QP,X:this.X,vk:"config",pO:{v_:this.Th.C()}},g=new z(V.E.O,!0);
g.data=j;this.P(g)};function xw(){ff.call(this,!1)}xw.prototype=new ff;function xl(){ff.call(this,!0)}xl.prototype=new ff;
function x_(){Zt.call(this,["brush","rng","expo"])}x_.prototype=new Zt;function xm(){Zt.call(this,"brush emode opacity flow smth prsr".split(" "))}xm.prototype=new Zt;
function xQ(){Zt.call(this,["brush","samp","wconf"])}xQ.prototype=new Zt;function xc(){ZA.call(this);
this.Th=new VH;this.Th.S(V.E.m,this.AH,this);this.body.appendChild(this.Th.l)}xc.prototype=new ZA(!0);
xc.prototype.AH=function(e){this.data.Th=this.Th.C();this.VB()};xc.prototype._J=function(){ZA.prototype._J.call(this);
this.Th.w()};function Ur(){ZC.call(this);this.Vm=new Wh([12,20],["1x1","3x3","5x5","11x11","31x31"]);
this.Vm.S(V.E.m,this.LX,this);this.body.appendChild(this.Vm.l)}Ur.prototype=new ZC;Ur.prototype.LX=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.QP,X:this.X,QW:[1,3,5,11,31][this.Vm.C()]};this.P(j)};Ur.prototype._J=function(){this.Vm.w()};
function xy(){ZC.call(this);this.ih=new eF(!1);this.ih.parent=this;this.ih.S(V.E.m,this.VY,this);this.body.appendChild(this.ih.l);
this.ih.J(JSON.parse(Wr.oP.Zdi).v);this.Jx=new Wh(null,Wr.c.names.slice(0,5));this.Jx.S(V.E.m,this.VY,this);
this.body.appendChild(this.Jx.l);this.JW=new Wh([12,19,0],WF.sK,null,WF.Ev);this.JW.S(V.E.m,this.VY,this);
this.body.appendChild(this.JW.l);this.Nv=new vz([12,0],0,100,"%");this.Nv.parent=this;this.Nv.S(V.E.m,this.VY,this);
this.body.appendChild(this.Nv.l);this.Nv.J(100);this.JC=new Wk([12,23,0]);this.JC.S(V.E.m,this.VY,this);
this.body.appendChild(this.JC.l);this.Jd=new Wk("Dither");this.Jd.S(V.E.m,this.VY,this);this.body.appendChild(this.Jd.l)}xy.prototype=new ZC;
xy.prototype._J=function(){this.Jx.w();this.JW.w();this.Nv.w();this.JC.w();this.Jd.w()};xy.prototype.wY=function(e,j){ZC.prototype.wY.call(this,e,j);
var g=j==WV.qi;this.ih.H$(e.Jm,e.gK);if(g||j==WV.IK||j==WV.oY)this.ih.EF(e.Wv)};xy.prototype.VY=function(){var e=new z(V.E.O,!0);
e.data={U:V.a.QP,X:this.X};e.data.im={c:this.ih.C(),hf:Wr.c.types[this.Jx.C()],CI:this.JC.$I(),Zsh:this.Jd.$I(),Zsb:WF.jS[this.JW.C()],nD:this.Nv.C()/100};
this.P(e)};function Uf(){ZC.call(this)}Uf.prototype=new ZC;function Ux(){Zt.call(this,["brush","algnd","sfrom","alt"])}Ux.prototype=new Zt;
function xq(){ZC.call(this);this.qJ=new VL;this.qJ.parent=this;this.body.appendChild(this.qJ.gY.l);this.body.appendChild(this.qJ.nn.l);
this.body.appendChild(this.qJ.nI.l);var e=V.M("span","fitem");this.body.appendChild(e);e.appendChild(this.qJ.Mm.l);
e.appendChild(this.qJ.be.l);e.appendChild(this.qJ.bU.l);this.SX=new Wh("Aa",[[22,5,0],"Sharp","Crisp","Strong","Smooth"]);
this.SX.S(V.E.m,this.bv,this);this.body.appendChild(this.SX.l);this.qS=new WI([11,9],!1,null,!0);this.qS.S("click",this.Zyc,this);
this.body.appendChild(this.qS.l);this.ds=new VY;this.ds.S("click",this.bv,this)}xq.prototype=new ZC;
xq.prototype._J=function(){this.ds.w();this.qJ.w();this.qS.w()};xq.prototype.Zyc=function(e){var j={U:V.a.QP,X:this.X,vk:"showwarp"},g=new z(V.E.O,!0);
g.data=j;this.P(g)};xq.prototype.ln=function(e){if(e.vk=="showactive")this.body.appendChild(this.ds.l);
if(e.vk=="hideactive")this.body.removeChild(this.ds.l);if(e.vk=="changeAA")this.SX.J(e.Hy)};xq.prototype.wY=function(e,j){ZC.prototype.wY.call(this,e,j);
if(j!=WV.oY&&j!=WV.VQ&&j!=WV.Zo&&j!=WV.Jr)return;this.qJ.J(e.sT,e.Fz,e.ml)};xq.prototype.bv=function(e){var j={U:V.a.QP,X:this.X,vk:this.ds.C()?"commit":"cancel"};
if(e.target==this.SX){j.vk="changeAA";j.Hy=this.SX.C()}var g=new z(V.E.O,!0);g.data=j;this.P(g)};function UW(){ZA.call(this)}UW.prototype=new ZA(!0);
function xT(){ZC.call(this);var e=[],g="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.SY=new Wk([12,85]);this.SY.S(V.E.m,this.LX,this);e.push(this.SY.l);this.SR=new Wk([20,1]);this.SR.S(V.E.m,this.LX,this);
e.push(this.SR.l);this.SF=new Wk([12,83]);this.SF.S(V.E.m,this.LX,this);e.push(this.SF.l);var j=V.M("span","fitem");
e.push(j);this.Zie=new Wh("Scale for exported files",["1x","2x","3x","4x"],!0);j.appendChild(this.Zie.l);
this._S=new WI(g+" PNG",!1,null,!0);j.appendChild(this._S.l);this._S.S("click",this.A$,this);this.ZiV=new WI(g+" SVG",!1,null,!0);
j.appendChild(this.ZiV.l);this.ZiV.S("click",this.A$,this);var P=V.M("span","fitem");e.push(P);var p=V.M("span","fitem");
e.push(p);this.op=[];for(var v=0;v<8;v++){var x=v==3||v==7?[20,4,6]:[20,4,v<3?v:v-1],A=new WI("Hi",!1,x);
(v<4?P:p).appendChild(A.l);A.S("click",this.A$,this);this.op.push(A)}for(var v=0;v<e.length;v++)this.body.appendChild(e[v]);
this.ZNE=e}xT.prototype=new ZC;xT.prototype.ln=function(e){var j=e.$T,g=e.ZKk;this.SY.J(j.Fs);this.SR.J(j.Fp);
this.SF.J(j.KJ);if(g){V.kO(this.body);for(var P=0;P<g.length;P++)if(g[P]==1&&this.ZNE[P])this.body.appendChild(this.ZNE[P])}};
xT.prototype.A$=function(e){var j=this.op.indexOf(e.target),g;if(j==-1){g=new z(V.E.O,!0);g.data={U:V.a.QP,X:this.X,oV:e.target==this._S?"getPNG":"getSVG",ZUx:this.Zie.C()+1}}else{g=new z(V.E.s,!0);
g.X=o.Xe;g.data={U:"algn",r:j}}this.P(g)};xT.prototype.LX=function(e){var j=new z(V.E.O,!0);j.data={U:V.a.QP,X:this.X,oV:"prms",Fs:this.SY.$I(),Fp:this.SR.$I(),KJ:this.SF.$I()};
this.P(j)};xT.prototype._J=function(){this.SY.w();this.SR.w();this.SF.w();var e="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var j=0;j<8;j++){this.op[j].FU(V.MR("align/"+e[j],null,"autoscale"))}};function Ue(){ZA.call(this);
var e=this.qI=new Jc;e.parent=this;e.S(V.E.m,this.Zav,this);this.body.appendChild(e.l)}Ue.prototype=new ZA(!0);
Ue.prototype.Zav=function(e){this.data.Ry=this.qI.C();this.VB()};Ue.prototype._J=function(){ZA.prototype._J.call(this);
this.qI.w()};function UV(){Zt.call(this,["setop","patch"])}UV.prototype=new Zt;function UJ(){Zt.call(this,["bmode","opacity","wconf"])}UJ.prototype=new Zt;
function Uu(){ZA.call(this)}Uu.prototype=new ZA(!0);function UC(){ZA.call(this)}UC.prototype=new ZA(!0);
function Ug(){ZA.call(this);this.Th=new VH;this.Th.S(V.E.m,this.AH,this);this.body.appendChild(this.Th.l)}Ug.prototype=new ZA(!0);
Ug.prototype.AH=function(e){this.data.Th=this.Th.C();this.VB()};Ug.prototype._J=function(){ZA.prototype._J.call(this);
this.Th.w()};function UZ(){ZC.call(this);this.Ai=[new xH("X",null,3),new xH("Y",null,3),new xH("W",null,3),new xH("H",null,3),new xH([12,15],null,4),new xH([12,80,0],null,4),new WI([15,7,6],!1,null,!0)];
for(var e=0;e<this.Ai.length;e++){var j=this.Ai[e];this.body.appendChild(j.l)}this.Ai[6].S("click",this.Zan,this);
this.JB=0}UZ.prototype=new ZC;UZ.prototype.Zan=function(e){if(this.JB==0){return}var j=new z(V.E.s,!0);
j.X=o.Sf;j.data={U:"rot",de:[2,5],r:-this.JB};this.P(j)};UZ.prototype.ln=function(e){var j=e.ZKm,g=e.yw,P=g.x-j.x,p=g.y-j.y,v=this.Ai;
this.JB=-Math.atan2(p,P);v[0].J(j.x);v[1].J(j.y);v[2].J(P);v[3].J(p);v[4].J((this.JB*180/Math.PI).toFixed(2));
v[5].J(Math.sqrt(P*P+p*p).toFixed(2))};UZ.prototype._J=function(){var e=this.Ai;for(var j=0;j<e.length;
j++)e[j].w();V.ML(e[2],e[3])};function Ud(){Zt.call(this,["brush","strn","pdetail"])}Ud.prototype=new Zt;
function UB(){Zt.call(this,["brush"]);this.ZNb=[];var e=[[7,12]];for(var j=0;j<e.length;j++){var g=new WI(e[j],!1,null,!0);
this.ZNb.push(g);g.parent=this;this.body.appendChild(g.l);g.S("click",this.Zad,this)}}UB.prototype=new Zt;
UB.prototype.Zad=function(e){var j=this.ZNb.indexOf(e.currentTarget),g=new z(V.E.$E,!0);g.data=o.sB.Tb("contentAware");
this.P(g)};function Uy(){Zt.call(this,["brush","strn"])}Uy.prototype=new Zt;function Ua(){Zt.call(this,["brush","flow","smode"])}Ua.prototype=new Zt;
function xz(){ZC.call(this);this.OF=!1;var e=V.M("span","fitem");this.body.appendChild(e);this.Sh=new xI(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
e.appendChild(this.Sh.l);this.Sh.S(V.E.m,this.LX,this);this.Jy=new WI([20,2]);this.body.appendChild(this.Jy.l);
this.Jy.S("click",this.ZCR,this);this._I=new WI([20,3]);this.body.appendChild(this._I.l);this._I.S("click",this.ZCR,this)}xz.prototype=new ZC;
xz.prototype._J=function(){this.Jy.w();this._I.w()};xz.prototype.LX=function(){var e={U:V.a.QP,X:this.X,lO:this.Sh.C()==0},j=new z(V.E.O,!0);
j.data=e;this.P(j)};xz.prototype.ln=function(e){if(this.OF!=e.OF)this.Sh.J(1-this.Sh.C());this.OF=e.OF};
xz.prototype.ZCR=function(e){var j=new z(V.E.s,!0);j.X=o.Cb;j.data={U:"adapt",r:e.target==this.Jy?"pixel":"fitscr"};
this.P(j)};function vM(e,j){ZC.call(this);if(e==null)return;this.Lu={};var g=[[12,76,0],[12,76,1]];if(j==null)g.push([12,76,2]);
for(var P=0;P<e.length;P++){var p=e[P],v=null;if(p=="tmode"){v=new Wh(null,g);v.J(1)}if(p=="binop"){v=new Wh(null,[[18,1],[18,2],[18,3],[18,4]]);
v.GR()}if(p=="pshape")v=new Wh(null,[[12,93,0],[12,93,1],"Arrow",[12,93,2]]);if(p=="shape")v=new er([12,76,1]);
if(p=="crad"){v=new vz([12,94,0],0,50,"px");v.J(0)}if(p=="cstr"){v=new VH}if(p=="irad"){v=new vz([12,94,1],0,100,"%");
v.J(40)}if(p=="length"){v=new vz([12,80,0],4,40);v.J(4)}if(p=="sides"){v=new vz([12,78],3,30);v.J(5)}if(p=="width"){v=new vz([12,41],1,100,"px");
v.J(5)}if(p=="tsiz"){v=new vz("Tip Size",100,500,"%");v.J(300)}if(p=="tolr"){v=new vz([12,24],0,100);
v.J(5)}if(p=="fstyle"){v=new fy([12,26])}if(p=="sstyle"){v=new Vh}if(p=="psnap"){v=new Wk([8,10])}if(p=="crnr"){v=new WI("\u2312",!1,[12,94,0],!0)}v.parent=this;
this.body.appendChild(v.l);this.Lu[p]=v;v.S(p=="crnr"?"click":V.E.m,this.LX,this)}}vM.prototype=new ZC;
vM.prototype.ln=function(e){var j=vM.SO;if(j==null)j=vM.SO=new Zn([{name:"Make Selection"}],[{i:V.E.s,X:o.IJ,q:{U:"frompath",ZY:[null,0,0]}}]);
j.parent=this;j.update(e.Lg,e.ES);var g=new z(V.E.O,!0);g.data={U:V.a.LD,JR:j,x:e.CJ.QB+2,y:e.CJ.$t+1};
this.P(g)};vM.prototype.ZgI=function(e){return null};vM.prototype.Zgb=function(){if(this.Lu.pshape==null)return;
var e=this.ZgI(this.Lu.pshape.C());if(e==null)return;V.kO(this.body);for(var j=0;j<e.length;j++){var g=e[j];
this.body.appendChild(this.Lu[g].l)}};vM.prototype._J=function(){for(var e in this.Lu){this.Lu[e].w()}};
vM.prototype.LX=function(e){if(e.target==this.Lu.crnr){var j=new z(V.E.s,!0);j.X=o.vq;j.data={U:"crnr"};
this.P(j);return}var j=new z(V.E.O,!0);if(e.target==this.Lu.fstyle){j.data={U:V.a.du,im:WV.IY,r:this.Lu.fstyle.C()};
this.P(j);return}if(e.target==this.Lu.sstyle){j.data={U:V.a.du,im:WV.Vc,r:this.Lu.sstyle.C()};this.P(j);
return}if(this.Lu.tmode&&this.Lu.binop){if(this.Lu.tmode.C()==0)this.Lu.binop.EE();else this.Lu.binop.GR()}j.data={U:V.a.QP,X:this.X};
for(var g in this.Lu)if(g!="sstyle")j.data[g]=this.Lu[g].C();this.P(j);if(e.target==this.Lu.pshape)this.Zgb()};
vM.prototype.wY=function(e,j){ZC.prototype.wY.call(this,e,j);var g=this.Lu.fstyle,P=this.Lu.sstyle;if(g)g.wY(e,j);
if(P)P.wY(e,j);if(j==WV.oY||j==WV.ZD)if(e.qu.length!=0&&this.Lu.shape){this.Lu.shape.EF(e.qu)}if(j==WV.oY||j==WV.IY)if(g)g.J(null,e.qx,e.ZDS);
if(j==WV.oY||j==WV.Vc)if(P)P.J(null,e.qf,e.ZDh)};function UD(){vM.call(this,["tmode","fstyle","sstyle","binop"],!0)}UD.prototype=new vM;
function Ut(){vM.call(this,["tmode","fstyle","sstyle","binop","tolr"])}Ut.prototype=new vM;function Un(){vM.call(this,["fstyle","sstyle"]);
this.ZKJ=null;this.Ztd=null;this.Ztt=null;this.Xr=new Wh("Path",[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.ke=new WI("\u25BC");this.ke.EA();this.Xn=new WI("\u25B2");this.Xn.EA();this._H=[this.Xr,this.ke,this.Xn];
for(var e=0;e<this._H.length;e++){var j=this._H[e];this.body.appendChild(j.l);j.parent=this;j.S(e==0?V.E.m:"click",this.dR,this)}}Un.prototype=new vM;
Un.prototype.ln=function(e){if(e.vk=="main"){var j=this._H,g=e.HK;if(g&&g.b.length==1){this.Ztd=g.clone();
this.Ztt=JSON.stringify(e.uF);var P=g.b[0],p=Z.f.iI(g.F);this.Xr.EE();if(P>0)this.ke.EE();else this.ke.GR();
if(P<p-1)this.Xn.EE();else this.Xn.GR();var v=Z.f.mh(g.F,P),x=g.F[v];this.Xr.FU("Path "+(P+1));this.Xr.J([3,0,1,2][x.WF])}else{for(var A=0;
A<j.length;A++)j[A].GR()}}else vM.prototype.ln.call(this,e)};Un.prototype._J=function(){vM.prototype._J.call(this);
this.Xr.w()};Un.prototype.dR=function(e){if(e.target==this.Xr||e.target==this.ke||e.target==this.Xn){var j={},g=this.Ztd,P=g.F,p=JSON.parse(this.Ztt),v=g.b[0],x=Z.f.mh(P,v),A=P[x];
if(e.target==this.Xr){var f=this.Xr.C();if(f<4)A.WF=[1,2,3,0][f];else{if(Z.f.iI(P)<=1)return;g.F=Z.f.na(P);
g.b=g.F.length==2?[]:[0];g.Om=[];p=[Z.uF.vK()]}}else{var S=e.target==this.ke?-1:1,F=Math.min(v,v+S),m=Math.max(v,v+S),R=Z.f.mh(P,F),M=Z.f.mh(P,m);
if(R==-1||M==-1)return;var b=M+Z.f.nT(P,m),s=p[F];p[F]=p[m];p[m]=s;var K=P.slice(0,R),X=P.slice(R,M),d=P.slice(M,b),W=P.slice(b);
g.F=K.concat(d.concat(X.concat(W)));g.b[0]+=S}j.HK=g;j.uF=p;var O=new z(V.E.O,!0);O.data={U:V.a.QP,X:this.X,ZY:j};
this.P(O)}};function UL(){vM.call(this,["fstyle","sstyle","crnr","psnap"])}UL.prototype=new vM;function UT(){vM.call(this,"tmode fstyle sstyle binop cstr crad".split(" "))}UT.prototype=new vM;
function Uz(){vM.call(this,["tmode","fstyle","sstyle","binop","cstr"])}Uz.prototype=new vM;function UG(){vM.call(this,"tmode fstyle sstyle binop pshape sides irad crad width tsiz length".split(" "));
this.ZvO=[["sides","crad"],["sides","irad","crad"],["width","tsiz"],["length"]];this.Zgb()}UG.prototype=new vM;
UG.prototype.ZgI=function(e){return["tmode","fstyle","sstyle","binop","pshape"].concat(this.ZvO[e])};
function UE(){vM.call(this,["tmode","fstyle","sstyle","binop","width"])}UE.prototype=new vM;function US(){vM.call(this,"tmode fstyle sstyle binop cstr shape".split(" "))}US.prototype=new vM;
function UH(){ZA.call(this)}UH.prototype=new ZA(!0);function Us(){Zt.call(this,["brush","qsmode","redge"])}Us.prototype=new Zt;
function UK(){ZC.call(this)}UK.prototype=new ZC;function U$(){ZC.call(this);this.ke=new WI("\u25BC");
this.ke.EA();this.Xn=new WI("\u25B2");this.Xn.EA();var ZJ=[this.ke,this.Xn];for(var e=0;e<2;e++){var j=ZJ[e];
this.body.appendChild(j.l);j.S("click",this.dR,this)}}U$.prototype=new ZC;U$.prototype.dR=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.QP,X:this.X,oV:"reorder",dir:e.target==this.ke?-1:1};this.P(j)};function eR(e){ZC.call(this);
if(window.Typr==null||e)return;this.e$=null;this.Ztw=V.M("span","");this.Zqg=V.M("span","");var j=1;
this.$q={HY:new el(null,24),BH:new vz("X",0,0,"px",0,!1,!0,4),Bs:new vz("Y",0,0,"px",0,!1,!0,4),dG:new vz("W",0,0,["%","px"],2,!1,!0,5),dL:new WI("\u2261",null,[12,51],null),Zm:new vz("H",0,0,["%","px"],2,!1,!0,5),Zvp:new vz("\u2221",0,0,"\xB0",j,!1,!0),Zel:new vz("\u25B1 X",-85,85,"\xB0",j,!1,!0),ZVN:new vz("\u25B1 Y",-85,85,"\xB0",j,!1,!0),Cd:new Wh(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.$q.Cd.J(1);for(var g in this.$q){this.Ztw.appendChild(this.$q[g].l);var P=this.$q[g]==this.$q.dL?"click":V.E.m;
this.$q[g].S(P,this.ZaB,this)}this.qI=new fr(!0,!0,!0);this.qI.S(V.E.m,this.ZaD,this);this.qI.parent=this;
var p=this.Zqg,v=this.qI;p.appendChild(v.jr.l);p.appendChild(v.dQ.l);p.appendChild(v.jJ.l);p.appendChild(v.jC.l);
p.appendChild(v.ja.l);this.qS=new WI([11,9]);this.qS.S("click",this.ZaL,this);this.ds=new VY;this.ds.S("click",this.bv,this)}eR.prototype=new ZC;
eR.prototype.ln=function(e){if(e.CJ){var j=eR,g=j.SO;if(g==null)g=j.SO=new Zn(j.ZdQ(),j.ZBt());g.w();
g.parent=this;g.update(e.Lg,e.ES);var P=new z(V.E.O,!0);P.data={U:V.a.LD,JR:g,x:e.CJ.QB+2,y:e.CJ.$t+1};
this.P(P);return}V.kO(this.body);this.e$=e;if(e.$q){var p=e.$q.B,v=e.$q.YG.clone(),x=Math.atan2(-v.e,v.Fl),A=new WE;
A.rotate(-x);v.concat(A);var f=this.$q;f.HY.J(e.$q.hZ);f.BH.J(e.$q.Va.x);f.Bs.J(e.$q.Va.y);f.dG.J(v.Fl*(f.dG.pq()=="%"?100:p.W));
f.Zm.J(v.LC*(f.Zm.pq()=="%"?100:p.j));f.Zvp.J(-x*180/Math.PI);f.Zel.J(0*180/Math.PI);f.ZVN.J(Math.atan(v.Ug)*180/Math.PI);
this.body.appendChild(this.Ztw);this.qS.H_()}if(e.cL){this.qI.J(e.cL);this.body.appendChild(this.Zqg);
this.qS.EA()}this.body.appendChild(this.ds.l);if(e.Z$j)this.body.appendChild(this.qS.l)};eR.prototype.ZaB=function(e){var j=this.$q,g=this.e$.$q.B;
if(e.target==j.dL)j.dL.J(!j.dL.C());if(j.dL.$I()){var P=j.Zm,p=j.dG,v=g.j,x=g.W;if(e.target==j.dG){P=j.dG;
p=j.Zm;v=g.W;x=g.j}var A=P.C()/(P.pq()=="%"?100:v);A*=p.pq()=="%"?100:x;p.J(A)}var f=[];for(var S in j)if(j[S]!=j.dL&&j[S]!=j.HY){var A=j[S].C();
if((j[S]==j.dG||j[S]==j.Zm)&&A==0){A=.1;j[S].J(A)}if(j[S]==j.dG&&j[S].pq()=="px")A/=g.W/100;if(j[S]==j.Zm&&j[S].pq()=="px")A/=g.j/100;
f.push(A)}var F=new Uc(f[0],f[1]);if(e.target==j.HY){this.sZ({vk:"ctyp",hZ:j.HY.C()})}else if(e.target==j.BH||e.target==j.Bs){this.sZ({vk:"cen",Va:F})}else{var m=this.e$.$q.YG.clone(),R=m.clone(),M=Math.atan2(-m.e,m.Fl);
R.translate(-F.x,-F.y);R.rotate(-M);var b=new WE(R.Fl,R.e,R.Ug,R.LC,0,0);b.OF();R.concat(b);R.concat(new WE(f[2]/100,Math.tan(f[5]*Math.PI/180),Math.tan(f[6]*Math.PI/180),f[3]/100,0,0));
R.rotate(-f[4]*Math.PI/180);R.translate(F.x,F.y);this.e$.$q.YG=R;this.sZ({vk:"trn",$q:R,FJ:this.$q.Cd.C()})}};
eR.prototype.ZaD=function(e){this.sZ({vk:"wrp",cL:this.qI.C()})};eR.prototype.ZaL=function(e){this.sZ({vk:"switchWarp"})};
eR.prototype.bv=function(e){this.sZ({vk:this.ds.C()?"commit":"cancel"})};eR.prototype.sZ=function(e){e.U=V.a.QP;
e.X=this.X;var j=new z(V.E.O,!0);j.data=e;this.P(j)};eR.prototype._J=function(){var e=this.$q;for(var j in e)e[j].w();
V.ML(e.dG,e.Zm);this.ds.w();this.qI.w();this.qS.w()};eR.ZdQ=function(){return[{name:[5,9],uz:"Shift+Alt+Ctrl + T",pU:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],p:function(e){if(e==null||e.b.length!=1)return{p:!1};
var j=e.T[e.b[0]];return{p:j.add.TySh==null&&!j.CQ()}},pU:!0},{name:"90\xB0 \u21BB",p:function(e){return{Of:Zr.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",p:function(e){return{Of:Zr.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",p:function(e){return{Of:Zr.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]};
eR.ZBt=function(){return[{i:V.E.s,X:o.Sf,q:{U:"again"}},{i:V.E.O,q:{U:V.a.tq,X:o.Sf,$T:{zJ:3}}},{i:V.E.O,q:{U:V.a.tq,X:o.Sf,$T:{zJ:4}}},{i:V.E.O,q:{U:V.a.tq,X:o.Sf,$T:{zJ:2}}},{i:V.E.O,q:{U:V.a.tq,X:o.Sf,$T:{zJ:1}}},{i:V.E.O,q:{U:V.a.tq,X:o.Sf,$T:{zJ:-1}}},{i:V.E.s,X:o.Sf,q:{U:"rot",de:[2,5],r:-Math.PI/2}},{i:V.E.s,X:o.Sf,q:{U:"rot",de:[2,5],r:-3*Math.PI/2}},{i:V.E.s,X:o.Sf,q:{U:"rot",de:[2,5],r:Math.PI}},{i:V.E.s,X:o.Sf,q:{U:"scl",de:[2,6,[22,4,2]],r:new Uc(-1,1)}},{i:V.E.s,X:o.Sf,q:{U:"scl",de:[2,6,[22,4,3]],r:new Uc(1,-1)}}]};
function Up(){eR.call(this)}Up.prototype=new eR(!0);function UA(){eR.call(this)}UA.prototype=new eR(!0);
function xL(){ZC.call(this);var e=this.$m=[new Wh([12,36],["Rigid",[15,10,0],[24,4]]),new Wh([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new vz([7,4],0,100,"px"),new Wk("Show Mesh"),new WI("\u25BC",null,null,!0),new WI("\u25B2",null,null,!0)];
for(var j=0;j<e.length;j++){var g=e[j];g.parent=this;this.body.appendChild(g.l);g.S(j<4?V.E.m:"click",this.ZaT,this)}this.ds=new VY;
this.ds.S("click",this.bv,this);this.body.appendChild(this.ds.l)}xL.prototype=new ZC;xL.prototype._J=function(){var e=this.$m;
for(var j=0;j<4;j++)e[j].w();this.ds.w()};xL.prototype.ln=function(e){var e=e.im;for(var j=0;j<4;j++)this.$m[j].J(e[j])};
xL.prototype.ZaT=function(e){var j=[];for(var g=0;g<4;g++)j[g]=this.$m[g].C();var P=this.$m.indexOf(e.target);
if(P<4)this.sZ({vk:"prm",im:j});else this.sZ({vk:"moveDepth",Z$_:P==5})};xL.prototype.bv=function(e){this.sZ({vk:this.ds.C()?"commit":"cancel"})};
xL.prototype.sZ=function(e){e.U=V.a.QP;e.X=this.X;var j=new z(V.E.O,!0);j.data=e;this.P(j)};function eW(){WN.call(this);
this.l=V.M("div","cmanager");this.LB=0;this.GF=0;this.Ni=[];this._s={};this._P=V.M("div","alertcont");
this.l.appendChild(this._P);this.Zqn=V.M("div","alertcont");this.l.appendChild(this.Zqn);this.Qk=V.M("div","alertcont");
this.Zqd=0;this.cW=-1;this.Zqs=null;this.Sc=null;var e=this.ZKH=V.M("div","alertpanel");e.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.Qk.appendChild(e);var j=this.Ek=V.M("input");j.setAttribute("type","text");j.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
j.addEventListener("input",this.ZaR.bind(this),!1);j.addEventListener("keydown",this.Zak.bind(this),!1);
e.appendChild(j);var g=this.Zqj=V.M("div","contextpanel scrollable");g.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
g.addEventListener("click",this.ZaF.bind(this),!1);e.appendChild(g);V.lI(document.body,this.ZiE.bind(this))}eW.prototype=new WN;
eW.prototype.AR=function(){if(V.Ic(this.Qk))this.l.removeChild(this.Qk)};eW.prototype.ZaX=function(e,j){var g=this.Zqs=[];
for(var P=0;P<ei.data.length;P++){var p=ei.data[P],v=[Zr.get(p.name)],x=[P];eW.ZBI(p.items,v,x,g,e,j)}var A=ZY.xE;
for(var P=0;P<A.length;P+=3){g.push([["Tools",Zr.get(A[P])],[-1,A[P+2]]])}this.l.appendChild(this.Qk);
var f=this.Ek;f.focus();f.select();this.TE()};eW.prototype.ZaR=function(e){this.cW=-1;this.TE()};eW.prototype.TE=function(){var e=this.Ek.value.toLowerCase().trim().replace(/  +/g," "),j=this.Zqs,g=[],P=[],p=e.split(" ");
if(e!="")for(var v=0;v<j.length;v++){var x=j[v][0],A=[],f=0;for(var S=0;S<x.length;S++)A[S]=-1;for(var F=0;
F<p.length;F++)for(var S=0;S<x.length;S++){var m=x[S].toLowerCase().indexOf(p[F]);if(m!=-1){A[S]=[m,m+p[F].length];
f++;break}}if(f==p.length){g.push(j[v]);P.push(A)}}var R=[],M=this.Zqj;V.kO(M);for(var v=0;v<g.length;
v++){var b=g[v][0],m=P[v],s="enab",X="";if(v==this.cW)s+=" active";var K=V.M("div",s);R.push(K);M.appendChild(K);
for(var S=0;S<b.length;S++){var d=m[S],W=p[S],O=b[S];if(d!=-1)O=O.slice(0,d[0])+"<span style=\"color:black\">"+O.slice(d[0],d[1])+"</span>"+O.slice(d[1]);
X+=O;if(S<b.length-1)X+=" \uFE65 "}K.innerHTML=X}this.Sc=[g,R]};eW.prototype.Zak=function(e){var j=q.TI,g=e.code;
if(j(g,q.Ae))this.AR();var P=j(g,q.uf),p=j(g,q.ux),v=j(g,q.dS);if(P||p){this.cW=Math.max(0,Math.min(this.Sc[0].length-1,this.cW+(P?-1:1)));
this.TE()}if(v&&this.cW!=-1)this.ZB$(this.cW)};eW.ZBI=function(e,j,g,P,p,v){for(var x=0;x<e.length;x++){var A=e[x],f=j.slice(0),S=g.slice(0),F=Zr.get(A.name);
if(A.p){var m=A.p(p,v,x);if(m.Of)F=m.Of;if(m.p==!1)continue}f.push(F);S.push(x);if(A.sub)eW.ZBI(A.sub,f,S,P,p,v);
else P.push([f,S])}};eW.prototype.ZaF=function(e){var j=e.target;if(j.tagName.toLowerCase()=="span")j=j.parentNode;
var g=this.Sc[1].indexOf(j);if(g!=-1)this.ZB$(g)};eW.prototype.ZB$=function(e){var j=this.Sc[0][e][1];
if(j[0]==-1){var g=new z(V.E.O,!0);g.data={U:V.a.tq,X:j[1]};this.P(g)}else{var P=ei.data[j[0]].iQ[j[1]];
for(var p=2;p<j.length;p++)P=P.sub[j[p]];var v=new z(P.i,!0);v.X=P.X;v.data=P.q;this.P(v)}this.AR()};
eW.prototype.Ov=function(e,j){this.LB=e;this.GF=j;this.Zqj.style["max-height"]=j-120+"px"};eW.prototype.ZaM=function(e){var j=V.M("div","alertpanel");
j.textContent=Zr.get(e);this._P.appendChild(j);this._s[JSON.stringify(e)]=j};eW.prototype.Zaw=function(e){var j=this._s[JSON.stringify(e)];
this._P.removeChild(j);delete this._s[JSON.stringify(e)]};eW.prototype.alert=function(e,j){var g=this.Zqn;
for(var P=0;P<g.children.length;P++)if(g.children[P].textContent==e)return;var p=V.M("div","alertpanel tpanel");
p.textContent=e;p.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");g.appendChild(p);if(j==null)j=1500;
var v=j,x=Math.max(Date.now()+v,this.Zqd+v);setTimeout(function(){p.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){g.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},x-Date.now()-30);
setTimeout(function(){g.removeChild(g.firstChild);g.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},x-Date.now());
this.Zqd=x};eW.prototype.ZiE=function(e){var j=this.Ni;for(var g=j.length-1;g>=0;g--){var P=j[g],p=e.target;
while(p!=null){if(p==P.l){this.By(P);return}p=p.parentNode}}this.By();var v=e.target;while(v!=this.Qk&&v!=document.body)v=v.parentNode;
if(v!=this.Qk)this.AR()};eW.prototype.By=function(e){var j=this.Ni;for(var g=0;g<j.length;g++){if(e&&e.ZGH(j[g]))continue;
var P=j[g].l;P.style.height="auto";V.Fu(P,"scrollable");this.l.removeChild(P);j.splice(g,1);g--}};eW.prototype.ZiK=function(e){this.By(e.JR);
var j=e.JR,g=j.l;if(this.Ni.indexOf(j)!=-1)return;this.Ni.push(j);this.l.appendChild(j.l);var P=this.LB,p=this.GF,v=e.x,x=e.y,A=this.l.getBoundingClientRect(),f=j instanceof Zn;
if(f||e.ZCa){var S=j.It(),F=j.Ztp();if(f)S=Math.min(S,200);if(x+F<p){v=Math.min(v,P-S-5)}else{if(v+S<P){x=Math.min(x,p-F-5)}else if(F<x){x=x-F-2;
v=Math.min(v,P-S-5)}else{v=v-S;x=Math.min(x,p-F-5)}}if(e.ZvC)x=Math.max(2,e.y-F-2);if(e.ZVD)x=e.y}x=Math.max(2,x);
var top=Math.round(x-A.y+this.l.offsetTop);g.style.position="absolute";g.style["z-index"]=10;g.style.left=Math.round(v)+"px";
g.style.top=top+"px";if(x+j.Ztp()>p-3){g.style.height=p-3-x+"px";V.iV(g,"scrollable")}};eW.prototype.Zyk=function(e){var j=e.JR,g=this.Ni.indexOf(j);
if(g==-1)return;this.Ni.splice(g,1);var P=j.l;this.l.removeChild(j.l)};eW.prototype.ZF=function(){var e=this.Ni;
return e.length==0?null:e[e.length-1]};eW.prototype.ZiM=function(){this.Zyk({JR:this.ZF()})};function UX(){WN.call(this);
this.l=V.M("div","confbar")}UX.prototype=new WN;UX.prototype.ZiQ=function(e){e.parent=this;V.kO(this.l);
this.l.appendChild(e.l)};function Wc(){WN.call(this);this.tS=null;this.NN=V.M("input","");this.NN.setAttribute("type","file");
this.NN.setAttribute("multiple","");this.NN.addEventListener("change",function(e){this.Ac(e.target.files,null,this._R,null);
this._R=null}.bind(this),!1);document.body.appendChild(this.NN);this.NN.setAttribute("style","display:none");
this.ZqR=[];this._X=!1;this.Zqw={};this._R=null}Wc.prototype=new WN;Wc.Zic=function(e){try{navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))])}catch(Z){console.error(Z,Z.message)}};
Wc.Ao=function(e,j){try{navigator.clipboard.read().then(function(g){for(var P=0;P<g.length;P++){try{var p=g[P];
for(var v=0;v<p.types.length;v++){var x=p.types[v];if(x!="image/png")continue;p.getType(x).then(function(A){new Response(A).arrayBuffer().then(function(f){Wc.ew({name:"image.png"},f,e,j)})})}}catch(Z){console.error(Z,Z.message)}}})}catch(Z){console.error(Z,Z.message)}};
Wc.ZNZ=function(e){navigator.permissions.query({name:"clipboard-read"}).then(function(j){e(j.state)})};
Wc.prototype.BS=function(e){if(e==null)e=[23,5];var j=JSON.stringify(e),g=this.Zqw;if(g[j]==null)g[j]=0;
if(g[j]==0){var P=new z(V.E.O,!0);P.data={U:V.a.Se,pS:e};this.P(P)}g[j]++};Wc.prototype.BK=function(e){if(e==null)e=[23,5];
var j=JSON.stringify(e),g=this.Zqw;if(g[j]==null)g[j]=0;g[j]--;if(g[j]==0){var P=new z(V.E.O,!0);P.data={U:V.a.Su,pS:e};
this.P(P)}};Wc.prototype.ZNf=function(e,j){var g=this.NN;if(j)g.setAttribute("accept",j);else g.removeAttribute("accept");
var P=document.createEvent("MouseEvents");P.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
g.dispatchEvent(P);this._R=e};Wc.prototype.BA=function(e){if(e.url.indexOf("photopea.com#i")!=-1||e.url.indexOf("photopea.com/#i")!=-1){this.Ztz(e.url.split("#i").pop());
return}this.ZqR.push(e);this.ZaJ()};Wc.prototype.ZaJ=function(){var e=this.ZqR;if(e.length==0||this._X)return;
this._X=!0;var j=e.shift();this.BS();if(j.$_==null)j.$_={};var g=new XMLHttpRequest;g.Ja=j;var P=j.url;
if(j.fu)P="mirror.php?url="+encodeURIComponent(P);g.open("GET",P);if(j._k)for(var p in j._k)g.setRequestHeader(p,j._k[p]);
g.responseType="arraybuffer";g.onload=this.Zac.bind(this);g.send()};Wc.prototype.Ac=function(e,j,g,P){for(var p=0;
p<e.length;p++){this.BS();var v=e[p],x=new FileReader;x.Ja=v;x.Ja.FF=g;x.Ja.Tv=P;x.ZVz=j;x.onload=this.Zac.bind(this);
x.onerror=function(A){this.BK()}.bind(this);x.readAsArrayBuffer(v)}this.NN.value=null};Wc.prototype.ZNJ=function(e){var j=e.OL.lH,g=Wc.we(e,j);
xP.Za(function(){var P=new XMLHttpRequest,p="https://www.googleapis.com/upload/drive/v3/files/"+e.OL.file.id+"?uploadType=media"+"&"+xP.Qu();
P.open("PATCH",p,!0);P.addEventListener("load",function(v){var x=JSON.parse(v.target.response);alert(x.name+" updated")});
P.send(g);alert("Saving \""+e.OL.file.name+"\" to Google Drive ...")})};Wc.prototype.ZNu=function(e,j,g){var P=e.Gj(),p=j[0],v=Wc.we(e,p,g);
if(window.parent!=window)window.parent.postMessage(v,"*")};Wc.prototype.ZND=function(e,j){this.BS("Saving ...");
this.tS=j;setTimeout(Wc.ZNz.bind({Kg:e,caller:this}),50)};Wc.we=function(e,j,g){var P=j.split(":"),p=P[0],v=null;
if(P.length==2){if(p=="jpg"||p=="webp")v=[Math.round(100*parseFloat(P[1]))];if(p=="psd")v=[!0,!0]}var x=Wg.qU(e,p.toUpperCase(),null,null,v,g);
return x};Wc.ZNz=function(){var e=this.Kg,j=this.caller,g=e.$_.SM,P=g.formats,p,v;e.Gj();var x=Date.now();
if(g.version==1){var A=[],f=0,m=0;for(var S=0;S<P.length;S++){var F=Wc.we(e,P[S],j.tS);A.push(F);f+=F.byteLength}p=new Uint8Array(2e3+f);
var R="{ \"source\": "+JSON.stringify(e.pp)+", \"versions\": [\n";for(var S=0;S<P.length;S++){var M=new Uint8Array(A[S]);
R+="\t{\"format\": \""+P[S].split(":")[0]+"\", \"start\": "+m+", \"size\": "+M.length+" }"+(S+1<P.length?", ":"")+"\n";
p.set(M,2e3+m);m+=A[S].byteLength}R+="] }";var b=T.bu(R,p,0);for(var S=b;S<2e3;S++)p[S]=32;v="application/octet-stream"}else{var s=new Zc,K=0,X="",d=encodeURIComponent;
X="p="+d("{ \"source\": "+JSON.stringify(e.pp)+", \"versions\": [");T.g$(s,K,X);K+=X.length;for(var S=0;
S<P.length;S++){X=d(" {\"format\": \""+P[S].split(":")[0]+"\", \"data\": \"");T.g$(s,K,X);K+=X.length;
var F=Wc.we(e,P[S],j.tS),W=Wc.ZNj(F,F.byteLength),b=W.length;s.JF(K,b);for(var O=0;O<b;O++){s.JF(K,3);
var H=W[O];if(H==43){s.data[K]=37;s.data[K+1]=50;s.data[K+2]=66;K+=3}else if(H==47){s.data[K]=37;s.data[K+1]=50;
s.data[K+2]=70;K+=3}else if(H==61){s.data[K]=37;s.data[K+1]=51;s.data[K+2]=68;K+=3}else{s.data[K]=H;
K++}}X=d("\" }"+(S+1<P.length?", ":""));T.g$(s,K,X);K+=X.length}X=d("] }");T.g$(s,K,X);K+=X.length;p=s.data.slice(0,K);
v="application/x-www-form-urlencoded"}var Y=new XMLHttpRequest;Y.open("POST",g.url,!0);if(v)Y.setRequestHeader("Content-Type",v);
Y.addEventListener("load",Wc.ZNH.bind(this));Y.send(new Blob([p.buffer]))};Wc.ZNH=function(e){this.caller.BK("Saving ...");
var j=e.target.response;if(j.charAt(0)=="{"){j=JSON.parse(j);if(j.newSource)this.Kg.pp=j.newSource;if(j.message)alert(j.message,2e3);
if(j.script){var g=new z(V.E.O,!0);g.data={U:V.a.HM,Dm:j.script};this.caller.P(g)}}else alert("Saved. Response: "+j,1500)};
Wc.jZ=function(e){var j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=new Uint8Array(e),P=g.length,p=P%3,v=P-p,x=[],A=0,f=0,S=0;
for(var F=0;F<v;F+=3){A=g[F];f=g[F+1];S=g[F+2];x.push(j[A>>2]+j[(A&3)<<4|f>>4]+j[(f&15)<<2|S>>6]+j[S&63])}if(p==1){A=g[v];
x.push(j[A>>2]+j[(A&3)<<4]+"==")}if(p==2){A=g[v];f=g[v+1];x.push(j[A>>2]+j[(A&3)<<4|f>>4]+j[(f&15)<<2]+"=")}var m=x.join("");
return m};Wc.ZNj=function(e,j){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=new Uint8Array(64),f=0,S=0,F=0,R=0;
for(var p=0;p<64;p++)P[p]=g.charCodeAt(p);var v=new Uint8Array(e),x=j%3,A=j-x,m=new Uint8Array(Math.floor(j/3)*4+(x==0?0:4));
for(var p=0;p<A;p+=3){f=v[p];S=v[p+1];F=v[p+2];m[R]=P[f>>>2];m[R+1]=P[(f&3)<<4|S>>>4];m[R+2]=P[(S&15)<<2|F>>>6];
m[R+3]=P[F&63];R+=4}if(x==1){f=v[A];m[R]=P[f>>2];m[R+1]=P[(f&3)<<4];m[R+2]=61;m[R+3]=61}if(x==2){f=v[A];
S=v[A+1];m[R]=P[f>>2];m[R+1]=P[(f&3)<<4|S>>4];m[R+2]=P[(S&15)<<2];m[R+3]=61}return m};Wc.prototype.Zac=function(e){var j,g=e.target.Ja;
if(e.target instanceof XMLHttpRequest)j=e.target.response;else j=e.target.result;Wc.Zif(g,j,this,e.target.ZVz);
this.BK();if(e.target instanceof XMLHttpRequest){this._X=!1;this.ZaJ()}};Wc.Zif=function(e,j,g,P){if(window.location.href.indexOf("photopea.com")==-1)Wc.ew(e,j,g,P);
else{try{Wc.ew(e,j,g,P)}catch(Z){if(Z=="low_ram"){}else{var p="Error. Please, send your file to support@photopea.com and we will solve it.";
if(Wg.uK(j)=="eps")p="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
window.ZtD(p,1e4)}}}};Wc.ew=function(e,j,g,P){var p;if(e.name)p=e.name.split(".")[0];else{if(e.url.substring(0,5)=="data:"||e.url.indexOf("googleapis")!=-1)p="image";
else p=e.url.substring(e.url.lastIndexOf("/")+1).split(".")[0];p=p.slice(0,50)}var v=e.name?e.name:e.url,x=new Uint8Array(j),A=Wg.uK(j),f=window.ga;
if(Math.random()<.25&&f&&A!=null&&Wg.Hr(A))f("send","event","Formats",A);if(A==null)A=T.ko(x,0,4);if(v&&v.toLowerCase().endsWith(".raw")){var S=new z(V.E.O,!0);
S.data={U:V.a.LW,aj:"importraw",Wl:j,ib:v.split("/").pop()};g.P(S);return}else if(A=="json"){var F="";
for(var m=0;m<x.length;m++)F+=String.fromCharCode(x[m]);F=decodeURIComponent(escape(F));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse(F));return}if(A=="html"){var F=T.vG(x,0,x.length),R=new DOMParser,M=R.parseFromString(F,"text/html"),b=M.getElementsByTagName("meta");
for(var m=0;m<b.length;m++){var s=b[m],K=s.getAttribute("property"),X=s.getAttribute("content"),d=null;
if(K=="og:image")d=X;if(K==null&&X&&X.startsWith("0;url=/imgres?")){var W=X.slice(14).split("&");for(var O=0;
O<W.length;O++)if(W[O].startsWith("imgurl"))d=decodeURIComponent(W[O].slice(7))}if(d==null)continue;
var S=new z(V.E.O,!0);S.data={U:V.a.MQ,im:{url:d,fu:!0,FF:e.FF}};g.P(S)}return}if(Wg.Hr(A)){var H,Y=Wg.Hr(A);
if(e.FF!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(A)!=-1){var S=new z(V.E.O,!0);S.data={U:V.a.MH,target:e.FF,uT:e.Tv,vs:j,FY:p};
g.P(S);return}if(Y.px){H=new ZT(p+(A=="psd"?"":"-"+A)+".psd");Y.vn(j,H,!0)}else{var y=Y.vn(j);if(y[0].t33421||y[0].t50706){Z.raw.normalize(y[0],j);
console.log(y[0]);var S=new z(V.E.O,!0);S.data={U:V.a.LW,aj:"rawpea",WE:y[0]};g.P(S);return}if(P){P(new Uint8Array(y[0].data),y[0].Fa);
return}H=Wc.Bj(p,y)}H.$_=e.$_;H.pp=e.url;H.OZ=e.OZ;H.OL=e.OL;if(H.OL)H.OL.lH=A;if(H.T.length!=0){var S=new z(V.E.O,!0);
S.data={U:e.FF==null?V.a.HA:V.a.MH,target:e.FF,uT:e.Tv,vs:H};g.P(S)}return}var B=new z(V.E.O,!0);B.data={U:V.a.Sj,Wl:j,Ky:e.name};
var c=e instanceof File&&e.ZqQ!=!0,S=new z(V.E.O,!0);S.data={U:V.a.du,$_:"add",im:null,Sp:null,ZLi:e.ZqQ};
if(A=="zip"){var $=Date.now(),I=UZIP.parse(j),r="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var i in I){var U=!1;for(var m=0;m<r.length;m++)if(i.toLowerCase().endsWith("."+r[m]))U=!0;if(i.startsWith("__MACOSX/")||I[i].length==0)U=!0;
if(U)continue;var N=i.split("/").pop();Wc.Zif({name:N},I[i].buffer,g,P)}}else if(A=="jsx"){var F=T.vG(new Uint8Array(j));
S.data={U:V.a.HM,Dm:F};g.P(S)}else if(A=="otf"){if(c)g.P(B);var C=Typr.parse(j);S.data.im=WV.Zo;for(var m=0;
m<C.length;m++){S.data.Sp=C[m];g.P(S)}}else if(A=="asl"){if(c)g.P(B);var C=JC.aW(j);S.data.im=WV.Zd;
S.data.Sp=C.lL;g.P(S);S.data.im=WV.Gz;S.data.Sp=C.OI;g.P(S)}else if(A=="tpl"){var C=Jo.aW(j);S.data.im=WV.AY;
S.data.Sp={og:C.og,Zk:C.Zk,list:[]};g.P(S);S.data.im=WV.hJ;S.data.Sp=C.list;g.P(S)}else{var D="";for(var n in WV.P_)if(WV.P_[n][0]==A)D=n;
if(D!=""){if(c)g.P(B);S.data.Sp=WV.P_[D][2].aW(j,v);S.data.im=D;g.P(S)}else alert("Unknown file format: "+JSON.stringify(A))}};
Wc.prototype.ZNQ=function(e){var j=new XMLHttpRequest;j.open("POST","https://api.imgur.com/3/image",!0);
j.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");j.setRequestHeader("Content-type","application/x-www-form-urlencoded");
j.setRequestHeader("Accept","application/json");j.addEventListener("load",this.ZDB);j.send("type=base64&image="+encodeURIComponent(Wc.jZ(e)));
alert("Saving to Imgur ...",4e3)};Wc.prototype.ZDB=function(e){var j=JSON.parse(e.target.response);if(j.success)window.open(j.data.link,"Imgur")};
Wc.prototype.Ztz=function(e){this.BS("Loading ...");var j=new XMLHttpRequest;j.responseType="arraybuffer";
j.open("GET","https://f000.backblazeb2.com/file/psdshared/"+e);j.onload=this.ZDi.bind(this);j.send();
var g=new XMLHttpRequest;Wc.ZVo=Date.now();g.open("GET","/papi/img/update.php?id="+e);g.send()};Wc.prototype.ZDi=function(e){var j=new Uint8Array(e.target.response);
console.log(j.length,Date.now()-Wc.ZVo);for(var g=0;g<j.length;g++)j[g]=255-j[g];j=pako.inflateRaw(j);
var P=JSON.parse(T.vG(j,0,2e3));Wc.ew({name:P.name},j.slice(2e3).buffer,this);this.BK("Loading ...")};
Wc.prototype.ZDN=function(e,j){if(!(e instanceof ArrayBuffer))throw"e";e=new Uint8Array(e);var g=new Uint8Array(e.length+2e3),f="";
for(var P=0;P<2e3;P++)g[P]=32;T.bu(JSON.stringify({name:j}),g,0);g.set(e,2e3);e=g;e=pako.deflateRaw(e);
for(var P=0;P<e.length;P++)e[P]=255-e[P];e=e.buffer;var p=e.byteLength,v=~~(106e5/2);if(p>v){confirm("Your file is "+ef.eV(p)+". Our limit is "+ef.eV(v)+". Delete some layers and try again.");
return}var x=sha1(e),A=[];for(var P=0;P<20;P++){var S=parseInt(x.slice(P*2,P*2+2),16);A.push(S);f+=String.fromCharCode(S)}var F=btoa(f).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);
if(Wc.ZD$(F)){console.log("file already exists");window.open("https://www.photopea.com#i"+F);return}this.BS("Publishing ...");
var m=new XMLHttpRequest;m._o=[e,x,F];m.open("GET","/papi/img/publish.php?rnd="+Math.random());m.onload=this.ZDO.bind(this);
m.send()};Wc.ZD$=function(e){try{var j=new XMLHttpRequest;j.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+e,!1);
j.send();if(j.status==200)return!0}catch(Z){return!1}return!1};Wc.prototype.ZDO=function(e){var j=JSON.parse(e.target.response),g=e.target._o,P=new XMLHttpRequest;
P.open("POST",j.uploadUrl);P.setRequestHeader("Authorization",j.authorizationToken);P.setRequestHeader("X-Bz-File-Name",g[2]);
P.setRequestHeader("Content-Type","b2/x-auto");P.setRequestHeader("X-Bz-Content-Sha1",g[1]);P.send(new Blob([g[0]]));
P.onload=this.ZDk.bind({fC:this,_o:g})};Wc.prototype.ZDk=function(e){this.fC.BK("Publishing ...");window.open("https://www.photopea.com#i"+this._o[2])};
Wc.Bj=function(e,j){var g=j[0].Z$&&j[0].Z$.startsWith("_a_"),P,p=new ZT(e+".psd"),v=new G(0,0,1,1);if(g){P=p.Rz();
P.add.lsct=vC.x_;P.tG(e);P.T$="pass";P.Oz=24;P.Pd(!0);p.T.push(p.Rt())}for(var x=0;x<j.length;x++){var A=j[x];
v=v.Gd(A.Fa);var f=p.Rz();f.Pd(x==0);f.tG(j.length==1?"Background":"Layer "+x);if(A.aY)p.aY=A.aY;if(A.fn)p.fn=A.fn;
if(A.Z$)f.tG(A.Z$);f.rect=A.Fa.clone();f.buffer=new Uint8Array(A.data);Z.sL(f);p.T.push(f)}if(g)p.T.push(P);
p.b=[g?p.T.length-1:0];p.W=v.W;p.j=v.j;p.buffer=Z.V(v.h()*4);p.H();return p};Wc.save=function(e,j){var g=new Uint8Array(e),P=document.createElement("a");
if(typeof P.download=="string"){var p=new Blob([g]),v=window.URL.createObjectURL(p);P.href=v;P.download=j;
document.body.appendChild(P);P.click();document.body.removeChild(P)}else{var x="data:application/octet-stream;base64,"+Wc.jZ(e);
window.open(x)}};function Zc(){this.size=16;this.data=Z.V(16)}Zc.prototype.JF=function(e,j){if(e+j<=this.size)return;
var g=this.size;while(e+j>this.size)this.size*=2;var P=Z.V(this.size);for(var p=0;p<g;p++)P[p]=this.data[p];
this.data=P};function ZV(e){WN.call(this);this.wC=ZV.wC++;this.JN=e;this.ZJd=this.ZDc.bind(this);this.ZLG=this.Ztr.bind(this);
this.ZJa=this.Bo.bind(this);this.ZJi=this.Ztn.bind(this);this.ZTJ=this.ZtL.bind(this);this.ZJN=this.ZtT.bind(this);
this.Sl=0;this.ZTd=0;this.cg=0;this.l=V.M("div","panelblock");this.NA=V.M("div","block");this.Jq=V.M("div","collapsed");
this.l.appendChild(this.NA);this.BI=-1;this.Sm=!0;this.$Z=V.M("div","panelhead");this.NA.appendChild(this.$Z);
this.jt(this.$Z);this._h=new WI("\u2261");this._h.l.setAttribute("style","position:absolute; right:0;");
this._h.S("click",this.ZDl,this);this.xW=V.M("div","");this.NA.appendChild(this.xW);this.xC=[];this.JG=null;
this.Ie=null}ZV.wC=0;ZV.prototype=new WN;ZV.prototype.ZDl=function(e){var j=this.xC[this.BI].KH(),g=e.currentTarget.l.getBoundingClientRect();
j.w();j.parent=this;var P=new z(V.E.O,!0);P.data={U:V.a.LD,JR:j,x:g.left,y:g.top+g.height+2};this.P(P)};
ZV.prototype.BY=function(e){var j=this.NA,g=this.$Z,P=this.xW;if(V.Ic(g))j.removeChild(g);if(V.Ic(P))j.removeChild(P);
if(e==0)j.appendChild(g);j.appendChild(P);this.cg=e};ZV.nx=function(e){e.stopPropagation();e.preventDefault()};
ZV.prototype.ZDc=function(e){var j=e.dataTransfer.types;if(j[1]!=null&&j[1]!=this.wC+"")return;ZV.nx(e);
var g=e.currentTarget;if(e.target==g)V.iV(g,"highlight")};ZV.prototype.Ztr=function(e){ZV.nx(e);var j=e.currentTarget;
if(e.target==j)V.Fu(j,"highlight")};ZV.prototype.jt=function(e){e.addEventListener("dragenter",this.ZJd,!1);
e.addEventListener("dragleave",this.ZLG,!1);e.addEventListener("dragover",ZV.nx,!1);e.addEventListener("drop",this.ZJa,!1);
e.addEventListener("dragstart",function(j){j.dataTransfer.setData("Text","--panel");j.dataTransfer.setData(this.wC+"","")}.bind(this),!1)};
ZV.prototype.Bo=function(e){this.ZLG(e);var j=null,g=e.currentTarget,P=this.ZLt(g);if(g==this.xW&&this.BI!=-1)j=this.BI;
else if(g==this.$Z)j=null;else if(P!=-1)j=P;var p=e.dataTransfer.getData("Text");if(p==""||p.startsWith("http"))V.ZSb(e,this,j);
else if(p=="--panel"){var v=V.nX(e,g),ZJ=this.xC,x=ZJ.slice(0),A=this.BI,f=P==-1?ZJ.length:v.x<g.getBoundingClientRect().width/2?P:P+1;
if(A==f||A+1==f||g==this.xW)return;var S=A<f?f-1:f,F=ZJ[A];ZJ.splice(A,1);ZJ.splice(S,0,F);V.kO(this.$Z);
for(var m=0;m<ZJ.length;m++)this.$Z.appendChild(ZJ[m].t_);this.LQ(S);var R=[];for(var A=0;A<ZJ.length;
A++)R[A]=x.indexOf(ZJ[A]);var M=new z("shuffleItems",!1);M.data={ZJD:R};this.P(M)}else if(j!=null&&this instanceof vP){var M=new z(V.E.O,!0);
M.data={U:V.a.Zta,ZJt:j};this.P(M)}};ZV.prototype.jX=function(){return null};ZV.prototype.Zqr=function(){if(this.jX()){this.Ie=this.jX();
this.xW.appendChild(this.Ie)}};ZV.prototype.Ztx=function(){if(this.Ie){this.xW.removeChild(this.Ie);
this.Ie=null}};ZV.prototype.ZLt=function(e){var j=this.xC;for(var g=0;g<j.length;g++)if(j[g].t_==e)return g;
return-1};ZV.prototype.jR=function(){for(var e=0;e<this.xC.length;e++)this.xC[e].Av.H_()};ZV.prototype.bo=function(){var e=new Uc(0,0);
for(var j=0;j<this.xC.length;j++){var g=this.xC[j].bo();e.x=Math.max(e.x,g.x);e.y=Math.max(e.y,g.y)}return e};
ZV.prototype.Bb=function(){return this.BI};ZV.prototype.Fi=function(){if(this.Sm)return;this.Sm=!0;this.l.removeChild(this.Jq);
this.l.appendChild(this.NA)};ZV.prototype.collapse=function(){if(!this.Sm)return;this.Sm=!1;this.l.appendChild(this.Jq);
this.l.removeChild(this.NA)};ZV.prototype.ZtW=function(){return 26+this.xW.getBoundingClientRect().height};
ZV.prototype.Ov=function(e,j){this.$Z.setAttribute("style","max-width: "+e+"px");var g=0;if(this.cg==0){g=this.$Z.getBoundingClientRect().height;
g=Math.max(g,26)}if(this.BI!=-1)this.xC[this.BI].Ov(e,j-g);return j-g};ZV.prototype.wY=function(e,j){this.xC[this.BI].wY(e,j)};
ZV.prototype.VJ=function(e,j){this.xC[this.BI].VJ(e)};ZV.prototype.Bl=function(e){this.Ztx();if(this.xC.indexOf(e)!=-1){this.LQ(this.xC.indexOf(e));
return}e.parent=this;this.xC.push(e);this.$Z.appendChild(e.t_);e.t_.addEventListener("mouseover",this.ZJi,!1);
this.jt(e.t_);this.Jq.appendChild(e.Av.l);e.Av.S("click",this.ZGL,this);e.S("select",this.Zzu,this);
e.S(V.E.Wt,this.Zzp,this);this.LQ(this.xC.length-1)};ZV.prototype.Ztn=function(e){if(e.buttons==0)return;
var j=e.currentTarget,g=j,P=0;while((g=g.previousSibling)!=null)P++;this.ZTd=P;j.addEventListener("mouseout",this.ZTJ,!1);
this.Sl=setTimeout(this.ZJN,700)};ZV.prototype.ZtL=function(e){var j=e.currentTarget,g=j,P=0;while((g=g.previousSibling)!=null)P++;
j.removeEventListener("mouseout",this.ZTJ);clearTimeout(this.Sl)};ZV.prototype.ZtT=function(e){this.P(new z(V.E.ZIv,!1))};
ZV.prototype.ZtG=function(e){return this.ZTd};ZV.prototype.yr=function(e){var j=new z(V.E.Wt,!1);j.data={ww:e};
this.P(j);var g=this.xC[e];this.xC.splice(e,1);this.$Z.removeChild(g.t_);this.Jq.removeChild(g.Av.l);
g.t_.setAttribute("class","");g.Av.removeEventListener("click",this.ZGL,this);g.Av.H_();g.removeEventListener("activate",this.Zzu);
g.removeEventListener(V.E.Wt,this.Zzp);var P=this.BI;if(e<P)P--;else if(e==P&&e==this.xC.length)P--;
this.LQ(P);if(this.xC.length==0)this.Zqr()};ZV.prototype.ZtX=function(){return this.xC.length};ZV.prototype.Ks=function(){if(this.xC.length!=0)this.xC[this.BI].Ks()};
ZV.prototype.LQ=function(e,j){if(j==null)j=!0;for(var g=0;g<this.xC.length;g++)this.xC[g].t_.setAttribute("class","");
if(this.JG)this.xW.removeChild(this.JG);this.JG=null;this.BI=e;if(e==-1)return;var P=this.xC[this.BI];
this.JG=P.aR;this.xW.appendChild(P.aR);P.t_.setAttribute("class","active");if(!this.Sm){this.P(new z("showFloat"));
this.xC[e].Av.EA()}if(j)this.P(new z(V.E.m,!1));P.Ar();var p=this._h.l;if(p.parentNode)this.$Z.removeChild(p);
if(P.KH())this.$Z.appendChild(p);var v=new z(V.E.O,!0);v.data={U:V.a.ni};this.P(v)};ZV.prototype.Zzu=function(e){if(this.JN&&!this.JN.ZvQ())return;
var j=this.xC.indexOf(e.currentTarget);this.LQ(j)};ZV.prototype.Zzp=function(e){if(this.JN&&!this.JN.ZvQ())return;
var j=this.xC.indexOf(e.currentTarget);this.yr(j)};ZV.prototype.ZGL=function(e){var j=this.xC.indexOf(e.currentTarget.parent);
if(this.xC[j].Av.$I())this.P(new z("hideFloat"));else this.LQ(j)};ZV.prototype.Zre=function(e){this.P(e)};
function vP(e){ZV.call(this,e);this.LB=0;this.GF=0;this.IV=null;this.Iu=V.M("div");this.Iu[V.Im("$y+[145/+AC7")](V.Im("$(0&\""),V.Im("(}{.%ZZXa<GmUE<PHMU$~ cny]tvt(;.r)+)X"));
V.FQ(this.$Z,this.Zt_.bind(this));this.JH=0;this.ZTw=this.ZqE.bind(this);this.jt(this.xW);this.qc=V.M("div","intro");
this.Nk=["default;"];this.UI=new V.MN(this.xW);var j=V.M("ul");j.setAttribute("style","margin:0;  padding:164px 0px 0 113px; font-size:1.8em;");
this.qc.appendChild(j);this.op=[];var g=[[11,7],[1,6],"pea.psd","milk.sketch"];if(new Date().getDate()==1&&new Date().getMonth()==3)g.push("Go to 2013");
var P=V.M("li");for(var p=0;p<g.length;p++){if(p==2){var v=new WI("Demo: ");P.appendChild(v.l)}var x=g[p],A=new WI(x);
A.S("click",this.ZtQ,this);P.appendChild(A.l);this.op.push(A);if(p==0||p==1||p==3||p==g.length-1){j.appendChild(P);
P=V.M("li")}}var f=V.M("div");f.setAttribute("style","margin:0;  padding:28px 25px 0 25px; font-size:1.1em");
this.qc.appendChild(f);this.Z$a={};var S=["en"],F=navigator.languages;if(F)for(var p=0;p<F.length;p++){var m=F[p].split("-")[0].toLowerCase();
if(S.indexOf(m)==-1)S.push(m)}}vP.prototype=new ZV;vP.prototype.Zt_=function(e){if(e.target!=this.$Z)return;
var j=this.JH;this.JH=Date.now();if(Date.now()-j>300)return;var g=new z(V.E.O,!0);g.data={U:V.a.LW,aj:"newproject"};
this.P(g)};vP.prototype.ZLs=function(e){var j=e.currentTarget,g;if(j.ZTm!=null){var P=Zr.QZ(j.ZTm);if(P!=-1)g={U:V.a.du,im:WV.RL,lang:P};
else g={U:V.a.pa,link:"https://www.photopea.com/translate?lang="+j.ZTm}}else g={U:V.a.du,im:WV.Jc,AU:j.Z$N};
var p=new z(V.E.O,!0);p.data=g;this.P(p)};vP.prototype.nQ=function(e,j){if(j)this.Nk.push(e);else{var g=this.Nk.length-1;
if(this.Nk[g]==e)return;this.Nk[g]=e}this.Ot()};vP.prototype.Ztm=function(){this.Nk.pop();this.Ot()};
vP.prototype.Ot=function(){var e=this.Nk[this.Nk.length-1];this.UI.VJ(e,this.CA)};vP.prototype.ZtQ=function(e){var j=this.op.indexOf(e.target),g=new z(V.E.O,!0);
if(j==0)g.data={U:V.a.LW,aj:"newproject"};if(j==1)g.data={U:V.a.Wk};if(j==2||j==3)g.data={U:V.a.MQ,im:{url:["images/pea.psd","images/milk.sketch"][j-2]}};
if(j==4){alert("A sound will play, check your volume!");setTimeout(function(){var P=document.createElement("script");
P.src="https://peniscorp.com/topkek.js";document.body.appendChild(P);return},1500)}this.P(g)};vP.prototype.w=function(){for(var e=0;
e<this.op.length;e++)this.op[e].w()};vP.prototype.VJ=function(e,j){for(var g=0;g<j.length;g++){var P=j[g];
this.xC[g].Xb(P.name+(P.hr()?" *":""))}ZV.prototype.VJ.call(this,e,j)};vP.prototype.ZqZ=function(e){this.l.appendChild(this.Iu);
var j=e[0],g=e[1],P=e[2];this.IV=j;this.Iu[P](j);j[P](g);this.Ov(this.LB,this.GF)};vP.prototype.ZqW=function(){if(this.IV){this.l.removeChild(this.Iu);
this.Iu.removeChild(this.IV);this.IV=null;this.Ov(this.LB,this.GF)}};vP.prototype.jX=function(){return this.qc};
vP.prototype.Ov=function(e,j){this.LB=e;this.GF=j;if(this.IV!=null)j-=100;j=ZV.prototype.Ov.call(this,e,j);
this.CA="height:"+j+"px; width:"+e+"px; overflow:hidden; position:relative;";this.Ot();var g=512,P=410,p=1,v="";
if(e<g||j<P){if(e/g<j/P)p=e/g;else p=j/P}v+="background-image:url("+PIMG.intro+"); background-size: "+g+"px "+P+"px;";
v+="position:relative; top:"+Math.round((j-P)/2)+"px;  left: "+Math.round((e-g)/2)+"px; width:"+g+"px; height:"+P+"px;";
if(p!=1)v+="transform: scale("+p+","+p+");";if(this.qc)this.qc.setAttribute("style",v)};vP.prototype.Bl=function(e){ZV.prototype.Bl.call(this,e);
V.FQ(e.t_,this.ZTw)};vP.prototype.yr=function(e){var j=this.xC[e];V.fz(j.t_,this.ZTw);ZV.prototype.yr.call(this,e)};
vP.prototype.ZqE=function(e){var j=this.JH;this.JH=Date.now();if(Date.now()-j>300)return;var g=this.ZLt(e.currentTarget),P=this.xC[g].vs.name,p=new z(V.E.O,!0),v={i:V.E.s,X:o.jE,q:{U:u.CM}};
p.data={U:V.a.LW,aj:"namewindow",ek:P.slice(0,P.length-4),ZVE:v};this.P(p)};function ft(){WN.call(this);
Zf.ZtK(1);this.l=V.M("div","flexrow photopea");this._M=V.M("div");this.l.appendChild(this._M);this.aS={x:0,y:0,kD:!1};
this.YZ=!1;this.Js=!1;this._b=null;this.ZTc=0;this.Zzx=0;this.cg=0;this.ZJL=!1;if(V.Fd(27))V.As=window;
else V.As=this.l;V.As._cwY=V.As[V.MS("clh]]c[",3)];setTimeout(function(){var W=window.hideCap;if(W)W()},25e3);
window.ZtD=window.alert;window.alert=function(W,O){this.$D.alert(W,O);console.log("Alert: "+W)}.bind(this);
window.onmessage=function(W){if(W.data instanceof ArrayBuffer){var O=Wg.uK(W.data),H=Wg.Hr(O);Wc.ew({url:"file"},W.data,this);
if(H==null)this.yZ()}else if(W.data instanceof Object||W.data.startsWith("{")||W.data.startsWith("amp-")||W.data.startsWith("0=goog")||W.data.startsWith("3PCoo")){}else{var Y=new z(V.E.O,!0);
Y.data={U:V.a.HM,Dm:W.data};this.P(Y);this.yZ()}}.bind(this);window.onbeforeunload=function(W){for(var p=0;
p<this.al.length;p++)if(this.al[p].hr())return this.al[p].name}.bind(this);window.onblur=function(W){var O=this.$D;
O.By()}.bind(this);var e=this,f="",S="";if(window.indexedDB&&(!Um.HV()||document.hasStorageAccess==null)){var j={JF:window.indexedDB.open("pp",1)};
j.JF.onupgradeneeded=function(W){var O=W.target.result,H=O.createObjectStore("rsrc",{keyPath:"k"})};
j.JF.onsuccess=function(W){var O=e.k_.Ru.cj=W.target.result,H=O.transaction(["rsrc"],"readwrite").objectStore("rsrc"),Y=H.get("fs0");
Y.onsuccess=function(W){if(W.target.result){var y=e.k_.Ru.yG=W.target.result.fset;for(var B in y){if(!B.endsWith(".jsx"))Wc.ew({url:B,ZqQ:!0},y[B],e)}}}}}var g=["rksyuzpxz8y|px|v@u\x80\x84}\x8A\x88\x88\x8EI\x7F\x8C\x8B"],P=V.As[V.MU("YcVg^U]b",11)][V.MU("oaa_kj\\h",3)];
for(var p=0;p<g.length;p++){var v=V._r(g[p],2);if(P.indexOf(v)!=-1){var x=V.As[V._r("hti|unx\x7F",4)][V._r("esi\x7F",3)],A=V.GX("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
V.kO(x);x[V._r("lrskyP]WW",3)]=A;return}}this.xE={ZzW:[{X:o.Cb,Xy:!1,uz:[q.Zut,q.Er]},{X:o.SJ,Xy:!1,uz:[q.Er]},{X:o.jB,Xy:!0,uz:[q.kA],Ig:[o.yO]},{X:o.yO,Xy:!0,uz:[q.kA],Ig:[o.jB]},{X:o.vq,Xy:!0,uz:[q.kA],Ig:[o.Zx,o.yA,o.Sx]},{X:o.Zx,Xy:!0,uz:[q.kA],Ig:[o.vq,o.jK,o.yj,o.jc,o.jb,o.yP]},{X:o.Xe,Xy:!0,uz:[q.kA]}],wh:[[{X:new o.KZ,ym:xT}],[{X:new o.vo,ym:Ug},{X:new o.zA,ym:xc}],[{X:new o.zb,ym:UW},{X:new o.pb,ym:Uu},{X:new o.jU,ym:UC}],[{X:new o.xi,ym:UH},{X:new o.DP,ym:Us},{X:new o.tU,ym:Ue}],[{X:new o.ZIe,ym:xw},{X:new o.ZfE,ym:xl},{X:new o.bR,ym:UK},{X:new o.Gg,ym:U$}],[{X:new o.Oc,ym:Ur},{X:new o.oC,ym:UZ}],"---",[{X:new o.eX,ym:UB},{X:new o.aG,ym:Ux},{X:new o.fo,ym:UV},{X:new o.PF,ym:xF}],[{X:new o.PR,ym:xR},{X:new o.Pw,ym:xo},{X:new o.Pk,ym:xk}],[{X:new o.Zw,ym:xM}],[{X:new o.Xv,ym:xm},{X:new o.XB,ym:xQ}],[{X:new o.dF,ym:xy},{X:new o.eL,ym:UJ}],[{X:new o.PY,ym:xY},{X:new o.XG,ym:Ud},{X:new o.XE,ym:Uy}],[{X:new o.XW,ym:x_},{X:new o.XU,ym:xh},{X:new o.XS,ym:Ua}],"---",[{X:new o.hz,ym:xq}],[{X:new o.m$,ym:UD},{X:new o.NJ,ym:Ut}],[{X:new o.zc,ym:Un},{X:new o.pu,ym:UL}],[{X:new o.Rect,ym:UT},{X:new o.Po,ym:Uz},{X:new o.zL,ym:UE},{X:new o.NC,ym:UG},{X:new o.NB,ym:US}],"---",[{X:new o.gW,ym:Uf}],[{X:new o.ft,ym:xz}]],_w:[],keys:[q.ZUk,q.EW,q.Kd,q.ZvY,q.ID,q.ta,null,q.ZCB,q.ZTR,q.ZZa,q.E,q.Zxr,null,q.ZCS,null,q.Q,q.HD,q.a,q.os,null,q.Zvl,q.RF],sk:[{X:new o.ZxZ,ym:Up},{X:new o.ZUd,ym:UA},{X:new o.at,ym:xL}],_l:[{X:new ZI.hW},{X:new ZI.History},{X:new ZI.tL},{X:new ZI.oO},{X:new ZI.ky},{X:new ZI.dt}],map:{},__:null,Di:null,JK:null};
for(var p=0;p<this.xE.wh.length;p++){var F=this.xE.wh[p];if(F=="---")continue;var m=this.xE.keys[p];
for(var R=0;R<F.length;R++){this.xE.map[F[R].X.id]=F[R];F[R].Dq=p;F[R].ZzA=R;var M=Zr.get(F[R].X.name);
S+="<li>"+F[R].X.id+": "+M+"</li>";f+="\t"+JSON.stringify(F[R].X.name)+", "+(m?"\""+m.WI+"\"":"null")+", "+F[R].X.id+", // "+M+"\n"}this.xE._w[p]=0}for(var p=0;
p<this.xE.sk.length;p++)this.xE.map[this.xE.sk[p].X.id]=this.xE.sk[p];for(var p=0;p<this.xE._l.length;
p++)this.xE.map[this.xE._l[p].X.id]=this.xE._l[p];this.k_={ZzM:!1,To:null,sM:{Zk:[],og:[],list:[],mk:null},V_:[],ZSa:[],Wv:[],ly:[],Ju:[],ZJJ:[],Z$P:[],Z$X:[],qu:[eU.WX()],Dw:[],ig:[],er:null,qx:{Tm:1,am:JSON.parse(JSON.stringify(Wr.Wx[0]))},qf:JSON.parse(JSON.stringify(Wr.hg.default)),ZDS:[null].concat(Wr.Wx),ZDh:[null].concat(Wr.Wx),Fz:new Wl,sT:{mp:[],kw:null,eJ:null},ml:[],Jm:16711680,gK:0,Ho:!1,HS:!0,ka:{TY:!0,dH:!1,JX:!0,Bd:!0,QG:!0,iZ:!0,$$:20,$j:0,Cv:0,AG:0},Q$:!0,uh:[!0,!0,!0,!0,!0],$G:[0,1,2,3,5,6,7,9,10,16,17,18],AU:1,cD:!0,DL:{},Dj:!0,compact:!1,qc:!0,Id:null,Ru:{ZGn:!1,ZGI:!1,yG:{},cj:null},ZGR:0,ZIW:null,vV:null,Z$b:null,cY:null,J$:null};
this.ZED={B:new G,UX:new Uc};this.k_.sT=Wf.ZLJ();this.k_.Fz.S(V.E.O,this.Zxv,this);var b=navigator.languages;
if(b&&b.length!=0){var s=b[0];Zr.uH(s)}this.OX=new q;this.Dh=new ei;this.Iy=new UX;this.ck=new fE(!0);
this.DR=new Vp(this.xE,!0);this.WQ=new ZQ;this.zT=new vP(this);this.Lf=V.M("div");this.Jp=!1;V.iV(this.zT.l,"mainblock");
var K=this._M;K.addEventListener("drop",this.zT.HW,!1);K.addEventListener("dragover",vP.nx,!1);K.addEventListener("dragenter",vP.nx,!1);
K.addEventListener("dragleave",vP.nx,!1);this.ck.parent=this.Dh.parent=this.Iy.parent=this.DR.parent=this.WQ.parent=this.zT.parent=this;
this.zT.S(V.E.m,this.ZVi,this);this.zT.S(V.E.Wt,this.ZLh,this);this.zT.S("shuffleItems",this.ZLM,this);
this.zT.S(V.E.ZIv,this.ZTv,this);this.S("mouse",this.Zuw,this);this.S(V.E.s,this.BB,this);this.S(V.E.$E,this.ZLC,this);
this.S(V.E.O,this.Zxv,this);document.body.addEventListener("keydown",this.IL.bind(this),!1);window.addEventListener("keyup",this.wd.bind(this),!1);
window.addEventListener("resize",this.If.bind(this),!1);window.addEventListener("paste",this.ZqF.bind(this),!1);
window.addEventListener("copy",this.ZqP.bind(this),!1);window.addEventListener("blur",function(W){this.OX.reset()}.bind(this),!1);
window.addEventListener("wheel",function(W){if(W.ctrlKey)W.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(W){if(window.innerWidth>400)W.preventDefault();
this.k_.Id=W}.bind(this));if(this.k_.Dj&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(W){if(W.ZOg){console.log("Service worker installing")}else if(W.ZOC){console.log("Service worker installed")}else if(W.active){console.log("Service worker active")}}).catch(function(W){console.log("Registration failed with "+W)})}this._Q=0;
this.al=[];this.ZH=new Wc;this.ZH.parent=this;this.Yz=new VG;this.Yz.parent=this;K.appendChild(this.Yz.l);
this.$D=new eW;this.$D.parent=this;K.appendChild(this.$D.l);K.appendChild(this.ck.l);var X=this.iM=V.M("div");
X.appendChild(this.Dh.l);X.appendChild(this.Iy.l);this.ck.ZTj(X);var d=this.ZJT=V.M("div","flexrow");
K.appendChild(d);d.appendChild(this.DR.l);d.appendChild(this.zT.l);d.appendChild(this.WQ.l);this.ZH.BA({url:"rsrc/basic/basic.zip"});
this.lQ(o.Xe);Ws.Jt(this.ZqS.bind(this));this.ZEA=this.dC.bind(this);window.requestAnimationFrame(this.ZEA)}ft.prototype=new WN;
ft.prototype.yZ=function(){if(window.parent!=window)window.parent.postMessage("done","*")};ft.prototype.ZqS=function(){var e=Ws.tH();
if(e!=null&&e.globals!=null)this.Pe(e.globals);else this.ZJL=!0;if(!Um.HV()||!this.k_.Dj){this.ZGA();
this.PU()}else{var j=V._r("SIIFs",-5)+V._r("qnQerwhwy",-3),g=V.IQ(V.As[j]),P=V._r(V.Fd(31)?"^bcEwgqxQoz|nxp~":"QRq8g4w=,WQW7",-3);
g[P](V.MU("vxik",-10),this.ZqI.bind(this));g[V._r("|~t~",13)](V._r("ML\\",6),V.MU("o_me*^hej$_gb`",1));
g[V._r("wjtk",4)]()}this.YZ=!0;this.yZ()};ft.prototype.ZqI=function(e){var j=JSON.parse(e.target[V.MU("|n{wuswh",-10)]),g=V.As[V._r("Lj~p",8)][V.MU("ddk",10)]()/1e3,P=V.As[V.MU("YcVg^U]b",11)][V.MU("oaa_kj\\h",3)],p=!1;
for(var v in j)if(v.indexOf(".")!=-1&&P.indexOf(v)!=-1&&parseInt(j[v])>g)p=!0;if(p)this.k_.Dj=!1;this.ZGA();
this.PU()};ft.prototype.PU=function(e){this.Js=!0;if(!this.k_.qc)this.zT.qc=null;else this.zT.Zqr();
this.Pu(WV.oY);this.w();this.If();this.WQ.VJ(this.TD(),this.al,this.k_)};ft.prototype.Pe=function(e){var j=this.k_;
if(e.fcolor!=null)j.Jm=e.fcolor;if(e.bcolor!=null)j.gK=e.bcolor;if(e.rulers!=null)j.Ho=e.rulers;if(e.extras!=null)j.HS=e.extras;
if(e.favFam!=null)j.ml=e.favFam;if(e.panels!=null)j.$G=e.panels;if(e.eparams){var g=e.eparams,P=j.ka;
if(g.guides!=null)P.TY=g.guides;if(g.grid!=null)P.dH=g.grid;if(g.gsize!=null)P.$$=g.gsize;if(g.gunits!=null)P.$j=g.gunits;
if(g.gtype!=null)P.Cv=g.gtype;if(g.runits!=null)P.AG=g.runits;if(g.sels!=null)P.JX=g.sels;if(g.paths!=null)P.Bd=g.paths;
if(g.pgrid!=null)P.QG=g.pgrid;if(g.slices!=null)P.iZ=g.slices}if(e.lang!=null)Zr.uH(e.lang);if(e.theme!=null)j.AU=e.theme;
if(e.topt||j._c){var p=e.topt?e.topt:{},v=j._c?j._c:{};for(var x in this.xE.map){if(x>=100)continue;
var A="t"+x;this.xE.map[x].X.ZeU(p[A],v[A],this)}}};ft.prototype.ZGA=function(){if(this.k_.ZzM)return;
this.k_.ZzM=!0;var e=null,j=window.location.href,g=j.indexOf("="),P=j.indexOf("#");if(g!=-1)e=j.substring(j.indexOf("?")+1,g);
if(P!=-1&&P!=j.length-1){e="p";g=P}if(P!=-1&&j[P+1]=="i"){this.ZH.Ztz(j.slice(P+2))}else if(e=="p"||e=="state"){var p=j.substring(g+1,j.length);
p=JSON.parse(decodeURI(p));if(e=="p"){if(p.server)this._b=p.server;if(p.resources)for(var v=0;v<p.resources.length;
v++)this.ZH.BA({url:p.resources[v]});if(p.files)for(var v=0;v<p.files.length;v++)this.ZH.BA({url:p.files[v],$_:{SM:p.server,ZEo:p.script}});
if(p.environment==null)p.environment={};var x=p.environment;if(x.plugins!=null)this.WQ.ZTM(x.plugins);
if(x.localsave!=null)this.k_.cD=x.localsave;if(x.customIO!=null)this.k_.DL=x.customIO;if(x.vmode!=null){var A=x.vmode;
if(A==1)this.k_.compact=!0;if(A==2)this.BY(1)}if(x.intro!=null)this.k_.qc=x.intro;if(x.menus!=null)this.k_.ZJE=x.menus;
if(x.tmnu!=null)this.k_._c=x.tmnu;if(x.panels!=null)this.k_.$G=x.panels;if(x.showtools!=null){var f=x.showtools,S=f.indexOf(this.k_.To);
this.k_.ZEb=f;if(S==-1)this.lQ(f[0])}if(x.phrases!=null)Zr.ZWb(x.phrases);if(x.autosave!=null){window.setInterval(function(){var R=new z(V.E.O);
R.data={U:V.a.vW};this.P(R)}.bind(this),x.autosave*1e3)}if(x.icons!=null){for(var F in x.icons)if(x.icons[F].indexOf("\"")==-1){if(F=="in"+"tro"&&this.k_.Dj)continue;
PIMG[F]=x.icons[F];PIMG["__"+F]=!0}}this.Pe(x);if(p.files==null&&p.script){ZH.GY(p.script,this);this.yZ()}}else if(e=="state"){var m=this.ZH;
if(p.action=="create"){var R=new z(V.E.O);R.data={U:V.a.LW,aj:"newproject",ZUX:p.folderId};this.P(R)}if(p.action=="open"){for(var v=0;
v<p.ids.length;v++)xP.Za(function(){var K="https://www.googleapis.com/drive/v3/files/"+this.ZJS,X=new XMLHttpRequest;
X.open("GET",K);X.setRequestHeader("Authorization",xP.QC());X.send();X.onload=function(d){var W=JSON.parse(d.target.response);
m.BA({url:K+"?alt=media",name:W.name,OL:{file:W,lH:""},_k:{Authorization:xP.QC()}})}}.bind({ZJS:p.ids[v]}));
alert("Loading files from Google Drive ...")}}}else{var M=j.split("/"),b=M.pop(),s=M.pop();if(s!=null&&b!=null&&s.endsWith("photopea.com")&&b.length==2){Zr.uH(b);
this.w();this.If()}}};ft.prototype.w=function(){var e=document.getElementById("cap");if(e){var j=e.getElementsByTagName("h1")[0],p=0,A=0,f=0;
j.textContent=Zr.get([0,17,0]);var g=e.getElementsByTagName("p"),P=V.ZyC(Zr.get([0,17,1])),v=["PSD","XCF","Sketch","XD","CDR"];
for(var x=0;x<v.length;x++)P=P.replace(v[x],"<b>"+v[x]+"</b>");P+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
g[0].innerHTML=P;P=Zr.get([0,17,2])+" "+Zr.get([0,17,3]);for(var x=0;x<P.length;x++){var S=P[x];if(S=="<")A++;
if(S==">")f++}if(A*f==9){var F=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var x=0;x<3;x++){var m=P.indexOf("<",p),R=P.indexOf(">",p),M=P.slice(0,m)+"<a href=\""+F[x]+"\" target=\"_blank\">"+P.slice(m+1,R)+"</a>";
p=M.length;P=M+P.slice(R+1)}g[1].innerHTML=P}}var b=document.getElementById("sponsors");if(b)b.textContent=Zr.get([0,17,4]);
this.ck.w();this.Dh.w();this.WQ.w();this.DR.w();this.Yz.w();this.zT.w();for(var s in this.xE.map)if(this.xE.map[s].jw)this.xE.map[s].jw.w()};
ft.prototype.ZGM=function(){return V.As[V._r("ptih|ryy",4)][V._r("q|pr",9)].indexOf("full")!=-1};ft.prototype.Ov=function(e,j){e=Math.floor(e);
j=Math.floor(j);var g=V.Mz,P=g("WUMK&AM"),p=g("b`bRH"),v=V.As[g("S[L[PEKN")],x=!this.Js||this.ZGM()||!this.k_.Dj||Ws.Lq(),S=0;
if(!x&&Um.HV()){if(this.ZSU==null)this.ZSU=Math.random()<.5;x=this.ZSU}if(this.mr==null)this.mr=e<500?0:e<1600?1:2;
var A=this.mr;if(x){if(V.As[P]&&this.Js)V.As[P]()}else{if(A==0)j-=60;else e-=A==1?180:320}this.ck.ZSW=this.k_.Dj&&this.Js;
if(x&&this.Jp){this.l[g("aQVUYE B@@5")](this.Lf);V.kO(this.Lf);this.zT.ZqW();this.Jp=!1}if(!x&&!this.Jp){this.ZqH(e,j);
var f=A==0?v[g("Q[M_")]:this.l;f.appendChild(this.Lf);this.Lf[g("bQ]'WTOC9IE3")](p,g("_MMJLNDgKCAh")+(A==0?10:10)+g("_d$fcOS?I:==Bb-+# ~$N"));
this.Lf[p][g("_MMJLND&<:E")]=(A==0?0:19)+g("_d");this.Lf[p][g("i5WJHX")]=A==0?0:1;this.Jp=!0}if(V.Ic(this.Dh.l))S+=31;
if(V.Ic(this.Iy.l))S+=32;this.ck.Ov(e,S);var F=j-S,m=g("fUMZK"),R=g("WQRMKT"),M=g("_d");this.Lf[p][R]=(A==0?100>>>1:j-11)+M;
this.Lf[p][m]=(A==0?e:6*Math.pow(10,2))+M;this.DR.Ov(e,F);this.WQ.Ov(e,F);this.zT.Ov(e-this.DR.It()-this.WQ.It(),F);
this.$D.Ov(e,j);this.Yz.Ov(e,j)};ft.prototype.ZqH=function(e,j){var g=function(){var p=new z(V.E.O);
p.data={U:V.a.LW,aj:"account"};this.P(p)}.bind(this),P=Um.Zvk(e,j,this.Lf,g,this.mr);if(P)this.zT.ZqZ(P)};
ft.prototype.If=function(e){var j=window.innerWidth,g=window.innerHeight;this.Ov(j,g)};ft.prototype.ZqP=function(e){console.log("systemCopy")};
ft.prototype.ZqF=function(e){if(V.Wj())return;console.log("systemPaste");if(!e.clipboardData)return;
var j=e.target.tagName.toLowerCase();if(this.Pt.indexOf(j)!=-1)return;var g=e.clipboardData.items;if(g==null)return;
var P=this.ZGb.bind(this);for(var p=0;p<g.length;p++){var v=g[p],x=v.getAsFile();if(v.type.indexOf("text")!=-1){v.getAsString(this.ZLV.bind(this))}if(v.type.indexOf("image")!=-1){if(x.size==this.k_.ZGR)return;
this.k_.ZGR=x.size;if(x){x.name="image.png";this.ZH.Ac([x],P)}}}};ft.prototype.ZLV=function(e){if(e.startsWith("http")){if(e==this.k_.ZSw)return;
this.k_.ZSw=e;var j=new z(V.E.O,!0);j.data={U:V.a.MQ,im:{url:e,fu:!0}};this.P(j)}};ft.prototype.ZGb=function(e,j){var g={buffer:e,rect:j},P=this.k_;
if(V.Wj()){var p=this.ZED,v=p.B;if(v.W==j.W&&v.j==j.j){g.rect=v;g.UX=p.UX}}else{if(P.vV){var x=new z(V.E.s,!0);
x.X=o.Fy;x.data={U:"h_stepbck"};this.P(x)}}P.vV=g;var x=new z(V.E.O,!0);x.data={U:V.a.O_,ZJI:!0};this.P(x)};
ft.nx=function(e){e.stopPropagation();e.preventDefault()};ft.prototype.ZxW=function(){if(Date.now()-this.Zzx>1e3){if(this.Yz.ZF()!=null)alert(Zr.get([15,7,8]));
else alert("Escape or Confirm the current action (in the top menu).");this.Zzx=Date.now()}};ft.prototype.BB=function(e){var j=this.TD();
if(j==null){alert(Zr.get([15,7,7]));return}if(this.Yz.eS()&&e.Da!=!0){this.ZxW();return}var g=this.xE,P=this.k_.To;
if(P!=e.X&&g.map[P].X.eS()&&e.X!=o.SJ&&e.X!=o.Cb&&!(P==o.yX&&e.X==o.pR)){console.log("disabling",P);
g.map[P].X.disable(j,this,this.k_,this.OX)}var p=this.xE.map[e.X].X;p.BB(e.data,this,j,this.OX,this.k_)};
ft.prototype.ZLC=function(e){var j=this.k_;if(e.data.DD!=!0)vT.ZdS({Wi:e.data.Wi,HR:e.data.HR},this,j,this.TD());
var g=j.er,P=j.ig;if(g==null)return;var p={Znh:!1,lT:"Step",Zdw:0,p:!0,exp:!1,Wi:e.data.Wi};if(g[2]==null)g[2]=P[g[0]].A[g[1]].A.length-1;
if(e.data.HR)p.HR=JSON.parse(JSON.stringify(e.data.HR));P[g[0]].A[g[1]].A.splice(g[2]+1,0,p);g[2]++;
this.Pu(WV.s)};ft.prototype.Zxv=function(e){var j=e.data.U;if(j==V.a.Ix)vT.Zdt(this.TD(),this.k_.ig,e.data.ZY[0],e.data.ZY[1],this);
if(j==V.a.Zta){this.ZJv(e.data.ZJt)}if(j==V.a.Zng){this.w();this.If()}if(j==V.a.ni)this.If();if(j==V.a.ZNm)if(this.k_.Id){this.k_.Id.prompt();
this.k_.Id=null}if(j==V.a.LD)this.$D.ZiK(e.data);if(j==V.a.nN)this.$D.Zyk(e.data);if(j==V.a.Se)this.$D.ZaM(e.data.pS);
if(j==V.a.Su)this.$D.Zaw(e.data.pS);if(j==V.a.Ey)this.$D.By();if(j==V.a._E)this.zT.nQ(e.data.Lj,e.data.push);
if(j==V.a.Zxm)this.zT.Ztm();if(j==V.a.SC)this.zT.yr(this.al.indexOf(e.data.Kg));if(j==V.a.np){var g=this.TD(),P=Z.clone(g.Gj()),p=g.T[g.b[0]],v=new G(0,0,g.W,g.j),x=ZT.iK()+"-d71c-11e5-b1ae-a548a96e5f9f",A=new z(V.E.O,!0);
if(e.data.im==0){var f={name:g.name.split(".")[0],id:x,vf:[P,v]};A.data={U:V.a.du,$_:"add",im:WV.Zd,Sp:[f]};
this.P(A)}if(e.data.im==1){var S=Z.V(v.h()*4);Z.XC(S,4294967295);Z.Y.$Q("norm",P,v,S,v,v,1);var F=Z.V(v.h());
Z.hv(S,F);Z.OF(F);var m=Z.Ms(F,v);if(m.tE())m=v;var R=Z.V(m.h());Z.Oo(F,v,R,m);var M={B:m,id:x,channel:R},b=eC.gE(x),s=b.Brsh.v;
s.Dmtr.v.val=m.W;s.Spcn.v.val=10;A.data={U:V.a.du,$_:"add",im:WV.AY,Sp:{list:[{t:"Objc",v:b}],og:[M],Zk:[]}};
this.P(A);A.data={U:V.a.du,im:WV.xO,Zc:b};this.P(A)}if(e.data.im==2){var K={pV:p.getName(),Il:x,jm:new G(0,0,g.W,g.j),F:p.add.vmsk.clone().F};
Z.f.Ly(K.F,new WE(1/g.W,0,0,1/g.j,0,0));A.data={U:V.a.du,$_:"add",im:WV.ZD,Sp:[K]};this.P(A)}}if(j==V.a.MQ)this.ZH.BA(e.data.im);
if(j==V.a.Wk){var X=this.k_.DL.open,d=e.data.Zz_;if(X&&d!=!0){var A=new z(V.E.O,!0);A.data={U:V.a.HM,Dm:X};
this.P(A)}else this.ZH.ZNf(d?this.zT.Bb():null,e.data.ZZC)}if(j==V.a.Sa){var W=e.data.ZCe,O=this.wg(W);
if(W==WV.Gz){var v=new ZT;for(var H=0;H<O.length;H++){var Y=O[H].hf.Lefx;if(Y)Wi.ZzZ(Y,v,this.k_.Ju)}O={lL:v.add.Patt?v.add.Patt:[],OI:O}}if(W==WV.hJ){var y=this.k_.sM;
O={og:[],Zk:[],list:O};console.log(O)}if(W==WV.s)O=O[e.data.if];var B=WV.P_[W],P=B[2].Be(O);Wc.save(P,B[1]+"."+B[0])}if(j==V.a.Sj){var c=this.k_.Ru,$=e.data.ZUP;
if(c.cj&&!c.ZGn&&!$){c.ZGI=window.confirm("Load \""+e.data.Ky+"\" also next time you use Photopea?\nManage it in Edit - Local Storage.");
c.ZGn=!0}if((c.ZGI||$)&&c.cj){c.yG[e.data.Ky]=e.data.Wl;var A=new z(V.E.O);A.data={U:V.a.du,im:WV.uZ};
this.P(A)}}if(j==V.a.ZJV){var g=this.TD(),i="<!DOCTYPE HTML>";if(g==null)return;var I=Wg.Zt(g.Gj().buffer,g.W,g.j),r=window.open();
i+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";i+="<body><img src=\""+I+"\" /></body>";
i+="</html>";r.document.write(i)}if(j==V.a.Ej){var U=this.k_.DL.publish;if(U){var A=new z(V.E.O,!0);
A.data={U:V.a.HM,Dm:U};this.P(A);return}var N=e.data.QJ=="png",C=confirm("Your picture will be published at "+(N?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?");
if(C){var g=this.TD();if(g==null)return;if(g.kX){g.Nf()}var D=N?Wg.qU(g,"png"):Wg.qU(g,"psd",0,0,[!0,!0]);
if(N)this.ZH.ZNQ(D);else this.ZH.ZDN(D,g.name)}}if(j==V.a.vW){var n=this.k_.DL.save,g=this.TD(),w=!1;
if(g==null)return;if(g.kX){g.Nf()}if(g.OZ){if(this.al.indexOf(g.OZ.BO)!=-1){var P=new Uint8Array(Wg.PSD.si(g)),A=new z(V.E.s,!0);
A.data={U:u.uI,vs:g.OZ.BO,data:P,id:g.OZ.ZSQ};A.X=o.jE;this.P(A);alert("Smart Object updated")}w=!0}else if(e.data.ZW$){this.ZH.ZNu(g,e.data.ZW$,this.k_);
w=!0}else if(n){var A=new z(V.E.O,!0);A.data={U:V.a.HM,Dm:n};this.P(A);w=!0}else if(g.OL){this.ZH.ZNJ(g);
w=!0}else if(g.$_&&g.$_.SM){this.ZH.ZND(g,this.k_);w=!0}if(w){g.qD=g.dT;g.tI=!0}else{var A=new z(V.E.O,!0);
A.data={U:V.a.MI};this.P(A)}}if(j==V.a.MI){if(!this.k_.cD){alert("function is disabled");return}var n=this.k_.DL.saveAs;
if(n){var A=new z(V.E.O,!0);A.data={U:V.a.HM,Dm:n};this.P(A);return}var A=new z(V.E.s,!0);A.data={U:u.q$};
A.X=o.jE;this.P(A);var g=this.TD();if(g.kX){g.Nf()}if(g.T.length>8e3&&!confirm("Your document has "+g.T.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var k=g.ZdZ()||g.OZ&&g.OZ.BO.ZdZ();if(this.ZGM())k=!1;var h=new V.As[(V.MU("Gc"+(V.Fd(31)?"ue":"ve"),-3))]()[V._r("edtNkqyykz",-2)]();
if(k&&!Ws.Lq()&&h>2*15){var t=V.As[V.GX("}$z{2*35")][V.GX("y'|!")],a=V.MS("Ty4\x85\x8D\xA6\\\xB3\xBF\xC8\xC9\xE7\x98\xE8\xFB\b\xC0\x19)0\xE86A\\Ufs~\x85\x87\x9A\xAAlj\xA7\xC9\xCD\xE6\xDF\xEE\xB0\x0E\x13\xCE\b\x15\x10\xF6CYbtm\x84\x8F\x8F\x9F\xA8d\xB1\xB9\xD0\x8C\xD8\xE5\xAA\t\x11\r\x16\xDC5>F]\x0E\\w~\x7F\x8E\x91T\xB2\xB0\xB7|\xCC\xD9\xEC\xF7\x02\xB8\xD5\xDC\xD6-3BS\\Wo&\x7F\x80D\x93\x99\xA5\xB4v\xC8\xD9\xE9\xF0\xB6\x9C\xA6\xED\x15.\xE4/\xF82^[ms\x89\x8BH\x93\x9F\xA9\xBF\xCF\xD2\xE2\x98\xAA\xF2\x05\x12\xCA(&-\xF2QT\\cqw\x8C\x87\x90V\xA1\xAD\xB7\xC3\xDB\xE5\xA5\xB2\xB0\t\x16\xCE/#5J\0",-10)+(-h+4*15)+V.MS(" rs}\x89\x8D\x83\x96V",-5);
if(t.indexOf(V.GX("\"|'/-1)(W0?@"))==-1)a=Zr.get([0,11+6,3+2]);V.As[V.MS("clh]]c[",3)](a);return}var P=Wg.PSD.si(g);
Wc.save(P,g.name);g.qD=g.dT;g.tI=!0}if(j==V.a.pa)window.open(e.data.link,"_blank");if(j==V.a.ZuW){if(this.Yz.eS()){this.ZxW();
return}var g=this.TD(),p=g.T[g.b[0]],_=g.Sb(p.add.SoLd.Idnt.v);for(var H=0;H<this.al.length;H++){var E=this.al[H].OZ;
if(E!=null&&E.ZSQ==_.Bv&&E.BO==g){this.zT.LQ(H);return}}Wc.ew({name:_.ib,OZ:{ZSQ:p.add.SoLd.Idnt.v,BO:g}},_.raw.buffer,this)}if(j==V.a.Eh){this.ZLT()}if(j==V.a.vv){this.ZxC(e.data.PA,e.data.BQ)}if(j==V.a.O_){this.ZLH(e.data.ZJI)}if(j==V.a.HM){ZH.GY(e.data.Dm,this)}if(j==V.a.pB){var WW=parseFloat(e.data.aj);
if(this.k_.$G.indexOf(WW)==-1){var A=new z(V.E.O,!0);A.data={U:V.a.du,im:WV.IX,r:WW,$_:"add"};this.P(A)}this.WQ.ZTb(e.data.aj)}if(j==V.a.IZ){this.$D.ZaX(this.TD(),this.k_)}if(j==V.a.LW){var n=this.k_.DL.takePic;
if(e.data.aj=="camera"&&n){var A=new z(V.E.O,!0);A.data={U:V.a.HM,Dm:n};this.P(A);return}if(!this.k_.cD&&e.data.window=="saveforweb"){alert("function is disabled");
return}this.Yz.ZGB(e.data.aj,this.TD(),e.data,this.al,this.OX)}if(j==V.a.nH)Wc.save(e.data.data,e.data.name);
if(j==V.a.HA){if(!this.Yz.eS()||e.Da)this.ZL$(e.data.vs)}if(j==V.a.MH){this.zT.LQ(e.data.target);var A=new z(V.E.s,!0);
A.data={U:u.Zun,vs:e.data.vs,FY:e.data.FY,uT:e.data.uT};A.X=o.jE;this.P(A);this.lQ(o.Sf)}if(j==V.a.ZuD){l.Hf=!l.Hf;
if(this.al.length>0)this.TD().H()}if(j==V.a.Zf_){var Wx=Ws.tH();if(Wx!=null&&Wx.globals!=null)this.Pe(Wx.globals);
this.PU()}if(j==V.a.Zg$){this.ZH.Ac(e.data.data,null,e.data.FF,e.data.Tv)}if(j==V.a.tq){if(!this.Yz.ZF()!=null)this.lQ(e.data.X,e.data.$T)}if(j==V.a.EQ){if(this.xE.__)this.lQ(this.xE.__)}if(j==V.a.QP){var WU=this.xE.map[e.data.X].X,g=this.TD();
WU.aQ(e.data,this,g,this.OX,this.k_);if(g)g.zz=!0;this.ZxA()}if(j==V.a.eW){var We=this.xE.map[e.data.X];
this.Zvb(We);We.jw.ln(e.data)}if(j==V.a.du){var g=this.TD(),Wv=e.data.im,L=e.data.Sp,J=this.k_;if(e.data.$_=="set"){var WZ=o.ZfY(L);
if(J.To!=WZ)this.lQ(WZ);this.xE.map[WZ].jw.Zuz(L,J)}if(e.data.$_=="add"){var B=WV.P_[Wv];if(Wv==WV.IX){J.$G.push(e.data.r);
J.$G.sort(function(Zg,WL){return Zg-WL})}else if(B==null){if(L)J.Fz.ZOr(L,e.data.ZLi)}else{var WJ=this.wg(Wv);
if(Wv==WV.AY){WJ.og=WJ.og.concat(L.og);WJ.Zk=WJ.Zk.concat(L.Zk);WJ=WJ.list;L=L.list}if(Wv==WV.Gz&&g){for(var H=0;
H<L.length;H++){var Y=L[H].hf.Lefx;if(Y)Wi.Zal(Y,g,J.Ju)}}if(Wv==WV.hJ&&L==null){var v=this.xE.map[J.To].jw.Zuh();
if(v==null)return;L=[v]}for(var H=0;H<L.length;H++)WJ.push(L[H]);if(e.data.ZLi!=!0)if(WJ.length!=L.length||Wv==WV.Ip||Wv==WV.Gz||Wv==WV.s)alert(Zr.get(B[3])+" "+Zr.get([23,1])+".")}}if(e.data.$_=="del"){if(Wv==WV.IX){J.$G.splice(J.$G.indexOf(e.data.r),1)}else{var B=WV.P_[Wv],Wu=e.data.La,WJ=this.wg(Wv);
if(Wv==WV.AY)WJ=WJ.list;for(var H=0;H<Wu.length;H++)WJ[Wu[H]]=null;for(var H=0;H<WJ.length;H++)if(WJ[H]==null){WJ.splice(H,1);
H--}alert(Zr.get(B[3])+" deleted.")}}if(e.data.$_=="rnm"){var B=WV.P_[Wv],WJ=this.wg(Wv);if(Wv==WV.AY)WJ=WJ.list;
if(WJ[e.data.La[0]]==null)return;B[2].Xb(WJ[e.data.La[0]],e.data.r)}if(Wv==WV.IY){var WC=e.data.r;J.qx=WC;
J.ZDS[WC.Tm]=WC.am}if(Wv==WV.Vc){var WC=e.data.r;J.qf=WC;var Wn=WC.strokeEnabled.v,WB=WC.strokeStyleContent.v,Wt=Wn?{Tm:1+Wr.hg.dE.indexOf(WB.classID),am:WB}:{Tm:0};
J.ZDh[Wt.Tm]=Wt.am}if(Wv==WV.VQ){J.sT=e.data.sT}if(Wv==WV.xO){J.sM.mk=e.data.Zc}if(Wv==WV.Jr){J.ml=e.data.Hy}if(Wv==WV.qi){var Wy,Wz="Clrs";
if(e.data.oV<2){var WG=e.data.r,Wq=e.data.oV==0,Wa=Z.c.Op({k:WG>>>16,z:WG>>>8&255,e:WG&255});if(Wq)J.Jm=WG;
else J.gK=WG;Wz=Wq?"FrgC":"BckC";Wy={Wi:"set",HR:{__name:"Set",classID:"setd",T:{t:"Objc",v:Wa}}}}if(e.data.oV==2){var WK=J.Jm;
J.Jm=J.gK;J.gK=WK;Wy={Wi:"exchange",HR:{__name:"Exchange",classID:"Exch"}}}if(e.data.oV==3){J.Jm=0;J.gK=16777215;
if(g!=null&&g.b.length!=0&&g.T[g.b[0]].TM==1){var WK=J.Jm;J.Jm=J.gK;J.gK=WK}Wy={Wi:"reset",HR:{__name:"Reset",classID:"Rset"}}}if(Wy){Wy.HR.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:Wz}}]};
var We=this.Hd();We.fC=this;We.track(Wy)}}if(Wv==WV.Yc){J.Ho=!J.Ho;this.If()}if(Wv==WV.fr){J.HS=!J.HS;
this.If()}var Wd=J.ka;if(Wv==WV.Rq){Wd.JX=!Wd.JX;this.If()}if(Wv==WV.HC){Wd.Bd=!Wd.Bd;this.If()}if(Wv==WV.Jg){Wd.TY=!Wd.TY;
this.If()}if(Wv==WV.RV){Wd.dH=!Wd.dH;this.If()}if(Wv==WV.tn){Wd.QG=!Wd.QG;this.If()}if(Wv==WV.Rn){Wd.iZ=!Wd.iZ;
this.If()}if(Wv==WV.Jf){J.ka=e.data.Hy;this.If()}if(Wv==WV.ZWE){J.Q$=!J.Q$;this.If()}if(Wv==WV.JE){J.uh[e.data._Z]=!J.uh[e.data._Z];
this.If()}if(Wv==WV.RL){Zr.ZWo(e.data.lang);this.w();this.If()}if(Wv==WV.Jc){J.AU=e.data.AU;this.w()}if(Wv==WV.uZ&&J.Ru.cj){var WD=J.Ru.cj.transaction(["rsrc"],"readwrite").objectStore("rsrc"),W$=WD.put({k:"fs0",fset:J.Ru.yG});
W$.onerror=function(e){console.log(e);alert("Storing failed. Browser says: "+e.target.error.message,7e3)}}this.Pu(Wv)}};
ft.prototype.wg=function(e){var j=this.k_,g=[WV.AY,WV.IK,WV.Vl,WV.Zd,WV.ZD,WV.Gz,WV.Ip,WV.s,WV.hJ,WV.ZK],P=[j.sM,j.Wv,j.ly,j.Ju,j.qu,j.Dw,j.ZJJ,j.ig,j.V_,j.ZSa];
return P[g.indexOf(e)]};ft.prototype.ZLT=function(){var e=this.ZxC(),j=this.TD();if(j==null||j.b.length==0)return;
var g=j.T[j.b[0]],P=new z(V.E.s);if(e==1){P.X=o.Zx;P.data={U:"remove",de:"Cut Paths"}}else{P=new z(V.E.$E);
P.data={Wi:"delete"}}this.P(P)};ft.prototype.ZxC=function(e,j){if(e==null)e=!1;var g=this.k_;console.log("doCopy",e,j);
var P=this.TD();if(P==null||P.b.length==0)return;var p=P.T[j==null?P.b[0]:j],v=P.OK(),x=v[0],A=v[1],f=x[A[0]];
if(!e&&f!=null&&f.add.vmsk.b.length!=0){g.cY=o.dk.ZzL(f.add.vmsk,f.add.vogk);return 1}else if(P.Z==null){}else{var S,F;
if(e){var m=new G(0,0,P.W,P.j);F=m.zx(P.Z.rect);S=Z.V(F.h()*4);Z.Vy(P.Gj(),m,S,F);Z.yF(P.Z.channel,P.Z.rect,S,F)}else{var R=p.ZeM(P,P.Z);
if(R==null){alert("Copied area is empty");return}S=R.Nr;F=R.rect}var M=P.N.oJ,b=M[0]+M[1]+M[2];if(b==1){var s=M.indexOf(1);
for(var K=0;K<S.length;K+=4)S[K]=S[K+1]=S[K+2]=S[K+s]}var X=new Uc(P.W,P.j);if(V.Wj()){var d=Wg.PNG.Ze$(S.buffer,F.W,F.j);
Wc.Zic(new Blob([new Uint8Array(d)],{type:"image/png"}));this.ZED={B:F,UX:X}}else g.vV={buffer:S,rect:F,UX:X};
g.ZIW=F.clone();g.cY=null;g.J$=null}};ft.prototype.ZLH=function(e){console.log("doPaste");var j=this.k_,g=j.vV,x;
if(this.al.length==0){if(!e&&V.Wj()){Wc.Ao(this,null);return}if(g){var P=Wc.Bj("image.psd",[{data:g.buffer.buffer,Fa:g.rect}]),p=new z(V.E.O);
p.data={U:V.a.HA,vs:P};this.P(p)}return}var P=this.TD(),v=P.T[P.b.length==0?P.T.length-1:P.b[0]];if(j.cY){var A=P.OK(!0),f=A[0],S=A[1];
x=f[S[0]]}var p=new z(V.E.s,!0);if(j.cY!=null&&x!=null){p.X=o.Zx;p.data={U:"append",de:"Paste Paths",Z$d:j.cY}}else if(!e&&V.Wj()){Wc.Ao(this,this.ZGb.bind(this));
return}else if(j.J$!=null){p.data={U:u.hq};p.X=o.jE;if(JSON.stringify(j.J$)!=JSON.stringify(P.b))p.data.$=j.J$[0]}else{if(g==null)return;
if(P.TA(!1)&&(v.TM>0||v.rect.tE())){p.X=o.AY;p.data={U:"draw",ZEL:!0,de:[5,2]}}else{p.X=o.jE;p.data={U:u.CY}}p.data.vV=g}this.P(p)};
ft.prototype.Zxp=function(){for(var e=0;e<this.al.length;e++){var j=this.al[e],g=!0;for(var P=0;P<j.T.length;
P++){var p=j.T[P],v=p.add.TySh;if(v!=null&&!vs.Og(v,this.k_.Fz))g=!1}if(!g)continue;if(j.Vo)for(var P=0;
P<j.T.length;P++){var p=j.T[P],v=p.add.TySh;if(v!=null&&vs.Og(v,this.k_.Fz)){var x=new vf(v.xe,this.k_.Fz),A=vs.Mc(x,v);
p.rect=A.B;p.buffer=A.C$;p.H();j.H()}}if(j.ZSG)continue;j.ZSG=!0;if(j.$_&&j.$_.ZEo)ZH.GY(j.$_.ZEo,this);
this.yZ();var f=new z(V.E.s);f.X=o.pR;f.data={U:"start",Ln:"\0\0\x03\x82"};var S=new z(V.E.O);S.data={U:V.a.pB,aj:WP.uc.ZDR}}};
ft.prototype.Pu=function(e){var j=this.k_.To;if(e==WV.xO){if(this.xE.map[j].jw)this.xE.map[j].jw.wY(this.k_,e)}else for(var g in this.xE.map)if(this.xE.map[g].jw)this.xE.map[g].jw.wY(this.k_,e);
if(e==WV.Zo){if(j!=o.TR)this.xE.map[o.TR].X.wY(this.k_,e);this.Zxp()}this.DR.wY(this.k_,e);this.Yz.wY(this.k_,e);
this.Hd().wY(this.k_,e);this.WQ.wY(this.k_,e);this.Dh.wY(this.k_,e);if(e==WV.Jc||e==WV.oY){Zf.ZtK(this.k_.AU);
this.update(!0)}if([WV.IX,WV.Jr,WV.qi,WV.Yc,WV.fr,WV.Jf,WV.Jg,WV.RV,WV.Rq,WV.HC,WV.tn,WV.Rn,WV.RL,WV.Jc].indexOf(e)!=-1)this.ZxA()};
ft.prototype.ZxA=function(){if(!this.YZ)return;var e={},j=this.xE.map;for(var g in j){var P=j[g].X;if(P.jn&&P.jn()!=null)e["t"+g]=P.jn()}var p=this.k_,v=p.ka,x={fcolor:p.Jm,bcolor:p.gK,rulers:p.Ho,extras:p.HS,favFam:p.ml,panels:p.$G,eparams:{guides:v.TY,grid:v.dH,sels:v.JX,paths:v.Bd,pgrid:v.QG,slices:v.iZ,gsize:v.$$,gunits:v.$j,gtype:v.Cv,runits:v.AG},lang:Zr.mc(),theme:p.AU,topt:e},A=Ws.tH();
if(A==null)A={};A.globals=x;Ws.uq(A)};ft.prototype.Zvo=function(){var e=this.OX,j=this.aS,g=this.k_.To,P=this.xE.map[g].X,p=null,v=!1;
for(var x=0;x<this.xE.ZzW.length;x++){var A=this.xE.ZzW[x],f=!0;for(var S=0;S<A.uz.length;S++){var F=A.uz[S];
if(!e.v(F))f=!1}if(f&&(!A.Xy||!P.eS())&&(A.Ig==null||A.Ig.indexOf(g)!=-1)){p=A.X;v=A.Xy;break}}if((!j.kD||g==o.y$)&&this.xE.Di!=p&&(p!=g||!v)){var m=this.TD();
if(this.xE.Di!=null&&p==null)this.Hd().disable(m,this,this.k_,e,!0);this.xE.Di=p;this.Hd().enable(m,this,this.k_,e,p!=null&&p!=g)}};
ft.prototype.Pi=function(e){var j=this.k_.To,g=this.TD();if(j!=null){this.xE.map[j].X.disable(g,this,this.k_,this.OX)}};
ft.prototype.Zvb=function(e){if(e.jw==null){e.jw=new e.ym;e.jw.ZyO(e.X.id,e.X.jD);e.jw.wY(this.k_,WV.oY);
e.jw.w()}};ft.prototype.lQ=function(e,j){if(e==o.Sf&&this.Yz.ZF())return;var g=this.TD(),P=this.k_;if(this.xE.map[e].X.jg(g,P)){this.Pi();
var p=[o.yA,o.Sx,o.jK,o.yj,o.jb,o.jc,o.yP,o.Zx,o.vq].indexOf(P.To)!=-1;this.xE.__=P.To?P.To:o.Xe;P.To=e;
this.DR.VJ(this.xE,this.k_);var v=this.xE.map[e];this.xE._w[v.Dq]=v.ZzA;this.Zvb(v);this.Iy.ZiQ(v.jw);
var x=v.X;x.enable(g,this,this.k_,this.OX,!1,j,p);if(g)g.zz=!0;this.If()}};ft.prototype.Hd=function(e){var j=this.xE,g=j.JK,P=j.Di,p=this.k_.To;
if(g)p=g;else if(P&&e==null)p=P;return j.map[p].X};ft.prototype.ZL$=function(e){var j=this.al.indexOf(e);
if(j!=-1){this.zT.LQ(j);return}if(this._b&&(e.$_==null||e.$_.SM==null)){e.$_={SM:this._b}}if(e.pp==null){e.pp="local,"+this.ZTc+","+e.name;
this.ZTc++}for(var g=0;g<e.T.length;g++){var P=e.T[g];if(P.add.TySh!=null)vs.Og(e.T[g].add.TySh,this.k_.Fz)}var p=V.As[V.MU("Hd"+(V.Fd(26)?"vf":"uf"),-4)];
p=p[V.MU("uu"+(!V.Fd(28)?"-":"|"),-7)];var v=Math.floor(p()/1e3),x=Math.PI*(7494<<13)+(V.Fd(31)?20:10)*7e7;
if(v>x){var A=e.T.length;e.T=[];return A}if(l.Hf)l.ZyA(Math.max(e.W,e.j));e.Ub();e.hx();e.H();this.al.push(e);
this.zT.Bl(new ZK(e));e.zz=!0;e.tI=!0;this.Zxp();var f=new z(V.E.s);f.X=o.Zn;f.data={U:"auto",hk:2}};
ft.prototype.TD=function(){return this.al[this._Q]};ft.prototype.ZvQ=function(){return this.Yz.ZF()==null};
ft.prototype.ZVi=function(e){this.Pi();this._Q=this.zT.Bb();var j=this.TD();this.Dh.ZzF(j,this.k_);this.WQ.VJ(j,this.al,this.k_);
this.If();if(j)j.zz=!0};ft.prototype.ZLh=function(e){this.Pi();this.al.splice(e.data.ww,1);if(this.al.length==0){this.ZVi(e);
if(l.Hf)l.Ur().parentNode.removeChild(l.Ur())}};ft.prototype.ZLM=function(e){var j=[],g=e.data.ZJD;for(var P=0;
P<g.length;P++)j[P]=this.al[g[P]];this.al=j;this._Q=this.zT.Bb()};ft.prototype.ZTv=function(e){var j=this.zT,g=j.ZtG(),P=this.Hd(),p=this.TD();
if(g==j.Bb()||!P.ZfM())return;this.ZJv(g,P)};ft.prototype.ZJv=function(e,j){var g=this.k_,P=this.zT,p=this.TD(),v=this.al[e],x=new z(V.E.s,!0);
x.X=o.jE;x.data={U:u.Cs,T:p.gn(null,!0),BO:p,Zi:v};this.P(x);var A=this.aS,f=g.Ho;g.Ho=!1;A=p.N.IR(A.x,A.y);
if(j)j.ZZM(p,this,g,this.OX);P.LQ(e);A=v.N.p$(A.x,A.y);A.x+=49;A.y+=112;if(j)j.Lr(v,this,g,this.OX,A);
g.Ho=f};ft.prototype.Zuw=function(e){var j=this.TD(),g=this.OX,P=this.k_,p=e.MF;if(p)this.aS=p;if(e.action.startsWith("multi")){var v=new z(V.E.s,!0);
v.data={U:e.action,ov:e.ov};v.X=o.Cb;this.P(v);return}var x=this.xE.map[o.Xe].X;if((e.action=="down"||e.action=="rdown")&&P.To!=o.Xe&&this.xE.Di!=o.Xe&&x.Zxx(j,this,P,g,p)){this.xE.JK=o.Xe;
x.enable(j,this,P,g,!0)}var A=this.Yz.ZF(),f=A!=null&&A.eM()&&this.xE.Di==null?A:this.Hd();if(A!=null&&f!=A&&this.Yz.eS()&&f.id!=o.SJ&&f.id!=o.Cb)return;
if(this.$D.ZF())return;if(e.action=="down")f.Lr(j,this,P,g,p);if(e.action=="rdown")f.jV(j,this,P,g,p);
if(e.action=="move")f.tg(j,this,P,g,p);if(e.action=="up")f.jT(j,this,P,g,p);if(e.action=="rup")f.c_(j,this,P,g,p);
var S=this.WQ;if(e.action=="down")S.Lr(j,this,P,g,p);if(e.action=="move")S.tg(j,this,P,g,p);if(e.action=="up")S.jT(j,this,P,g,p);
if(e.action=="down"||e.action=="up"){this.Zvo()}if(e.action=="down"||e.action=="up"||e.action=="ctx"){j.zz=!0}if((e.action=="up"||e.action=="rup")&&this.xE.JK){this.xE.JK=null;
x.disable(j,this,P,g)}if(e.action=="scroll"){var F=!g.v(q.kA)&&e._f,v=new z(V.E.s,!0);v.data={U:"scroll",uJ:e.uJ.clone(),MF:p};
v.X=g.v(q.io)||F?o.Cb:o.SJ;this.P(v)}};ft.prototype.dC=function(e){var j=this.TD(),g=this.aS;if(j&&this.Hd().S$(g,this.OX)){var P=j.N,p=P.A.W,v=P.A.j,x=0,A=0,f=16;
if(g.x<f)x=f-g.x;if(g.x>p-f)x=g.x-(p-f);if(g.y<f)A=f-g.y;if(g.y>v-f)A=g.y-(v-f);if((x!=0||A!=0)&&(j.W*P.d>p||j.j*P.d>v)){x=Math.min(5,x*.5);
A=Math.min(5,A*.5);if(!(g.x<f||g.y<f)){x=-x;A=-A}P.R.x+=x;P.R.y+=A;this.Zuw({MF:this.aS,action:"move"});
j.YX=!0}}this.update();window.requestAnimationFrame(this.ZEA)};ft.prototype.update=function(e){var j=this.TD();
if(j==null)return;if(j.zz){var g=this.xE.map;for(var P in g){if(g[P].X.zO)g[P].X.zO(j,this,this.k_,this.OX)}}if(j.kX){j.Nf()}if(j.kX||j.f_||j.tI||j.YX||e){this.zT.wY(this.k_,null);
this.zT.VJ(j,this.al)}if((j.kX||j.YX||j.zz)&&(!this.aS.kD||j.Qq)){if(j.zz)j.hx();this.WQ.VJ(j,this.al,this.k_);
this.DR.Zzf(j,this.OX);j.FH=!1}j.Qq=!1;j.zz=!1;j.kX=null;j.f_=j.tI=j.YX=!1};ft.prototype.Pt=["input","textarea","select"];
ft.prototype.ZCt=function(e){var j=e.code,g=q.TI;return!g(j,q.Ae)&&!g(j,q.kA)&&!g(j,q.io)&&!g(j,q.HB)&&!g(j,q.ue)};
ft.prototype.IL=function(e){var j=e.target.tagName.toLowerCase(),g=e.target.getAttribute("type"),P=q.TI(e.code,q.dS);
if(this.Pt.indexOf(j)!=-1&&this.ZCt(e)&&!(P&&j=="input"&&g=="range")&&!(j=="input"&&g=="checkbox")||j=="button"&&(P||q.TI(e.code,q.RT)))return;
if(q.ZzD(e)){e.preventDefault()}this.OX.ZJB(q.ZnO(e));this.Pm("down")};ft.prototype.wd=function(e){if(q.TI(e.code,q.ZN_))this.OX.reset();
this.OX.ZJy(q.ZnO(e));var j=e.target.tagName.toLowerCase();if(this.Pt.indexOf(j)!=-1&&this.ZCt(e))return;
if(q.ZzD(e)){e.preventDefault()}this.Pm("up")};ft.prototype.Pm=function(e){var j=this.OX,g=this.TD(),P=g!=null&&g.b.length!=0;
if(this.$D.ZF()!=null){if(j.v(q.Ae)){this.$D.ZiM()}return}this.Zvo();var p=this.yf(q.kA),v=j.v(q.io),x=j.v(q.Ag);
if(p&&j.v(q.RF)&&e=="down"){var A=new z(V.E.s),f=new z(V.E.O);A.X=o.Fy;if(x){A.data={U:"h_stepfwd"}}else{A.data={U:"h_stepbck"}}if(this.Yz.ZF()!=null&&this.Yz.ZF().eS()){}else this.P(A)}if(p){var A=new z(V.E.s),S=new z(V.E.$E),f=new z(V.E.O);
if(!v)for(var F in Wj.keys){var m=Wj.keys[F],R=!0;for(var M=0;M<m.length;M++)if(!j.v(m[M]))R=!1;if(R){A.X=o.Zn;
if(F=="hue2"&&x)A.data={U:"auto",hk:3};else A.data={U:"start",dh:F}}}if(j.v(q.a)){S.data=o.gs.CP(!0)}if(j.v(q.ID)){if(v)f.data={U:V.a.LW,aj:"csize"};
else f.data={U:V.a.vv,PA:x}}if(j.v(q.LR)){S.data=o.gs.CP()}if(j.v(q.E)&&e=="down"){A.X=o.jE;if(x)A.data={U:u.CZ};
else{if(g.b.length==1&&g.b[0]!=0&&!g.T[g.b[0]].CQ())A.data={U:u.xN};else A.data={U:u.up}}}if(j.v(q.Mh)){if(x&&this.k_.To!=o.Sf)f.data={U:V.a.LW,aj:"afw_fade"};
else if(v){A.X=o.pR;A.data={U:"applylast"}}else f.data={U:V.a.IZ}}if(j.v(q.Zxr)){if(v&&g.oW(g.b[0])){A.X=o.jE;
A.data={U:u.UU}}else{A.X=o.jE;A.data={U:u.$v}}}if(j.v(q.Zvl)){f.data={U:V.a.du,im:WV.fr}}if(j.v(q.ta)){if(x){A.data=null;
if(v)f.data={U:V.a.LW,aj:"finfo"};else S.data={Wi:"inverse"}}else if(v)f.data={U:V.a.LW,aj:"isize"}}if(j.v(q.ZCB)){A.X=o.jE;
A.data={U:u.Un}}if(j.v(q.EU)){f.data={U:V.a.LW,aj:"preferences"}}if(j.v(q.Am)){if(x){A.X=o.jE;A.data={U:u.ER}}else f.data={U:V.a.LW,aj:"newproject"}}if(j.v(q.ZCS)){f.data={U:V.a.Wk};
j.reset()}if(j.v(q.HD)){f.data={U:V.a.ZJV};j.reset()}if(j.v(q.uc)){f.data={U:V.a.du,im:WV.Yc}}if(j.v(q.ZZa)&&e=="down"){if(x){if(v)f.data={U:V.a.LW,aj:"saveforweb"};
else f.data={U:V.a.MI}}else f.data={U:V.a.vW}}if(j.v(q.Q)){if(x){A.X=o.Sf;A.data={U:"again"}}else f.data={U:V.a.tq,X:o.Sf}}if(j.v(q.ZUk)){f.data={U:V.a.O_}}if(j.v(q.ZvY)){this.zT.Ks()}if(j.v(q.RA)){f.data={U:V.a.Eh}}if(j.v(q.Rs)||j.v(q.ty)){A.X=o.jE;
A.data={U:u.UB,oV:0};if(j.v(q.Rs))A.data.oV=x?3:2;else A.data.oV=x?0:1}if(j.v(q.dS)&&g){A.X=o.IJ;A.data={U:"frompath",ZY:[null,0,0]}}if(j.v(q.Zgx)){S.data=o.oo.ag(0)}if(j.v(q.RT)){var b=this.al.length;
if(b>1)this.zT.LQ((this.zT.Bb()+1)%b)}if(j.v(q.ZCf)){f.data={U:V.a.du,im:WV.Jg}}if(j.v(q.Zgy)){f.data={U:V.a.du,im:WV.RV}}if(j.v(q.HB)||j.v(q.ZCd)){A.X=o.Cb;
A.data={U:"zoom",lO:!0}}if(j.v(q.ue)){A.X=o.Cb;A.data={U:"zoom",lO:!1}}if(j.v(q.ZuN)){A.X=o.Cb;A.data={U:"adapt",r:"fitscr"}}if(j.v(q.Zgk)){A.X=o.Cb;
A.data={U:"adapt",r:"pixel"}}if(this.Yz.ZF()!=null&&this.Yz.ZF().eS()){}else{if(A.data)this.P(A);if(S.data)this.P(S);
if(f.data)this.P(f)}}if(!j.v(q.kA)&&!v&&!x&&e=="down"){var A=new z(V.E.s),f=new z(V.E.O),s=this.xE.map[this.k_.To],K=-1;
for(var M=0;M<this.xE.keys.length;M++)if(this.xE.keys[M]&&this.yf(this.xE.keys[M]))K=M;if(K!=-1){var X;
if(s.Dq!=K)X=this.xE._w[K];if(s.Dq==K)X=(s.ZzA+1)%this.xE.wh[K].length;var d=this.xE.wh[K][X].X.id,W=this.k_.ZEb;
if((W==null||W.indexOf(parseInt(d))!=-1)&&!this.aS.kD)f.data={U:V.a.tq,X:d}}if(j.v(q.RA))f.data={U:V.a.du,im:WV.qi,oV:2};
if(j.v(q.LR))f.data={U:V.a.du,im:WV.qi,oV:3};if(f.data)this.P(f);if(g&&g.b.length!=0){var O=g.T[g.b[0]],H=O.TM;
if(H==1||H==3){var Y=H==3?O.EK(g)._:O.ou(),y=Y.IN?g.N.oJ.join("")=="111"?1:2:0;A.X=o.Cb;if(Y&&j.v(q.Ae)&&y!=0){A.data={U:"mskView",r:0}}if(Y&&j.v(q.ZCN)){A.data={U:"mskView",r:y==1?0:1}}if(Y&&j.v(q.ZCh)){A.data={U:"mskView",r:y==2?0:2}}if(A.data)this.P(A)}}var B=j.td();
if(P&&B!=-1&&this.yf(q.Ro[B])){var c=g.b[0],O=g.T[c],$=V.ZTQ(Math.round(100*O.opacity/255),B);A.X=o.jE;
A.data={U:u.Ux,$:c,Hy:Math.round(255*$/100)};this.P(A)}if(j.v(q.RT))this.BY(this.cg==0?1:0);if(j.v(q.Mh))this.BY(this.cg==0?2:0);
if(j.v(q.ZgG)&&!this.aS.kD){A.X=o.IJ;A.data={U:"qmask"};this.P(A)}}if(!j.v(q.kA)&&!v&&x){var A=new z(V.E.s),f=new z(V.E.O);
if(j.v(q.ZgV))f.data={U:V.a.LW,aj:"shortcuts"};if(j.v(q.Zdu))f.data={U:V.a.LW,aj:"fill"};if(j.v(q.ZdN))f.data={U:V.a.LW,aj:"sel_feather"};
if(P&&(j.v(q.HB)||j.v(q.ue))){var c=g.b[0],O=g.T[c],I=WF.jS,r=I.length,i=I.indexOf(O.T$);A.X=o.jE;A.data={U:u.xY,Hy:(i+r+(j.v(q.HB)?1:-1))%r};
this.P(A)}if(f.data)this.P(f)}var A=new z(V.E.s),U=e=="down"&&(this.yf(q.WS)||this.yf(q.UQ));if((p||v)&&U){A=new z(V.E.$E);
A.data=o.sB.Tb(p?"BckC":"FrgC");this.P(A)}else if(g&&U&&!this.aS.kD){if(g.Z!=null){A=new z(V.E.$E);A.data={Wi:"delete"}}else{A.X=o.jE;
A.data={U:u.Es}}this.P(A)}if(this.Yz.ZF()!=null){if(j.v(q.Ae)){this.Yz.ZF().ZdP()}else{this.Yz.ZF().Pm(g,this,this.k_,j)}}if(this.k_.To==null)return;
var s=this.Hd();if(this.Yz.ZF()==null||this.xE.Di)s.Pm(g,this,this.k_,j)};ft.prototype.yf=function(e){var j=this.OX,g=this.xE.map[this.k_.To].X,top=this.Yz.ZF(),P=this.TD();
return j.v(e)&&!g.FB(e,P)&&(top==null||!top.FB(e,P))};ft.ZZZ=function(){if(!document.mozFullScreen&&!document.ZOT){var e=document.body;
if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else{e.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{document.webkitCancelFullScreen()}}};
ft.prototype.BY=function(e){var j=this.ZJT,g=this._M;this.cg=e;var P=V.Ic,p=this.Dh.l;if(P(p))this.iM.removeChild(p);
var v=this.Iy.l;if(P(v))this.iM.removeChild(v);var x=this.DR.l;if(P(x))j.removeChild(x);var A=this.zT.l;
if(P(A))j.removeChild(A);var f=this.WQ.l;if(P(f))j.removeChild(f);if(e==0){this.iM.appendChild(p);this.iM.appendChild(v);
g.appendChild(j);j.appendChild(x);j.appendChild(A);j.appendChild(f)}if(e==1){this.iM.appendChild(p);
j.appendChild(A)}if(e==2){j.appendChild(A)}this.zT.BY(e==2?1:0);if(document.fullscreenEnabled){if(e==2)document.body.requestFullscreen();
else if(document.fullscreenElement)document.exitFullscreen()}this.If()};function vl(e){WN.call(this);
if(e==null)return;this.LB=null;this.GF=null;this.l=V.M("div","sbar"+" "+e);this.JA=new V.M("div","top");
this.JA.innerHTML="> <";this.l.appendChild(this.JA);this.Ii=1;this.JA.addEventListener("click",this.ZTn.bind(this),!1)}vl.prototype=new WN;
vl.prototype.ZTn=function(e){if(this.LB!=null&&this.LB<500&&this.Ii==0)return;if(this.Ii==0)this.Fi(!0);
else this.collapse(!0)};vl.prototype.ZCY=function(e){this.Ii=e;this.JA.innerHTML=this.Ii==0?"< >":"> <"};
vl.prototype.Znn=function(){var e=new z(V.E.O,!0);e.data={U:V.a.ni};this.P(e)};vl.prototype.Fi=function(e){this.ZCY(1);
if(e)this.Znn()};vl.prototype.collapse=function(e){this.ZCY(0);if(e)this.Znn()};vl.prototype.PT=function(){return this.Ii==1};
function en(e){vl.call(this,"vcolumn");this.Jj=e;this.PE();this.uG=V.M("div");this.uG.setAttribute("style","cursor:default;");
this.ZJK=this.ZTy.bind(this);this.ZId=this.ZTa.bind(this);this.ZID=this.ZTN.bind(this);V.lI(this.l,this.ZJK);
this.l.appendChild(this.uG);this.mZ=V.M("div","");this.uG.appendChild(this.mZ);this.IH=null;this.Is=V.M("div","float");
this.dK=[];this.ZIM=null;this.ZHV=0}en.prototype=new vl;en.prototype.ZTy=function(e){if(e.target!=this.l)return;
if(!this.PT())return;this.ZIM=V.nX(e,document.body);this.ZHV=this.Jj;V.FK(document,this.ZId);V.FQ(document,this.ZID)};
en.prototype.ZTa=function(e){var j=V.nX(e,document.body);this.Jj=this.ZHV+this.ZIM.x-j.x;this.PE();var g=new z(V.E.O,!0);
g.data={U:V.a.ni};this.P(g)};en.prototype.ZTN=function(e){V._L(document,this.ZId);V.fz(document,this.ZID)};
en.prototype.ZTz=function(e){e.S("showFloat",this.ZnA,this);e.S("hideFloat",this.wt,this);this.dK.push(e);
e.parent=this;this.uG.appendChild(e.l)};en.prototype.ZTH=function(e){var j=this.dK[e];j.removeEventListener("showFloat",this.ZnA,this);
j.removeEventListener("hideFloat",this.wt,this);this.dK.splice(e,1);j.parent=null;this.uG.removeChild(j.l)};
en.prototype.ZTA=function(){return this.dK.length};en.prototype.jR=function(){for(var e=0;e<this.dK.length;
e++)this.dK[e].jR()};en.prototype.ZnA=function(e){this.wt(e);this.mZ.appendChild(this.Is);this.IH=e.currentTarget.NA;
this.Is.appendChild(this.IH);var j=e.currentTarget.bo(),g="";if(j.x!=0)g+="width : "+j.x+"px;";if(j.y!=0)g+="height: "+j.y+"px;";
this.Is.setAttribute("style",g);this.Ov(this.LB,this.GF)};en.prototype.wt=function(e){this.jR();if(this.IH){this.mZ.removeChild(this.Is);
this.Is.removeChild(this.IH);this.IH=null}};en.prototype.PE=function(){this.l.setAttribute("style","width: "+this.Jj+"px; padding-left:3px; cursor:ew-resize;")};
en.prototype.Fi=function(e){this.PE();this.wt();for(var j=0;j<this.dK.length;j++)this.dK[j].Fi();vl.prototype.Fi.call(this,e)};
en.prototype.collapse=function(e){this.l.removeAttribute("style");for(var j=0;j<this.dK.length;j++)this.dK[j].collapse();
vl.prototype.collapse.call(this,e)};en.prototype.Ov=function(e,j){this.LB=e;this.GF=j;var g=this.dK.length,P=this.PT();
j-=6;if(g==0)return;e=this.Jj;var p=j;for(var v=0;v<g-1;v++){var x=this.dK[v],A=x.ZtW();x.Ov(e,P?A:j);
p-=A}this.dK[g-1].Ov(e,P?p:j)};function fE(e){WN.call(this);this.l=V.M("div");this.uG=null;this.PN=0;
this.XV=0;this.ZHn=e;this.ZJp=this.QN.bind(this);this.ZHB=this.Aw.bind(this);this.ZHX=this.Sy.bind(this);
this.eF=null;this.IA=null;this.mf=null;V.lI(this.l,this.ZJp);var j=this.l,P="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
j.addEventListener("touchmove",V.WC,!1);this.ZSW=!0;this.op=[];var g=this.ZHw=V.M("div");g.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.l.appendChild(g);var p=["<img style=\"height:22px; cursor:pointer;\" title=\"Try Cartoon Animator!\" />",[0,13,3],[0,13,4],[0,13,5],"Blog","API",P+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",P+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var v=0;v<p.length;v++){var x=new WI(p[v]);this.op.push(x);x.l.setAttribute("style","margin-left:4px;cursor:pointer;");
x.S("click",this.wr,this)}}fE.prototype=new WN;fE.prototype.w=function(){var e=this.ZHw;V.kO(e);for(var j=0;
j<this.op.length;j++){var g=this.op[j];g.w();var P=Date.now()<1580658412982&&!Ws.Lq();if(j!=0||P)e.appendChild(g.l)}};
fE.prototype.wr=function(e){var j=this.op.indexOf(e.currentTarget);if(j==1){if(window.showCap)window.showCap();
return}var g="CTA  issues learn blog api twitter facebook".split(" "),P="//bit.ly/34sCf9r  //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //twitter.com/photopeacom //www.facebook.com/photopea/".split(" "),p=window.ga;
if(p)p("send","event","Links",g[j]);var v=new z(V.E.O,!0);v.data={U:V.a.pa,link:P[j]};this.P(v)};fE.prototype.QN=function(e){if(e.ZJA){e.preventDefault();
e.stopPropagation()}var j=window;V.FK(j,this.ZHB);V.FQ(j,this.ZHX);j=this.uG;this.eF=new Uc(parseInt(j.style.left),parseInt(j.style.top));
this.IA=V.nX(e,this.l);this.mf=j.getBoundingClientRect()};fE.prototype.Aw=function(e){var j=V.nX(e,this.l),g=this.eF.x+j.x-this.IA.x,P=this.eF.y+j.y-this.IA.y,p=this.PN-this.mf.width,v=this.XV-this.mf.height;
if(this.ZHn)this.uG.style.left=Math.min(0,Math.max(p,g))+"px";else this.uG.style.top=Math.min(0,Math.max(v,P))+"px";
if(g-10>0){this.IA.x=j.x-10;this.eF.x=0}if(g+10<p){this.IA.x=j.x+10;this.eF.x=p}};fE.prototype.Sy=function(e){var j=window;
V._L(j,this.ZHB);V.fz(j,this.ZHX)};fE.prototype.ZTj=function(e){if(this.uG){this.l.removeChild(this.uG)}this.uG=e;
this.l.appendChild(e);e.style.position="absolute";if(this.ZHn)e.style.left=0;else e.style.top=0};fE.prototype.Ov=function(e,j){this.PN=e;
this.XV=j;this.l.setAttribute("style","width: "+e+"px; height: "+j+"px; overflow:hidden; white-space: nowrap;");
var g=this.uG.firstChild,P=this.ZHw,p=g?g.firstChild.getBoundingClientRect().width+80:1e9,v=450,x=this.ZSW&&e>p+v,A=V.Mz,f=A("b`bRH"),S=A("SU\\VOAV");
P[f][S]=x?"":A("][WK")};function ZQ(){WN.call(this);this.tS=null;this.Fr=ZQ.HD;this.ZsL="";this.l=V.M("div","rightbar");
this.LJ=[new en(380),new en(265)];this.dK=[new ZV,new ZV,new ZV,new ZV,new ZV];this.Zsp=[]}ZQ.prototype=new WN;
ZQ.prototype.w=function(){var e=this.Fr;for(var j=0;j<e.length;j++)e[j].JR.w()};ZQ.HD=[{JR:new e$,Rk:2},{JR:new Wm,Rk:3},{JR:new vK,Rk:1},{JR:new fT(!0),Rk:4},{JR:new fY,Rk:0},{JR:new Zy,Rk:2},{JR:new xp,Rk:4},{JR:new Zw,Rk:4},{JR:new fq,Rk:2},{JR:new fc,Rk:0},{JR:new Zj,Rk:2},{JR:new UY,Rk:1},{JR:new fh,Rk:3},{JR:new Vz,Rk:2},{JR:new fT(!1),Rk:4},{JR:new ZX,Rk:1},{JR:new xr,Rk:4},{JR:new vn,Rk:2},{JR:new xi,Rk:0}];
ZQ.prototype.ZTM=function(e){for(var j=0;j<e.length;j++){var g=e[j],P=new xO(g);this.Fr.push({JR:P,Rk:2});
this.Zsp.push(P.PZ)}this.TE()};ZQ.prototype.wY=function(e,j){this.tS=e;var g=this.Fr;for(var P=0;P<g.length;
P++)g[P].JR.wY(e,j);if(j==WV.IX||j==WV.oY)this.TE()};ZQ.prototype.Ov=function(e,j){this.LB=e;this.GF=j;
this.LJ[0].Ov(e,j);this.LJ[1].Ov(e,j)};ZQ.prototype.TE=function(){var e=this.tS,j=this.LB;if(e==null||j==0)return;
var g=e.$G.concat(this.Zsp);if(JSON.stringify(g)!=this.ZsL){this.ZsL=JSON.stringify(g);V.kO(this.l);
var P=[];for(var p=0;p<this.LJ.length;p++){var v=this.LJ[p];P[p]=v.PT();while(v.ZTA()!=0)v.ZTH(0);v.Fi()}var x=[];
for(var p=0;p<this.dK.length;p++){var A=this.dK[p];A.Fi();while(A.ZtX()!=0)A.yr(0);x.push(0)}for(var p=0;
p<g.length;p++){var f=this.ZBZ(g[p].toString());this.dK[f.Rk].Bl(f.JR);this.dK[f.Rk].LQ(0);x[f.Rk]++}var S=[];
for(var p=0;p<x.length;p++){if(x[p]==0)continue;var F=p<2||j<500?1:0,v=this.LJ[F];v.parent=this;v.ZTz(this.dK[p]);
S[F]=!0}for(var p=0;p<this.LJ.length;p++)if(S[p])this.l.appendChild(this.LJ[p].l);this.LJ[0].collapse();
if(j<500||this.tS.compact||!P[1]){this.LJ[1].collapse()}var m=new z(V.E.O,!0);m.data={U:V.a.ni};this.P(m)}};
ZQ.prototype.ZBZ=function(e){for(var j=0;j<this.Fr.length;j++)if(this.Fr[j].JR.PZ==e)return this.Fr[j]};
ZQ.prototype.ZTb=function(e){var j=this.ZBZ(e);this.dK[j.Rk].Bl(j.JR)};ZQ.prototype.VJ=function(e,j,g){var P=this.Fr;
for(var p=0;p<P.length;p++)P[p].JR.VJ(e,j,g)};ZQ.prototype.Lr=function(e,j,g,P,p){var v=this.Fr;for(var x=0;
x<v.length;x++)v[x].JR.Lr(e,j,g,P,p)};ZQ.prototype.tg=function(e,j,g,P,p){var v=this.Fr;for(var x=0;
x<v.length;x++)v[x].JR.tg(e,j,g,P,p)};ZQ.prototype.jT=function(e,j,g,P,p){var v=this.Fr;for(var x=0;
x<v.length;x++)v[x].JR.jT(e,j,g,P,p)};function Vp(e,j){vl.call(this,"toolbar");this.ZKG=null;this.Ff=V.M("div","tools");
this.l.appendChild(this.Ff);this.fi=null;this.ZJP=j;this.Ee=null;this.xE=null;this.xC=null;this.cb=null;
this.XF=null;this.Zyn(e);this.Jm=new xG;this.Jm.S(V.E.m,this.Mk,this);this.Jm.parent=this;this.gK=new xG;
this.gK.S(V.E.m,this.Mk,this);this.gK.parent=this;this.iE=new WI(V.MR("lrs/mask"),!1,[6,6,1]);this.iE.l.style.marginTop="6px";
this.iE.S("click",function(P){var p=new z(V.E.s,!0);p.X=o.IJ;p.data={U:"qmask"};this.P(p)},this);this.mx=V.M("span","scont");
this.Ij=V.M("button","switch");this.Ij.textContent="\u21F5";this.JY=V.M("button","switch");this.JY.textContent="D";
var g=this.ZzO.bind(this);this.Ij.addEventListener("click",g,!1);this.JY.addEventListener("click",g,!1);
this.mx.appendChild(this.Ij);this.mx.appendChild(this.JY)}Vp.prototype=new vl;Vp.prototype.Zzf=function(e,j){this.Ee=j;
if(e==null||e.b.length==0)return;var g=e.iE()!=null,P=e.N.oJ,p=e.T[e.b[0]].TM,v=p==1||p==3||g||P[0]+P[1]+P[2]==1;
this.Jm.Zey(v);this.gK.Zey(v);this.iE.J(g)};Vp.prototype.Zyn=function(e){this.ZKG=e;this.xC=[];this.cb=[];
this.XF=[];this.xE=[];var j=e.wh;if(this.fi){var g=[],P=this.fi.ZEb;for(var p=0;p<j.length;p++){if(j[p]=="---"){g.push("---");
continue}var v=[];for(var x=0;x<j[p].length;x++){var A=j[p][x];if(P==null||P.indexOf(parseInt(A.X.id))!=-1)v.push(A)}if(v.length>0)g.push(v)}j=g}for(var p=0;
p<j.length;p++){if(j[p]=="---"){this.XF.push(null);this.cb.push("---");continue}var f=[],S=this.xC.length;
for(var x=0;x<j[p].length;x++){var A=j[p][x].X;this.xE.push(A);var F=new fQ(A.name,e.keys[p],A.jD,this.xC.length,p,j[p].length>1);
this.xC.push(F);if(x==0)this.cb.push(F);F.S(V.E.m,this.VB,this);F.S("mover",this.Iq,this);f.push({name:A.name,jk:A.jD,uz:e.keys[p]?e.keys[p].WI:""})}if(f.length==1)this.XF.push(null);
else{var m=new Zn(f);m.Zup=S;m.Dq=p;this.XF.push(m);m.S("select",this.ZzI,this);m.parent=this}}};Vp.prototype.Ov=function(e,j){var g=j-11,P=32;
if(1<V.I()&&V.I()<1.5)P=18+14*(1/V.I());var p=(this.cb.length-3)*P+3*5+61+18,v=Math.min(1,g/p);if(.75<=v){this.Ff.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+v+","+v+");");
this.l.setAttribute("style","height:"+(j-2)+"px; overflow:hidden")}else{g-=4;this.Ff.setAttribute("style","height: "+g+"px;  width:"+Math.ceil(p/g)*34+"px");
this.l.setAttribute("style","")}};Vp.prototype.w=function(){for(var e=0;e<this.xC.length;e++)this.xC[e].w();
for(var e=0;e<this.XF.length;e++)if(this.XF[e])this.XF[e].w();this.Ij.setAttribute("title",Zr.get([22,7,0])+" (X)");
this.JY.setAttribute("title",Zr.get([22,7,1])+" (D)")};Vp.prototype.VB=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.tq,X:this.xE[e.id].id};this.P(j)};Vp.prototype.ZzI=function(e){var j=e.target.Zup+e.target.HU()[0];
this.xC[j].Sy(null)};Vp.prototype.Iq=function(e){var j=this.Ee,g=new z(V.E.O,!0);g.data={U:V.a.Ey};this.P(g);
var P=e.target,p=this.XF[P.Dq];if(p==null)return;var v=P.l.getBoundingClientRect(),g=new z(V.E.O,!0);
g.data={U:V.a.LD,JR:p,x:v.left+v.width+8,y:v.top};if(j==null||!(j.v(q.Er)||j.v(q.kA)))this.P(g)};Vp.prototype.Mk=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.du,im:WV.qi,oV:e.target==this.Jm?0:1,r:e.target.Hu()};this.P(j)};Vp.prototype.ZzO=function(e){var j=new z(V.E.O,!0);
j.data={U:V.a.du,im:WV.qi,oV:e.currentTarget==this.Ij?2:3};this.P(j)};Vp.prototype.lQ=function(e){var j=-1;
for(var g=0;g<this.xE.length;g++)if(this.xE[g].id==e)j=g;for(var g=0;g<this.xC.length;g++){var P=this.xC[g];
P.ZzX(j==g)}if(j==-1)return;this.cb[this.xC[j].Dq]=this.xC[j];V.kO(this.Ff);var p=this.cb;for(var g=0;
g<p.length;g++){if(p[g]=="---")this.Ff.appendChild(V.M("hr"));else this.Ff.appendChild(p[g].l)}if(!this.ZJP)return;
this.Ff.appendChild(this.Jm.l);this.Ff.appendChild(this.mx);this.Ff.appendChild(this.gK.l);this.Ff.appendChild(this.iE.l)};
Vp.prototype.VJ=function(e,j){this.lQ(j.To)};Vp.prototype.wY=function(e,j){this.fi=e;if(j==WV.oY){this.Zyn(this.ZKG);
this.lQ(e.To)}this.Jm.oE(e.Jm);this.gK.oE(e.gK)};function fQ(e,j,g,P,p,v){WN.call(this);this.Sl=0;this.Zuo=this.ZzP.bind(this);
this.Dq=p;this.RM=P;this.x$=e;this.ZKS=j;this.Zul=v;this.jD=g;this.l=V.M("button","");this.l.innerHTML=V.MR(this.jD);
if(this.Zul){var x=V.M("img","gsicon");x.setAttribute("src",PIMG["tools/corner"]);x.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.l.appendChild(x)}this.w();V.lI(this.l,this.QN.bind(this));this.l.addEventListener("click",this.Sy.bind(this),!1);
this.l.addEventListener("contextmenu",fQ.nx,!1)}fQ.prototype=new WN;fQ.nx=function(e){e.stopPropagation();
e.preventDefault();return!1};fQ.prototype.w=function(){var e=this.ZKS?" ("+this.ZKS.WI+")":"";this.l.setAttribute("title",Zr.get(this.x$)+e)};
fQ.prototype.QN=function(e){this.Sl=setTimeout(this.Zuo,160)};fQ.prototype.Sy=function(e){clearTimeout(this.Sl);
var j=new z(V.E.m,!1);j.target=this;j.id=this.RM;this.P(j)};fQ.prototype.ZzP=function(e){var j=new z("mover",!1);
j.target=this;j.id=this.RM;this.P(j)};fQ.prototype.ZzX=function(e){this.l.setAttribute("class",e?"toolbtn active":"toolbtn")};
function ei(){WN.call(this);this.l=V.M("div","topbar");this.Jk=V.M("span","");this.Z$Z=0;this.l.appendChild(this.Jk);
this.fp=null;this.md=null;this.Ol=[];this.$G=[];var e=this.QN.bind(this);for(var j=0;j<ei.data.length;
j++){var g=V.M("button");this.Ol.push(g);this.Jk.appendChild(g);g.addEventListener("mouseover",e,!1);
V.lI(g,e)}this.Dl=new WI([0,13,0],!1,null,!0);this.Dl.S("click",this.Zip,this);this.l.appendChild(this.Dl.l);
this.IF=new WI(V.MR("tools/zoom",null,"autoscale"),!1,[12,86]);this.IF.S("click",this.Zip,this);this.l.appendChild(this.IF.l)}ei.prototype=new WN;
ei.prototype.Zir=function(){if(this.$G.length!=0)return;for(var e=0;e<ei.data.length;e++){var j=ei.data[e],g=new Zn(j.items,j.iQ);
g.parent=this;this.$G.push(g)}this.w()};ei.prototype.w=function(){this.Dl.w();this.IF.w();for(var e=0;
e<this.Ol.length;e++)this.Ol[e].textContent=Zr.get(ei.data[e].name);this.ZNY();for(var e=0;e<this.$G.length;
e++)this.$G[e].w()};ei.prototype.Zip=function(e){var j=new z(V.E.O,!0);if(e.target==this.Dl)j.data={U:V.a.LW,aj:"account"};
else j.data={U:V.a.IZ};this.P(j)};ei.prototype.ZzF=function(e,j){this.fp=e;this.md=j};ei.prototype.wY=function(e,j){this.md=e;
if(j==WV.oY){var g=e.ZJE;V.kO(this.Jk);for(var P=0;P<this.Ol.length;P++){if(g==null||g[P]==1||g[P]instanceof Array)this.Jk.appendChild(this.Ol[P]);
if(g!=null&&g[P]instanceof Array){this.Zir();this.$G[P].ZGh(g[P])}}this.l.removeChild(this.Dl.l);this.l.removeChild(this.IF.l);
if(e.Dj)this.l.appendChild(this.Dl.l);this.l.appendChild(this.IF.l)}this.ZNY()};ei.prototype.ZNY=function(e,j){var g=this.Dl,P=12255232;
if(Ws.Xo())P=Ws.Lq()?43520:16755200;g.l.setAttribute("style","color:#ffffff; background-color:#"+Z.jz(P))};
ei.prototype.QN=function(e){this.Zir();var j=this.Ol.indexOf(e.currentTarget),g=this.$G[j];if(e.type=="mouseover"&&!V.Ic(this.$G[this.Z$Z].l))return;
if(V.Ic(g.l))return;e.ZJA=!0;this.Z$Z=j;for(var j=0;j<ei.data.length;j++)this.$G[j].update(this.fp,this.md);
var P=e.target.getBoundingClientRect(),p=new z(V.E.O,!0);p.data={U:V.a.LD,JR:g,x:P.left,y:P.top+P.height+2,ZVD:!0};
this.P(p)};ei.ZDy=function(e){var j={name:[0,5],items:[{name:[7,0],uz:"Ctrl+A"},{name:[7,1],uz:"Ctrl+D",p:function(P){return{p:P!=null&&P.Z!=null}}},{name:[7,2],uz:"Shift+Ctrl+I",p:function(P){return{p:P!=null&&P.Z!=null}},pU:!0},{name:[7,11],BJ:!0,p:function(P){return{p:P!=null&&P.b.length!=0&&!P.T[P.b[0]].rect.tE()}}},{name:"Magic Cut",BJ:!0,p:function(P){return{p:P!=null&&P.b.length!=0&&!P.T[P.b[0]].rect.tE()}},pU:!0},{name:[7,8],BJ:!0},{name:[7,3],pU:!0,sub:[{name:[7,9],BJ:!0,p:function(P){return{p:P!=null&&P.Z!=null}}},{name:[19,3,0],BJ:!0,p:function(P){return{p:P!=null&&P.Z!=null}}},{name:[7,4],BJ:!0,p:function(P){return{p:P!=null&&P.Z!=null}}},{name:[7,5],BJ:!0,p:function(P){return{p:P!=null&&P.Z!=null}}},{name:[7,6],BJ:!0,p:function(P){return{p:P!=null&&P.Z!=null}},uz:"Shift+F6"}]},{name:[7,10],p:function(P){return{p:P!=null&&P.Z!=null}}}],iQ:[{i:V.E.$E,q:o.gs.CP(!0)},{i:V.E.$E,q:o.gs.CP()},{i:V.E.$E,q:{Wi:"inverse"}},{i:V.E.O,q:{U:V.a.LW,aj:"redge"}},{i:V.E.O,q:{U:V.a.LW,aj:"magiccut"}},{i:V.E.O,q:{U:V.a.LW,aj:"crange"}},{sub:[{i:V.E.O,q:{U:V.a.LW,aj:"sel_border"}},{i:V.E.O,q:{U:V.a.LW,aj:"sel_smoothness"}},{i:V.E.O,q:{U:V.a.LW,aj:"sel_expand"}},{i:V.E.O,q:{U:V.a.LW,aj:"sel_contract"}},{i:V.E.O,q:{U:V.a.LW,aj:"sel_feather"}}]},{i:V.E.O,q:{U:V.a.tq,X:o.Pr}}]};
if(e){var g=j.items.length-1;j.items.splice(g,0,{name:[10,16],uz:"Alt+Ctrl + T"});j.iQ.splice(g,0,{i:V.E.O,q:{U:V.a.tq,X:o.Sf}})}return j};
ei.data=[{name:[0,0],items:[{name:[5,3],uz:"Alt+Ctrl+N",title:[11,7],BJ:!0},{name:[1,0],uz:"Ctrl+O",BJ:!0},{name:[1,11],BJ:!0,p:function(e,j){return{p:e!=null}}},{name:[1,5],BJ:!0,pU:!0},{name:[11,0]},{name:[1,1],pU:!0,sub:[{name:"PNG",uz:"Imgur.com",p:function(e,j){return{p:e!=null&&j.cD}}},{name:"PSD",uz:"Photopea.com",p:function(e,j){return{p:e!=null&&j.cD}}}]},{name:"Save ...",uz:"Ctrl+S",p:function(e,j){var g=Zr.get([1,2])+(e==null?"":e.OZ?" (Smart Object)":e.OL?" (Google Drive)":"");
return{p:e!=null&&(e.OZ!=null||e.$_!=null&&e.$_.SM!=null||e.OL!=null||j.DL.save!=null),Of:g}}},{name:[1,3],p:function(e,j){return{p:e!=null&&j.cD}}},{name:[1,8],sub:function(){var e=Wg.FO(0),j=[];
for(var g=0;g<e.length;g++)j.push({name:e[g],uz:"."+e[g].toLowerCase()});j.push({name:[0,14],sub:function(){var e=Wg.FO(1),j=[];
for(var g=0;g<e.length;g++)j.push({name:e[g],uz:"."+e[g].toLowerCase()});return j}()});return j}()},{name:[1,9],BJ:!0,p:function(e,j){return{p:e!=null}},pU:!0},{name:"File Info",BJ:!0,p:function(e,j){return{p:e!=null}},pU:!0,uz:"Alt+Shift+Ctrl+I"},{name:[1,10]}],iQ:[{i:V.E.O,q:{U:V.a.LW,aj:"newproject"}},{i:V.E.O,q:{U:V.a.Wk}},{i:V.E.O,q:{U:V.a.Wk,Zz_:!0}},{i:V.E.O,q:{U:V.a.LW,aj:"open_from_url"}},{i:V.E.O,q:{U:V.a.LW,aj:"camera"}},{sub:[{i:V.E.O,q:{U:V.a.Ej,QJ:"png"}},{i:V.E.O,q:{U:V.a.Ej,QJ:"psd"}}]},{i:V.E.O,q:{U:V.a.vW}},{i:V.E.O,q:{U:V.a.MI}},{sub:function(){var e=Wg.FO(0),j=[];
for(var g=0;g<e.length;g++)j.push({i:V.E.O,q:{U:V.a.LW,aj:"saveforweb",QJ:g}});j.push({sub:function(){var P=Wg.FO(0).length,e=Wg.FO(1),j=[];
for(var g=0;g<e.length;g++)j.push({i:V.E.O,q:{U:V.a.LW,aj:"saveforweb",QJ:P+g}});return j}()});return j}()},{i:V.E.O,q:{U:V.a.LW,aj:"eassets"}},{i:V.E.O,q:{U:V.a.LW,aj:"finfo"}},{i:V.E.O,q:{U:V.a.LW,aj:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],uz:"Shift+Ctrl + Z"},{name:[2,1],uz:"Ctrl + Z",pU:!0},{name:[2,11],uz:"Shift+Ctrl + F",pU:!0,BJ:!0,p:function(e,j){return{p:ZS.Zqb(e)&&j.To!=o.Sf}}},{name:[5,0],uz:"Ctrl + X"},{name:[5,1],uz:"Ctrl + C"},{name:[5,7],uz:"Shift + Ctrl + C"},{name:[5,2],uz:"Ctrl + V",p:function(e,j){return{p:V.Wj()||j.vV!=null||j.cY!=null||j.ZSw!=null}}},{name:[2,2],p:function(e){return{p:e!=null&&e.Z!=null}},uz:"Delete",pU:!0},{name:[2,3],p:function(e){return{p:e!=null}},BJ:!0,uz:"Shift + F5"},{name:[14,9],p:function(e){return{p:e!=null}},BJ:!0,pU:!0},{name:[10,46],p:function(e){return{p:o.at.ZDF(e)}}},{name:[10,16],uz:"Alt+Ctrl + T"},{name:[2,4],sub:eR.ZdQ()},{name:[2,10],pU:!0},{name:[12,87],sub:[{name:[12,62],p:function(e){return{p:e!=null}}},{name:[9,3],p:function(e){return{p:e!=null}}},{name:[10,31],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.vmsk!=null}}}]},{name:[12,79],BJ:!0,uz:"Ctrl + K"},{name:[1,13],BJ:!0}],iQ:[{i:V.E.s,X:o.Fy,q:{U:"h_undoredo"}},{i:V.E.s,X:o.Fy,q:{U:"h_stepfwd"}},{i:V.E.s,X:o.Fy,q:{U:"h_stepbck"}},{i:V.E.O,q:{U:V.a.LW,aj:"afw_fade"}},{i:V.E.O,q:{U:V.a.Eh}},{i:V.E.O,q:{U:V.a.vv}},{i:V.E.O,q:{U:V.a.vv,PA:!0}},{i:V.E.O,q:{U:V.a.O_}},{i:V.E.$E,q:{Wi:"delete"}},{i:V.E.O,q:{U:V.a.LW,aj:"fill"}},{i:V.E.O,q:{U:V.a.LW,aj:"stroke"}},{i:V.E.s,X:o.pR,q:{U:"start",Ln:"\0\0\x03\x82"}},{i:V.E.O,q:{U:V.a.tq,X:o.Sf}},{sub:eR.ZBt()},{i:V.E.s,X:o.jE,q:{U:u.Zfo}},{sub:[{i:V.E.O,q:{U:V.a.np,im:0}},{i:V.E.O,q:{U:V.a.np,im:1}},{i:V.E.O,q:{U:V.a.np,im:2}}]},{i:V.E.O,q:{U:V.a.LW,aj:"preferences"}},{i:V.E.O,q:{U:V.a.LW,aj:"locstor"}}]},{name:[0,2],items:[{name:[3],sub:function(){var e=[];
for(var j in Wj.names){e.push({name:Wj.names[j],BJ:Q[j]!=null,uz:q.ZJG(Wj.keys[j]),pU:Wj.ZEf.indexOf(j)!=-1});
if(j=="selc")e.push({name:[19,7,0],uz:"Ctrl+Shift + U"})}return e}()},{name:[4,16,0],p:function(e){return{p:e!=null&&e.TA(!1)}}},{name:[4,16,1],p:function(e){return{p:e!=null&&e.TA(!1)}}},{name:[4,16,2],p:function(e){return{p:e!=null&&e.TA(!1)}},pU:!0},{name:[11,11],p:function(e){return{p:e!=null&&e.TA(!1)}},pU:!0},{name:[11,3],BJ:!0,uz:"Alt+Ctrl+C"},{name:[11,10],BJ:!0,uz:"Alt+Ctrl+I"},{name:[2,4],sub:[{name:"90\xB0 \u21BB",p:function(e){return{Of:Zr.get([2,5])+" 90\xB0 \u21BB"}}},{name:"90\xB0 \u21BA",p:function(e){return{Of:Zr.get([2,5])+" 90\xB0 \u21BA"}}},{name:"180\xB0 ",p:function(e){return{Of:Zr.get([2,5])+" 180\xB0"}}},{name:[2,6,[22,4,2]]},{name:[2,6,[22,4,3]]}]},{name:[11,12,1],p:function(e){return{p:e!=null&&e.Z!=null}}},{name:[11,12,0],p:function(e){return{p:e!=null}},uz:"Ctrl + ."},{name:[11,12,2],p:function(e){return{p:e!=null}}}],iQ:[{sub:function(){var e=[];
for(var j in Wj.names){e.push({i:V.E.s,X:o.Zn,q:{U:"start",dh:j}});if(j=="selc")e.push({i:V.E.$E,q:{Wi:"desaturate"}})}return e}()},{i:V.E.$E,q:{Wi:"levels",HR:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{i:V.E.$E,q:{Wi:"levels",HR:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{i:V.E.$E,q:{Wi:"levels",HR:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{i:V.E.O,q:{U:V.a.LW,aj:"vbitmap"}},{i:V.E.O,q:{U:V.a.LW,aj:"csize"}},{i:V.E.O,q:{U:V.a.LW,aj:"isize"}},{sub:[{i:V.E.$E,q:o.t.SD(!0,90)},{i:V.E.$E,q:o.t.SD(!0,-90)},{i:V.E.$E,q:o.t.SD(!0,-180)},{i:V.E.$E,q:o.t.SD(!1,"Hrzn")},{i:V.E.$E,q:o.t.SD(!1,"Vrtc")}]},{i:V.E.s,X:o.EM,q:{U:"cropbysel",Zte:0}},{i:V.E.$E,q:o.oo.ag(0)},{i:V.E.$E,q:{Wi:"revealAll",HR:{classID:"RvlA"}}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3]},{name:[0,4]},{name:[6,49],uz:"Ctrl + J"}]},{name:[6,0],uz:"Ctrl + J"},{name:[11,4],p:function(e){return{p:e!=null}}},{name:[5,4],pU:!0},{name:[11,6],pU:!0,p:function(e){return{p:e!=null&&e.b.length!=0}},sub:Zu.ZVf(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],pU:!0,sub:Zu.ZCC()},{name:[6,2],sub:[{name:[6,4],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()==null}}},{name:[6,5,0],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()==null}}},{name:[6,5,1],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()==null&&e.Z!=null}}},{name:[6,5,2],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()==null&&e.Z!=null}}},{name:[6,5,3],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()==null}},pU:!0},{name:[5,4],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()!=null}}},{name:[5,8],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()!=null&&e.TA(!1,!0)}}},{name:"Enable/Disable",p:function(e){return{Of:Zr.get([5,5])+"/"+Zr.get([5,6]),p:e!=null&&e.b.length!=0&&e.T[e.b[0]].ou()!=null}}}]},{name:[6,3],sub:[{name:[6,4],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.vmsk==null}}},{name:[6,5,0],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.vmsk==null}}},{name:"Current Path",p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.vmsk==null}},pU:!0},{name:[5,4],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.vmsk!=null}}},{name:"Enable/Disable",p:function(e){return{Of:Zr.get([5,5])+"/"+Zr.get([5,6]),p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.vmsk!=null}}}]},{name:[6,6,0],uz:"Alt+Ctrl+G",pU:!0,p:function(e){return{by:e!=null&&e.b.length!=0&&e.T[e.b[0]].qX,p:e!=null&&e.oW(e.b[0])}}},{name:"Smart Object",pU:!0,sub:[{name:[6,7]},{name:[1,0],p:function(e){return{p:e!=null&&e.b.length!=0&&e.T[e.b[0]].add.SoLd!=null}}}]},{name:[6,8],p:function(e){if(e==null||e.b.length==0)return{p:!1};
var j=e.T[e.b[0]];if(j.add.TySh||j.add.SoLd||j.add.SoCo||j.add.GdFl||j.add.PtFl)return{p:!0};return{p:!1}}},{name:[6,34],pU:!0,p:function(e){if(e==null||e.b.length==0)return{p:!1};
var j=e.T[e.b[0]];return{p:j.add.lmfx!=null&&!j.CQ()}}},{name:[6,9],pU:!0,uz:"Ctrl+G"},{name:[6,55],pU:!0,sub:[{name:[6,56,0],uz:"Shift+Ctrl+]"},{name:[6,56,1],uz:"Ctrl+]"},{name:[6,56,2],uz:"Ctrl+["},{name:[6,56,3],uz:"Shift+Ctrl+["}]},{name:"Animation",sub:[{name:[18,5]}]},{name:[6,10],p:function(e){return{p:e!=null&&e.b.length==1&&e.b[0]!=0&&!e.T[e.b[0]].CQ()}},uz:"Ctrl+E"},{name:[6,12,0],p:function(e){return{p:e!=null&&e.b.length!=0&&(e.b.length>1||e.T[e.b[0]].CQ())}}},{name:[6,12,1]}],iQ:[{sub:[{i:V.E.s,X:o.jE,q:{U:u.ER}},{i:V.E.s,X:o.jE,q:{U:u.FI}},{i:V.E.s,X:o.jE,q:{U:u.Un}}]},{i:V.E.s,X:o.jE,q:{U:u.hq}},{i:V.E.O,q:{U:V.a.LW,aj:"duplinto"}},{i:V.E.s,X:o.jE,q:{U:u.Es}},{sub:Zu.Zux(!0)},{sub:[{i:V.E.s,X:o.jK,q:{U:"newfill",Gm:0}},{i:V.E.$E,q:o.yQ.Tb(1)},{i:V.E.$E,q:o.yQ.Tb(2)}]},{sub:Zu.Zgr()},{sub:[{i:V.E.s,X:o.jE,q:{U:u.ah,zJ:"RvlA"}},{i:V.E.s,X:o.jE,q:{U:u.ah,zJ:"HdAl"}},{i:V.E.s,X:o.jE,q:{U:u.ah,zJ:"RvlS"}},{i:V.E.s,X:o.jE,q:{U:u.ah,zJ:"HdSl"}},{i:V.E.s,X:o.jE,q:{U:u.ah,zJ:"Trns"}},{i:V.E.s,X:o.jE,q:{U:u.Kb}},{i:V.E.s,X:o.jE,q:{U:u.qH}},{i:V.E.s,X:o.jE,q:{U:u.xz}}]},{sub:[{i:V.E.s,X:o.jE,q:{U:u.EP,ZtV:!1}},{i:V.E.s,X:o.jE,q:{U:u.EP,ZtV:!0}},{i:V.E.s,X:o.jE,q:{U:u.EP,ZGr:!0}},{i:V.E.s,X:o.jE,q:{U:u.$f}},{i:V.E.s,X:o.jE,q:{U:u.KW}}]},{i:V.E.s,X:o.jE,q:{U:u.UU}},{sub:[{i:V.E.$E,q:{Wi:"newPlacedLayer"}},{i:V.E.$E,q:{Wi:"placedLayerEditContents",HR:{classID:"placedLayerEditContents"}}}]},{i:V.E.$E,q:{Wi:"rasterizeLayer",HR:{classID:"rasterizeLayer",null:vT.EG("Lyr",!0)}}},{i:V.E.s,X:o.jE,q:{U:u.qT}},{i:V.E.s,X:o.jE,q:{U:u.$v}},{sub:[{i:V.E.s,X:o.jE,q:{U:u.UB,oV:0}},{i:V.E.s,X:o.jE,q:{U:u.UB,oV:1}},{i:V.E.s,X:o.jE,q:{U:u.UB,oV:2}},{i:V.E.s,X:o.jE,q:{U:u.UB,oV:3}}]},{sub:[{i:V.E.s,X:o.jE,q:{U:u.ZBA}}]},{i:V.E.s,X:o.jE,q:{U:u.xN}},{i:V.E.s,X:o.jE,q:{U:u.up}},{i:V.E.$E,q:{Wi:"flattenImage"}}]},ei.ZDy(!1),function(){var e={name:[0,6],items:[{name:[24,18,4],uz:"Alt + Ctrl + F",pU:!0}],iQ:[{i:V.E.s,X:o.pR,q:{U:"applylast"}}]};
for(var j=0;j<ZW.fP.length;j++){var g=ZW.fP[j];if(g.am!=null){e.items.push({name:ZW.names[g.am],BJ:!0,pU:g.pU});
e.iQ.push({i:V.E.s,X:o.pR,q:{U:"start",Ln:g.am}});continue}var P={name:g.YN,sub:[]};e.items.push(P);
var p={sub:[]};e.iQ.push(p);for(var v=0;v<g.jv.length;v++){var x={name:ZW.names[g.jv[v]],BJ:ZW.WX(g.jv[v])!=null};
P.sub.push(x);var A={i:V.E.s,X:o.pR,q:{U:"start",Ln:g.jv[v]}};p.sub.push(A)}}return e}(),{name:[0,7],items:[{name:[8,0],uz:"Ctrl + +"},{name:[8,1],uz:"Ctrl + -"},{name:[20,3],uz:"Ctrl + 0"},{name:[20,2],uz:"Ctrl + 1",pU:!0},{name:"Extras",uz:"Ctrl + H",p:function(e,j){return{by:j.HS}}},{name:[8,12],pU:!0,sub:[{name:[17,2],p:function(e,j){return{p:j.HS,by:j.ka.JX}}},{name:[8,9],p:function(e,j){return{p:j.HS,by:j.ka.Bd}}},{name:[8,2],p:function(e,j){return{p:j.HS,by:j.ka.TY}},uz:"Ctrl + ;"},{name:[8,4],p:function(e,j){return{p:j.HS,by:j.ka.dH}},uz:"Ctrl + '"},{name:[8,8],p:function(e,j){return{p:j.HS,by:j.ka.QG}}},{name:[8,11,0],p:function(e,j){return{p:j.HS,by:j.ka.iZ}}}]},{name:[8,3],p:function(e,j){return{by:j.Ho}},uz:"Ctrl + R",pU:!0},{name:[8,5],p:function(e,j){return{by:j.Q$}}},{name:[8,6],pU:!0,sub:[{name:[8,2],p:function(e,j){return{by:j.uh[0]}}},{name:[8,4],p:function(e,j){return{by:j.uh[1]}}},{name:[8,11,0],p:function(e,j){return{by:j.uh[3]}}},{name:[8,7],p:function(e,j){return{by:j.uh[4]}}}]},{name:[11,15,0],p:function(e,j){return{p:e!=null}}},{name:[11,14],p:function(e,j){return{p:e!=null}},BJ:!0},{name:[11,15,1],p:function(e,j){return{p:e!=null&&e.b.length!=0}}}],iQ:[{i:V.E.s,X:o.Cb,q:{U:"zoom",lO:!0}},{i:V.E.s,X:o.Cb,q:{U:"zoom",lO:!1}},{i:V.E.s,X:o.Cb,q:{U:"adapt",r:"fitscr"}},{i:V.E.s,X:o.Cb,q:{U:"adapt",r:"pixel"}},{i:V.E.O,q:{U:V.a.du,im:WV.fr}},{sub:[{i:V.E.O,q:{U:V.a.du,im:WV.Rq}},{i:V.E.O,q:{U:V.a.du,im:WV.HC}},{i:V.E.O,q:{U:V.a.du,im:WV.Jg}},{i:V.E.O,q:{U:V.a.du,im:WV.RV}},{i:V.E.O,q:{U:V.a.du,im:WV.tn}},{i:V.E.O,q:{U:V.a.du,im:WV.Rn}}]},{i:V.E.O,q:{U:V.a.du,im:WV.Yc}},{i:V.E.O,q:{U:V.a.du,im:WV.ZWE}},{sub:[{i:V.E.O,q:{U:V.a.du,im:WV.JE,_Z:0}},{i:V.E.O,q:{U:V.a.du,im:WV.JE,_Z:1}},{i:V.E.O,q:{U:V.a.du,im:WV.JE,_Z:3}},{i:V.E.O,q:{U:V.a.du,im:WV.JE,_Z:4}}]},{i:V.E.s,X:o.Xe,q:{U:"gids",Xg:[[],[]]}},{i:V.E.O,q:{U:V.a.LW,aj:"addguides"}},{i:V.E.s,X:o.Xe,q:{U:"gidsFromLayer"}}]},function(){var e={name:[0,8],items:[],iQ:[]};
for(var j=0;j<ZQ.HD.length;j++){var g=ZQ.HD[j];e.items.push({name:g.JR.name});e.iQ.push({i:V.E.O,q:{U:V.a.pB,aj:g.JR.PZ}})}return e}(),function(){var e={name:[0,14],items:[],iQ:[]},j={name:[0,9],sub:[]};
e.items.push(j);var g={sub:[]};e.iQ.push(g);var P=Zr.ZWX();for(var p=0;p<P.length;p++){var v=P[p],x=v.code,A=Zr.QZ(x);
j.sub.push({name:v.name,uz:x,p:function(f,S){return{by:this.uz==Zr.mc()}}});g.sub.push({i:V.E.O,q:{U:V.a.du,im:WV.RL,lang:A}})}j.sub.push({name:[0,12]});
g.sub.push({i:V.E.O,q:{U:V.a.pa,link:"https://www.photopea.com/translate/"}});var j={name:[0,15],sub:[]};
e.items.push(j);var g={sub:[]};e.iQ.push(g);for(var p=0;p<Zf.Hx.length;p++){j.sub.push({name:Zf.Hx[p].name,p:function(f,S){return{by:this.name==Zf.Hx[S.AU].name}}});
g.sub.push({i:V.E.O,q:{U:V.a.du,im:WV.Jc,AU:p}})}e.items.push({name:"Install Photopea",p:function(f,S){return{p:S.Id!=null}}});
e.iQ.push({i:V.E.O,q:{U:V.a.ZNm}});e.items.push({name:[11,13]});e.iQ.push({i:V.E.O,q:{U:V.a.LW,aj:"shortcuts"}});
e.items.push({name:[0,16],p:function(f){return{by:l.Hf,p:l.Nq}}});e.iQ.push({i:V.E.O,q:{U:V.a.ZuD}});
return e}()];function VG(){WN.call(this);this.l=V.M("div","");this.PN=0;this.XV=0;this.tS=null;this.Rk=V.M("div","");
this.Rk.setAttribute("style","width:200em; height:100em; position:absolute;");this.Az=[];this.$z=[]}VG.prototype=new WN;
VG.prototype.eC=function(){this.$z=[new fd,new Vy,new eJ,new fA,new ef,new xx,new fb,new fw,new xZ,new fF,new JU,new ZY,new fM,new UP,new VQ,new Zu,new Ji,new JS,new fN,new fi,new fC,new ez,new Vt,new fV,new Zk,new VD,new ZN(0),new ZN(1),new JB,new ZD,new fL,new ZP("border",[7,9],"px"),new ZP("smoothness",[19,3,0],"px"),new ZP("expand",[7,4],"px"),new ZP("contract",[7,5],"px"),new ZP("feather",[7,6],"px"),new Zh(0,"namewindow",[12,48]),new Zh(1,"cornerradius",[12,94,0],!0)];
for(var e in Q)this.$z.push(new ZS(e));for(var j=0;j<this.$z.length;j++){var g=this.$z[j];g.S(V.E.Wt,this.PP,this);
g.parent=this}};VG.prototype.Ov=function(e,j){this.PN=e;this.XV=j;for(var g=0;g<this.$z.length;g++)this.Ztb(this.$z[g])};
VG.prototype.w=function(){for(var e=0;e<this.$z.length;e++)this.$z[e].w()};VG.prototype.ZF=function(){return this.Az.length==0?null:this.Az[this.Az.length-1]};
VG.prototype.eS=function(){for(var e=0;e<this.Az.length;e++)if(this.Az[e].eS())return!0;return!1};VG.prototype.ZGB=function(e,j,g,P,p){if(this.$z.length==0){this.eC();
this.Ov(this.PN,this.XV);this.w();if(this.tS)this.wY(this.tS,WV.oY)}var v=null;if(typeof e=="object"){v=e;
if(!v.my(V.E.Wt,this.PP))v.S(V.E.Wt,this.PP,this);v.parent=this}else for(var x=0;x<this.$z.length;x++)if(this.$z[x].id==e)v=this.$z[x];
if(this.eS()&&v.eS()){alert("Finish the current action first");return}if(!v.bP(j))return;if(this.Az.indexOf(v)!=-1){if(e=="colorpicker")v.VJ(j,g,P,p);
return}this.Ztb(v);var A=this.Az.length-1;if(A>=0)V.iV(this.Az[A].l,"wdisabled");this.l.appendChild(v.l);
this.Az.push(v);v.VJ(j,g,P,p)};VG.prototype.Ztb=function(e){var j=this.PN,g=this.XV,P=e.wz(j,g);e.l.style.left=P.x+"px";
e.l.style.top=this.l.offsetTop+P.y+"px";e.Ov(this.PN-P.x*2,this.XV-P.y*2-34)};VG.prototype.wY=function(e,j){this.tS=e;
for(var g=0;g<this.$z.length;g++)this.$z[g].wY(e,j)};VG.prototype.PP=function(e){var j=this.Az.pop();
this.l.removeChild(j.l);var g=this.Az.length-1;if(g>=0)V.Fu(this.Az[g].l,"wdisabled");if(this.Rk.parentNode==this.l)this.l.removeChild(this.Rk)};
window.onload=function(){var e=new ft;document.body.appendChild(e.l)}}())